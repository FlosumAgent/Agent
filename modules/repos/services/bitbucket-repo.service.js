const a92_0x5170=['../../internal/git.internal','../../../core/errors/not-found.error','../../shared/services/auth-settings.service','./git-repo.service','authSettings','15430LUipAR','private','getOwnPropertyDescriptor','Inject','1735070uVQaOz','project','Service','test','getOne','post','defaultBranch','typedi','BitbucketRepoService','ERR_BITBUCKET_MISSING_WORKSPACE','BitbucketApiService','111MdmZoa','/repositories/','bitbucket','delete','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','fromBitbucket','put','request','workspace','__decorate','6kdHTVg','../../../core/errors/bad-request.error','1377963BBLhGs','createEmptyBranch','metadata','get','autoInit','__param','create','1GzpZSt','176835NSzfDy','ERR_BITBUCKET_MISSING_PROJECT','NotFoundError','repositories/','408157WVhYJZ','name','1176865tkjbTN','BadRequestError','constructor','726999rEEEoH','Repo','../../git-api/services/bitbucket-api.service','design:paramtypes','AuthSettingsService','Git','1xOxSfk','toLowerCase','../repo.class','decorate'];const a92_0x576826=a92_0x59a0;(function(_0x555deb,_0x79839e){const _0x1ff1d4=a92_0x59a0;while(!![]){try{const _0x24fe26=parseInt(_0x1ff1d4(0x132))*-parseInt(_0x1ff1d4(0x138))+parseInt(_0x1ff1d4(0x121))+parseInt(_0x1ff1d4(0x12d))*parseInt(_0x1ff1d4(0x128))+-parseInt(_0x1ff1d4(0x141))*-parseInt(_0x1ff1d4(0x150))+-parseInt(_0x1ff1d4(0x145))+parseInt(_0x1ff1d4(0x129))*parseInt(_0x1ff1d4(0x11f))+-parseInt(_0x1ff1d4(0x12f));if(_0x24fe26===_0x79839e)break;else _0x555deb['push'](_0x555deb['shift']());}catch(_0x5a7375){_0x555deb['push'](_0x555deb['shift']());}}}(a92_0x5170,0xe0d5e));const a92_0x3724d9=function(){let _0x274740=!![];return function(_0x1d01ee,_0x2a9c47){const _0x5b214c=_0x274740?function(){if(_0x2a9c47){const _0x1962bf=_0x2a9c47['apply'](_0x1d01ee,arguments);return _0x2a9c47=null,_0x1962bf;}}:function(){};return _0x274740=![],_0x5b214c;};}(),a92_0x3521bd=a92_0x3724d9(this,function(){const _0x1c97e2=function(){const _0x22b100=a92_0x59a0,_0x48f52f=_0x1c97e2[_0x22b100(0x131)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x22b100(0x131)](_0x22b100(0x119));return!_0x48f52f[_0x22b100(0x148)](a92_0x3521bd);};return _0x1c97e2();});a92_0x3521bd();'use strict';var __decorate=this&&this[a92_0x576826(0x11e)]||function(_0x2b4956,_0x25b421,_0x4d52dd,_0x15aa02){const _0x4d1a61=a92_0x576826;var _0x41345e=arguments['length'],_0x3754d5=_0x41345e<0x3?_0x25b421:_0x15aa02===null?_0x15aa02=Object[_0x4d1a61(0x143)](_0x25b421,_0x4d52dd):_0x15aa02,_0x32d0dc;if(typeof Reflect==='object'&&typeof Reflect[_0x4d1a61(0x13b)]==='function')_0x3754d5=Reflect['decorate'](_0x2b4956,_0x25b421,_0x4d52dd,_0x15aa02);else{for(var _0x4f201d=_0x2b4956['length']-0x1;_0x4f201d>=0x0;_0x4f201d--)if(_0x32d0dc=_0x2b4956[_0x4f201d])_0x3754d5=(_0x41345e<0x3?_0x32d0dc(_0x3754d5):_0x41345e>0x3?_0x32d0dc(_0x25b421,_0x4d52dd,_0x3754d5):_0x32d0dc(_0x25b421,_0x4d52dd))||_0x3754d5;}return _0x41345e>0x3&&_0x3754d5&&Object['defineProperty'](_0x25b421,_0x4d52dd,_0x3754d5),_0x3754d5;},__metadata=this&&this['__metadata']||function(_0x5db245,_0x58bd3d){const _0x4d02bf=a92_0x576826;if(typeof Reflect==='object'&&typeof Reflect[_0x4d02bf(0x123)]==='function')return Reflect[_0x4d02bf(0x123)](_0x5db245,_0x58bd3d);},__param=this&&this[a92_0x576826(0x126)]||function(_0xe2569f,_0x3b4492){return function(_0x5333fd,_0xec7e26){_0x3b4492(_0x5333fd,_0xec7e26,_0xe2569f);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a92_0x576826(0x14d)]=void 0x0;const errors_1=require('../../../constants/errors'),bad_request_error_1=require(a92_0x576826(0x120)),not_found_error_1=require(a92_0x576826(0x13d)),bitbucket_api_service_1=require(a92_0x576826(0x134)),auth_settings_service_1=require(a92_0x576826(0x13e)),typedi_1=require(a92_0x576826(0x14c)),git_internal_1=require(a92_0x576826(0x13c)),repo_class_1=require(a92_0x576826(0x13a)),git_repo_service_1=require(a92_0x576826(0x13f));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x5b64b8,_0x1dfa5c){const _0x4238cd=a92_0x576826;super(_0x5b64b8),this['authSettings']=_0x1dfa5c,this['request']=_0x5b64b8['apiRequest'];if(!this[_0x4238cd(0x11d)])throw new Error(errors_1[_0x4238cd(0x14e)]);if(!this[_0x4238cd(0x146)])throw new Error(errors_1[_0x4238cd(0x12a)]);}get[a92_0x576826(0x11d)](){const _0x46a9b0=a92_0x576826;return this['authSettings'][_0x46a9b0(0x117)][_0x46a9b0(0x11d)];}get[a92_0x576826(0x146)](){const _0x570db8=a92_0x576826;return this[_0x570db8(0x140)][_0x570db8(0x117)][_0x570db8(0x146)];}async[a92_0x576826(0x127)](_0x4de975){const _0x52b0d4=a92_0x576826;try{const {name:_0x32b81d}=_0x4de975,_0x216370={'name':_0x4de975['name'],'is_private':_0x4de975[_0x52b0d4(0x142)],..._0x4de975['apiBody']||{},'project':{'key':this['project']}},_0x28264d=await this['request'][_0x52b0d4(0x14a)](_0x52b0d4(0x151)+this['workspace']+'/'+_0x32b81d[_0x52b0d4(0x139)](),_0x216370),_0x1cd9be=repo_class_1['Repo'][_0x52b0d4(0x11a)](_0x28264d);return _0x4de975[_0x52b0d4(0x125)]&&await git_internal_1[_0x52b0d4(0x137)][_0x52b0d4(0x122)](_0x1cd9be,_0x4de975[_0x52b0d4(0x14b)]||'master'),this[_0x52b0d4(0x149)](_0x1cd9be[_0x52b0d4(0x12e)]);}catch(_0x17c3ae){throw new bad_request_error_1[(_0x52b0d4(0x130))](_0x17c3ae);}}async[a92_0x576826(0x149)](_0x2bc569){const _0x46e82e=a92_0x576826;try{const _0x10cb58=await this[_0x46e82e(0x11c)][_0x46e82e(0x124)](_0x46e82e(0x12c)+this[_0x46e82e(0x11d)]+'/'+_0x2bc569[_0x46e82e(0x139)]());return repo_class_1['Repo'][_0x46e82e(0x11a)](_0x10cb58);}catch(_0xd81c52){throw new not_found_error_1[(_0x46e82e(0x12b))](_0xd81c52);}}async['update'](_0x35d081,_0x3320bf){const _0x57f9e2=a92_0x576826;await this['getOne'](_0x35d081);try{const _0x4d8087=await this[_0x57f9e2(0x11c)][_0x57f9e2(0x11b)](_0x57f9e2(0x12c)+this[_0x57f9e2(0x11d)]+'/'+_0x35d081[_0x57f9e2(0x139)](),_0x3320bf);return repo_class_1[_0x57f9e2(0x133)]['fromBitbucket'](_0x4d8087);}catch(_0xe18e59){throw new not_found_error_1[(_0x57f9e2(0x12b))](_0xe18e59);}}async[a92_0x576826(0x118)](_0x52da92){const _0x55f188=a92_0x576826;try{await this[_0x55f188(0x11c)][_0x55f188(0x118)](_0x55f188(0x12c)+this['workspace']+'/'+_0x52da92[_0x55f188(0x139)]());}catch(_0xcd39e2){throw new bad_request_error_1['BadRequestError'](_0xcd39e2);}}};function a92_0x59a0(_0x89bd48,_0x4fd79b){return a92_0x59a0=function(_0xd9ed57,_0x3521bd){_0xd9ed57=_0xd9ed57-0x117;let _0x3724d9=a92_0x5170[_0xd9ed57];return _0x3724d9;},a92_0x59a0(_0x89bd48,_0x4fd79b);}BitbucketRepoService=__decorate([typedi_1[a92_0x576826(0x147)](),__param(0x0,typedi_1[a92_0x576826(0x144)]()),__metadata(a92_0x576826(0x135),[bitbucket_api_service_1[a92_0x576826(0x14f)],auth_settings_service_1[a92_0x576826(0x136)]])],BitbucketRepoService),exports[a92_0x576826(0x14d)]=BitbucketRepoService;