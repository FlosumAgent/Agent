const a91_0x2f4e=['constructor','fromBitbucket','createEmptyBranch','typedi','autoInit','ERR_BITBUCKET_MISSING_WORKSPACE','workspace','object','GitRepoService','13GhGaTn','return\x20/\x22\x20+\x20this\x20+\x20\x22/','11222QSjdiD','405994AQeCQV','length','authSettings','BitbucketApiService','request','name','BitbucketRepoService','981841LrtbNX','1mtcRay','function','../../../core/errors/not-found.error','1sINPWs','26027MFJhwj','118PXtwkH','__esModule','__decorate','Git','getOne','metadata','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','repositories/','toLowerCase','1715579ljhdcI','../../../constants/errors','./git-repo.service','8755wNFaLy','post','apply','test','get','bitbucket','design:paramtypes','ERR_BITBUCKET_MISSING_PROJECT','../../internal/git.internal','put','../../shared/services/auth-settings.service','delete','140755RrQXHr','__param','NotFoundError','../../git-api/services/bitbucket-api.service','project','master','AuthSettingsService','defineProperty','decorate','create','Repo','Service','defaultBranch'];const a91_0x5412b4=a91_0xee71;(function(_0x462b17,_0xe8f1d){const _0x85b50e=a91_0xee71;while(!![]){try{const _0x5011c2=-parseInt(_0x85b50e(0x13a))*parseInt(_0x85b50e(0x13b))+parseInt(_0x85b50e(0x136))+-parseInt(_0x85b50e(0x148))*parseInt(_0x85b50e(0x16a))+parseInt(_0x85b50e(0x12f))+parseInt(_0x85b50e(0x154))*-parseInt(_0x85b50e(0x137))+-parseInt(_0x85b50e(0x12e))*-parseInt(_0x85b50e(0x13c))+-parseInt(_0x85b50e(0x145));if(_0x5011c2===_0xe8f1d)break;else _0x462b17['push'](_0x462b17['shift']());}catch(_0x1c2d18){_0x462b17['push'](_0x462b17['shift']());}}}(a91_0x2f4e,0xaec4f));const a91_0x4d6dd7=function(){let _0x14354f=!![];return function(_0x3ce213,_0xc7a251){const _0x3872f2=_0x14354f?function(){const _0x3046e6=a91_0xee71;if(_0xc7a251){const _0x36c09b=_0xc7a251[_0x3046e6(0x14a)](_0x3ce213,arguments);return _0xc7a251=null,_0x36c09b;}}:function(){};return _0x14354f=![],_0x3872f2;};}(),a91_0x5d2d52=a91_0x4d6dd7(this,function(){const _0x37d7d1=function(){const _0x296990=a91_0xee71,_0x52ac2e=_0x37d7d1[_0x296990(0x161)](_0x296990(0x12d))()[_0x296990(0x161)](_0x296990(0x142));return!_0x52ac2e[_0x296990(0x14b)](a91_0x5d2d52);};return _0x37d7d1();});a91_0x5d2d52();'use strict';var __decorate=this&&this[a91_0x5412b4(0x13e)]||function(_0x10a4b5,_0x5d7620,_0x58ea60,_0x238ed3){const _0x1c17b5=a91_0x5412b4;var _0x3f60ef=arguments[_0x1c17b5(0x130)],_0x198da5=_0x3f60ef<0x3?_0x5d7620:_0x238ed3===null?_0x238ed3=Object['getOwnPropertyDescriptor'](_0x5d7620,_0x58ea60):_0x238ed3,_0x188a33;if(typeof Reflect===_0x1c17b5(0x168)&&typeof Reflect['decorate']===_0x1c17b5(0x138))_0x198da5=Reflect[_0x1c17b5(0x15c)](_0x10a4b5,_0x5d7620,_0x58ea60,_0x238ed3);else{for(var _0x3ea4bc=_0x10a4b5[_0x1c17b5(0x130)]-0x1;_0x3ea4bc>=0x0;_0x3ea4bc--)if(_0x188a33=_0x10a4b5[_0x3ea4bc])_0x198da5=(_0x3f60ef<0x3?_0x188a33(_0x198da5):_0x3f60ef>0x3?_0x188a33(_0x5d7620,_0x58ea60,_0x198da5):_0x188a33(_0x5d7620,_0x58ea60))||_0x198da5;}return _0x3f60ef>0x3&&_0x198da5&&Object[_0x1c17b5(0x15b)](_0x5d7620,_0x58ea60,_0x198da5),_0x198da5;},__metadata=this&&this['__metadata']||function(_0x2f1838,_0x1fe30b){const _0x16b495=a91_0x5412b4;if(typeof Reflect==='object'&&typeof Reflect[_0x16b495(0x141)]===_0x16b495(0x138))return Reflect[_0x16b495(0x141)](_0x2f1838,_0x1fe30b);},__param=this&&this[a91_0x5412b4(0x155)]||function(_0x5112b3,_0x4c6116){return function(_0x12b05b,_0x3f1c19){_0x4c6116(_0x12b05b,_0x3f1c19,_0x5112b3);};};Object[a91_0x5412b4(0x15b)](exports,a91_0x5412b4(0x13d),{'value':!![]}),exports[a91_0x5412b4(0x135)]=void 0x0;const errors_1=require(a91_0x5412b4(0x146)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a91_0x5412b4(0x139)),bitbucket_api_service_1=require(a91_0x5412b4(0x157)),auth_settings_service_1=require(a91_0x5412b4(0x152)),typedi_1=require(a91_0x5412b4(0x164)),git_internal_1=require(a91_0x5412b4(0x150)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a91_0x5412b4(0x147));function a91_0xee71(_0x7fd4e3,_0x25e402){return a91_0xee71=function(_0x54a686,_0x5d2d52){_0x54a686=_0x54a686-0x12d;let _0x4d6dd7=a91_0x2f4e[_0x54a686];return _0x4d6dd7;},a91_0xee71(_0x7fd4e3,_0x25e402);}let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a91_0x5412b4(0x169)]{constructor(_0x5c7920,_0x297d68){const _0x43a00e=a91_0x5412b4;super(_0x5c7920),this[_0x43a00e(0x131)]=_0x297d68,this[_0x43a00e(0x133)]=_0x5c7920['apiRequest'];if(!this[_0x43a00e(0x167)])throw new Error(errors_1[_0x43a00e(0x166)]);if(!this['project'])throw new Error(errors_1[_0x43a00e(0x14f)]);}get[a91_0x5412b4(0x167)](){const _0x24a21c=a91_0x5412b4;return this[_0x24a21c(0x131)][_0x24a21c(0x14d)][_0x24a21c(0x167)];}get[a91_0x5412b4(0x158)](){const _0x17a902=a91_0x5412b4;return this[_0x17a902(0x131)]['bitbucket']['project'];}async[a91_0x5412b4(0x15d)](_0x40794c){const _0x262acd=a91_0x5412b4;try{const {name:_0x55669d}=_0x40794c,_0x121991={'name':_0x40794c['name'],'is_private':_0x40794c['private'],..._0x40794c['apiBody']||{},'project':{'key':this[_0x262acd(0x158)]}},_0x44ecb1=await this[_0x262acd(0x133)][_0x262acd(0x149)]('/repositories/'+this[_0x262acd(0x167)]+'/'+_0x55669d[_0x262acd(0x144)](),_0x121991),_0x516a76=repo_class_1[_0x262acd(0x15e)]['fromBitbucket'](_0x44ecb1);return _0x40794c[_0x262acd(0x165)]&&await git_internal_1[_0x262acd(0x13f)][_0x262acd(0x163)](_0x516a76,_0x40794c[_0x262acd(0x160)]||_0x262acd(0x159)),this[_0x262acd(0x140)](_0x516a76[_0x262acd(0x134)]);}catch(_0x5e5008){throw new bad_request_error_1['BadRequestError'](_0x5e5008);}}async['getOne'](_0x78ba3b){const _0x17ff2a=a91_0x5412b4;try{const _0x175656=await this[_0x17ff2a(0x133)][_0x17ff2a(0x14c)](_0x17ff2a(0x143)+this[_0x17ff2a(0x167)]+'/'+_0x78ba3b[_0x17ff2a(0x144)]());return repo_class_1['Repo'][_0x17ff2a(0x162)](_0x175656);}catch(_0x1e73aa){throw new not_found_error_1[(_0x17ff2a(0x156))](_0x1e73aa);}}async['update'](_0x20cc3a,_0x56d462){const _0x2390e9=a91_0x5412b4;await this[_0x2390e9(0x140)](_0x20cc3a);try{const _0x2a17bd=await this[_0x2390e9(0x133)][_0x2390e9(0x151)](_0x2390e9(0x143)+this[_0x2390e9(0x167)]+'/'+_0x20cc3a['toLowerCase'](),_0x56d462);return repo_class_1[_0x2390e9(0x15e)]['fromBitbucket'](_0x2a17bd);}catch(_0x3c243f){throw new not_found_error_1['NotFoundError'](_0x3c243f);}}async[a91_0x5412b4(0x153)](_0x26a09b){const _0x5e12a0=a91_0x5412b4;try{await this[_0x5e12a0(0x133)][_0x5e12a0(0x153)](_0x5e12a0(0x143)+this[_0x5e12a0(0x167)]+'/'+_0x26a09b[_0x5e12a0(0x144)]());}catch(_0x594fa5){throw new bad_request_error_1['BadRequestError'](_0x594fa5);}}};BitbucketRepoService=__decorate([typedi_1[a91_0x5412b4(0x15f)](),__param(0x0,typedi_1['Inject']()),__metadata(a91_0x5412b4(0x14e),[bitbucket_api_service_1[a91_0x5412b4(0x132)],auth_settings_service_1[a91_0x5412b4(0x15a)]])],BitbucketRepoService),exports[a91_0x5412b4(0x135)]=BitbucketRepoService;