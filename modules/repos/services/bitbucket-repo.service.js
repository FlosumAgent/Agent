const a94_0x52772d=a94_0x26fe;(function(_0x5e6a75,_0x16d3dc){const _0x262a3f=a94_0x26fe,_0x27ac25=_0x5e6a75();while(!![]){try{const _0x195a19=parseInt(_0x262a3f(0xb7))/0x1+parseInt(_0x262a3f(0xd3))/0x2+-parseInt(_0x262a3f(0xbc))/0x3+-parseInt(_0x262a3f(0xb9))/0x4*(parseInt(_0x262a3f(0xa0))/0x5)+-parseInt(_0x262a3f(0xcb))/0x6*(parseInt(_0x262a3f(0xb0))/0x7)+parseInt(_0x262a3f(0xdd))/0x8+parseInt(_0x262a3f(0xd6))/0x9;if(_0x195a19===_0x16d3dc)break;else _0x27ac25['push'](_0x27ac25['shift']());}catch(_0x58b73a){_0x27ac25['push'](_0x27ac25['shift']());}}}(a94_0x3a8d,0x3bf7b));const a94_0x30bbfc=function(){let _0x56a78d=!![];return function(_0x2a588e,_0x432b46){const _0xc16faf=_0x56a78d?function(){const _0x20ce7e=a94_0x26fe;if(_0x432b46){const _0x53b5a6=_0x432b46[_0x20ce7e(0xd2)](_0x2a588e,arguments);return _0x432b46=null,_0x53b5a6;}}:function(){};return _0x56a78d=![],_0xc16faf;};}(),a94_0x100a53=a94_0x30bbfc(this,function(){const _0x2b69a1=a94_0x26fe;return a94_0x100a53['toString']()[_0x2b69a1(0x9e)](_0x2b69a1(0xad))[_0x2b69a1(0xbd)]()[_0x2b69a1(0xd8)](a94_0x100a53)[_0x2b69a1(0x9e)]('(((.+)+)+)+$');});function a94_0x26fe(_0x30be86,_0x5cfcca){const _0x22a730=a94_0x3a8d();return a94_0x26fe=function(_0x100a53,_0x30bbfc){_0x100a53=_0x100a53-0x9a;let _0x3a8de8=_0x22a730[_0x100a53];return _0x3a8de8;},a94_0x26fe(_0x30be86,_0x5cfcca);}function a94_0x3a8d(){const _0x4fc8a4=['742352WepuzP','request','values','../../git-api/services/bitbucket-api.service','authSettings','metadata','put','push','search','post','401350BzTtRg','ERR_BITBUCKET_MISSING_WORKSPACE','__esModule','defaultBranch','AuthSettingsService','__param','BitbucketApiService','../../internal/git.internal','apiRequest','../repo.class','createEmptyBranch','design:paramtypes','autoInit','(((.+)+)+)+$','bitbucket','map','179522hoBMDa','Repo','create','private','BadRequestError','project','name','387783BMPUKd','fromBitbucket','24YLZwRu','GitRepoService','next','255939gPoblM','toString','delete','object','Git','getOwnPropertyDescriptor','__decorate','./git-repo.service','BitbucketRepoService','function','ApiError','decorate','length','typedi','defineProperty','42rBFMdy','master','../../shared/services/auth-settings.service','NotFoundError','get','/repositories/','toLowerCase','apply','938792AIUQQs','getOne','repositories/','378981pubCHk','__metadata','constructor','ERR_BITBUCKET_MISSING_PROJECT','../../../constants/errors','Inject','workspace'];a94_0x3a8d=function(){return _0x4fc8a4;};return a94_0x3a8d();}a94_0x100a53();'use strict';var __decorate=this&&this[a94_0x52772d(0xc2)]||function(_0x567a07,_0x2be300,_0x22edc5,_0x1e368d){const _0x1b1ed0=a94_0x52772d;var _0x1f70c3=arguments['length'],_0x5bb37b=_0x1f70c3<0x3?_0x2be300:_0x1e368d===null?_0x1e368d=Object[_0x1b1ed0(0xc1)](_0x2be300,_0x22edc5):_0x1e368d,_0x76080e;if(typeof Reflect===_0x1b1ed0(0xbf)&&typeof Reflect[_0x1b1ed0(0xc7)]===_0x1b1ed0(0xc5))_0x5bb37b=Reflect[_0x1b1ed0(0xc7)](_0x567a07,_0x2be300,_0x22edc5,_0x1e368d);else{for(var _0x249d72=_0x567a07[_0x1b1ed0(0xc8)]-0x1;_0x249d72>=0x0;_0x249d72--)if(_0x76080e=_0x567a07[_0x249d72])_0x5bb37b=(_0x1f70c3<0x3?_0x76080e(_0x5bb37b):_0x1f70c3>0x3?_0x76080e(_0x2be300,_0x22edc5,_0x5bb37b):_0x76080e(_0x2be300,_0x22edc5))||_0x5bb37b;}return _0x1f70c3>0x3&&_0x5bb37b&&Object[_0x1b1ed0(0xca)](_0x2be300,_0x22edc5,_0x5bb37b),_0x5bb37b;},__metadata=this&&this[a94_0x52772d(0xd7)]||function(_0x125e17,_0x25d96e){const _0x206aac=a94_0x52772d;if(typeof Reflect==='object'&&typeof Reflect[_0x206aac(0x9b)]==='function')return Reflect[_0x206aac(0x9b)](_0x125e17,_0x25d96e);},__param=this&&this[a94_0x52772d(0xa5)]||function(_0x1e39f5,_0x3bd84e){return function(_0x2843ef,_0x5ebd9d){_0x3bd84e(_0x2843ef,_0x5ebd9d,_0x1e39f5);};};Object[a94_0x52772d(0xca)](exports,a94_0x52772d(0xa2),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a94_0x52772d(0xda)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),bitbucket_api_service_1=require(a94_0x52772d(0xe0)),auth_settings_service_1=require(a94_0x52772d(0xcd)),typedi_1=require(a94_0x52772d(0xc9)),api_error_1=require('../../../core/errors/api.error'),git_internal_1=require(a94_0x52772d(0xa7)),repo_class_1=require(a94_0x52772d(0xa9)),git_repo_service_1=require(a94_0x52772d(0xc3));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a94_0x52772d(0xba)]{constructor(_0x39d4b7,_0x9d170e){const _0x34cdba=a94_0x52772d;super(_0x39d4b7),this[_0x34cdba(0x9a)]=_0x9d170e,this[_0x34cdba(0xde)]=_0x39d4b7[_0x34cdba(0xa8)];if(!this['workspace'])throw new Error(errors_1[_0x34cdba(0xa1)]);if(!this[_0x34cdba(0xb5)])throw new Error(errors_1[_0x34cdba(0xd9)]);}get[a94_0x52772d(0xdc)](){const _0x22112e=a94_0x52772d;return this[_0x22112e(0x9a)][_0x22112e(0xae)][_0x22112e(0xdc)];}get[a94_0x52772d(0xb5)](){const _0x3088c0=a94_0x52772d;return this['authSettings']['bitbucket'][_0x3088c0(0xb5)];}async[a94_0x52772d(0xb2)](_0x5d94f8){const _0x17fafa=a94_0x52772d;try{const {name:_0x52d78a}=_0x5d94f8,_0x5d77ed={'name':_0x5d94f8[_0x17fafa(0xb6)],'is_private':_0x5d94f8[_0x17fafa(0xb3)],..._0x5d94f8['apiBody']||{},'project':{'key':this[_0x17fafa(0xb5)]}},_0xc755ec=await this[_0x17fafa(0xde)][_0x17fafa(0x9f)](_0x17fafa(0xd0)+this[_0x17fafa(0xdc)]+'/'+_0x52d78a[_0x17fafa(0xd1)](),_0x5d77ed),_0x3f059a=repo_class_1[_0x17fafa(0xb1)][_0x17fafa(0xb8)](_0xc755ec);return _0x5d94f8[_0x17fafa(0xac)]&&(await git_internal_1[_0x17fafa(0xc0)][_0x17fafa(0xaa)](_0x3f059a,_0x5d94f8[_0x17fafa(0xa3)]||'master'),_0x3f059a[_0x17fafa(0xa3)]=_0x5d94f8[_0x17fafa(0xa3)]||_0x17fafa(0xcc)),_0x3f059a;}catch(_0x498d31){if(_0x498d31 instanceof api_error_1['ApiError'])throw _0x498d31;throw new bad_request_error_1[(_0x17fafa(0xb4))](_0x498d31);}}async['getAll'](){const _0x5a1802=a94_0x52772d;try{const _0xedce44=[];let _0xcb6e1d;do{_0xcb6e1d=await this[_0x5a1802(0xde)][_0x5a1802(0xcf)](_0xcb6e1d?_0xcb6e1d['next']:_0x5a1802(0xd5)+this['workspace']),_0xedce44[_0x5a1802(0x9d)](..._0xcb6e1d[_0x5a1802(0xdf)]);}while(_0xcb6e1d[_0x5a1802(0xbb)]);return _0xedce44[_0x5a1802(0xaf)](_0x419fef=>repo_class_1[_0x5a1802(0xb1)][_0x5a1802(0xb8)](_0x419fef));}catch(_0x2fbe59){if(_0x2fbe59 instanceof api_error_1[_0x5a1802(0xc6)])throw _0x2fbe59;throw new not_found_error_1['NotFoundError'](_0x2fbe59);}}async[a94_0x52772d(0xd4)](_0x4fd110){const _0x169fa7=a94_0x52772d;try{const _0x4d484c=await this['request']['get'](_0x169fa7(0xd5)+this[_0x169fa7(0xdc)]+'/'+_0x4fd110['toLowerCase']());return repo_class_1['Repo'][_0x169fa7(0xb8)](_0x4d484c);}catch(_0x39769d){if(_0x39769d instanceof api_error_1[_0x169fa7(0xc6)])throw _0x39769d;throw new not_found_error_1[(_0x169fa7(0xce))](_0x39769d);}}async['update'](_0x2c4524,_0x3062cb){const _0x46a17c=a94_0x52772d;await this[_0x46a17c(0xd4)](_0x2c4524);try{const _0x4395f5=await this[_0x46a17c(0xde)][_0x46a17c(0x9c)]('repositories/'+this[_0x46a17c(0xdc)]+'/'+_0x2c4524[_0x46a17c(0xd1)](),_0x3062cb);return repo_class_1[_0x46a17c(0xb1)][_0x46a17c(0xb8)](_0x4395f5);}catch(_0x1f6183){if(_0x1f6183 instanceof api_error_1[_0x46a17c(0xc6)])throw _0x1f6183;throw new not_found_error_1[(_0x46a17c(0xce))](_0x1f6183);}}async[a94_0x52772d(0xbe)](_0x492cb3){const _0x2dad8f=a94_0x52772d;try{await this[_0x2dad8f(0xde)][_0x2dad8f(0xbe)]('repositories/'+this['workspace']+'/'+_0x492cb3[_0x2dad8f(0xd1)]());}catch(_0x4fa8a0){if(_0x4fa8a0 instanceof api_error_1[_0x2dad8f(0xc6)])throw _0x4fa8a0;throw new bad_request_error_1[(_0x2dad8f(0xb4))](_0x4fa8a0);}}};BitbucketRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x0,(0x0,typedi_1[a94_0x52772d(0xdb)])()),__metadata(a94_0x52772d(0xab),[bitbucket_api_service_1[a94_0x52772d(0xa6)],auth_settings_service_1[a94_0x52772d(0xa4)]])],BitbucketRepoService),exports[a94_0x52772d(0xc4)]=BitbucketRepoService;