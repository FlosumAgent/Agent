const a91_0x53c024=a91_0x4db4;(function(_0x5a22a6,_0x55d2f1){const _0x582599=a91_0x4db4,_0x383731=_0x5a22a6();while(!![]){try{const _0x5efeed=-parseInt(_0x582599(0x1eb))/0x1*(parseInt(_0x582599(0x1da))/0x2)+parseInt(_0x582599(0x1ed))/0x3+parseInt(_0x582599(0x1ce))/0x4+-parseInt(_0x582599(0x1dd))/0x5+parseInt(_0x582599(0x1cc))/0x6+parseInt(_0x582599(0x1e5))/0x7*(-parseInt(_0x582599(0x1d6))/0x8)+parseInt(_0x582599(0x1d1))/0x9*(parseInt(_0x582599(0x1e8))/0xa);if(_0x5efeed===_0x55d2f1)break;else _0x383731['push'](_0x383731['shift']());}catch(_0x2cdf70){_0x383731['push'](_0x383731['shift']());}}}(a91_0x1c47,0x6755e));const a91_0x226c7e=function(){let _0x2c319a=!![];return function(_0x39a34b,_0x3468af){const _0x54c4b2=_0x2c319a?function(){if(_0x3468af){const _0x3159d8=_0x3468af['apply'](_0x39a34b,arguments);return _0x3468af=null,_0x3159d8;}}:function(){};return _0x2c319a=![],_0x54c4b2;};}(),a91_0x43dfe5=a91_0x226c7e(this,function(){const _0x269012=a91_0x4db4;return a91_0x43dfe5[_0x269012(0x1bf)]()[_0x269012(0x1d7)]('(((.+)+)+)+$')['toString']()['constructor'](a91_0x43dfe5)[_0x269012(0x1d7)]('(((.+)+)+)+$');});a91_0x43dfe5();'use strict';var __decorate=this&&this[a91_0x53c024(0x1c9)]||function(_0x186cbc,_0x159f85,_0x124b19,_0x22632d){const _0x5eda62=a91_0x53c024;var _0x4f1ed3=arguments[_0x5eda62(0x1c4)],_0x1654c7=_0x4f1ed3<0x3?_0x159f85:_0x22632d===null?_0x22632d=Object['getOwnPropertyDescriptor'](_0x159f85,_0x124b19):_0x22632d,_0x536cd6;if(typeof Reflect===_0x5eda62(0x1dc)&&typeof Reflect[_0x5eda62(0x1bb)]===_0x5eda62(0x1ca))_0x1654c7=Reflect[_0x5eda62(0x1bb)](_0x186cbc,_0x159f85,_0x124b19,_0x22632d);else{for(var _0x363a51=_0x186cbc[_0x5eda62(0x1c4)]-0x1;_0x363a51>=0x0;_0x363a51--)if(_0x536cd6=_0x186cbc[_0x363a51])_0x1654c7=(_0x4f1ed3<0x3?_0x536cd6(_0x1654c7):_0x4f1ed3>0x3?_0x536cd6(_0x159f85,_0x124b19,_0x1654c7):_0x536cd6(_0x159f85,_0x124b19))||_0x1654c7;}return _0x4f1ed3>0x3&&_0x1654c7&&Object[_0x5eda62(0x1d8)](_0x159f85,_0x124b19,_0x1654c7),_0x1654c7;},__metadata=this&&this[a91_0x53c024(0x1e0)]||function(_0x2aadb7,_0x364b68){const _0x4210a7=a91_0x53c024;if(typeof Reflect==='object'&&typeof Reflect[_0x4210a7(0x1cf)]===_0x4210a7(0x1ca))return Reflect[_0x4210a7(0x1cf)](_0x2aadb7,_0x364b68);},__param=this&&this[a91_0x53c024(0x1d2)]||function(_0x122092,_0xdcc3a1){return function(_0x9b3c02,_0x56c7d1){_0xdcc3a1(_0x9b3c02,_0x56c7d1,_0x122092);};};function a91_0x1c47(){const _0x112468=['bitbucket','40qZVTjn','search','defineProperty','getOne','2632nSWCAL','ERR_BITBUCKET_MISSING_PROJECT','object','537950CHdEdp','../../shared/services/auth-settings.service','delete','__metadata','createEmptyBranch','ERR_BITBUCKET_MISSING_WORKSPACE','name','BitbucketApiService','775299HDpuze','repositories/','../../../constants/errors','3890eqiWeX','design:paramtypes','request','408HBnotD','private','380508AtGCWT','../../../core/errors/bad-request.error','BitbucketRepoService','fromBitbucket','project','workspace','authSettings','apiRequest','defaultBranch','./git-repo.service','decorate','AuthSettingsService','master','Repo','toString','../../../core/errors/not-found.error','Git','NotFoundError','GitRepoService','length','toLowerCase','BadRequestError','../../git-api/services/bitbucket-api.service','__esModule','__decorate','function','apiBody','3960684TBMuxh','typedi','1774680rLIkZs','metadata','get','9045RwFPeC','__param','put','post'];a91_0x1c47=function(){return _0x112468;};return a91_0x1c47();}function a91_0x4db4(_0x2b9e0a,_0x5bd608){const _0x4aa9b9=a91_0x1c47();return a91_0x4db4=function(_0x43dfe5,_0x226c7e){_0x43dfe5=_0x43dfe5-0x1b9;let _0x1c47bb=_0x4aa9b9[_0x43dfe5];return _0x1c47bb;},a91_0x4db4(_0x2b9e0a,_0x5bd608);}Object['defineProperty'](exports,a91_0x53c024(0x1c8),{'value':!![]}),exports[a91_0x53c024(0x1ef)]=void 0x0;const errors_1=require(a91_0x53c024(0x1e7)),bad_request_error_1=require(a91_0x53c024(0x1ee)),not_found_error_1=require(a91_0x53c024(0x1c0)),bitbucket_api_service_1=require(a91_0x53c024(0x1c7)),auth_settings_service_1=require(a91_0x53c024(0x1de)),typedi_1=require(a91_0x53c024(0x1cd)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require('../repo.class'),git_repo_service_1=require(a91_0x53c024(0x1ba));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a91_0x53c024(0x1c3)]{constructor(_0x2d89bd,_0x456623){const _0x41f0f9=a91_0x53c024;super(_0x2d89bd),this[_0x41f0f9(0x1f3)]=_0x456623,this[_0x41f0f9(0x1ea)]=_0x2d89bd[_0x41f0f9(0x1f4)];if(!this[_0x41f0f9(0x1f2)])throw new Error(errors_1[_0x41f0f9(0x1e2)]);if(!this[_0x41f0f9(0x1f1)])throw new Error(errors_1[_0x41f0f9(0x1db)]);}get[a91_0x53c024(0x1f2)](){const _0x4072eb=a91_0x53c024;return this['authSettings']['bitbucket'][_0x4072eb(0x1f2)];}get[a91_0x53c024(0x1f1)](){const _0x2b75ab=a91_0x53c024;return this['authSettings'][_0x2b75ab(0x1d5)][_0x2b75ab(0x1f1)];}async['create'](_0x5771f2){const _0x106fc4=a91_0x53c024;try{const {name:_0x122390}=_0x5771f2,_0x12a617={'name':_0x5771f2[_0x106fc4(0x1e3)],'is_private':_0x5771f2[_0x106fc4(0x1ec)],..._0x5771f2[_0x106fc4(0x1cb)]||{},'project':{'key':this['project']}},_0x26b08e=await this[_0x106fc4(0x1ea)][_0x106fc4(0x1d4)]('/repositories/'+this['workspace']+'/'+_0x122390[_0x106fc4(0x1c5)](),_0x12a617),_0x1e1c90=repo_class_1['Repo'][_0x106fc4(0x1f0)](_0x26b08e);return _0x5771f2['autoInit']&&await git_internal_1[_0x106fc4(0x1c1)][_0x106fc4(0x1e1)](_0x1e1c90,_0x5771f2[_0x106fc4(0x1b9)]||_0x106fc4(0x1bd)),this[_0x106fc4(0x1d9)](_0x1e1c90[_0x106fc4(0x1e3)]);}catch(_0x139802){throw new bad_request_error_1[(_0x106fc4(0x1c6))](_0x139802);}}async[a91_0x53c024(0x1d9)](_0x909b97){const _0x4f806e=a91_0x53c024;try{const _0x1b0f96=await this[_0x4f806e(0x1ea)][_0x4f806e(0x1d0)]('repositories/'+this[_0x4f806e(0x1f2)]+'/'+_0x909b97[_0x4f806e(0x1c5)]());return repo_class_1['Repo'][_0x4f806e(0x1f0)](_0x1b0f96);}catch(_0x3ddfef){throw new not_found_error_1[(_0x4f806e(0x1c2))](_0x3ddfef);}}async['update'](_0x1bd71b,_0x51e6d1){const _0x14326a=a91_0x53c024;await this[_0x14326a(0x1d9)](_0x1bd71b);try{const _0x14641f=await this['request'][_0x14326a(0x1d3)]('repositories/'+this['workspace']+'/'+_0x1bd71b[_0x14326a(0x1c5)](),_0x51e6d1);return repo_class_1[_0x14326a(0x1be)][_0x14326a(0x1f0)](_0x14641f);}catch(_0x4dbfd2){throw new not_found_error_1[(_0x14326a(0x1c2))](_0x4dbfd2);}}async[a91_0x53c024(0x1df)](_0x122c15){const _0x2aad7a=a91_0x53c024;try{await this[_0x2aad7a(0x1ea)]['delete'](_0x2aad7a(0x1e6)+this['workspace']+'/'+_0x122c15[_0x2aad7a(0x1c5)]());}catch(_0x4c6196){throw new bad_request_error_1[(_0x2aad7a(0x1c6))](_0x4c6196);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1['Inject']()),__metadata(a91_0x53c024(0x1e9),[bitbucket_api_service_1[a91_0x53c024(0x1e4)],auth_settings_service_1[a91_0x53c024(0x1bc)]])],BitbucketRepoService),exports[a91_0x53c024(0x1ef)]=BitbucketRepoService;