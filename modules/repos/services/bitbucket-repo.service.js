const a94_0x350657=a94_0x52d3;(function(_0x2633da,_0x5bb5e2){const _0x44e5f6=a94_0x52d3,_0x48c1bd=_0x2633da();while(!![]){try{const _0x17792b=parseInt(_0x44e5f6(0x1b8))/0x1+-parseInt(_0x44e5f6(0x1a6))/0x2+parseInt(_0x44e5f6(0x19e))/0x3*(-parseInt(_0x44e5f6(0x19c))/0x4)+-parseInt(_0x44e5f6(0x18c))/0x5*(parseInt(_0x44e5f6(0x1a8))/0x6)+parseInt(_0x44e5f6(0x1b6))/0x7+-parseInt(_0x44e5f6(0x1bb))/0x8*(parseInt(_0x44e5f6(0x1b9))/0x9)+parseInt(_0x44e5f6(0x1c2))/0xa*(parseInt(_0x44e5f6(0x19d))/0xb);if(_0x17792b===_0x5bb5e2)break;else _0x48c1bd['push'](_0x48c1bd['shift']());}catch(_0xd70a98){_0x48c1bd['push'](_0x48c1bd['shift']());}}}(a94_0x14b7,0x7bef9));function a94_0x14b7(){const _0xa96d0a=['__esModule','put','apiBody','defaultBranch','GitRepoService','NotFoundError','24220adWWob','defineProperty','post','authSettings','metadata','../../internal/git.internal','create','function','request','typedi','25XiZxMl','design:paramtypes','AuthSettingsService','Service','BitbucketRepoService','autoInit','master','../../../constants/errors','next','apiRequest','../repo.class','/repositories/','Repo','Git','(((.+)+)+)+$','../../../core/errors/not-found.error','4hmNlYA','4279aGejVT','1089879keBqLI','repositories/','toLowerCase','BadRequestError','workspace','ApiError','push','__decorate','1228298OGtCeO','object','26322lYQvLY','decorate','ERR_BITBUCKET_MISSING_PROJECT','toString','fromBitbucket','BitbucketApiService','delete','private','getOne','project','createEmptyBranch','./git-repo.service','length','constructor','759031OvDZvU','ERR_BITBUCKET_MISSING_WORKSPACE','928575ZMHZKD','1062333MCBpYH','search','32jexOVo'];a94_0x14b7=function(){return _0xa96d0a;};return a94_0x14b7();}const a94_0x1f4d01=function(){let _0x55dde9=!![];return function(_0x486a6d,_0xf792f){const _0x54d601=_0x55dde9?function(){if(_0xf792f){const _0x39cac7=_0xf792f['apply'](_0x486a6d,arguments);return _0xf792f=null,_0x39cac7;}}:function(){};return _0x55dde9=![],_0x54d601;};}(),a94_0x4aa77b=a94_0x1f4d01(this,function(){const _0x1e94dc=a94_0x52d3;return a94_0x4aa77b[_0x1e94dc(0x1ab)]()[_0x1e94dc(0x1ba)](_0x1e94dc(0x19a))[_0x1e94dc(0x1ab)]()[_0x1e94dc(0x1b5)](a94_0x4aa77b)[_0x1e94dc(0x1ba)](_0x1e94dc(0x19a));});a94_0x4aa77b();'use strict';var __decorate=this&&this[a94_0x350657(0x1a5)]||function(_0x54cd09,_0x50aa18,_0x1ca696,_0x20cd4a){const _0x5bb76f=a94_0x350657;var _0x3c892e=arguments[_0x5bb76f(0x1b4)],_0x5e014e=_0x3c892e<0x3?_0x50aa18:_0x20cd4a===null?_0x20cd4a=Object['getOwnPropertyDescriptor'](_0x50aa18,_0x1ca696):_0x20cd4a,_0x2808d5;if(typeof Reflect===_0x5bb76f(0x1a7)&&typeof Reflect['decorate']==='function')_0x5e014e=Reflect[_0x5bb76f(0x1a9)](_0x54cd09,_0x50aa18,_0x1ca696,_0x20cd4a);else{for(var _0x2c2dfa=_0x54cd09[_0x5bb76f(0x1b4)]-0x1;_0x2c2dfa>=0x0;_0x2c2dfa--)if(_0x2808d5=_0x54cd09[_0x2c2dfa])_0x5e014e=(_0x3c892e<0x3?_0x2808d5(_0x5e014e):_0x3c892e>0x3?_0x2808d5(_0x50aa18,_0x1ca696,_0x5e014e):_0x2808d5(_0x50aa18,_0x1ca696))||_0x5e014e;}return _0x3c892e>0x3&&_0x5e014e&&Object[_0x5bb76f(0x1c3)](_0x50aa18,_0x1ca696,_0x5e014e),_0x5e014e;},__metadata=this&&this['__metadata']||function(_0x26ede9,_0x381042){const _0x280a88=a94_0x350657;if(typeof Reflect==='object'&&typeof Reflect[_0x280a88(0x1c6)]===_0x280a88(0x1c9))return Reflect[_0x280a88(0x1c6)](_0x26ede9,_0x381042);},__param=this&&this['__param']||function(_0x561cf8,_0x25f19e){return function(_0x40dc17,_0x481899){_0x25f19e(_0x40dc17,_0x481899,_0x561cf8);};};function a94_0x52d3(_0x57b374,_0x297ccb){const _0x180cf5=a94_0x14b7();return a94_0x52d3=function(_0x4aa77b,_0x1f4d01){_0x4aa77b=_0x4aa77b-0x18b;let _0x14b7f3=_0x180cf5[_0x4aa77b];return _0x14b7f3;},a94_0x52d3(_0x57b374,_0x297ccb);}Object[a94_0x350657(0x1c3)](exports,a94_0x350657(0x1bc),{'value':!![]}),exports[a94_0x350657(0x190)]=void 0x0;const errors_1=require(a94_0x350657(0x193)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a94_0x350657(0x19b)),bitbucket_api_service_1=require('../../git-api/services/bitbucket-api.service'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a94_0x350657(0x18b)),api_error_1=require('../../../core/errors/api.error'),git_internal_1=require(a94_0x350657(0x1c7)),repo_class_1=require(a94_0x350657(0x196)),git_repo_service_1=require(a94_0x350657(0x1b3));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a94_0x350657(0x1c0)]{constructor(_0x41c2ca,_0x3b05e9){const _0x18aedf=a94_0x350657;super(_0x41c2ca),this[_0x18aedf(0x1c5)]=_0x3b05e9,this['request']=_0x41c2ca[_0x18aedf(0x195)];if(!this['workspace'])throw new Error(errors_1[_0x18aedf(0x1b7)]);if(!this[_0x18aedf(0x1b1)])throw new Error(errors_1[_0x18aedf(0x1aa)]);}get[a94_0x350657(0x1a2)](){return this['authSettings']['bitbucket']['workspace'];}get[a94_0x350657(0x1b1)](){const _0x58df52=a94_0x350657;return this[_0x58df52(0x1c5)]['bitbucket']['project'];}async[a94_0x350657(0x1c8)](_0x49346f){const _0x48e345=a94_0x350657;try{const {name:_0x265ab8}=_0x49346f,_0x173493={'name':_0x49346f['name'],'is_private':_0x49346f[_0x48e345(0x1af)],..._0x49346f[_0x48e345(0x1be)]||{},'project':{'key':this['project']}},_0x5050ab=await this[_0x48e345(0x1ca)][_0x48e345(0x1c4)](_0x48e345(0x197)+this[_0x48e345(0x1a2)]+'/'+_0x265ab8[_0x48e345(0x1a0)](),_0x173493),_0x14350b=repo_class_1[_0x48e345(0x198)][_0x48e345(0x1ac)](_0x5050ab);return _0x49346f[_0x48e345(0x191)]&&(await git_internal_1[_0x48e345(0x199)][_0x48e345(0x1b2)](_0x14350b,_0x49346f[_0x48e345(0x1bf)]||'master'),_0x14350b[_0x48e345(0x1bf)]=_0x49346f['defaultBranch']||_0x48e345(0x192)),_0x14350b;}catch(_0x34d31f){if(_0x34d31f instanceof api_error_1[_0x48e345(0x1a3)])throw _0x34d31f;throw new bad_request_error_1[(_0x48e345(0x1a1))](_0x34d31f);}}async['getAll'](){const _0x180c49=a94_0x350657;try{const _0xa5fc56=[];let _0x2bde60;do{_0x2bde60=await this['request']['get'](_0x2bde60?_0x2bde60[_0x180c49(0x194)]:'repositories/'+this[_0x180c49(0x1a2)]),_0xa5fc56[_0x180c49(0x1a4)](..._0x2bde60['values']);}while(_0x2bde60[_0x180c49(0x194)]);return _0xa5fc56['map'](_0x5c7d75=>repo_class_1[_0x180c49(0x198)][_0x180c49(0x1ac)](_0x5c7d75));}catch(_0x28a52b){if(_0x28a52b instanceof api_error_1[_0x180c49(0x1a3)])throw _0x28a52b;throw new not_found_error_1[(_0x180c49(0x1c1))](_0x28a52b);}}async[a94_0x350657(0x1b0)](_0x5bbb84){const _0x12f1be=a94_0x350657;try{const _0x52cfc9=await this[_0x12f1be(0x1ca)]['get'](_0x12f1be(0x19f)+this[_0x12f1be(0x1a2)]+'/'+_0x5bbb84[_0x12f1be(0x1a0)]());return repo_class_1['Repo'][_0x12f1be(0x1ac)](_0x52cfc9);}catch(_0x3d1b3d){if(_0x3d1b3d instanceof api_error_1[_0x12f1be(0x1a3)])throw _0x3d1b3d;throw new not_found_error_1[(_0x12f1be(0x1c1))](_0x3d1b3d);}}async['update'](_0x51ca83,_0x5eadc8){const _0x1633e8=a94_0x350657;await this[_0x1633e8(0x1b0)](_0x51ca83);try{const _0x245a36=await this[_0x1633e8(0x1ca)][_0x1633e8(0x1bd)](_0x1633e8(0x19f)+this[_0x1633e8(0x1a2)]+'/'+_0x51ca83[_0x1633e8(0x1a0)](),_0x5eadc8);return repo_class_1['Repo'][_0x1633e8(0x1ac)](_0x245a36);}catch(_0x3834ac){if(_0x3834ac instanceof api_error_1['ApiError'])throw _0x3834ac;throw new not_found_error_1['NotFoundError'](_0x3834ac);}}async[a94_0x350657(0x1ae)](_0x2d65d7){const _0x7c4d4=a94_0x350657;try{await this[_0x7c4d4(0x1ca)][_0x7c4d4(0x1ae)](_0x7c4d4(0x19f)+this[_0x7c4d4(0x1a2)]+'/'+_0x2d65d7['toLowerCase']());}catch(_0x126a77){if(_0x126a77 instanceof api_error_1[_0x7c4d4(0x1a3)])throw _0x126a77;throw new bad_request_error_1[(_0x7c4d4(0x1a1))](_0x126a77);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a94_0x350657(0x18f)])(),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a94_0x350657(0x18d),[bitbucket_api_service_1[a94_0x350657(0x1ad)],auth_settings_service_1[a94_0x350657(0x18e)]])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;