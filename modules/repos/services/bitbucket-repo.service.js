const a92_0x2179=['818184iGnmcP','BitbucketRepoService','master','723019xXcfJY','delete','../repo.class','design:paramtypes','workspace','private','1388749SIKgMK','fromBitbucket','1335955NpUUHT','Repo','get','getOwnPropertyDescriptor','getOne','BitbucketApiService','GitRepoService','apiRequest','typedi','put','../../../constants/errors','length','function','../../shared/services/auth-settings.service','create','__param','__decorate','post','BadRequestError','toLowerCase','/repositories/','defineProperty','AuthSettingsService','request','return\x20/\x22\x20+\x20this\x20+\x20\x22/','project','1502829KmGJwx','../../internal/git.internal','2385OePPyX','name','../../git-api/services/bitbucket-api.service','metadata','constructor','test','createEmptyBranch','apply','autoInit','Inject','apiBody','157316BUiebr','decorate','object','NotFoundError','update','bitbucket','__metadata','ERR_BITBUCKET_MISSING_WORKSPACE','445DyEJkU','./git-repo.service','authSettings','../../../core/errors/not-found.error'];const a92_0x3d2d97=a92_0x210d;(function(_0x2f665f,_0x350637){const _0x21e510=a92_0x210d;while(!![]){try{const _0x101a72=-parseInt(_0x21e510(0x21a))+-parseInt(_0x21e510(0x200))+parseInt(_0x21e510(0x1f8))+parseInt(_0x21e510(0x1f1))*parseInt(_0x21e510(0x1de))+parseInt(_0x21e510(0x1f5))+-parseInt(_0x21e510(0x1e9))+parseInt(_0x21e510(0x1fe));if(_0x101a72===_0x350637)break;else _0x2f665f['push'](_0x2f665f['shift']());}catch(_0x57e984){_0x2f665f['push'](_0x2f665f['shift']());}}}(a92_0x2179,0xf2f69));const a92_0x51b88f=function(){let _0x4d2ef3=!![];return function(_0x19e8a5,_0x4e463d){const _0x373c06=_0x4d2ef3?function(){const _0x263515=a92_0x210d;if(_0x4e463d){const _0x46e799=_0x4e463d[_0x263515(0x1e5)](_0x19e8a5,arguments);return _0x4e463d=null,_0x46e799;}}:function(){};return _0x4d2ef3=![],_0x373c06;};}(),a92_0x52200b=a92_0x51b88f(this,function(){const _0x9d444b=function(){const _0x2b7978=a92_0x210d,_0x133b96=_0x9d444b[_0x2b7978(0x1e2)](_0x2b7978(0x218))()[_0x2b7978(0x1e2)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x133b96[_0x2b7978(0x1e3)](a92_0x52200b);};return _0x9d444b();});a92_0x52200b();'use strict';var __decorate=this&&this[a92_0x3d2d97(0x210)]||function(_0x5a647f,_0x358659,_0x31a0b5,_0x314af9){const _0x2fb7bc=a92_0x3d2d97;var _0x451763=arguments[_0x2fb7bc(0x20b)],_0x389ee5=_0x451763<0x3?_0x358659:_0x314af9===null?_0x314af9=Object[_0x2fb7bc(0x203)](_0x358659,_0x31a0b5):_0x314af9,_0xd197d8;if(typeof Reflect===_0x2fb7bc(0x1eb)&&typeof Reflect[_0x2fb7bc(0x1ea)]===_0x2fb7bc(0x20c))_0x389ee5=Reflect['decorate'](_0x5a647f,_0x358659,_0x31a0b5,_0x314af9);else{for(var _0x4785e2=_0x5a647f[_0x2fb7bc(0x20b)]-0x1;_0x4785e2>=0x0;_0x4785e2--)if(_0xd197d8=_0x5a647f[_0x4785e2])_0x389ee5=(_0x451763<0x3?_0xd197d8(_0x389ee5):_0x451763>0x3?_0xd197d8(_0x358659,_0x31a0b5,_0x389ee5):_0xd197d8(_0x358659,_0x31a0b5))||_0x389ee5;}return _0x451763>0x3&&_0x389ee5&&Object[_0x2fb7bc(0x215)](_0x358659,_0x31a0b5,_0x389ee5),_0x389ee5;},__metadata=this&&this[a92_0x3d2d97(0x1ef)]||function(_0x32b7f0,_0xc9864d){const _0x58e851=a92_0x3d2d97;if(typeof Reflect==='object'&&typeof Reflect[_0x58e851(0x1e1)]===_0x58e851(0x20c))return Reflect['metadata'](_0x32b7f0,_0xc9864d);},__param=this&&this[a92_0x3d2d97(0x20f)]||function(_0x2004f7,_0x99b2e3){return function(_0x51352b,_0xf182a5){_0x99b2e3(_0x51352b,_0xf182a5,_0x2004f7);};};Object[a92_0x3d2d97(0x215)](exports,'__esModule',{'value':!![]}),exports[a92_0x3d2d97(0x1f6)]=void 0x0;function a92_0x210d(_0x263124,_0x9d3663){return a92_0x210d=function(_0x566725,_0x52200b){_0x566725=_0x566725-0x1de;let _0x51b88f=a92_0x2179[_0x566725];return _0x51b88f;},a92_0x210d(_0x263124,_0x9d3663);}const errors_1=require(a92_0x3d2d97(0x20a)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a92_0x3d2d97(0x1f4)),bitbucket_api_service_1=require(a92_0x3d2d97(0x1e0)),auth_settings_service_1=require(a92_0x3d2d97(0x20d)),typedi_1=require(a92_0x3d2d97(0x208)),git_internal_1=require(a92_0x3d2d97(0x21b)),repo_class_1=require(a92_0x3d2d97(0x1fa)),git_repo_service_1=require(a92_0x3d2d97(0x1f2));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a92_0x3d2d97(0x206)]{constructor(_0x3b4898,_0x45dea9){const _0xd0c11d=a92_0x3d2d97;super(_0x3b4898),this[_0xd0c11d(0x1f3)]=_0x45dea9,this[_0xd0c11d(0x217)]=_0x3b4898[_0xd0c11d(0x207)];if(!this[_0xd0c11d(0x1fc)])throw new Error(errors_1[_0xd0c11d(0x1f0)]);if(!this[_0xd0c11d(0x219)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}get[a92_0x3d2d97(0x1fc)](){const _0x49636e=a92_0x3d2d97;return this[_0x49636e(0x1f3)][_0x49636e(0x1ee)][_0x49636e(0x1fc)];}get[a92_0x3d2d97(0x219)](){const _0x27527f=a92_0x3d2d97;return this[_0x27527f(0x1f3)][_0x27527f(0x1ee)][_0x27527f(0x219)];}async[a92_0x3d2d97(0x20e)](_0x279d57){const _0x173893=a92_0x3d2d97;try{const {name:_0x5a7d1f}=_0x279d57,_0xb630b2={'name':_0x279d57[_0x173893(0x1df)],'is_private':_0x279d57[_0x173893(0x1fd)],..._0x279d57[_0x173893(0x1e8)]||{},'project':{'key':this[_0x173893(0x219)]}},_0x19b2fb=await this[_0x173893(0x217)][_0x173893(0x211)](_0x173893(0x214)+this['workspace']+'/'+_0x5a7d1f['toLowerCase'](),_0xb630b2),_0xaf1668=repo_class_1[_0x173893(0x201)][_0x173893(0x1ff)](_0x19b2fb);return _0x279d57[_0x173893(0x1e6)]&&await git_internal_1['Git'][_0x173893(0x1e4)](_0xaf1668,_0x279d57['defaultBranch']||_0x173893(0x1f7)),this[_0x173893(0x204)](_0xaf1668[_0x173893(0x1df)]);}catch(_0x16a9b0){throw new bad_request_error_1[(_0x173893(0x212))](_0x16a9b0);}}async[a92_0x3d2d97(0x204)](_0x438ad3){const _0x5c1aa3=a92_0x3d2d97;try{const _0x51fdf1=await this['request'][_0x5c1aa3(0x202)]('repositories/'+this[_0x5c1aa3(0x1fc)]+'/'+_0x438ad3[_0x5c1aa3(0x213)]());return repo_class_1[_0x5c1aa3(0x201)][_0x5c1aa3(0x1ff)](_0x51fdf1);}catch(_0x5bc014){throw new not_found_error_1[(_0x5c1aa3(0x1ec))](_0x5bc014);}}async[a92_0x3d2d97(0x1ed)](_0x46e352,_0x58c32b){const _0x422866=a92_0x3d2d97;await this[_0x422866(0x204)](_0x46e352);try{const _0x203c2c=await this[_0x422866(0x217)][_0x422866(0x209)]('repositories/'+this[_0x422866(0x1fc)]+'/'+_0x46e352['toLowerCase'](),_0x58c32b);return repo_class_1['Repo']['fromBitbucket'](_0x203c2c);}catch(_0x30d850){throw new not_found_error_1['NotFoundError'](_0x30d850);}}async[a92_0x3d2d97(0x1f9)](_0x27716c){const _0x4b23e6=a92_0x3d2d97;try{await this[_0x4b23e6(0x217)][_0x4b23e6(0x1f9)]('repositories/'+this[_0x4b23e6(0x1fc)]+'/'+_0x27716c[_0x4b23e6(0x213)]());}catch(_0x2b3a04){throw new bad_request_error_1[(_0x4b23e6(0x212))](_0x2b3a04);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a92_0x3d2d97(0x1e7)]()),__metadata(a92_0x3d2d97(0x1fb),[bitbucket_api_service_1[a92_0x3d2d97(0x205)],auth_settings_service_1[a92_0x3d2d97(0x216)]])],BitbucketRepoService),exports[a92_0x3d2d97(0x1f6)]=BitbucketRepoService;