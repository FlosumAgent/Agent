const a104_0x11a787=a104_0x25e8;(function(_0x1b1731,_0xbb7d19){const _0x18d364=a104_0x25e8,_0x15f7e5=_0x1b1731();while(!![]){try{const _0x2e7308=-parseInt(_0x18d364(0x1ce))/0x1+parseInt(_0x18d364(0x1f1))/0x2+parseInt(_0x18d364(0x1cb))/0x3*(parseInt(_0x18d364(0x1f7))/0x4)+parseInt(_0x18d364(0x1f6))/0x5+parseInt(_0x18d364(0x1d6))/0x6*(-parseInt(_0x18d364(0x1f0))/0x7)+parseInt(_0x18d364(0x1df))/0x8+-parseInt(_0x18d364(0x1db))/0x9;if(_0x2e7308===_0xbb7d19)break;else _0x15f7e5['push'](_0x15f7e5['shift']());}catch(_0x4e8fb9){_0x15f7e5['push'](_0x15f7e5['shift']());}}}(a104_0x270b,0xc97de));const a104_0x388498=function(){let _0x5548b1=!![];return function(_0x1f9f0f,_0x283a52){const _0x217be9=_0x5548b1?function(){const _0x4729a3=a104_0x25e8;if(_0x283a52){const _0x5b322f=_0x283a52[_0x4729a3(0x1ed)](_0x1f9f0f,arguments);return _0x283a52=null,_0x5b322f;}}:function(){};return _0x5548b1=![],_0x217be9;};}(),a104_0x46b9cb=a104_0x388498(this,function(){const _0x185cf6=a104_0x25e8;return a104_0x46b9cb['toString']()[_0x185cf6(0x204)]('(((.+)+)+)+$')[_0x185cf6(0x1e4)]()['constructor'](a104_0x46b9cb)['search'](_0x185cf6(0x1e1));});function a104_0x270b(){const _0x482a35=['4601628gfxpyX','private','request','ERR_BITBUCKET_MISSING_PROJECT','3766296ROpgYs','../../shared/services/auth-settings.service','(((.+)+)+)+$','__esModule','NotFoundError','toString','defaultBranch','BitbucketApiService','next','workspace','post','Service','../../git-api/services/bitbucket-api.service','metadata','apply','bitbucket','object','21sLMmQP','712426bjFOWn','../../../core/errors/api.error','__param','__decorate','../../../core/errors/bad-request.error','6831530raqAkW','22772FaZyKn','../../internal/git.internal','decorate','../../../constants/errors','update','Git','createEmptyBranch','fromBitbucket','Repo','authSettings','project','apiBody','getAll','search','Inject','repositories/','function','push','../../../core/errors/not-found.error','map','get','delete','333yyGYSh','typedi','put','468315ixzYbD','/repositories/','toLowerCase','BadRequestError','apiRequest','values','defineProperty','AuthSettingsService','2040624wxDYbh','ApiError','length','master','name'];a104_0x270b=function(){return _0x482a35;};return a104_0x270b();}a104_0x46b9cb();'use strict';var __decorate=this&&this[a104_0x11a787(0x1f4)]||function(_0xeeb4a9,_0x2fc563,_0x2dceac,_0x49efa3){const _0x1a1b00=a104_0x11a787;var _0x824032=arguments[_0x1a1b00(0x1d8)],_0x6c181=_0x824032<0x3?_0x2fc563:_0x49efa3===null?_0x49efa3=Object['getOwnPropertyDescriptor'](_0x2fc563,_0x2dceac):_0x49efa3,_0x1132ed;if(typeof Reflect===_0x1a1b00(0x1ef)&&typeof Reflect[_0x1a1b00(0x1f9)]===_0x1a1b00(0x1c5))_0x6c181=Reflect['decorate'](_0xeeb4a9,_0x2fc563,_0x2dceac,_0x49efa3);else{for(var _0x7c575=_0xeeb4a9[_0x1a1b00(0x1d8)]-0x1;_0x7c575>=0x0;_0x7c575--)if(_0x1132ed=_0xeeb4a9[_0x7c575])_0x6c181=(_0x824032<0x3?_0x1132ed(_0x6c181):_0x824032>0x3?_0x1132ed(_0x2fc563,_0x2dceac,_0x6c181):_0x1132ed(_0x2fc563,_0x2dceac))||_0x6c181;}return _0x824032>0x3&&_0x6c181&&Object['defineProperty'](_0x2fc563,_0x2dceac,_0x6c181),_0x6c181;},__metadata=this&&this['__metadata']||function(_0x1907a0,_0x1f5713){const _0x4d92d7=a104_0x11a787;if(typeof Reflect===_0x4d92d7(0x1ef)&&typeof Reflect[_0x4d92d7(0x1ec)]==='function')return Reflect[_0x4d92d7(0x1ec)](_0x1907a0,_0x1f5713);},__param=this&&this[a104_0x11a787(0x1f3)]||function(_0x5ffe47,_0x229f41){return function(_0x43810e,_0x1d21c8){_0x229f41(_0x43810e,_0x1d21c8,_0x5ffe47);};};function a104_0x25e8(_0x163c62,_0xa4b7a4){const _0x56cbed=a104_0x270b();return a104_0x25e8=function(_0x46b9cb,_0x388498){_0x46b9cb=_0x46b9cb-0x1c4;let _0x270bf7=_0x56cbed[_0x46b9cb];return _0x270bf7;},a104_0x25e8(_0x163c62,_0xa4b7a4);}Object[a104_0x11a787(0x1d4)](exports,a104_0x11a787(0x1e2),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a104_0x11a787(0x1fa)),bad_request_error_1=require(a104_0x11a787(0x1f5)),not_found_error_1=require(a104_0x11a787(0x1c7)),bitbucket_api_service_1=require(a104_0x11a787(0x1eb)),auth_settings_service_1=require(a104_0x11a787(0x1e0)),typedi_1=require(a104_0x11a787(0x1cc)),api_error_1=require(a104_0x11a787(0x1f2)),git_internal_1=require(a104_0x11a787(0x1f8)),repo_class_1=require('../repo.class'),git_repo_service_1=require('./git-repo.service');let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0xb49d61,_0x435228){const _0x370c26=a104_0x11a787;super(_0xb49d61),this[_0x370c26(0x200)]=_0x435228,this['request']=_0xb49d61[_0x370c26(0x1d2)];if(!this[_0x370c26(0x1e8)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this['project'])throw new Error(errors_1[_0x370c26(0x1de)]);}get[a104_0x11a787(0x1e8)](){const _0x17963f=a104_0x11a787;return this[_0x17963f(0x200)][_0x17963f(0x1ee)][_0x17963f(0x1e8)];}get[a104_0x11a787(0x201)](){const _0x1b7d1d=a104_0x11a787;return this[_0x1b7d1d(0x200)][_0x1b7d1d(0x1ee)][_0x1b7d1d(0x201)];}async['create'](_0x4f8a41){const _0x5bed39=a104_0x11a787;try{const {name:_0x41024e}=_0x4f8a41,_0x41595b={'name':_0x4f8a41[_0x5bed39(0x1da)],'is_private':_0x4f8a41[_0x5bed39(0x1dc)],..._0x4f8a41[_0x5bed39(0x202)]||{},'project':{'key':this[_0x5bed39(0x201)]}},_0x2456fd=await this['request'][_0x5bed39(0x1e9)](_0x5bed39(0x1cf)+this[_0x5bed39(0x1e8)]+'/'+_0x41024e['toLowerCase'](),_0x41595b),_0x61cb8e=repo_class_1['Repo'][_0x5bed39(0x1fe)](_0x2456fd);return _0x4f8a41['autoInit']&&(await git_internal_1[_0x5bed39(0x1fc)][_0x5bed39(0x1fd)](_0x61cb8e,_0x4f8a41['defaultBranch']||'master'),_0x61cb8e[_0x5bed39(0x1e5)]=_0x4f8a41[_0x5bed39(0x1e5)]||_0x5bed39(0x1d9)),_0x61cb8e;}catch(_0x52a266){if(_0x52a266 instanceof api_error_1['ApiError'])throw _0x52a266;throw new bad_request_error_1['BadRequestError'](_0x52a266);}}async[a104_0x11a787(0x203)](){const _0x4f5831=a104_0x11a787;try{const _0x1ec31d=[];let _0x5c0f76;do{_0x5c0f76=await this[_0x4f5831(0x1dd)][_0x4f5831(0x1c9)](_0x5c0f76?_0x5c0f76['next']:'repositories/'+this[_0x4f5831(0x1e8)]),_0x1ec31d[_0x4f5831(0x1c6)](..._0x5c0f76[_0x4f5831(0x1d3)]);}while(_0x5c0f76[_0x4f5831(0x1e7)]);return _0x1ec31d[_0x4f5831(0x1c8)](_0x23f3e9=>repo_class_1['Repo'][_0x4f5831(0x1fe)](_0x23f3e9));}catch(_0x3ef97b){if(_0x3ef97b instanceof api_error_1['ApiError'])throw _0x3ef97b;throw new not_found_error_1['NotFoundError'](_0x3ef97b);}}async['getOne'](_0x4e6077){const _0xd77e0d=a104_0x11a787;try{const _0xe25d1=await this[_0xd77e0d(0x1dd)][_0xd77e0d(0x1c9)](_0xd77e0d(0x1c4)+this[_0xd77e0d(0x1e8)]+'/'+_0x4e6077[_0xd77e0d(0x1d0)]());return repo_class_1[_0xd77e0d(0x1ff)]['fromBitbucket'](_0xe25d1);}catch(_0x303e01){if(_0x303e01 instanceof api_error_1[_0xd77e0d(0x1d7)])throw _0x303e01;throw new not_found_error_1[(_0xd77e0d(0x1e3))](_0x303e01);}}async[a104_0x11a787(0x1fb)](_0x30aed9,_0x3ae019){const _0x4feb50=a104_0x11a787;await this['getOne'](_0x30aed9);try{const _0x18cddd=await this[_0x4feb50(0x1dd)][_0x4feb50(0x1cd)](_0x4feb50(0x1c4)+this[_0x4feb50(0x1e8)]+'/'+_0x30aed9['toLowerCase'](),_0x3ae019);return repo_class_1[_0x4feb50(0x1ff)][_0x4feb50(0x1fe)](_0x18cddd);}catch(_0x3d9352){if(_0x3d9352 instanceof api_error_1[_0x4feb50(0x1d7)])throw _0x3d9352;throw new not_found_error_1[(_0x4feb50(0x1e3))](_0x3d9352);}}async['delete'](_0x309a3e){const _0x510b97=a104_0x11a787;try{await this[_0x510b97(0x1dd)][_0x510b97(0x1ca)]('repositories/'+this['workspace']+'/'+_0x309a3e[_0x510b97(0x1d0)]());}catch(_0x240363){if(_0x240363 instanceof api_error_1[_0x510b97(0x1d7)])throw _0x240363;throw new bad_request_error_1[(_0x510b97(0x1d1))](_0x240363);}}};BitbucketRepoService=__decorate([typedi_1[a104_0x11a787(0x1ea)](),__param(0x0,typedi_1[a104_0x11a787(0x205)]()),__metadata('design:paramtypes',[bitbucket_api_service_1[a104_0x11a787(0x1e6)],auth_settings_service_1[a104_0x11a787(0x1d5)]])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;