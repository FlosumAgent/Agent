const a93_0x2cd4=['name','2jsRFhc','master','createEmptyBranch','repositories/','BadRequestError','autoInit','AuthSettingsService','__esModule','1ReGSez','typedi','length','BitbucketRepoService','constructor','create','metadata','project','52263AraZqI','BitbucketApiService','1991refyTo','delete','13147FLKKkf','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','bitbucket','apiBody','getOne','ERR_BITBUCKET_MISSING_PROJECT','182285TOKLQW','95CfWMkz','../../git-api/services/bitbucket-api.service','46588OODGjV','GitRepoService','../../../core/errors/not-found.error','update','4LvGgSA','Repo','__decorate','getOwnPropertyDescriptor','post','toLowerCase','1198oqpYKG','return\x20/\x22\x20+\x20this\x20+\x20\x22/','function','171778jqxRcC','get','./git-repo.service','apiRequest','Service','Git','decorate','fromBitbucket','test','ERR_BITBUCKET_MISSING_WORKSPACE','workspace','/repositories/','../../internal/git.internal','../../../constants/errors','design:paramtypes','defineProperty','../../shared/services/auth-settings.service','private','object','apply','request','NotFoundError'];const a93_0x5c87ae=a93_0x6a1e;function a93_0x6a1e(_0x580351,_0x42d2da){return a93_0x6a1e=function(_0x259ec7,_0x5a1954){_0x259ec7=_0x259ec7-0x1a1;let _0xd4943f=a93_0x2cd4[_0x259ec7];return _0xd4943f;},a93_0x6a1e(_0x580351,_0x42d2da);}(function(_0x10a5d9,_0x5e27e5){const _0x5d5d17=a93_0x6a1e;while(!![]){try{const _0x172a22=parseInt(_0x5d5d17(0x1c3))*parseInt(_0x5d5d17(0x1bb))+-parseInt(_0x5d5d17(0x1dd))+-parseInt(_0x5d5d17(0x1c7))*-parseInt(_0x5d5d17(0x1d4))+-parseInt(_0x5d5d17(0x1c5))+-parseInt(_0x5d5d17(0x1da))*-parseInt(_0x5d5d17(0x1ce))+-parseInt(_0x5d5d17(0x1d0))*parseInt(_0x5d5d17(0x1b3))+parseInt(_0x5d5d17(0x1cd));if(_0x172a22===_0x5e27e5)break;else _0x10a5d9['push'](_0x10a5d9['shift']());}catch(_0x35ecdd){_0x10a5d9['push'](_0x10a5d9['shift']());}}}(a93_0x2cd4,0x20b71));const a93_0xd4943f=function(){let _0x307e4c=!![];return function(_0x602f5d,_0x4cef11){const _0x34f678=_0x307e4c?function(){const _0x1881a6=a93_0x6a1e;if(_0x4cef11){const _0x4a82fe=_0x4cef11[_0x1881a6(0x1af)](_0x602f5d,arguments);return _0x4cef11=null,_0x4a82fe;}}:function(){};return _0x307e4c=![],_0x34f678;};}(),a93_0x5a1954=a93_0xd4943f(this,function(){const _0x5bf33e=function(){const _0x59c485=a93_0x6a1e,_0x622813=_0x5bf33e[_0x59c485(0x1bf)](_0x59c485(0x1db))()['constructor'](_0x59c485(0x1c8));return!_0x622813[_0x59c485(0x1a4)](a93_0x5a1954);};return _0x5bf33e();});a93_0x5a1954();'use strict';var __decorate=this&&this[a93_0x5c87ae(0x1d6)]||function(_0x4f9ff6,_0x1d710b,_0x458040,_0xc7103f){const _0x30cc8d=a93_0x5c87ae;var _0x1cf00d=arguments[_0x30cc8d(0x1bd)],_0x2b9ff3=_0x1cf00d<0x3?_0x1d710b:_0xc7103f===null?_0xc7103f=Object[_0x30cc8d(0x1d7)](_0x1d710b,_0x458040):_0xc7103f,_0x4c22dc;if(typeof Reflect===_0x30cc8d(0x1ae)&&typeof Reflect[_0x30cc8d(0x1a2)]==='function')_0x2b9ff3=Reflect[_0x30cc8d(0x1a2)](_0x4f9ff6,_0x1d710b,_0x458040,_0xc7103f);else{for(var _0x4b1365=_0x4f9ff6[_0x30cc8d(0x1bd)]-0x1;_0x4b1365>=0x0;_0x4b1365--)if(_0x4c22dc=_0x4f9ff6[_0x4b1365])_0x2b9ff3=(_0x1cf00d<0x3?_0x4c22dc(_0x2b9ff3):_0x1cf00d>0x3?_0x4c22dc(_0x1d710b,_0x458040,_0x2b9ff3):_0x4c22dc(_0x1d710b,_0x458040))||_0x2b9ff3;}return _0x1cf00d>0x3&&_0x2b9ff3&&Object[_0x30cc8d(0x1ab)](_0x1d710b,_0x458040,_0x2b9ff3),_0x2b9ff3;},__metadata=this&&this['__metadata']||function(_0x32cab2,_0x549440){const _0x317070=a93_0x5c87ae;if(typeof Reflect===_0x317070(0x1ae)&&typeof Reflect['metadata']===_0x317070(0x1dc))return Reflect[_0x317070(0x1c1)](_0x32cab2,_0x549440);},__param=this&&this['__param']||function(_0x444f12,_0x3f68a6){return function(_0x17bcc1,_0x312da1){_0x3f68a6(_0x17bcc1,_0x312da1,_0x444f12);};};Object['defineProperty'](exports,a93_0x5c87ae(0x1ba),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a93_0x5c87ae(0x1a9)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a93_0x5c87ae(0x1d2)),bitbucket_api_service_1=require(a93_0x5c87ae(0x1cf)),auth_settings_service_1=require(a93_0x5c87ae(0x1ac)),typedi_1=require(a93_0x5c87ae(0x1bc)),git_internal_1=require(a93_0x5c87ae(0x1a8)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a93_0x5c87ae(0x1df));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a93_0x5c87ae(0x1d1)]{constructor(_0x36331e,_0x4b9ba8){const _0x1db530=a93_0x5c87ae;super(_0x36331e),this['authSettings']=_0x4b9ba8,this[_0x1db530(0x1b0)]=_0x36331e[_0x1db530(0x1e0)];if(!this[_0x1db530(0x1a6)])throw new Error(errors_1[_0x1db530(0x1a5)]);if(!this[_0x1db530(0x1c2)])throw new Error(errors_1[_0x1db530(0x1cc)]);}get[a93_0x5c87ae(0x1a6)](){const _0x277124=a93_0x5c87ae;return this['authSettings']['bitbucket'][_0x277124(0x1a6)];}get[a93_0x5c87ae(0x1c2)](){const _0x2ad0a6=a93_0x5c87ae;return this['authSettings'][_0x2ad0a6(0x1c9)][_0x2ad0a6(0x1c2)];}async[a93_0x5c87ae(0x1c0)](_0x181b7d){const _0x39a9d2=a93_0x5c87ae;try{const {name:_0x1db6ae}=_0x181b7d,_0x55dbda={'name':_0x181b7d['name'],'is_private':_0x181b7d[_0x39a9d2(0x1ad)],..._0x181b7d[_0x39a9d2(0x1ca)]||{},'project':{'key':this[_0x39a9d2(0x1c2)]}},_0x449d96=await this[_0x39a9d2(0x1b0)][_0x39a9d2(0x1d8)](_0x39a9d2(0x1a7)+this[_0x39a9d2(0x1a6)]+'/'+_0x1db6ae[_0x39a9d2(0x1d9)](),_0x55dbda),_0x33a6cf=repo_class_1[_0x39a9d2(0x1d5)][_0x39a9d2(0x1a3)](_0x449d96);return _0x181b7d[_0x39a9d2(0x1b8)]&&await git_internal_1[_0x39a9d2(0x1a1)][_0x39a9d2(0x1b5)](_0x33a6cf,_0x181b7d['defaultBranch']||_0x39a9d2(0x1b4)),this[_0x39a9d2(0x1cb)](_0x33a6cf[_0x39a9d2(0x1b2)]);}catch(_0x249d9c){throw new bad_request_error_1['BadRequestError'](_0x249d9c);}}async[a93_0x5c87ae(0x1cb)](_0x17e9d9){const _0x5d184e=a93_0x5c87ae;try{const _0x1605f1=await this[_0x5d184e(0x1b0)][_0x5d184e(0x1de)](_0x5d184e(0x1b6)+this[_0x5d184e(0x1a6)]+'/'+_0x17e9d9[_0x5d184e(0x1d9)]());return repo_class_1[_0x5d184e(0x1d5)]['fromBitbucket'](_0x1605f1);}catch(_0x5d065b){throw new not_found_error_1[(_0x5d184e(0x1b1))](_0x5d065b);}}async[a93_0x5c87ae(0x1d3)](_0x2d246b,_0x560dd3){const _0x2c98bb=a93_0x5c87ae;await this[_0x2c98bb(0x1cb)](_0x2d246b);try{const _0x604722=await this[_0x2c98bb(0x1b0)]['put'](_0x2c98bb(0x1b6)+this[_0x2c98bb(0x1a6)]+'/'+_0x2d246b['toLowerCase'](),_0x560dd3);return repo_class_1[_0x2c98bb(0x1d5)][_0x2c98bb(0x1a3)](_0x604722);}catch(_0x2c6c28){throw new not_found_error_1[(_0x2c98bb(0x1b1))](_0x2c6c28);}}async[a93_0x5c87ae(0x1c6)](_0x2a7530){const _0x323f62=a93_0x5c87ae;try{await this[_0x323f62(0x1b0)][_0x323f62(0x1c6)](_0x323f62(0x1b6)+this[_0x323f62(0x1a6)]+'/'+_0x2a7530[_0x323f62(0x1d9)]());}catch(_0x10d43e){throw new bad_request_error_1[(_0x323f62(0x1b7))](_0x10d43e);}}};BitbucketRepoService=__decorate([typedi_1[a93_0x5c87ae(0x1e1)](),__param(0x0,typedi_1['Inject']()),__metadata(a93_0x5c87ae(0x1aa),[bitbucket_api_service_1[a93_0x5c87ae(0x1c4)],auth_settings_service_1[a93_0x5c87ae(0x1b9)]])],BitbucketRepoService),exports[a93_0x5c87ae(0x1be)]=BitbucketRepoService;