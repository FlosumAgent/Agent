function a104_0x4c25(){const _0x57ef72=['decorate','request','Git','GitRepoService','4396336BPyNhV','authSettings','project','__metadata','45YfgyAO','push','./git-repo.service','BitbucketApiService','NotFoundError','workspace','403776TgHYve','BitbucketRepoService','(((.+)+)+)+$','getOne','BadRequestError','__decorate','autoInit','ApiError','object','fromBitbucket','defineProperty','getAll','design:paramtypes','apply','3181038kljiZI','../../../constants/errors','getOwnPropertyDescriptor','78286clbvIy','140150SdDYgn','repositories/','8159592gxwFji','length','toString','AuthSettingsService','../../shared/services/auth-settings.service','defaultBranch','private','delete','name','function','128001RqMDDt','toLowerCase','get','bitbucket','../repo.class','map','createEmptyBranch','Repo','metadata','update','Inject','apiBody','../../../core/errors/not-found.error','2lzhhkv','typedi','../../internal/git.internal','30LhCHTd','ERR_BITBUCKET_MISSING_PROJECT'];a104_0x4c25=function(){return _0x57ef72;};return a104_0x4c25();}const a104_0x3e978f=a104_0x24d2;(function(_0x15bf43,_0x13899a){const _0x1da4a8=a104_0x24d2,_0x540e10=_0x15bf43();while(!![]){try{const _0x478a14=parseInt(_0x1da4a8(0x1aa))/0x1+parseInt(_0x1da4a8(0x1c4))/0x2*(-parseInt(_0x1da4a8(0x1b7))/0x3)+parseInt(_0x1da4a8(0x1d7))/0x4*(-parseInt(_0x1da4a8(0x1c7))/0x5)+parseInt(_0x1da4a8(0x1ad))/0x6+-parseInt(_0x1da4a8(0x1a7))/0x7+parseInt(_0x1da4a8(0x1cd))/0x8+-parseInt(_0x1da4a8(0x1d1))/0x9*(parseInt(_0x1da4a8(0x1ab))/0xa);if(_0x478a14===_0x13899a)break;else _0x540e10['push'](_0x540e10['shift']());}catch(_0x4047fa){_0x540e10['push'](_0x540e10['shift']());}}}(a104_0x4c25,0xc6f48));const a104_0xa02d1b=function(){let _0x485c77=!![];return function(_0x157894,_0x4a787b){const _0x54a27e=_0x485c77?function(){const _0x4b3820=a104_0x24d2;if(_0x4a787b){const _0x3160a7=_0x4a787b[_0x4b3820(0x1a6)](_0x157894,arguments);return _0x4a787b=null,_0x3160a7;}}:function(){};return _0x485c77=![],_0x54a27e;};}(),a104_0x5c874f=a104_0xa02d1b(this,function(){const _0x5790e3=a104_0x24d2;return a104_0x5c874f[_0x5790e3(0x1af)]()['search']('(((.+)+)+)+$')[_0x5790e3(0x1af)]()['constructor'](a104_0x5c874f)['search'](_0x5790e3(0x19b));});function a104_0x24d2(_0x55d705,_0x50b6c1){const _0x478f70=a104_0x4c25();return a104_0x24d2=function(_0x5c874f,_0xa02d1b){_0x5c874f=_0x5c874f-0x19a;let _0x4c2514=_0x478f70[_0x5c874f];return _0x4c2514;},a104_0x24d2(_0x55d705,_0x50b6c1);}a104_0x5c874f();'use strict';var __decorate=this&&this[a104_0x3e978f(0x19e)]||function(_0x525639,_0x3d5516,_0xfa5032,_0x140405){const _0xb1cda6=a104_0x3e978f;var _0x3b8341=arguments[_0xb1cda6(0x1ae)],_0x54d9d2=_0x3b8341<0x3?_0x3d5516:_0x140405===null?_0x140405=Object[_0xb1cda6(0x1a9)](_0x3d5516,_0xfa5032):_0x140405,_0x38bbce;if(typeof Reflect==='object'&&typeof Reflect[_0xb1cda6(0x1c9)]===_0xb1cda6(0x1b6))_0x54d9d2=Reflect['decorate'](_0x525639,_0x3d5516,_0xfa5032,_0x140405);else{for(var _0x33a163=_0x525639[_0xb1cda6(0x1ae)]-0x1;_0x33a163>=0x0;_0x33a163--)if(_0x38bbce=_0x525639[_0x33a163])_0x54d9d2=(_0x3b8341<0x3?_0x38bbce(_0x54d9d2):_0x3b8341>0x3?_0x38bbce(_0x3d5516,_0xfa5032,_0x54d9d2):_0x38bbce(_0x3d5516,_0xfa5032))||_0x54d9d2;}return _0x3b8341>0x3&&_0x54d9d2&&Object[_0xb1cda6(0x1a3)](_0x3d5516,_0xfa5032,_0x54d9d2),_0x54d9d2;},__metadata=this&&this[a104_0x3e978f(0x1d0)]||function(_0x2c6cf3,_0x351636){const _0x24eecb=a104_0x3e978f;if(typeof Reflect===_0x24eecb(0x1a1)&&typeof Reflect[_0x24eecb(0x1bf)]===_0x24eecb(0x1b6))return Reflect[_0x24eecb(0x1bf)](_0x2c6cf3,_0x351636);},__param=this&&this['__param']||function(_0x51e69c,_0x162ffb){return function(_0x1d0fc4,_0x2e6920){_0x162ffb(_0x1d0fc4,_0x2e6920,_0x51e69c);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a104_0x3e978f(0x19a)]=void 0x0;const errors_1=require(a104_0x3e978f(0x1a8)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a104_0x3e978f(0x1c3)),bitbucket_api_service_1=require('../../git-api/services/bitbucket-api.service'),auth_settings_service_1=require(a104_0x3e978f(0x1b1)),typedi_1=require(a104_0x3e978f(0x1c5)),api_error_1=require('../../../core/errors/api.error'),git_internal_1=require(a104_0x3e978f(0x1c6)),repo_class_1=require(a104_0x3e978f(0x1bb)),git_repo_service_1=require(a104_0x3e978f(0x1d3));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a104_0x3e978f(0x1cc)]{constructor(_0x1fcacf,_0x1c7d6f){const _0x3201ce=a104_0x3e978f;super(_0x1fcacf),this['authSettings']=_0x1c7d6f,this['request']=_0x1fcacf['apiRequest'];if(!this[_0x3201ce(0x1d6)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x3201ce(0x1cf)])throw new Error(errors_1[_0x3201ce(0x1c8)]);}get['workspace'](){const _0x595f73=a104_0x3e978f;return this[_0x595f73(0x1ce)][_0x595f73(0x1ba)]['workspace'];}get[a104_0x3e978f(0x1cf)](){const _0x3e3b6b=a104_0x3e978f;return this['authSettings']['bitbucket'][_0x3e3b6b(0x1cf)];}async['create'](_0x2977b8){const _0x1d9abc=a104_0x3e978f;try{const {name:_0x8b3ac5}=_0x2977b8,_0xf6b1ae={'name':_0x2977b8[_0x1d9abc(0x1b5)],'is_private':_0x2977b8[_0x1d9abc(0x1b3)],..._0x2977b8[_0x1d9abc(0x1c2)]||{},'project':{'key':this[_0x1d9abc(0x1cf)]}},_0x335db4=await this['request']['post']('/repositories/'+this[_0x1d9abc(0x1d6)]+'/'+_0x8b3ac5[_0x1d9abc(0x1b8)](),_0xf6b1ae),_0xbf8be6=repo_class_1[_0x1d9abc(0x1be)]['fromBitbucket'](_0x335db4);return _0x2977b8[_0x1d9abc(0x19f)]&&(await git_internal_1[_0x1d9abc(0x1cb)][_0x1d9abc(0x1bd)](_0xbf8be6,_0x2977b8[_0x1d9abc(0x1b2)]||'master'),_0xbf8be6[_0x1d9abc(0x1b2)]=_0x2977b8['defaultBranch']||'master'),_0xbf8be6;}catch(_0x242bc5){if(_0x242bc5 instanceof api_error_1[_0x1d9abc(0x1a0)])throw _0x242bc5;throw new bad_request_error_1['BadRequestError'](_0x242bc5);}}async[a104_0x3e978f(0x1a4)](){const _0x500674=a104_0x3e978f;try{const _0x5ca53b=[];let _0xe0040c;do{_0xe0040c=await this[_0x500674(0x1ca)][_0x500674(0x1b9)](_0xe0040c?_0xe0040c['next']:'repositories/'+this['workspace']),_0x5ca53b[_0x500674(0x1d2)](..._0xe0040c['values']);}while(_0xe0040c['next']);return _0x5ca53b[_0x500674(0x1bc)](_0x45abd2=>repo_class_1[_0x500674(0x1be)][_0x500674(0x1a2)](_0x45abd2));}catch(_0x328ff1){if(_0x328ff1 instanceof api_error_1[_0x500674(0x1a0)])throw _0x328ff1;throw new not_found_error_1['NotFoundError'](_0x328ff1);}}async[a104_0x3e978f(0x19c)](_0x222df0){const _0x51da0e=a104_0x3e978f;try{const _0x21e5ef=await this['request'][_0x51da0e(0x1b9)](_0x51da0e(0x1ac)+this[_0x51da0e(0x1d6)]+'/'+_0x222df0[_0x51da0e(0x1b8)]());return repo_class_1[_0x51da0e(0x1be)][_0x51da0e(0x1a2)](_0x21e5ef);}catch(_0x929bab){if(_0x929bab instanceof api_error_1[_0x51da0e(0x1a0)])throw _0x929bab;throw new not_found_error_1['NotFoundError'](_0x929bab);}}async[a104_0x3e978f(0x1c0)](_0x371ef3,_0x4e3856){const _0x47a24e=a104_0x3e978f;await this[_0x47a24e(0x19c)](_0x371ef3);try{const _0x186d7e=await this[_0x47a24e(0x1ca)]['put'](_0x47a24e(0x1ac)+this[_0x47a24e(0x1d6)]+'/'+_0x371ef3['toLowerCase'](),_0x4e3856);return repo_class_1['Repo'][_0x47a24e(0x1a2)](_0x186d7e);}catch(_0x2a6bf1){if(_0x2a6bf1 instanceof api_error_1[_0x47a24e(0x1a0)])throw _0x2a6bf1;throw new not_found_error_1[(_0x47a24e(0x1d5))](_0x2a6bf1);}}async[a104_0x3e978f(0x1b4)](_0x342e20){const _0x28c25d=a104_0x3e978f;try{await this['request'][_0x28c25d(0x1b4)](_0x28c25d(0x1ac)+this[_0x28c25d(0x1d6)]+'/'+_0x342e20[_0x28c25d(0x1b8)]());}catch(_0x47993c){if(_0x47993c instanceof api_error_1[_0x28c25d(0x1a0)])throw _0x47993c;throw new bad_request_error_1[(_0x28c25d(0x19d))](_0x47993c);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a104_0x3e978f(0x1c1)]()),__metadata(a104_0x3e978f(0x1a5),[bitbucket_api_service_1[a104_0x3e978f(0x1d4)],auth_settings_service_1[a104_0x3e978f(0x1b0)]])],BitbucketRepoService),exports[a104_0x3e978f(0x19a)]=BitbucketRepoService;