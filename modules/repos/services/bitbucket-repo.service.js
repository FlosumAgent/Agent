const a92_0x3302=['__esModule','apiBody','design:paramtypes','apply','master','project','apiRequest','request','fromBitbucket','ERR_BITBUCKET_MISSING_WORKSPACE','1KEfEwy','695228YgHQnt','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','4121Vqxpqg','812434PFCxGi','BitbucketApiService','../../../core/errors/bad-request.error','constructor','toLowerCase','authSettings','delete','../../../constants/errors','711779YzPbtB','Repo','length','decorate','708845ckBhCZ','test','get','./git-repo.service','__decorate','repositories/','194712AnwYOE','return\x20/\x22\x20+\x20this\x20+\x20\x22/','function','create','../../../core/errors/not-found.error','typedi','post','NotFoundError','getOwnPropertyDescriptor','object','put','BitbucketRepoService','name','__metadata','../../shared/services/auth-settings.service','418320bZggFq','11CMpkCx','AuthSettingsService','ERR_BITBUCKET_MISSING_PROJECT','getOne','GitRepoService','../repo.class','workspace','Service','private'];const a92_0x7545ae=a92_0x2363;(function(_0x40e1c7,_0x59a815){const _0x1d7a81=a92_0x2363;while(!![]){try{const _0x4fc454=parseInt(_0x1d7a81(0x1e8))+parseInt(_0x1d7a81(0x1f7))*parseInt(_0x1d7a81(0x1e7))+parseInt(_0x1d7a81(0x1fd))+-parseInt(_0x1d7a81(0x1d4))*parseInt(_0x1d7a81(0x1ea))+parseInt(_0x1d7a81(0x1d3))+-parseInt(_0x1d7a81(0x1f3))+-parseInt(_0x1d7a81(0x1eb));if(_0x4fc454===_0x59a815)break;else _0x40e1c7['push'](_0x40e1c7['shift']());}catch(_0x408359){_0x40e1c7['push'](_0x40e1c7['shift']());}}}(a92_0x3302,0x6d449));function a92_0x2363(_0x5bb7a5,_0x59367d){return a92_0x2363=function(_0x2e530b,_0x577b40){_0x2e530b=_0x2e530b-0x1ce;let _0x4b9b79=a92_0x3302[_0x2e530b];return _0x4b9b79;},a92_0x2363(_0x5bb7a5,_0x59367d);}const a92_0x4b9b79=function(){let _0x364f85=!![];return function(_0x3f0b1e,_0x3f8c9b){const _0x53353c=_0x364f85?function(){const _0x47b1b7=a92_0x2363;if(_0x3f8c9b){const _0x3357f6=_0x3f8c9b[_0x47b1b7(0x1e0)](_0x3f0b1e,arguments);return _0x3f8c9b=null,_0x3357f6;}}:function(){};return _0x364f85=![],_0x53353c;};}(),a92_0x577b40=a92_0x4b9b79(this,function(){const _0x5c1533=function(){const _0x141ee6=a92_0x2363,_0x5911af=_0x5c1533[_0x141ee6(0x1ee)](_0x141ee6(0x1fe))()['constructor'](_0x141ee6(0x1e9));return!_0x5911af[_0x141ee6(0x1f8)](a92_0x577b40);};return _0x5c1533();});a92_0x577b40();'use strict';var __decorate=this&&this[a92_0x7545ae(0x1fb)]||function(_0x3cbacd,_0x1d617d,_0x3bf06f,_0x1b6334){const _0x50a2d4=a92_0x7545ae;var _0x155e81=arguments[_0x50a2d4(0x1f5)],_0x1194a8=_0x155e81<0x3?_0x1d617d:_0x1b6334===null?_0x1b6334=Object[_0x50a2d4(0x205)](_0x1d617d,_0x3bf06f):_0x1b6334,_0xddafe1;if(typeof Reflect==='object'&&typeof Reflect[_0x50a2d4(0x1f6)]===_0x50a2d4(0x1ff))_0x1194a8=Reflect[_0x50a2d4(0x1f6)](_0x3cbacd,_0x1d617d,_0x3bf06f,_0x1b6334);else{for(var _0x52131e=_0x3cbacd[_0x50a2d4(0x1f5)]-0x1;_0x52131e>=0x0;_0x52131e--)if(_0xddafe1=_0x3cbacd[_0x52131e])_0x1194a8=(_0x155e81<0x3?_0xddafe1(_0x1194a8):_0x155e81>0x3?_0xddafe1(_0x1d617d,_0x3bf06f,_0x1194a8):_0xddafe1(_0x1d617d,_0x3bf06f))||_0x1194a8;}return _0x155e81>0x3&&_0x1194a8&&Object['defineProperty'](_0x1d617d,_0x3bf06f,_0x1194a8),_0x1194a8;},__metadata=this&&this[a92_0x7545ae(0x1d1)]||function(_0x3c4950,_0x2ca357){const _0x1d35ab=a92_0x7545ae;if(typeof Reflect===_0x1d35ab(0x206)&&typeof Reflect['metadata']===_0x1d35ab(0x1ff))return Reflect['metadata'](_0x3c4950,_0x2ca357);},__param=this&&this['__param']||function(_0x477b38,_0x14f5f0){return function(_0x3c40c2,_0x8612c8){_0x14f5f0(_0x3c40c2,_0x8612c8,_0x477b38);};};Object['defineProperty'](exports,a92_0x7545ae(0x1dd),{'value':!![]}),exports[a92_0x7545ae(0x1cf)]=void 0x0;const errors_1=require(a92_0x7545ae(0x1f2)),bad_request_error_1=require(a92_0x7545ae(0x1ed)),not_found_error_1=require(a92_0x7545ae(0x201)),bitbucket_api_service_1=require('../../git-api/services/bitbucket-api.service'),auth_settings_service_1=require(a92_0x7545ae(0x1d2)),typedi_1=require(a92_0x7545ae(0x202)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require(a92_0x7545ae(0x1d9)),git_repo_service_1=require(a92_0x7545ae(0x1fa));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a92_0x7545ae(0x1d8)]{constructor(_0x163605,_0x5b3691){const _0x35c76c=a92_0x7545ae;super(_0x163605),this[_0x35c76c(0x1f0)]=_0x5b3691,this[_0x35c76c(0x1e4)]=_0x163605[_0x35c76c(0x1e3)];if(!this[_0x35c76c(0x1da)])throw new Error(errors_1[_0x35c76c(0x1e6)]);if(!this['project'])throw new Error(errors_1[_0x35c76c(0x1d6)]);}get[a92_0x7545ae(0x1da)](){const _0x2b8aa2=a92_0x7545ae;return this[_0x2b8aa2(0x1f0)]['bitbucket'][_0x2b8aa2(0x1da)];}get[a92_0x7545ae(0x1e2)](){const _0x2d20a7=a92_0x7545ae;return this[_0x2d20a7(0x1f0)]['bitbucket']['project'];}async[a92_0x7545ae(0x200)](_0x16bd3e){const _0x4fe395=a92_0x7545ae;try{const {name:_0xed46d0}=_0x16bd3e,_0x42b9e7={'name':_0x16bd3e[_0x4fe395(0x1d0)],'is_private':_0x16bd3e[_0x4fe395(0x1dc)],..._0x16bd3e[_0x4fe395(0x1de)]||{},'project':{'key':this[_0x4fe395(0x1e2)]}},_0x12fe3e=await this['request'][_0x4fe395(0x203)]('/repositories/'+this[_0x4fe395(0x1da)]+'/'+_0xed46d0['toLowerCase'](),_0x42b9e7),_0x5654d3=repo_class_1[_0x4fe395(0x1f4)]['fromBitbucket'](_0x12fe3e);return _0x16bd3e['autoInit']&&await git_internal_1['Git']['createEmptyBranch'](_0x5654d3,_0x16bd3e['defaultBranch']||_0x4fe395(0x1e1)),this[_0x4fe395(0x1d7)](_0x5654d3[_0x4fe395(0x1d0)]);}catch(_0x222214){throw new bad_request_error_1['BadRequestError'](_0x222214);}}async['getOne'](_0x5c4ed6){const _0x40bf78=a92_0x7545ae;try{const _0xecea95=await this[_0x40bf78(0x1e4)][_0x40bf78(0x1f9)](_0x40bf78(0x1fc)+this[_0x40bf78(0x1da)]+'/'+_0x5c4ed6[_0x40bf78(0x1ef)]());return repo_class_1['Repo'][_0x40bf78(0x1e5)](_0xecea95);}catch(_0x12839a){throw new not_found_error_1['NotFoundError'](_0x12839a);}}async['update'](_0x55b33d,_0x27d718){const _0xdceae3=a92_0x7545ae;await this[_0xdceae3(0x1d7)](_0x55b33d);try{const _0x223ccf=await this[_0xdceae3(0x1e4)][_0xdceae3(0x1ce)](_0xdceae3(0x1fc)+this['workspace']+'/'+_0x55b33d['toLowerCase'](),_0x27d718);return repo_class_1[_0xdceae3(0x1f4)][_0xdceae3(0x1e5)](_0x223ccf);}catch(_0x1e9da6){throw new not_found_error_1[(_0xdceae3(0x204))](_0x1e9da6);}}async[a92_0x7545ae(0x1f1)](_0x26b8d8){const _0x13d255=a92_0x7545ae;try{await this[_0x13d255(0x1e4)][_0x13d255(0x1f1)](_0x13d255(0x1fc)+this[_0x13d255(0x1da)]+'/'+_0x26b8d8[_0x13d255(0x1ef)]());}catch(_0x292758){throw new bad_request_error_1['BadRequestError'](_0x292758);}}};BitbucketRepoService=__decorate([typedi_1[a92_0x7545ae(0x1db)](),__param(0x0,typedi_1['Inject']()),__metadata(a92_0x7545ae(0x1df),[bitbucket_api_service_1[a92_0x7545ae(0x1ec)],auth_settings_service_1[a92_0x7545ae(0x1d5)]])],BitbucketRepoService),exports[a92_0x7545ae(0x1cf)]=BitbucketRepoService;