const a91_0x4cef=['fromBitbucket','defaultBranch','apiBody','getOne','defineProperty','apply','getOwnPropertyDescriptor','private','../../../core/errors/bad-request.error','typedi','get','request','delete','./git-repo.service','22168FzUJNM','length','139cRfLBb','7693GOMQRU','object','ERR_BITBUCKET_MISSING_PROJECT','apiRequest','GitRepoService','function','bitbucket','40fOZcol','../../../core/errors/not-found.error','update','test','AuthSettingsService','BitbucketRepoService','Inject','name','decorate','../../git-api/services/bitbucket-api.service','1526020hrhtDo','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','createEmptyBranch','toLowerCase','Service','__esModule','authSettings','124042VjlJSW','master','create','413427FRpjep','BitbucketApiService','1310380ZMAIKm','BadRequestError','Repo','constructor','repositories/','project','metadata','workspace','466263iohcvl','Git'];function a91_0x84a5(_0x193eee,_0x386704){return a91_0x84a5=function(_0x50d0fb,_0x1ce2d1){_0x50d0fb=_0x50d0fb-0x13f;let _0x1fda80=a91_0x4cef[_0x50d0fb];return _0x1fda80;},a91_0x84a5(_0x193eee,_0x386704);}const a91_0x2c7854=a91_0x84a5;(function(_0x4fa2c9,_0x1061a7){const _0x2eb5e1=a91_0x84a5;while(!![]){try{const _0x345180=parseInt(_0x2eb5e1(0x172))*parseInt(_0x2eb5e1(0x144))+-parseInt(_0x2eb5e1(0x15a))+parseInt(_0x2eb5e1(0x162))+parseInt(_0x2eb5e1(0x14e))+-parseInt(_0x2eb5e1(0x155))+parseInt(_0x2eb5e1(0x174))*-parseInt(_0x2eb5e1(0x175))+parseInt(_0x2eb5e1(0x158));if(_0x345180===_0x1061a7)break;else _0x4fa2c9['push'](_0x4fa2c9['shift']());}catch(_0x46facf){_0x4fa2c9['push'](_0x4fa2c9['shift']());}}}(a91_0x4cef,0xc08c9));const a91_0x1fda80=function(){let _0x43be55=!![];return function(_0x12b0ac,_0x84a9bd){const _0x5a83ec=_0x43be55?function(){const _0x31ed45=a91_0x84a5;if(_0x84a9bd){const _0xcb9ec2=_0x84a9bd[_0x31ed45(0x169)](_0x12b0ac,arguments);return _0x84a9bd=null,_0xcb9ec2;}}:function(){};return _0x43be55=![],_0x5a83ec;};}(),a91_0x1ce2d1=a91_0x1fda80(this,function(){const _0x2a781d=function(){const _0x28c35c=a91_0x84a5,_0x39e665=_0x2a781d['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x28c35c(0x15d)](_0x28c35c(0x14f));return!_0x39e665[_0x28c35c(0x147)](a91_0x1ce2d1);};return _0x2a781d();});a91_0x1ce2d1();'use strict';var __decorate=this&&this['__decorate']||function(_0x11edd2,_0x44c6cc,_0x4d08d0,_0x403cd9){const _0x42cc84=a91_0x84a5;var _0x4c98e4=arguments[_0x42cc84(0x173)],_0x1ede4a=_0x4c98e4<0x3?_0x44c6cc:_0x403cd9===null?_0x403cd9=Object[_0x42cc84(0x16a)](_0x44c6cc,_0x4d08d0):_0x403cd9,_0x679ee3;if(typeof Reflect===_0x42cc84(0x176)&&typeof Reflect[_0x42cc84(0x14c)]===_0x42cc84(0x142))_0x1ede4a=Reflect[_0x42cc84(0x14c)](_0x11edd2,_0x44c6cc,_0x4d08d0,_0x403cd9);else{for(var _0x44c9e2=_0x11edd2['length']-0x1;_0x44c9e2>=0x0;_0x44c9e2--)if(_0x679ee3=_0x11edd2[_0x44c9e2])_0x1ede4a=(_0x4c98e4<0x3?_0x679ee3(_0x1ede4a):_0x4c98e4>0x3?_0x679ee3(_0x44c6cc,_0x4d08d0,_0x1ede4a):_0x679ee3(_0x44c6cc,_0x4d08d0))||_0x1ede4a;}return _0x4c98e4>0x3&&_0x1ede4a&&Object[_0x42cc84(0x168)](_0x44c6cc,_0x4d08d0,_0x1ede4a),_0x1ede4a;},__metadata=this&&this['__metadata']||function(_0x510ffa,_0x42cb4c){const _0xf2715=a91_0x84a5;if(typeof Reflect===_0xf2715(0x176)&&typeof Reflect['metadata']===_0xf2715(0x142))return Reflect[_0xf2715(0x160)](_0x510ffa,_0x42cb4c);},__param=this&&this['__param']||function(_0x4e055a,_0x1e8222){return function(_0x4ff053,_0x3c8c63){_0x1e8222(_0x4ff053,_0x3c8c63,_0x4e055a);};};Object['defineProperty'](exports,a91_0x2c7854(0x153),{'value':!![]}),exports[a91_0x2c7854(0x149)]=void 0x0;const errors_1=require('../../../constants/errors'),bad_request_error_1=require(a91_0x2c7854(0x16c)),not_found_error_1=require(a91_0x2c7854(0x145)),bitbucket_api_service_1=require(a91_0x2c7854(0x14d)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a91_0x2c7854(0x16d)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require('../repo.class'),git_repo_service_1=require(a91_0x2c7854(0x171));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a91_0x2c7854(0x141)]{constructor(_0x2450c4,_0x226486){const _0x4899d4=a91_0x2c7854;super(_0x2450c4),this['authSettings']=_0x226486,this[_0x4899d4(0x16f)]=_0x2450c4[_0x4899d4(0x140)];if(!this[_0x4899d4(0x161)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x4899d4(0x15f)])throw new Error(errors_1[_0x4899d4(0x13f)]);}get[a91_0x2c7854(0x161)](){const _0x3917cf=a91_0x2c7854;return this['authSettings'][_0x3917cf(0x143)][_0x3917cf(0x161)];}get[a91_0x2c7854(0x15f)](){const _0x12ed13=a91_0x2c7854;return this[_0x12ed13(0x154)][_0x12ed13(0x143)][_0x12ed13(0x15f)];}async[a91_0x2c7854(0x157)](_0x339c22){const _0x4121af=a91_0x2c7854;try{const {name:_0xf16301}=_0x339c22,_0x3fdfb5={'name':_0x339c22['name'],'is_private':_0x339c22[_0x4121af(0x16b)],..._0x339c22[_0x4121af(0x166)]||{},'project':{'key':this[_0x4121af(0x15f)]}},_0xe4afee=await this[_0x4121af(0x16f)]['post']('/repositories/'+this[_0x4121af(0x161)]+'/'+_0xf16301[_0x4121af(0x151)](),_0x3fdfb5),_0x5c6887=repo_class_1[_0x4121af(0x15c)][_0x4121af(0x164)](_0xe4afee);return _0x339c22['autoInit']&&await git_internal_1[_0x4121af(0x163)][_0x4121af(0x150)](_0x5c6887,_0x339c22[_0x4121af(0x165)]||_0x4121af(0x156)),this[_0x4121af(0x167)](_0x5c6887[_0x4121af(0x14b)]);}catch(_0xcaff24){throw new bad_request_error_1[(_0x4121af(0x15b))](_0xcaff24);}}async['getOne'](_0x19b183){const _0x121477=a91_0x2c7854;try{const _0x38abab=await this['request'][_0x121477(0x16e)](_0x121477(0x15e)+this[_0x121477(0x161)]+'/'+_0x19b183[_0x121477(0x151)]());return repo_class_1[_0x121477(0x15c)][_0x121477(0x164)](_0x38abab);}catch(_0x38a914){throw new not_found_error_1['NotFoundError'](_0x38a914);}}async[a91_0x2c7854(0x146)](_0x53bf98,_0x1c48ed){const _0x352d8e=a91_0x2c7854;await this[_0x352d8e(0x167)](_0x53bf98);try{const _0x5ee3d7=await this[_0x352d8e(0x16f)]['put'](_0x352d8e(0x15e)+this['workspace']+'/'+_0x53bf98[_0x352d8e(0x151)](),_0x1c48ed);return repo_class_1['Repo'][_0x352d8e(0x164)](_0x5ee3d7);}catch(_0x5bee50){throw new not_found_error_1['NotFoundError'](_0x5bee50);}}async['delete'](_0x5ef6fa){const _0x5502e9=a91_0x2c7854;try{await this[_0x5502e9(0x16f)][_0x5502e9(0x170)]('repositories/'+this['workspace']+'/'+_0x5ef6fa[_0x5502e9(0x151)]());}catch(_0x2abb1d){throw new bad_request_error_1[(_0x5502e9(0x15b))](_0x2abb1d);}}};BitbucketRepoService=__decorate([typedi_1[a91_0x2c7854(0x152)](),__param(0x0,typedi_1[a91_0x2c7854(0x14a)]()),__metadata('design:paramtypes',[bitbucket_api_service_1[a91_0x2c7854(0x159)],auth_settings_service_1[a91_0x2c7854(0x148)]])],BitbucketRepoService),exports[a91_0x2c7854(0x149)]=BitbucketRepoService;