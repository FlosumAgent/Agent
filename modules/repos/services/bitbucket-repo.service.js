const a92_0x1cb9=['apiBody','createEmptyBranch','BadRequestError','../../../core/errors/not-found.error','defineProperty','apiRequest','put','return\x20/\x22\x20+\x20this\x20+\x20\x22/','length','../../git-api/services/bitbucket-api.service','constructor','metadata','name','master','85285KLGrLQ','fromBitbucket','15kTdniD','431IHbLGe','BitbucketRepoService','repositories/','getOne','getOwnPropertyDescriptor','1FIyGaZ','__decorate','/repositories/','Git','workspace','820748nRMbhw','decorate','delete','./git-repo.service','update','322419JPeDEF','__metadata','get','1283GgJwsJ','GitRepoService','../../internal/git.internal','function','Repo','post','BitbucketApiService','test','request','187309WzTEIk','82827eTmVkX','1ipaKbT','autoInit','../../../constants/errors','authSettings','toLowerCase','../repo.class','ERR_BITBUCKET_MISSING_WORKSPACE','1026761EQacKq','defaultBranch','../../../core/errors/bad-request.error','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','NotFoundError','project','__esModule'];const a92_0x41e556=a92_0x327b;(function(_0x4308da,_0x213b14){const _0x2b4902=a92_0x327b;while(!![]){try{const _0x22d88d=-parseInt(_0x2b4902(0xee))*parseInt(_0x2b4902(0xc4))+-parseInt(_0x2b4902(0xd6))*-parseInt(_0x2b4902(0xcf))+parseInt(_0x2b4902(0xce))*parseInt(_0x2b4902(0xed))+-parseInt(_0x2b4902(0xbc))+parseInt(_0x2b4902(0xcd))+parseInt(_0x2b4902(0xc1))*-parseInt(_0x2b4902(0xb7))+-parseInt(_0x2b4902(0xeb));if(_0x22d88d===_0x213b14)break;else _0x4308da['push'](_0x4308da['shift']());}catch(_0x250f67){_0x4308da['push'](_0x4308da['shift']());}}}(a92_0x1cb9,0xa4cea));const a92_0x56cb1c=function(){let _0x207646=!![];return function(_0x13b8b4,_0x1357a0){const _0x13003e=_0x207646?function(){if(_0x1357a0){const _0x5b7500=_0x1357a0['apply'](_0x13b8b4,arguments);return _0x1357a0=null,_0x5b7500;}}:function(){};return _0x207646=![],_0x13003e;};}(),a92_0x49c5d2=a92_0x56cb1c(this,function(){const _0x4d9a13=function(){const _0x4940d2=a92_0x327b,_0x34583d=_0x4d9a13[_0x4940d2(0xe7)](_0x4940d2(0xe4))()[_0x4940d2(0xe7)](_0x4940d2(0xd9));return!_0x34583d[_0x4940d2(0xcb)](a92_0x49c5d2);};return _0x4d9a13();});a92_0x49c5d2();'use strict';function a92_0x327b(_0x9377e0,_0x212bf8){return a92_0x327b=function(_0x40d350,_0x49c5d2){_0x40d350=_0x40d350-0xb4;let _0x56cb1c=a92_0x1cb9[_0x40d350];return _0x56cb1c;},a92_0x327b(_0x9377e0,_0x212bf8);}var __decorate=this&&this[a92_0x41e556(0xb8)]||function(_0x1874c8,_0x3a6477,_0x3a9a5d,_0x56f637){const _0x102369=a92_0x41e556;var _0x455c36=arguments[_0x102369(0xe5)],_0x64f447=_0x455c36<0x3?_0x3a6477:_0x56f637===null?_0x56f637=Object[_0x102369(0xb6)](_0x3a6477,_0x3a9a5d):_0x56f637,_0x2ba5c8;if(typeof Reflect==='object'&&typeof Reflect[_0x102369(0xbd)]===_0x102369(0xc7))_0x64f447=Reflect['decorate'](_0x1874c8,_0x3a6477,_0x3a9a5d,_0x56f637);else{for(var _0x325f7f=_0x1874c8['length']-0x1;_0x325f7f>=0x0;_0x325f7f--)if(_0x2ba5c8=_0x1874c8[_0x325f7f])_0x64f447=(_0x455c36<0x3?_0x2ba5c8(_0x64f447):_0x455c36>0x3?_0x2ba5c8(_0x3a6477,_0x3a9a5d,_0x64f447):_0x2ba5c8(_0x3a6477,_0x3a9a5d))||_0x64f447;}return _0x455c36>0x3&&_0x64f447&&Object[_0x102369(0xe1)](_0x3a6477,_0x3a9a5d,_0x64f447),_0x64f447;},__metadata=this&&this[a92_0x41e556(0xc2)]||function(_0x583d83,_0x7e16ab){const _0x468529=a92_0x41e556;if(typeof Reflect==='object'&&typeof Reflect[_0x468529(0xe8)]===_0x468529(0xc7))return Reflect['metadata'](_0x583d83,_0x7e16ab);},__param=this&&this['__param']||function(_0x2c7148,_0x4172c8){return function(_0x510ac1,_0x33e195){_0x4172c8(_0x510ac1,_0x33e195,_0x2c7148);};};Object[a92_0x41e556(0xe1)](exports,a92_0x41e556(0xdc),{'value':!![]}),exports[a92_0x41e556(0xef)]=void 0x0;const errors_1=require(a92_0x41e556(0xd1)),bad_request_error_1=require(a92_0x41e556(0xd8)),not_found_error_1=require(a92_0x41e556(0xe0)),bitbucket_api_service_1=require(a92_0x41e556(0xe6)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require('typedi'),git_internal_1=require(a92_0x41e556(0xc6)),repo_class_1=require(a92_0x41e556(0xd4)),git_repo_service_1=require(a92_0x41e556(0xbf));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a92_0x41e556(0xc5)]{constructor(_0x1fcf89,_0x343e3f){const _0x4c1fc0=a92_0x41e556;super(_0x1fcf89),this['authSettings']=_0x343e3f,this['request']=_0x1fcf89[_0x4c1fc0(0xe2)];if(!this['workspace'])throw new Error(errors_1[_0x4c1fc0(0xd5)]);if(!this[_0x4c1fc0(0xdb)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}get[a92_0x41e556(0xbb)](){const _0x1a174d=a92_0x41e556;return this[_0x1a174d(0xd2)]['bitbucket'][_0x1a174d(0xbb)];}get[a92_0x41e556(0xdb)](){const _0x2c58d0=a92_0x41e556;return this['authSettings']['bitbucket'][_0x2c58d0(0xdb)];}async['create'](_0x2a5d17){const _0x5ca704=a92_0x41e556;try{const {name:_0x4908f8}=_0x2a5d17,_0x5d58e={'name':_0x2a5d17[_0x5ca704(0xe9)],'is_private':_0x2a5d17['private'],..._0x2a5d17[_0x5ca704(0xdd)]||{},'project':{'key':this[_0x5ca704(0xdb)]}},_0x4a9afb=await this[_0x5ca704(0xcc)][_0x5ca704(0xc9)](_0x5ca704(0xb9)+this[_0x5ca704(0xbb)]+'/'+_0x4908f8['toLowerCase'](),_0x5d58e),_0x38c6d4=repo_class_1[_0x5ca704(0xc8)]['fromBitbucket'](_0x4a9afb);return _0x2a5d17[_0x5ca704(0xd0)]&&await git_internal_1[_0x5ca704(0xba)][_0x5ca704(0xde)](_0x38c6d4,_0x2a5d17[_0x5ca704(0xd7)]||_0x5ca704(0xea)),this[_0x5ca704(0xb5)](_0x38c6d4[_0x5ca704(0xe9)]);}catch(_0x459a70){throw new bad_request_error_1['BadRequestError'](_0x459a70);}}async['getOne'](_0x39e5b1){const _0xf4ba02=a92_0x41e556;try{const _0x546931=await this['request'][_0xf4ba02(0xc3)](_0xf4ba02(0xb4)+this[_0xf4ba02(0xbb)]+'/'+_0x39e5b1[_0xf4ba02(0xd3)]());return repo_class_1[_0xf4ba02(0xc8)]['fromBitbucket'](_0x546931);}catch(_0x34e152){throw new not_found_error_1['NotFoundError'](_0x34e152);}}async[a92_0x41e556(0xc0)](_0x57b854,_0x5ae942){const _0x19ebf8=a92_0x41e556;await this['getOne'](_0x57b854);try{const _0x1e4819=await this[_0x19ebf8(0xcc)][_0x19ebf8(0xe3)](_0x19ebf8(0xb4)+this[_0x19ebf8(0xbb)]+'/'+_0x57b854[_0x19ebf8(0xd3)](),_0x5ae942);return repo_class_1[_0x19ebf8(0xc8)][_0x19ebf8(0xec)](_0x1e4819);}catch(_0x59f20f){throw new not_found_error_1[(_0x19ebf8(0xda))](_0x59f20f);}}async['delete'](_0x1480da){const _0x29fcb4=a92_0x41e556;try{await this[_0x29fcb4(0xcc)][_0x29fcb4(0xbe)](_0x29fcb4(0xb4)+this[_0x29fcb4(0xbb)]+'/'+_0x1480da[_0x29fcb4(0xd3)]());}catch(_0x10a56a){throw new bad_request_error_1[(_0x29fcb4(0xdf))](_0x10a56a);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1['Inject']()),__metadata('design:paramtypes',[bitbucket_api_service_1[a92_0x41e556(0xca)],auth_settings_service_1['AuthSettingsService']])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;