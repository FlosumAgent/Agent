function a94_0x27b5(_0x27eb49,_0x4df1ee){const _0x2aab67=a94_0xb085();return a94_0x27b5=function(_0x160302,_0x44f319){_0x160302=_0x160302-0x120;let _0xb085bf=_0x2aab67[_0x160302];return _0xb085bf;},a94_0x27b5(_0x27eb49,_0x4df1ee);}const a94_0xd8f0a7=a94_0x27b5;(function(_0x5ed9b0,_0x396057){const _0x493550=a94_0x27b5,_0x4d50a5=_0x5ed9b0();while(!![]){try{const _0x1aec91=-parseInt(_0x493550(0x140))/0x1+-parseInt(_0x493550(0x146))/0x2*(-parseInt(_0x493550(0x141))/0x3)+parseInt(_0x493550(0x12c))/0x4*(parseInt(_0x493550(0x163))/0x5)+-parseInt(_0x493550(0x12a))/0x6*(-parseInt(_0x493550(0x15c))/0x7)+-parseInt(_0x493550(0x15f))/0x8+parseInt(_0x493550(0x137))/0x9+-parseInt(_0x493550(0x136))/0xa;if(_0x1aec91===_0x396057)break;else _0x4d50a5['push'](_0x4d50a5['shift']());}catch(_0x2c96b7){_0x4d50a5['push'](_0x4d50a5['shift']());}}}(a94_0xb085,0x785b8));const a94_0x44f319=function(){let _0x561179=!![];return function(_0x4b498a,_0x80e96f){const _0x10e952=_0x561179?function(){const _0x3e22de=a94_0x27b5;if(_0x80e96f){const _0xe7971e=_0x80e96f[_0x3e22de(0x152)](_0x4b498a,arguments);return _0x80e96f=null,_0xe7971e;}}:function(){};return _0x561179=![],_0x10e952;};}(),a94_0x160302=a94_0x44f319(this,function(){const _0x3361d8=a94_0x27b5;return a94_0x160302['toString']()[_0x3361d8(0x130)]('(((.+)+)+)+$')[_0x3361d8(0x15e)]()[_0x3361d8(0x12e)](a94_0x160302)[_0x3361d8(0x130)](_0x3361d8(0x124));});function a94_0xb085(){const _0x4a2be5=['get','45wODXao','delete','/repositories/','__esModule','../../../constants/errors','master','getOne','typedi','../../internal/git.internal','(((.+)+)+)+$','next','defineProperty','toLowerCase','GitRepoService','../repo.class','2866254BUtiUU','defaultBranch','364028KIEPQp','request','constructor','apiRequest','search','BitbucketApiService','map','metadata','../../git-api/services/bitbucket-api.service','object','14284370KMNmWZ','5961816aFeHSP','../../../core/errors/not-found.error','getAll','values','autoInit','ApiError','decorate','update','ERR_BITBUCKET_MISSING_PROJECT','588171EhGZnP','3OnBRqp','length','design:paramtypes','project','Repo','147952rxhdGM','authSettings','bitbucket','private','BadRequestError','NotFoundError','createEmptyBranch','../../../core/errors/api.error','./git-repo.service','repositories/','workspace','fromBitbucket','apply','BitbucketRepoService','getOwnPropertyDescriptor','../../../core/errors/bad-request.error','name','../../shared/services/auth-settings.service','AuthSettingsService','__param','apiBody','Service','14olzwCD','Git','toString','10312VZOcqK','function','create'];a94_0xb085=function(){return _0x4a2be5;};return a94_0xb085();}a94_0x160302();'use strict';var __decorate=this&&this['__decorate']||function(_0x77e87f,_0xea1fb9,_0x5dd28a,_0x2fc231){const _0x50d0ec=a94_0x27b5;var _0xd6644d=arguments[_0x50d0ec(0x142)],_0x48d7dd=_0xd6644d<0x3?_0xea1fb9:_0x2fc231===null?_0x2fc231=Object[_0x50d0ec(0x154)](_0xea1fb9,_0x5dd28a):_0x2fc231,_0x304e8f;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x50d0ec(0x160))_0x48d7dd=Reflect[_0x50d0ec(0x13d)](_0x77e87f,_0xea1fb9,_0x5dd28a,_0x2fc231);else{for(var _0x4035c1=_0x77e87f[_0x50d0ec(0x142)]-0x1;_0x4035c1>=0x0;_0x4035c1--)if(_0x304e8f=_0x77e87f[_0x4035c1])_0x48d7dd=(_0xd6644d<0x3?_0x304e8f(_0x48d7dd):_0xd6644d>0x3?_0x304e8f(_0xea1fb9,_0x5dd28a,_0x48d7dd):_0x304e8f(_0xea1fb9,_0x5dd28a))||_0x48d7dd;}return _0xd6644d>0x3&&_0x48d7dd&&Object[_0x50d0ec(0x126)](_0xea1fb9,_0x5dd28a,_0x48d7dd),_0x48d7dd;},__metadata=this&&this['__metadata']||function(_0x54053a,_0x131124){const _0xf86bd7=a94_0x27b5;if(typeof Reflect===_0xf86bd7(0x135)&&typeof Reflect[_0xf86bd7(0x133)]===_0xf86bd7(0x160))return Reflect['metadata'](_0x54053a,_0x131124);},__param=this&&this[a94_0xd8f0a7(0x159)]||function(_0x3f04c4,_0x4f212b){return function(_0x3daf8d,_0x1495a0){_0x4f212b(_0x3daf8d,_0x1495a0,_0x3f04c4);};};Object['defineProperty'](exports,a94_0xd8f0a7(0x166),{'value':!![]}),exports[a94_0xd8f0a7(0x153)]=void 0x0;const errors_1=require(a94_0xd8f0a7(0x167)),bad_request_error_1=require(a94_0xd8f0a7(0x155)),not_found_error_1=require(a94_0xd8f0a7(0x138)),bitbucket_api_service_1=require(a94_0xd8f0a7(0x134)),auth_settings_service_1=require(a94_0xd8f0a7(0x157)),typedi_1=require(a94_0xd8f0a7(0x122)),api_error_1=require(a94_0xd8f0a7(0x14d)),git_internal_1=require(a94_0xd8f0a7(0x123)),repo_class_1=require(a94_0xd8f0a7(0x129)),git_repo_service_1=require(a94_0xd8f0a7(0x14e));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a94_0xd8f0a7(0x128)]{constructor(_0x1dfd61,_0x45af93){const _0xac458e=a94_0xd8f0a7;super(_0x1dfd61),this['authSettings']=_0x45af93,this[_0xac458e(0x12d)]=_0x1dfd61[_0xac458e(0x12f)];if(!this[_0xac458e(0x150)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0xac458e(0x144)])throw new Error(errors_1[_0xac458e(0x13f)]);}get['workspace'](){const _0xf78923=a94_0xd8f0a7;return this[_0xf78923(0x147)][_0xf78923(0x148)][_0xf78923(0x150)];}get[a94_0xd8f0a7(0x144)](){const _0x799c81=a94_0xd8f0a7;return this[_0x799c81(0x147)][_0x799c81(0x148)]['project'];}async[a94_0xd8f0a7(0x161)](_0x57d727){const _0x430ba0=a94_0xd8f0a7;try{const {name:_0x3a2d01}=_0x57d727,_0x1ebadc={'name':_0x57d727[_0x430ba0(0x156)],'is_private':_0x57d727[_0x430ba0(0x149)],..._0x57d727[_0x430ba0(0x15a)]||{},'project':{'key':this['project']}},_0x3f2464=await this[_0x430ba0(0x12d)]['post'](_0x430ba0(0x165)+this[_0x430ba0(0x150)]+'/'+_0x3a2d01[_0x430ba0(0x127)](),_0x1ebadc),_0xab020d=repo_class_1[_0x430ba0(0x145)][_0x430ba0(0x151)](_0x3f2464);return _0x57d727[_0x430ba0(0x13b)]&&(await git_internal_1[_0x430ba0(0x15d)][_0x430ba0(0x14c)](_0xab020d,_0x57d727[_0x430ba0(0x12b)]||_0x430ba0(0x120)),_0xab020d[_0x430ba0(0x12b)]=_0x57d727['defaultBranch']||'master'),_0xab020d;}catch(_0x502f7c){if(_0x502f7c instanceof api_error_1[_0x430ba0(0x13c)])throw _0x502f7c;throw new bad_request_error_1[(_0x430ba0(0x14a))](_0x502f7c);}}async[a94_0xd8f0a7(0x139)](){const _0x4f47b4=a94_0xd8f0a7;try{const _0x518009=[];let _0x23ee6c;do{_0x23ee6c=await this[_0x4f47b4(0x12d)][_0x4f47b4(0x162)](_0x23ee6c?_0x23ee6c[_0x4f47b4(0x125)]:'repositories/'+this[_0x4f47b4(0x150)]),_0x518009['push'](..._0x23ee6c[_0x4f47b4(0x13a)]);}while(_0x23ee6c['next']);return _0x518009[_0x4f47b4(0x132)](_0x48bf88=>repo_class_1[_0x4f47b4(0x145)][_0x4f47b4(0x151)](_0x48bf88));}catch(_0x24766a){if(_0x24766a instanceof api_error_1[_0x4f47b4(0x13c)])throw _0x24766a;throw new not_found_error_1['NotFoundError'](_0x24766a);}}async[a94_0xd8f0a7(0x121)](_0x27b85f){const _0x45f209=a94_0xd8f0a7;try{const _0x1d3dbe=await this[_0x45f209(0x12d)]['get'](_0x45f209(0x14f)+this[_0x45f209(0x150)]+'/'+_0x27b85f[_0x45f209(0x127)]());return repo_class_1[_0x45f209(0x145)][_0x45f209(0x151)](_0x1d3dbe);}catch(_0x59f628){if(_0x59f628 instanceof api_error_1[_0x45f209(0x13c)])throw _0x59f628;throw new not_found_error_1[(_0x45f209(0x14b))](_0x59f628);}}async[a94_0xd8f0a7(0x13e)](_0x3475fa,_0x3521fa){const _0x47dcf8=a94_0xd8f0a7;await this[_0x47dcf8(0x121)](_0x3475fa);try{const _0x1b479a=await this['request']['put'](_0x47dcf8(0x14f)+this['workspace']+'/'+_0x3475fa[_0x47dcf8(0x127)](),_0x3521fa);return repo_class_1[_0x47dcf8(0x145)][_0x47dcf8(0x151)](_0x1b479a);}catch(_0x532c65){if(_0x532c65 instanceof api_error_1[_0x47dcf8(0x13c)])throw _0x532c65;throw new not_found_error_1[(_0x47dcf8(0x14b))](_0x532c65);}}async[a94_0xd8f0a7(0x164)](_0x5bee9d){const _0x5b579e=a94_0xd8f0a7;try{await this['request'][_0x5b579e(0x164)](_0x5b579e(0x14f)+this[_0x5b579e(0x150)]+'/'+_0x5bee9d['toLowerCase']());}catch(_0x4edf29){if(_0x4edf29 instanceof api_error_1[_0x5b579e(0x13c)])throw _0x4edf29;throw new bad_request_error_1[(_0x5b579e(0x14a))](_0x4edf29);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a94_0xd8f0a7(0x15b)])(),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a94_0xd8f0a7(0x143),[bitbucket_api_service_1[a94_0xd8f0a7(0x131)],auth_settings_service_1[a94_0xd8f0a7(0x158)]])],BitbucketRepoService),exports[a94_0xd8f0a7(0x153)]=BitbucketRepoService;