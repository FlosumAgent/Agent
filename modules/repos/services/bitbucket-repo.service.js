const a91_0x30b1=['ERR_BITBUCKET_MISSING_WORKSPACE','apiRequest','./git-repo.service','request','bitbucket','7001pAtmnd','../../git-api/services/bitbucket-api.service','test','constructor','fromBitbucket','metadata','authSettings','NotFoundError','function','Git','../../../core/errors/bad-request.error','Inject','master','../../../core/errors/not-found.error','BadRequestError','autoInit','184252ubnpks','158404zQrlmD','Repo','../repo.class','workspace','7OpAgmn','object','defaultBranch','post','__esModule','130523DtMuTD','private','createEmptyBranch','/repositories/','return\x20/\x22\x20+\x20this\x20+\x20\x22/','GitRepoService','decorate','574477XQGqPw','repositories/','update','28663TRjaBf','ERR_BITBUCKET_MISSING_PROJECT','../../../constants/errors','project','put','26lxRwfj','AuthSettingsService','BitbucketApiService','length','getOne','get','defineProperty','__metadata','14506BvVHCR','toLowerCase','delete','name','apply','typedi'];const a91_0x2cc5ed=a91_0x5b7e;(function(_0x2f27d8,_0x27800a){const _0x47067c=a91_0x5b7e;while(!![]){try{const _0x23aee9=-parseInt(_0x47067c(0x125))+-parseInt(_0x47067c(0x12e))+parseInt(_0x47067c(0x145))+-parseInt(_0x47067c(0x13d))*parseInt(_0x47067c(0x150))+-parseInt(_0x47067c(0x138))*parseInt(_0x47067c(0x129))+parseInt(_0x47067c(0x124))+parseInt(_0x47067c(0x135));if(_0x23aee9===_0x27800a)break;else _0x2f27d8['push'](_0x2f27d8['shift']());}catch(_0x4f4c2b){_0x2f27d8['push'](_0x2f27d8['shift']());}}}(a91_0x30b1,0x18d09));function a91_0x5b7e(_0x2824cf,_0x2b9fa7){return a91_0x5b7e=function(_0x597c52,_0x75a938){_0x597c52=_0x597c52-0x121;let _0x6331a9=a91_0x30b1[_0x597c52];return _0x6331a9;},a91_0x5b7e(_0x2824cf,_0x2b9fa7);}const a91_0x6331a9=function(){let _0xd55ad0=!![];return function(_0x4be761,_0x2072d3){const _0x251f89=_0xd55ad0?function(){const _0x4decfc=a91_0x5b7e;if(_0x2072d3){const _0x4490c4=_0x2072d3[_0x4decfc(0x149)](_0x4be761,arguments);return _0x2072d3=null,_0x4490c4;}}:function(){};return _0xd55ad0=![],_0x251f89;};}(),a91_0x75a938=a91_0x6331a9(this,function(){const _0x237386=function(){const _0x1522c9=a91_0x5b7e,_0x38dd67=_0x237386['constructor'](_0x1522c9(0x132))()[_0x1522c9(0x153)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x38dd67[_0x1522c9(0x152)](a91_0x75a938);};return _0x237386();});a91_0x75a938();'use strict';var __decorate=this&&this['__decorate']||function(_0x4e7300,_0x2a1021,_0x4735d8,_0x4f4e09){const _0x2e3384=a91_0x5b7e;var _0x304932=arguments['length'],_0x29de16=_0x304932<0x3?_0x2a1021:_0x4f4e09===null?_0x4f4e09=Object['getOwnPropertyDescriptor'](_0x2a1021,_0x4735d8):_0x4f4e09,_0x493066;if(typeof Reflect===_0x2e3384(0x12a)&&typeof Reflect[_0x2e3384(0x134)]==='function')_0x29de16=Reflect[_0x2e3384(0x134)](_0x4e7300,_0x2a1021,_0x4735d8,_0x4f4e09);else{for(var _0x29484c=_0x4e7300[_0x2e3384(0x140)]-0x1;_0x29484c>=0x0;_0x29484c--)if(_0x493066=_0x4e7300[_0x29484c])_0x29de16=(_0x304932<0x3?_0x493066(_0x29de16):_0x304932>0x3?_0x493066(_0x2a1021,_0x4735d8,_0x29de16):_0x493066(_0x2a1021,_0x4735d8))||_0x29de16;}return _0x304932>0x3&&_0x29de16&&Object[_0x2e3384(0x143)](_0x2a1021,_0x4735d8,_0x29de16),_0x29de16;},__metadata=this&&this[a91_0x2cc5ed(0x144)]||function(_0x546096,_0x4da7b6){const _0x5d972c=a91_0x2cc5ed;if(typeof Reflect===_0x5d972c(0x12a)&&typeof Reflect[_0x5d972c(0x155)]===_0x5d972c(0x158))return Reflect['metadata'](_0x546096,_0x4da7b6);},__param=this&&this['__param']||function(_0x840726,_0x18d851){return function(_0x11d839,_0x43cbbe){_0x18d851(_0x11d839,_0x43cbbe,_0x840726);};};Object[a91_0x2cc5ed(0x143)](exports,a91_0x2cc5ed(0x12d),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a91_0x2cc5ed(0x13a)),bad_request_error_1=require(a91_0x2cc5ed(0x15a)),not_found_error_1=require(a91_0x2cc5ed(0x121)),bitbucket_api_service_1=require(a91_0x2cc5ed(0x151)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a91_0x2cc5ed(0x14a)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require(a91_0x2cc5ed(0x127)),git_repo_service_1=require(a91_0x2cc5ed(0x14d));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a91_0x2cc5ed(0x133)]{constructor(_0x5a5c7f,_0x264ea3){const _0x3a16a1=a91_0x2cc5ed;super(_0x5a5c7f),this[_0x3a16a1(0x156)]=_0x264ea3,this[_0x3a16a1(0x14e)]=_0x5a5c7f[_0x3a16a1(0x14c)];if(!this[_0x3a16a1(0x128)])throw new Error(errors_1[_0x3a16a1(0x14b)]);if(!this[_0x3a16a1(0x13b)])throw new Error(errors_1[_0x3a16a1(0x139)]);}get[a91_0x2cc5ed(0x128)](){const _0xe4a16b=a91_0x2cc5ed;return this[_0xe4a16b(0x156)][_0xe4a16b(0x14f)]['workspace'];}get[a91_0x2cc5ed(0x13b)](){const _0x1a5aa3=a91_0x2cc5ed;return this[_0x1a5aa3(0x156)][_0x1a5aa3(0x14f)]['project'];}async['create'](_0x275ef7){const _0x5e47b2=a91_0x2cc5ed;try{const {name:_0x1aa6d5}=_0x275ef7,_0xfbac87={'name':_0x275ef7[_0x5e47b2(0x148)],'is_private':_0x275ef7[_0x5e47b2(0x12f)],..._0x275ef7['apiBody']||{},'project':{'key':this[_0x5e47b2(0x13b)]}},_0x52f7de=await this['request'][_0x5e47b2(0x12c)](_0x5e47b2(0x131)+this[_0x5e47b2(0x128)]+'/'+_0x1aa6d5[_0x5e47b2(0x146)](),_0xfbac87),_0x3e91ca=repo_class_1[_0x5e47b2(0x126)][_0x5e47b2(0x154)](_0x52f7de);return _0x275ef7[_0x5e47b2(0x123)]&&await git_internal_1[_0x5e47b2(0x159)][_0x5e47b2(0x130)](_0x3e91ca,_0x275ef7[_0x5e47b2(0x12b)]||_0x5e47b2(0x15c)),this[_0x5e47b2(0x141)](_0x3e91ca[_0x5e47b2(0x148)]);}catch(_0x2cfd4a){throw new bad_request_error_1[(_0x5e47b2(0x122))](_0x2cfd4a);}}async[a91_0x2cc5ed(0x141)](_0x4a8436){const _0x4f61a0=a91_0x2cc5ed;try{const _0x56806a=await this[_0x4f61a0(0x14e)][_0x4f61a0(0x142)](_0x4f61a0(0x136)+this['workspace']+'/'+_0x4a8436[_0x4f61a0(0x146)]());return repo_class_1['Repo'][_0x4f61a0(0x154)](_0x56806a);}catch(_0x191101){throw new not_found_error_1[(_0x4f61a0(0x157))](_0x191101);}}async[a91_0x2cc5ed(0x137)](_0xc7d34,_0x24893f){const _0x222d8e=a91_0x2cc5ed;await this[_0x222d8e(0x141)](_0xc7d34);try{const _0x523c93=await this['request'][_0x222d8e(0x13c)](_0x222d8e(0x136)+this['workspace']+'/'+_0xc7d34[_0x222d8e(0x146)](),_0x24893f);return repo_class_1['Repo'][_0x222d8e(0x154)](_0x523c93);}catch(_0x71b96d){throw new not_found_error_1[(_0x222d8e(0x157))](_0x71b96d);}}async[a91_0x2cc5ed(0x147)](_0x4a0564){const _0x51e4c0=a91_0x2cc5ed;try{await this[_0x51e4c0(0x14e)]['delete'](_0x51e4c0(0x136)+this[_0x51e4c0(0x128)]+'/'+_0x4a0564[_0x51e4c0(0x146)]());}catch(_0x8e23bf){throw new bad_request_error_1[(_0x51e4c0(0x122))](_0x8e23bf);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a91_0x2cc5ed(0x15b)]()),__metadata('design:paramtypes',[bitbucket_api_service_1[a91_0x2cc5ed(0x13f)],auth_settings_service_1[a91_0x2cc5ed(0x13e)]])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;