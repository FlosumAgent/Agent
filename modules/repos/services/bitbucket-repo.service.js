const a91_0x4dfd=['defineProperty','defaultBranch','BitbucketRepoService','../../../core/errors/not-found.error','request','Repo','createEmptyBranch','name','metadata','ERR_BITBUCKET_MISSING_WORKSPACE','authSettings','__esModule','AuthSettingsService','apply','8974ctZPLz','__metadata','get','../repo.class','test','Service','constructor','function','18qXtMZK','/repositories/','put','toLowerCase','repositories/','38530tGNbxg','./git-repo.service','13971NXJsWn','bitbucket','private','1360999KoKWml','../../../core/errors/bad-request.error','../../../constants/errors','object','BitbucketApiService','master','1aJTtdT','1408646tvauKc','3478003KeCJoZ','decorate','../../internal/git.internal','return\x20/\x22\x20+\x20this\x20+\x20\x22/','fromBitbucket','__param','GitRepoService','1LTAHBr','length','192PacROv','autoInit','workspace','Git','delete','37bXYRHf','getOne','387663DiwITx','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','ERR_BITBUCKET_MISSING_PROJECT','../../git-api/services/bitbucket-api.service','typedi','BadRequestError','project','1TPjaav'];const a91_0x583fec=a91_0x42e8;(function(_0x24a762,_0xb46cf4){const _0x35d8cb=a91_0x42e8;while(!![]){try{const _0x341ff3=-parseInt(_0x35d8cb(0x140))*-parseInt(_0x35d8cb(0x15d))+-parseInt(_0x35d8cb(0x12a))*parseInt(_0x35d8cb(0x145))+parseInt(_0x35d8cb(0x147))*-parseInt(_0x35d8cb(0x13e))+-parseInt(_0x35d8cb(0x12c))*-parseInt(_0x35d8cb(0x165))+parseInt(_0x35d8cb(0x12f))*-parseInt(_0x35d8cb(0x135))+-parseInt(_0x35d8cb(0x136))+parseInt(_0x35d8cb(0x137))*parseInt(_0x35d8cb(0x14e));if(_0x341ff3===_0xb46cf4)break;else _0x24a762['push'](_0x24a762['shift']());}catch(_0xc2126d){_0x24a762['push'](_0x24a762['shift']());}}}(a91_0x4dfd,0xd44c3));const a91_0x17aadf=function(){let _0x322ebb=!![];return function(_0x38d759,_0x537e7a){const _0x39f59a=_0x322ebb?function(){const _0xce8a56=a91_0x42e8;if(_0x537e7a){const _0x28197e=_0x537e7a[_0xce8a56(0x15c)](_0x38d759,arguments);return _0x537e7a=null,_0x28197e;}}:function(){};return _0x322ebb=![],_0x39f59a;};}(),a91_0x14a84c=a91_0x17aadf(this,function(){const _0xea26f4=function(){const _0x45bf24=a91_0x42e8,_0x4b9f23=_0xea26f4[_0x45bf24(0x163)](_0x45bf24(0x13a))()[_0x45bf24(0x163)](_0x45bf24(0x148));return!_0x4b9f23[_0x45bf24(0x161)](a91_0x14a84c);};return _0xea26f4();});a91_0x14a84c();'use strict';function a91_0x42e8(_0x284aa5,_0x42a9a7){return a91_0x42e8=function(_0x5951fc,_0x14a84c){_0x5951fc=_0x5951fc-0x126;let _0x17aadf=a91_0x4dfd[_0x5951fc];return _0x17aadf;},a91_0x42e8(_0x284aa5,_0x42a9a7);}var __decorate=this&&this['__decorate']||function(_0x3b446a,_0x239cd0,_0x1d1d64,_0x296185){const _0x773c97=a91_0x42e8;var _0x1ff6bd=arguments['length'],_0x20482a=_0x1ff6bd<0x3?_0x239cd0:_0x296185===null?_0x296185=Object['getOwnPropertyDescriptor'](_0x239cd0,_0x1d1d64):_0x296185,_0x159469;if(typeof Reflect===_0x773c97(0x132)&&typeof Reflect[_0x773c97(0x138)]===_0x773c97(0x164))_0x20482a=Reflect[_0x773c97(0x138)](_0x3b446a,_0x239cd0,_0x1d1d64,_0x296185);else{for(var _0x1b1e40=_0x3b446a[_0x773c97(0x13f)]-0x1;_0x1b1e40>=0x0;_0x1b1e40--)if(_0x159469=_0x3b446a[_0x1b1e40])_0x20482a=(_0x1ff6bd<0x3?_0x159469(_0x20482a):_0x1ff6bd>0x3?_0x159469(_0x239cd0,_0x1d1d64,_0x20482a):_0x159469(_0x239cd0,_0x1d1d64))||_0x20482a;}return _0x1ff6bd>0x3&&_0x20482a&&Object[_0x773c97(0x14f)](_0x239cd0,_0x1d1d64,_0x20482a),_0x20482a;},__metadata=this&&this[a91_0x583fec(0x15e)]||function(_0x49aad4,_0x2a5eaa){const _0x43352e=a91_0x583fec;if(typeof Reflect==='object'&&typeof Reflect[_0x43352e(0x157)]==='function')return Reflect[_0x43352e(0x157)](_0x49aad4,_0x2a5eaa);},__param=this&&this[a91_0x583fec(0x13c)]||function(_0x47ffd8,_0x4754b6){return function(_0x3b20a2,_0x5643aa){_0x4754b6(_0x3b20a2,_0x5643aa,_0x47ffd8);};};Object[a91_0x583fec(0x14f)](exports,a91_0x583fec(0x15a),{'value':!![]}),exports[a91_0x583fec(0x151)]=void 0x0;const errors_1=require(a91_0x583fec(0x131)),bad_request_error_1=require(a91_0x583fec(0x130)),not_found_error_1=require(a91_0x583fec(0x152)),bitbucket_api_service_1=require(a91_0x583fec(0x14a)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a91_0x583fec(0x14b)),git_internal_1=require(a91_0x583fec(0x139)),repo_class_1=require(a91_0x583fec(0x160)),git_repo_service_1=require(a91_0x583fec(0x12b));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a91_0x583fec(0x13d)]{constructor(_0x1a7620,_0x2688dc){const _0x8907c1=a91_0x583fec;super(_0x1a7620),this['authSettings']=_0x2688dc,this[_0x8907c1(0x153)]=_0x1a7620['apiRequest'];if(!this[_0x8907c1(0x142)])throw new Error(errors_1[_0x8907c1(0x158)]);if(!this[_0x8907c1(0x14d)])throw new Error(errors_1[_0x8907c1(0x149)]);}get[a91_0x583fec(0x142)](){const _0x62daae=a91_0x583fec;return this['authSettings']['bitbucket'][_0x62daae(0x142)];}get['project'](){const _0x329949=a91_0x583fec;return this[_0x329949(0x159)][_0x329949(0x12d)][_0x329949(0x14d)];}async['create'](_0x4a3b80){const _0x11d7b9=a91_0x583fec;try{const {name:_0x527f67}=_0x4a3b80,_0x54d9ea={'name':_0x4a3b80[_0x11d7b9(0x156)],'is_private':_0x4a3b80[_0x11d7b9(0x12e)],..._0x4a3b80['apiBody']||{},'project':{'key':this['project']}},_0x461e68=await this['request']['post'](_0x11d7b9(0x126)+this[_0x11d7b9(0x142)]+'/'+_0x527f67['toLowerCase'](),_0x54d9ea),_0x50954b=repo_class_1[_0x11d7b9(0x154)][_0x11d7b9(0x13b)](_0x461e68);return _0x4a3b80[_0x11d7b9(0x141)]&&await git_internal_1[_0x11d7b9(0x143)][_0x11d7b9(0x155)](_0x50954b,_0x4a3b80[_0x11d7b9(0x150)]||_0x11d7b9(0x134)),this[_0x11d7b9(0x146)](_0x50954b[_0x11d7b9(0x156)]);}catch(_0x33782d){throw new bad_request_error_1['BadRequestError'](_0x33782d);}}async[a91_0x583fec(0x146)](_0x3acaea){const _0x2b3892=a91_0x583fec;try{const _0x1bc395=await this['request'][_0x2b3892(0x15f)](_0x2b3892(0x129)+this[_0x2b3892(0x142)]+'/'+_0x3acaea[_0x2b3892(0x128)]());return repo_class_1[_0x2b3892(0x154)][_0x2b3892(0x13b)](_0x1bc395);}catch(_0x21336a){throw new not_found_error_1['NotFoundError'](_0x21336a);}}async['update'](_0x3dee5b,_0x29aa63){const _0x29201c=a91_0x583fec;await this[_0x29201c(0x146)](_0x3dee5b);try{const _0x2f3176=await this[_0x29201c(0x153)][_0x29201c(0x127)](_0x29201c(0x129)+this[_0x29201c(0x142)]+'/'+_0x3dee5b[_0x29201c(0x128)](),_0x29aa63);return repo_class_1[_0x29201c(0x154)][_0x29201c(0x13b)](_0x2f3176);}catch(_0x4c7dbf){throw new not_found_error_1['NotFoundError'](_0x4c7dbf);}}async[a91_0x583fec(0x144)](_0x462451){const _0x24c679=a91_0x583fec;try{await this[_0x24c679(0x153)]['delete'](_0x24c679(0x129)+this[_0x24c679(0x142)]+'/'+_0x462451[_0x24c679(0x128)]());}catch(_0x358362){throw new bad_request_error_1[(_0x24c679(0x14c))](_0x358362);}}};BitbucketRepoService=__decorate([typedi_1[a91_0x583fec(0x162)](),__param(0x0,typedi_1['Inject']()),__metadata('design:paramtypes',[bitbucket_api_service_1[a91_0x583fec(0x133)],auth_settings_service_1[a91_0x583fec(0x15b)]])],BitbucketRepoService),exports[a91_0x583fec(0x151)]=BitbucketRepoService;