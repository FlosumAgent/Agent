const a92_0xd043=['request','GitRepoService','BadRequestError','repositories/','toLowerCase','typedi','object','25463IwRRHB','1tTfPHT','../../../core/errors/not-found.error','defaultBranch','constructor','create','defineProperty','469988feltUP','test','Git','getOwnPropertyDescriptor','function','280468nNDdTD','__param','return\x20/\x22\x20+\x20this\x20+\x20\x22/','delete','/repositories/','put','../repo.class','515054kzrGbJ','__metadata','NotFoundError','9BBJiRJ','../../git-api/services/bitbucket-api.service','293855yNVWFv','fromBitbucket','getOne','apiRequest','__esModule','project','../../../core/errors/bad-request.error','get','authSettings','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','apply','2NcjOnu','ERR_BITBUCKET_MISSING_PROJECT','design:paramtypes','decorate','__decorate','metadata','length','createEmptyBranch','workspace','name','BitbucketRepoService','AuthSettingsService','master','72034kCxfdk','../../internal/git.internal','Repo','178210LhvPUu','Service','../../shared/services/auth-settings.service','bitbucket','autoInit','../../../constants/errors','update','BitbucketApiService'];const a92_0x1c33d6=a92_0x2402;(function(_0xf78aeb,_0x154a3f){const _0x2cafb2=a92_0x2402;while(!![]){try{const _0x35ae54=parseInt(_0x2cafb2(0x141))+-parseInt(_0x2cafb2(0x13b))*parseInt(_0x2cafb2(0x152))+-parseInt(_0x2cafb2(0x128))+-parseInt(_0x2cafb2(0x11b))*-parseInt(_0x2cafb2(0x12b))+-parseInt(_0x2cafb2(0x150))*parseInt(_0x2cafb2(0x13a))+-parseInt(_0x2cafb2(0x146))+parseInt(_0x2cafb2(0x14d));if(_0x35ae54===_0x154a3f)break;else _0xf78aeb['push'](_0xf78aeb['shift']());}catch(_0x4c041f){_0xf78aeb['push'](_0xf78aeb['shift']());}}}(a92_0xd043,0x71c12));const a92_0x20850e=function(){let _0x575e61=!![];return function(_0x42858a,_0x2fcfaa){const _0x2ee733=_0x575e61?function(){const _0x22e9f7=a92_0x2402;if(_0x2fcfaa){const _0x4ed25f=_0x2fcfaa[_0x22e9f7(0x11a)](_0x42858a,arguments);return _0x2fcfaa=null,_0x4ed25f;}}:function(){};return _0x575e61=![],_0x2ee733;};}(),a92_0x1c3ccf=a92_0x20850e(this,function(){const _0x2af79e=function(){const _0xa06e06=a92_0x2402,_0x36b9d9=_0x2af79e[_0xa06e06(0x13e)](_0xa06e06(0x148))()[_0xa06e06(0x13e)](_0xa06e06(0x119));return!_0x36b9d9[_0xa06e06(0x142)](a92_0x1c3ccf);};return _0x2af79e();});a92_0x1c3ccf();'use strict';function a92_0x2402(_0x2a30e7,_0x313fd2){return a92_0x2402=function(_0x3b248a,_0x1c3ccf){_0x3b248a=_0x3b248a-0x117;let _0x20850e=a92_0xd043[_0x3b248a];return _0x20850e;},a92_0x2402(_0x2a30e7,_0x313fd2);}var __decorate=this&&this[a92_0x1c33d6(0x11f)]||function(_0x13c01e,_0x4a70c4,_0x1bbfbf,_0x3a7dfe){const _0x179e67=a92_0x1c33d6;var _0x2fcd99=arguments[_0x179e67(0x121)],_0x39d093=_0x2fcd99<0x3?_0x4a70c4:_0x3a7dfe===null?_0x3a7dfe=Object[_0x179e67(0x144)](_0x4a70c4,_0x1bbfbf):_0x3a7dfe,_0x18f338;if(typeof Reflect==='object'&&typeof Reflect[_0x179e67(0x11e)]===_0x179e67(0x145))_0x39d093=Reflect[_0x179e67(0x11e)](_0x13c01e,_0x4a70c4,_0x1bbfbf,_0x3a7dfe);else{for(var _0x2ebdc3=_0x13c01e[_0x179e67(0x121)]-0x1;_0x2ebdc3>=0x0;_0x2ebdc3--)if(_0x18f338=_0x13c01e[_0x2ebdc3])_0x39d093=(_0x2fcd99<0x3?_0x18f338(_0x39d093):_0x2fcd99>0x3?_0x18f338(_0x4a70c4,_0x1bbfbf,_0x39d093):_0x18f338(_0x4a70c4,_0x1bbfbf))||_0x39d093;}return _0x2fcd99>0x3&&_0x39d093&&Object['defineProperty'](_0x4a70c4,_0x1bbfbf,_0x39d093),_0x39d093;},__metadata=this&&this[a92_0x1c33d6(0x14e)]||function(_0x108663,_0x3d31b6){const _0x2b54d7=a92_0x1c33d6;if(typeof Reflect===_0x2b54d7(0x139)&&typeof Reflect[_0x2b54d7(0x120)]===_0x2b54d7(0x145))return Reflect[_0x2b54d7(0x120)](_0x108663,_0x3d31b6);},__param=this&&this[a92_0x1c33d6(0x147)]||function(_0x4a0dad,_0x5c17a2){return function(_0x121168,_0x57c792){_0x5c17a2(_0x121168,_0x57c792,_0x4a0dad);};};Object[a92_0x1c33d6(0x140)](exports,a92_0x1c33d6(0x156),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a92_0x1c33d6(0x130)),bad_request_error_1=require(a92_0x1c33d6(0x158)),not_found_error_1=require(a92_0x1c33d6(0x13c)),bitbucket_api_service_1=require(a92_0x1c33d6(0x151)),auth_settings_service_1=require(a92_0x1c33d6(0x12d)),typedi_1=require(a92_0x1c33d6(0x138)),git_internal_1=require(a92_0x1c33d6(0x129)),repo_class_1=require(a92_0x1c33d6(0x14c)),git_repo_service_1=require('./git-repo.service');let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a92_0x1c33d6(0x134)]{constructor(_0x22c232,_0xde58ac){const _0x56216b=a92_0x1c33d6;super(_0x22c232),this[_0x56216b(0x118)]=_0xde58ac,this[_0x56216b(0x133)]=_0x22c232[_0x56216b(0x155)];if(!this[_0x56216b(0x123)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this['project'])throw new Error(errors_1[_0x56216b(0x11c)]);}get[a92_0x1c33d6(0x123)](){const _0x4c27d0=a92_0x1c33d6;return this[_0x4c27d0(0x118)][_0x4c27d0(0x12e)][_0x4c27d0(0x123)];}get[a92_0x1c33d6(0x157)](){const _0x2baf8e=a92_0x1c33d6;return this[_0x2baf8e(0x118)][_0x2baf8e(0x12e)][_0x2baf8e(0x157)];}async[a92_0x1c33d6(0x13f)](_0x2f73fb){const _0x38da7c=a92_0x1c33d6;try{const {name:_0x11d031}=_0x2f73fb,_0x197e15={'name':_0x2f73fb[_0x38da7c(0x124)],'is_private':_0x2f73fb['private'],..._0x2f73fb['apiBody']||{},'project':{'key':this[_0x38da7c(0x157)]}},_0x1628c3=await this[_0x38da7c(0x133)]['post'](_0x38da7c(0x14a)+this[_0x38da7c(0x123)]+'/'+_0x11d031[_0x38da7c(0x137)](),_0x197e15),_0x500436=repo_class_1['Repo']['fromBitbucket'](_0x1628c3);return _0x2f73fb[_0x38da7c(0x12f)]&&await git_internal_1[_0x38da7c(0x143)][_0x38da7c(0x122)](_0x500436,_0x2f73fb[_0x38da7c(0x13d)]||_0x38da7c(0x127)),this[_0x38da7c(0x154)](_0x500436['name']);}catch(_0x41ad90){throw new bad_request_error_1['BadRequestError'](_0x41ad90);}}async['getOne'](_0x105f18){const _0x3154b2=a92_0x1c33d6;try{const _0x485ff1=await this[_0x3154b2(0x133)][_0x3154b2(0x117)]('repositories/'+this[_0x3154b2(0x123)]+'/'+_0x105f18[_0x3154b2(0x137)]());return repo_class_1[_0x3154b2(0x12a)][_0x3154b2(0x153)](_0x485ff1);}catch(_0x2e7689){throw new not_found_error_1[(_0x3154b2(0x14f))](_0x2e7689);}}async[a92_0x1c33d6(0x131)](_0x5ea3f5,_0x2cde60){const _0x8aca8=a92_0x1c33d6;await this[_0x8aca8(0x154)](_0x5ea3f5);try{const _0x29be7b=await this[_0x8aca8(0x133)][_0x8aca8(0x14b)](_0x8aca8(0x136)+this['workspace']+'/'+_0x5ea3f5[_0x8aca8(0x137)](),_0x2cde60);return repo_class_1['Repo'][_0x8aca8(0x153)](_0x29be7b);}catch(_0x50fd1f){throw new not_found_error_1['NotFoundError'](_0x50fd1f);}}async['delete'](_0x4046d2){const _0x355a03=a92_0x1c33d6;try{await this[_0x355a03(0x133)][_0x355a03(0x149)](_0x355a03(0x136)+this['workspace']+'/'+_0x4046d2[_0x355a03(0x137)]());}catch(_0x473ca2){throw new bad_request_error_1[(_0x355a03(0x135))](_0x473ca2);}}};BitbucketRepoService=__decorate([typedi_1[a92_0x1c33d6(0x12c)](),__param(0x0,typedi_1['Inject']()),__metadata(a92_0x1c33d6(0x11d),[bitbucket_api_service_1[a92_0x1c33d6(0x132)],auth_settings_service_1[a92_0x1c33d6(0x126)]])],BitbucketRepoService),exports[a92_0x1c33d6(0x125)]=BitbucketRepoService;