const a93_0x230a04=a93_0xdbec;(function(_0x3c36be,_0x3668a3){const _0x4cadf4=a93_0xdbec,_0x247c22=_0x3c36be();while(!![]){try{const _0x135a3=parseInt(_0x4cadf4(0x117))/0x1+parseInt(_0x4cadf4(0x103))/0x2*(-parseInt(_0x4cadf4(0x11b))/0x3)+parseInt(_0x4cadf4(0xff))/0x4+parseInt(_0x4cadf4(0xfd))/0x5+-parseInt(_0x4cadf4(0xf4))/0x6*(parseInt(_0x4cadf4(0x101))/0x7)+parseInt(_0x4cadf4(0x122))/0x8+-parseInt(_0x4cadf4(0xe9))/0x9;if(_0x135a3===_0x3668a3)break;else _0x247c22['push'](_0x247c22['shift']());}catch(_0x1ec84f){_0x247c22['push'](_0x247c22['shift']());}}}(a93_0x53bf,0x5c493));const a93_0x4c5e09=function(){let _0x18674f=!![];return function(_0x3a0e19,_0x29fdf0){const _0x540c8a=_0x18674f?function(){const _0x44351a=a93_0xdbec;if(_0x29fdf0){const _0x528aee=_0x29fdf0[_0x44351a(0xf8)](_0x3a0e19,arguments);return _0x29fdf0=null,_0x528aee;}}:function(){};return _0x18674f=![],_0x540c8a;};}(),a93_0xee820c=a93_0x4c5e09(this,function(){const _0x6e1485=a93_0xdbec;return a93_0xee820c[_0x6e1485(0x116)]()['search'](_0x6e1485(0xe8))[_0x6e1485(0x116)]()[_0x6e1485(0x10e)](a93_0xee820c)[_0x6e1485(0x10c)]('(((.+)+)+)+$');});function a93_0x53bf(){const _0x2c034f=['../../../core/errors/api.error','typedi','delete','ERR_BITBUCKET_MISSING_PROJECT','toString','220675qApmsC','/repositories/','AuthSettingsService','function','15690cCLWBP','getAll','NotFoundError','getOwnPropertyDescriptor','createEmptyBranch','map','metadata','3886888pNjJTJ','get','push','create','project','private','values','apiRequest','apiBody','authSettings','__esModule','defaultBranch','ApiError','(((.+)+)+)+$','4413933tDcDBL','ERR_BITBUCKET_MISSING_WORKSPACE','update','../../../core/errors/not-found.error','toLowerCase','../../../core/errors/bad-request.error','name','post','BitbucketRepoService','../../shared/services/auth-settings.service','../../../constants/errors','855222THpNrW','fromBitbucket','getOne','../repo.class','apply','object','BitbucketApiService','BadRequestError','length','1613705hHtYye','autoInit','1663160PbUyic','./git-repo.service','7QHVbqx','next','166YCAPiA','../../internal/git.internal','decorate','repositories/','__param','Service','master','GitRepoService','workspace','search','Git','constructor','request','bitbucket','Repo'];a93_0x53bf=function(){return _0x2c034f;};return a93_0x53bf();}a93_0xee820c();function a93_0xdbec(_0x1d6d86,_0x231ead){const _0xf35518=a93_0x53bf();return a93_0xdbec=function(_0xee820c,_0x4c5e09){_0xee820c=_0xee820c-0xe2;let _0x53bfd3=_0xf35518[_0xee820c];return _0x53bfd3;},a93_0xdbec(_0x1d6d86,_0x231ead);}'use strict';var __decorate=this&&this['__decorate']||function(_0x1d8b79,_0x27442d,_0x12a28e,_0x4d5ff5){const _0x54490d=a93_0xdbec;var _0x3d37c9=arguments[_0x54490d(0xfc)],_0x3ef5e0=_0x3d37c9<0x3?_0x27442d:_0x4d5ff5===null?_0x4d5ff5=Object[_0x54490d(0x11e)](_0x27442d,_0x12a28e):_0x4d5ff5,_0x38503a;if(typeof Reflect==='object'&&typeof Reflect[_0x54490d(0x105)]===_0x54490d(0x11a))_0x3ef5e0=Reflect['decorate'](_0x1d8b79,_0x27442d,_0x12a28e,_0x4d5ff5);else{for(var _0x556eec=_0x1d8b79[_0x54490d(0xfc)]-0x1;_0x556eec>=0x0;_0x556eec--)if(_0x38503a=_0x1d8b79[_0x556eec])_0x3ef5e0=(_0x3d37c9<0x3?_0x38503a(_0x3ef5e0):_0x3d37c9>0x3?_0x38503a(_0x27442d,_0x12a28e,_0x3ef5e0):_0x38503a(_0x27442d,_0x12a28e))||_0x3ef5e0;}return _0x3d37c9>0x3&&_0x3ef5e0&&Object['defineProperty'](_0x27442d,_0x12a28e,_0x3ef5e0),_0x3ef5e0;},__metadata=this&&this['__metadata']||function(_0x2cfc3a,_0x581c4b){const _0x360684=a93_0xdbec;if(typeof Reflect===_0x360684(0xf9)&&typeof Reflect['metadata']===_0x360684(0x11a))return Reflect[_0x360684(0x121)](_0x2cfc3a,_0x581c4b);},__param=this&&this[a93_0x230a04(0x107)]||function(_0x3c612b,_0x2d7a3d){return function(_0x86da21,_0x3e88af){_0x2d7a3d(_0x86da21,_0x3e88af,_0x3c612b);};};Object['defineProperty'](exports,a93_0x230a04(0xe5),{'value':!![]}),exports[a93_0x230a04(0xf1)]=void 0x0;const errors_1=require(a93_0x230a04(0xf3)),bad_request_error_1=require(a93_0x230a04(0xee)),not_found_error_1=require(a93_0x230a04(0xec)),bitbucket_api_service_1=require('../../git-api/services/bitbucket-api.service'),auth_settings_service_1=require(a93_0x230a04(0xf2)),typedi_1=require(a93_0x230a04(0x113)),api_error_1=require(a93_0x230a04(0x112)),git_internal_1=require(a93_0x230a04(0x104)),repo_class_1=require(a93_0x230a04(0xf7)),git_repo_service_1=require(a93_0x230a04(0x100));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a93_0x230a04(0x10a)]{constructor(_0x4e51a4,_0x1b70a0){const _0x4b2d7c=a93_0x230a04;super(_0x4e51a4),this['authSettings']=_0x1b70a0,this[_0x4b2d7c(0x10f)]=_0x4e51a4[_0x4b2d7c(0xe2)];if(!this['workspace'])throw new Error(errors_1[_0x4b2d7c(0xea)]);if(!this[_0x4b2d7c(0x126)])throw new Error(errors_1[_0x4b2d7c(0x115)]);}get[a93_0x230a04(0x10b)](){const _0x4cfa86=a93_0x230a04;return this[_0x4cfa86(0xe4)][_0x4cfa86(0x110)][_0x4cfa86(0x10b)];}get['project'](){const _0x56bccc=a93_0x230a04;return this[_0x56bccc(0xe4)][_0x56bccc(0x110)][_0x56bccc(0x126)];}async[a93_0x230a04(0x125)](_0x1b7cbe){const _0x4e01ba=a93_0x230a04;try{const {name:_0x5b7a6a}=_0x1b7cbe,_0x5cec0e={'name':_0x1b7cbe[_0x4e01ba(0xef)],'is_private':_0x1b7cbe[_0x4e01ba(0x127)],..._0x1b7cbe[_0x4e01ba(0xe3)]||{},'project':{'key':this[_0x4e01ba(0x126)]}},_0x29e7af=await this['request'][_0x4e01ba(0xf0)](_0x4e01ba(0x118)+this[_0x4e01ba(0x10b)]+'/'+_0x5b7a6a[_0x4e01ba(0xed)](),_0x5cec0e),_0x209319=repo_class_1['Repo']['fromBitbucket'](_0x29e7af);return _0x1b7cbe[_0x4e01ba(0xfe)]&&(await git_internal_1[_0x4e01ba(0x10d)][_0x4e01ba(0x11f)](_0x209319,_0x1b7cbe[_0x4e01ba(0xe6)]||_0x4e01ba(0x109)),_0x209319['defaultBranch']=_0x1b7cbe[_0x4e01ba(0xe6)]||_0x4e01ba(0x109)),_0x209319;}catch(_0x598306){if(_0x598306 instanceof api_error_1[_0x4e01ba(0xe7)])throw _0x598306;throw new bad_request_error_1[(_0x4e01ba(0xfb))](_0x598306);}}async[a93_0x230a04(0x11c)](){const _0x4f0756=a93_0x230a04;try{const _0x2d39fa=[];let _0xbb3257;do{_0xbb3257=await this[_0x4f0756(0x10f)]['get'](_0xbb3257?_0xbb3257['next']:_0x4f0756(0x106)+this[_0x4f0756(0x10b)]),_0x2d39fa[_0x4f0756(0x124)](..._0xbb3257[_0x4f0756(0x128)]);}while(_0xbb3257[_0x4f0756(0x102)]);return _0x2d39fa[_0x4f0756(0x120)](_0x884935=>repo_class_1[_0x4f0756(0x111)][_0x4f0756(0xf5)](_0x884935));}catch(_0x2636c7){if(_0x2636c7 instanceof api_error_1[_0x4f0756(0xe7)])throw _0x2636c7;throw new not_found_error_1[(_0x4f0756(0x11d))](_0x2636c7);}}async[a93_0x230a04(0xf6)](_0x2161ea){const _0x4e1f0d=a93_0x230a04;try{const _0x4935c6=await this[_0x4e1f0d(0x10f)][_0x4e1f0d(0x123)]('repositories/'+this[_0x4e1f0d(0x10b)]+'/'+_0x2161ea[_0x4e1f0d(0xed)]());return repo_class_1[_0x4e1f0d(0x111)][_0x4e1f0d(0xf5)](_0x4935c6);}catch(_0x23564f){if(_0x23564f instanceof api_error_1[_0x4e1f0d(0xe7)])throw _0x23564f;throw new not_found_error_1[(_0x4e1f0d(0x11d))](_0x23564f);}}async[a93_0x230a04(0xeb)](_0x1c11d1,_0xe993f6){const _0x244e6b=a93_0x230a04;await this[_0x244e6b(0xf6)](_0x1c11d1);try{const _0x12300e=await this['request']['put']('repositories/'+this['workspace']+'/'+_0x1c11d1[_0x244e6b(0xed)](),_0xe993f6);return repo_class_1[_0x244e6b(0x111)][_0x244e6b(0xf5)](_0x12300e);}catch(_0x1c7944){if(_0x1c7944 instanceof api_error_1['ApiError'])throw _0x1c7944;throw new not_found_error_1[(_0x244e6b(0x11d))](_0x1c7944);}}async[a93_0x230a04(0x114)](_0x10f341){const _0x48f60b=a93_0x230a04;try{await this['request']['delete'](_0x48f60b(0x106)+this['workspace']+'/'+_0x10f341[_0x48f60b(0xed)]());}catch(_0x136148){if(_0x136148 instanceof api_error_1[_0x48f60b(0xe7)])throw _0x136148;throw new bad_request_error_1[(_0x48f60b(0xfb))](_0x136148);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a93_0x230a04(0x108)])(),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata('design:paramtypes',[bitbucket_api_service_1[a93_0x230a04(0xfa)],auth_settings_service_1[a93_0x230a04(0x119)]])],BitbucketRepoService),exports[a93_0x230a04(0xf1)]=BitbucketRepoService;