const a104_0x4f4ba3=a104_0x1f02;(function(_0x4302c1,_0x13be3){const _0x2f0fc8=a104_0x1f02,_0xf774cc=_0x4302c1();while(!![]){try{const _0x28715a=parseInt(_0x2f0fc8(0x20b))/0x1+-parseInt(_0x2f0fc8(0x1fd))/0x2*(-parseInt(_0x2f0fc8(0x1f0))/0x3)+-parseInt(_0x2f0fc8(0x1e8))/0x4+parseInt(_0x2f0fc8(0x205))/0x5*(-parseInt(_0x2f0fc8(0x201))/0x6)+parseInt(_0x2f0fc8(0x1ef))/0x7*(parseInt(_0x2f0fc8(0x20c))/0x8)+-parseInt(_0x2f0fc8(0x1e6))/0x9+-parseInt(_0x2f0fc8(0x1f3))/0xa;if(_0x28715a===_0x13be3)break;else _0xf774cc['push'](_0xf774cc['shift']());}catch(_0x5d9c71){_0xf774cc['push'](_0xf774cc['shift']());}}}(a104_0x5053,0xd4a3c));const a104_0x185b7a=function(){let _0x14c448=!![];return function(_0x4429a0,_0x1137c8){const _0x37c146=_0x14c448?function(){const _0x99ecfa=a104_0x1f02;if(_0x1137c8){const _0x33c02e=_0x1137c8[_0x99ecfa(0x1ee)](_0x4429a0,arguments);return _0x1137c8=null,_0x33c02e;}}:function(){};return _0x14c448=![],_0x37c146;};}(),a104_0x58f3fb=a104_0x185b7a(this,function(){const _0x3f254c=a104_0x1f02;return a104_0x58f3fb[_0x3f254c(0x1de)]()['search'](_0x3f254c(0x1cd))[_0x3f254c(0x1de)]()[_0x3f254c(0x1d8)](a104_0x58f3fb)[_0x3f254c(0x1dc)](_0x3f254c(0x1cd));});a104_0x58f3fb();function a104_0x5053(){const _0x5c0f0f=['3ZprctN','get','BitbucketRepoService','3406410gPlibK','post','apiRequest','toLowerCase','Inject','__metadata','../../git-api/services/bitbucket-api.service','update','../../../constants/errors','project','65102UVQBRj','design:paramtypes','getOne','GitRepoService','6HtMWvX','AuthSettingsService','map','../../../core/errors/not-found.error','1465270gxVQHB','__decorate','decorate','ApiError','workspace','defaultBranch','1192424tGyAdW','376oyckVY','create','bitbucket','typedi','__param','master','repositories/','object','(((.+)+)+)+$','../repo.class','next','ERR_BITBUCKET_MISSING_WORKSPACE','name','/repositories/','__esModule','ERR_BITBUCKET_MISSING_PROJECT','getOwnPropertyDescriptor','length','push','constructor','Repo','../../../core/errors/api.error','fromBitbucket','search','NotFoundError','toString','values','BadRequestError','defineProperty','authSettings','function','private','put','5111613ksTJPn','delete','3529308SUsyFY','createEmptyBranch','../../internal/git.internal','request','metadata','apiBody','apply','257656WELCVu'];a104_0x5053=function(){return _0x5c0f0f;};return a104_0x5053();}function a104_0x1f02(_0x5ea11e,_0x4c144f){const _0x21b356=a104_0x5053();return a104_0x1f02=function(_0x58f3fb,_0x185b7a){_0x58f3fb=_0x58f3fb-0x1c6;let _0x50537e=_0x21b356[_0x58f3fb];return _0x50537e;},a104_0x1f02(_0x5ea11e,_0x4c144f);}'use strict';var __decorate=this&&this[a104_0x4f4ba3(0x206)]||function(_0x42eb89,_0x57afa7,_0x447f9c,_0x593538){const _0x9e170=a104_0x4f4ba3;var _0x7675b2=arguments[_0x9e170(0x1d6)],_0x1829e4=_0x7675b2<0x3?_0x57afa7:_0x593538===null?_0x593538=Object[_0x9e170(0x1d5)](_0x57afa7,_0x447f9c):_0x593538,_0x332178;if(typeof Reflect===_0x9e170(0x1cc)&&typeof Reflect[_0x9e170(0x207)]===_0x9e170(0x1e3))_0x1829e4=Reflect[_0x9e170(0x207)](_0x42eb89,_0x57afa7,_0x447f9c,_0x593538);else{for(var _0x1f782b=_0x42eb89[_0x9e170(0x1d6)]-0x1;_0x1f782b>=0x0;_0x1f782b--)if(_0x332178=_0x42eb89[_0x1f782b])_0x1829e4=(_0x7675b2<0x3?_0x332178(_0x1829e4):_0x7675b2>0x3?_0x332178(_0x57afa7,_0x447f9c,_0x1829e4):_0x332178(_0x57afa7,_0x447f9c))||_0x1829e4;}return _0x7675b2>0x3&&_0x1829e4&&Object[_0x9e170(0x1e1)](_0x57afa7,_0x447f9c,_0x1829e4),_0x1829e4;},__metadata=this&&this[a104_0x4f4ba3(0x1f8)]||function(_0x13e154,_0x16bc4a){const _0x13567a=a104_0x4f4ba3;if(typeof Reflect===_0x13567a(0x1cc)&&typeof Reflect['metadata']==='function')return Reflect[_0x13567a(0x1ec)](_0x13e154,_0x16bc4a);},__param=this&&this[a104_0x4f4ba3(0x1c9)]||function(_0x7f454a,_0x30d787){return function(_0x5a54cc,_0x5dcd7d){_0x30d787(_0x5a54cc,_0x5dcd7d,_0x7f454a);};};Object[a104_0x4f4ba3(0x1e1)](exports,a104_0x4f4ba3(0x1d3),{'value':!![]}),exports[a104_0x4f4ba3(0x1f2)]=void 0x0;const errors_1=require(a104_0x4f4ba3(0x1fb)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a104_0x4f4ba3(0x204)),bitbucket_api_service_1=require(a104_0x4f4ba3(0x1f9)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a104_0x4f4ba3(0x1c8)),api_error_1=require(a104_0x4f4ba3(0x1da)),git_internal_1=require(a104_0x4f4ba3(0x1ea)),repo_class_1=require(a104_0x4f4ba3(0x1ce)),git_repo_service_1=require('./git-repo.service');let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a104_0x4f4ba3(0x200)]{constructor(_0x53a141,_0x184519){const _0x4e9150=a104_0x4f4ba3;super(_0x53a141),this[_0x4e9150(0x1e2)]=_0x184519,this['request']=_0x53a141[_0x4e9150(0x1f5)];if(!this[_0x4e9150(0x209)])throw new Error(errors_1[_0x4e9150(0x1d0)]);if(!this[_0x4e9150(0x1fc)])throw new Error(errors_1[_0x4e9150(0x1d4)]);}get[a104_0x4f4ba3(0x209)](){const _0x337276=a104_0x4f4ba3;return this['authSettings'][_0x337276(0x1c7)][_0x337276(0x209)];}get[a104_0x4f4ba3(0x1fc)](){const _0x3bddfc=a104_0x4f4ba3;return this[_0x3bddfc(0x1e2)][_0x3bddfc(0x1c7)][_0x3bddfc(0x1fc)];}async[a104_0x4f4ba3(0x1c6)](_0x5e7ec5){const _0x114883=a104_0x4f4ba3;try{const {name:_0x126408}=_0x5e7ec5,_0x41ea83={'name':_0x5e7ec5[_0x114883(0x1d1)],'is_private':_0x5e7ec5[_0x114883(0x1e4)],..._0x5e7ec5[_0x114883(0x1ed)]||{},'project':{'key':this['project']}},_0x32adbd=await this[_0x114883(0x1eb)][_0x114883(0x1f4)](_0x114883(0x1d2)+this[_0x114883(0x209)]+'/'+_0x126408[_0x114883(0x1f6)](),_0x41ea83),_0x3abb08=repo_class_1[_0x114883(0x1d9)][_0x114883(0x1db)](_0x32adbd);return _0x5e7ec5['autoInit']&&(await git_internal_1['Git'][_0x114883(0x1e9)](_0x3abb08,_0x5e7ec5['defaultBranch']||_0x114883(0x1ca)),_0x3abb08[_0x114883(0x20a)]=_0x5e7ec5[_0x114883(0x20a)]||_0x114883(0x1ca)),_0x3abb08;}catch(_0x46af9f){if(_0x46af9f instanceof api_error_1['ApiError'])throw _0x46af9f;throw new bad_request_error_1[(_0x114883(0x1e0))](_0x46af9f);}}async['getAll'](){const _0x135151=a104_0x4f4ba3;try{const _0x47a125=[];let _0x3967c6;do{_0x3967c6=await this['request']['get'](_0x3967c6?_0x3967c6[_0x135151(0x1cf)]:'repositories/'+this[_0x135151(0x209)]),_0x47a125[_0x135151(0x1d7)](..._0x3967c6[_0x135151(0x1df)]);}while(_0x3967c6[_0x135151(0x1cf)]);return _0x47a125[_0x135151(0x203)](_0x545e91=>repo_class_1[_0x135151(0x1d9)][_0x135151(0x1db)](_0x545e91));}catch(_0x1e1eda){if(_0x1e1eda instanceof api_error_1[_0x135151(0x208)])throw _0x1e1eda;throw new not_found_error_1[(_0x135151(0x1dd))](_0x1e1eda);}}async[a104_0x4f4ba3(0x1ff)](_0x7a12c2){const _0x2cfac8=a104_0x4f4ba3;try{const _0x1d8e96=await this[_0x2cfac8(0x1eb)][_0x2cfac8(0x1f1)](_0x2cfac8(0x1cb)+this[_0x2cfac8(0x209)]+'/'+_0x7a12c2['toLowerCase']());return repo_class_1[_0x2cfac8(0x1d9)][_0x2cfac8(0x1db)](_0x1d8e96);}catch(_0x54f851){if(_0x54f851 instanceof api_error_1[_0x2cfac8(0x208)])throw _0x54f851;throw new not_found_error_1[(_0x2cfac8(0x1dd))](_0x54f851);}}async[a104_0x4f4ba3(0x1fa)](_0xff0889,_0x11b2f3){const _0x2f92d5=a104_0x4f4ba3;await this[_0x2f92d5(0x1ff)](_0xff0889);try{const _0x31816a=await this[_0x2f92d5(0x1eb)][_0x2f92d5(0x1e5)](_0x2f92d5(0x1cb)+this[_0x2f92d5(0x209)]+'/'+_0xff0889['toLowerCase'](),_0x11b2f3);return repo_class_1[_0x2f92d5(0x1d9)][_0x2f92d5(0x1db)](_0x31816a);}catch(_0x276dda){if(_0x276dda instanceof api_error_1[_0x2f92d5(0x208)])throw _0x276dda;throw new not_found_error_1[(_0x2f92d5(0x1dd))](_0x276dda);}}async[a104_0x4f4ba3(0x1e7)](_0x15b90d){const _0x3f9b2a=a104_0x4f4ba3;try{await this[_0x3f9b2a(0x1eb)][_0x3f9b2a(0x1e7)](_0x3f9b2a(0x1cb)+this['workspace']+'/'+_0x15b90d[_0x3f9b2a(0x1f6)]());}catch(_0x61511){if(_0x61511 instanceof api_error_1['ApiError'])throw _0x61511;throw new bad_request_error_1[(_0x3f9b2a(0x1e0))](_0x61511);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a104_0x4f4ba3(0x1f7)]()),__metadata(a104_0x4f4ba3(0x1fe),[bitbucket_api_service_1['BitbucketApiService'],auth_settings_service_1[a104_0x4f4ba3(0x202)]])],BitbucketRepoService),exports[a104_0x4f4ba3(0x1f2)]=BitbucketRepoService;