const a91_0x3458=['apiRequest','put','420762bzBWvq','defaultBranch','apiBody','__esModule','typedi','640916NNDODg','GitRepoService','getOne','repositories/','__metadata','BitbucketRepoService','getOwnPropertyDescriptor','AuthSettingsService','metadata','92716SURVCZ','BitbucketApiService','Repo','../../shared/services/auth-settings.service','object','createEmptyBranch','fromBitbucket','test','ERR_BITBUCKET_MISSING_WORKSPACE','get','return\x20/\x22\x20+\x20this\x20+\x20\x22/','964268znSIJJ','name','3xAxwge','decorate','workspace','master','1777653IYUzyT','function','constructor','Inject','defineProperty','/repositories/','295244IodlIE','NotFoundError','../../../constants/errors','bitbucket','toLowerCase','574154dwABXH','length','delete','__decorate','create','apply','request','authSettings','../../../core/errors/not-found.error','project','ERR_BITBUCKET_MISSING_PROJECT','post'];const a91_0x53633b=a91_0x1980;function a91_0x1980(_0x4be90d,_0x114bcc){return a91_0x1980=function(_0x35ffd6,_0x325876){_0x35ffd6=_0x35ffd6-0x1f1;let _0x281cb8=a91_0x3458[_0x35ffd6];return _0x281cb8;},a91_0x1980(_0x4be90d,_0x114bcc);}(function(_0x312b75,_0x3bdd2c){const _0x3045b0=a91_0x1980;while(!![]){try{const _0x1dd9db=parseInt(_0x3045b0(0x218))+-parseInt(_0x3045b0(0x21d))+-parseInt(_0x3045b0(0x1ff))+-parseInt(_0x3045b0(0x226))+parseInt(_0x3045b0(0x205))+parseInt(_0x3045b0(0x1f9))+parseInt(_0x3045b0(0x1fb))*parseInt(_0x3045b0(0x20a));if(_0x1dd9db===_0x3bdd2c)break;else _0x312b75['push'](_0x312b75['shift']());}catch(_0x621d88){_0x312b75['push'](_0x312b75['shift']());}}}(a91_0x3458,0xd9a3b));const a91_0x281cb8=function(){let _0x288176=!![];return function(_0x37ef64,_0x4aaf7c){const _0x2b6b91=_0x288176?function(){const _0x1c5e8b=a91_0x1980;if(_0x4aaf7c){const _0x42091c=_0x4aaf7c[_0x1c5e8b(0x20f)](_0x37ef64,arguments);return _0x4aaf7c=null,_0x42091c;}}:function(){};return _0x288176=![],_0x2b6b91;};}(),a91_0x325876=a91_0x281cb8(this,function(){const _0x273434=function(){const _0x22d245=a91_0x1980,_0x4f84ba=_0x273434[_0x22d245(0x201)](_0x22d245(0x1f8))()[_0x22d245(0x201)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x4f84ba[_0x22d245(0x1f5)](a91_0x325876);};return _0x273434();});a91_0x325876();'use strict';var __decorate=this&&this[a91_0x53633b(0x20d)]||function(_0x1019d2,_0x4b9807,_0x4a8885,_0x4aa7a5){const _0x48e416=a91_0x53633b;var _0x280770=arguments[_0x48e416(0x20b)],_0x56685a=_0x280770<0x3?_0x4b9807:_0x4aa7a5===null?_0x4aa7a5=Object[_0x48e416(0x223)](_0x4b9807,_0x4a8885):_0x4aa7a5,_0x1ef1f5;if(typeof Reflect===_0x48e416(0x1f2)&&typeof Reflect['decorate']===_0x48e416(0x200))_0x56685a=Reflect[_0x48e416(0x1fc)](_0x1019d2,_0x4b9807,_0x4a8885,_0x4aa7a5);else{for(var _0x5ae1c4=_0x1019d2[_0x48e416(0x20b)]-0x1;_0x5ae1c4>=0x0;_0x5ae1c4--)if(_0x1ef1f5=_0x1019d2[_0x5ae1c4])_0x56685a=(_0x280770<0x3?_0x1ef1f5(_0x56685a):_0x280770>0x3?_0x1ef1f5(_0x4b9807,_0x4a8885,_0x56685a):_0x1ef1f5(_0x4b9807,_0x4a8885))||_0x56685a;}return _0x280770>0x3&&_0x56685a&&Object[_0x48e416(0x203)](_0x4b9807,_0x4a8885,_0x56685a),_0x56685a;},__metadata=this&&this[a91_0x53633b(0x221)]||function(_0x9c198f,_0x2c4752){const _0x363075=a91_0x53633b;if(typeof Reflect==='object'&&typeof Reflect[_0x363075(0x225)]==='function')return Reflect[_0x363075(0x225)](_0x9c198f,_0x2c4752);},__param=this&&this['__param']||function(_0x300c31,_0xf867af){return function(_0x38cdd5,_0x56494e){_0xf867af(_0x38cdd5,_0x56494e,_0x300c31);};};Object[a91_0x53633b(0x203)](exports,a91_0x53633b(0x21b),{'value':!![]}),exports[a91_0x53633b(0x222)]=void 0x0;const errors_1=require(a91_0x53633b(0x207)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a91_0x53633b(0x212)),bitbucket_api_service_1=require('../../git-api/services/bitbucket-api.service'),auth_settings_service_1=require(a91_0x53633b(0x1f1)),typedi_1=require(a91_0x53633b(0x21c)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require('../repo.class'),git_repo_service_1=require('./git-repo.service');let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a91_0x53633b(0x21e)]{constructor(_0x88c307,_0x473485){const _0x3e9ce9=a91_0x53633b;super(_0x88c307),this[_0x3e9ce9(0x211)]=_0x473485,this[_0x3e9ce9(0x210)]=_0x88c307[_0x3e9ce9(0x216)];if(!this['workspace'])throw new Error(errors_1[_0x3e9ce9(0x1f6)]);if(!this[_0x3e9ce9(0x213)])throw new Error(errors_1[_0x3e9ce9(0x214)]);}get[a91_0x53633b(0x1fd)](){const _0x5cdc3e=a91_0x53633b;return this[_0x5cdc3e(0x211)][_0x5cdc3e(0x208)]['workspace'];}get[a91_0x53633b(0x213)](){const _0x454e77=a91_0x53633b;return this[_0x454e77(0x211)][_0x454e77(0x208)]['project'];}async[a91_0x53633b(0x20e)](_0x4dc8aa){const _0xefe06e=a91_0x53633b;try{const {name:_0x2c5642}=_0x4dc8aa,_0x4160cb={'name':_0x4dc8aa[_0xefe06e(0x1fa)],'is_private':_0x4dc8aa['private'],..._0x4dc8aa[_0xefe06e(0x21a)]||{},'project':{'key':this['project']}},_0x61bb32=await this[_0xefe06e(0x210)][_0xefe06e(0x215)](_0xefe06e(0x204)+this['workspace']+'/'+_0x2c5642[_0xefe06e(0x209)](),_0x4160cb),_0x226f3f=repo_class_1[_0xefe06e(0x228)][_0xefe06e(0x1f4)](_0x61bb32);return _0x4dc8aa['autoInit']&&await git_internal_1['Git'][_0xefe06e(0x1f3)](_0x226f3f,_0x4dc8aa[_0xefe06e(0x219)]||_0xefe06e(0x1fe)),this[_0xefe06e(0x21f)](_0x226f3f[_0xefe06e(0x1fa)]);}catch(_0x337621){throw new bad_request_error_1['BadRequestError'](_0x337621);}}async[a91_0x53633b(0x21f)](_0x5ec126){const _0x412e25=a91_0x53633b;try{const _0x4ce9c9=await this[_0x412e25(0x210)][_0x412e25(0x1f7)](_0x412e25(0x220)+this[_0x412e25(0x1fd)]+'/'+_0x5ec126[_0x412e25(0x209)]());return repo_class_1[_0x412e25(0x228)]['fromBitbucket'](_0x4ce9c9);}catch(_0x429d0f){throw new not_found_error_1[(_0x412e25(0x206))](_0x429d0f);}}async['update'](_0x1764ec,_0x3e5b96){const _0x1b13f9=a91_0x53633b;await this['getOne'](_0x1764ec);try{const _0x2a0ff0=await this[_0x1b13f9(0x210)][_0x1b13f9(0x217)](_0x1b13f9(0x220)+this[_0x1b13f9(0x1fd)]+'/'+_0x1764ec[_0x1b13f9(0x209)](),_0x3e5b96);return repo_class_1['Repo'][_0x1b13f9(0x1f4)](_0x2a0ff0);}catch(_0x19fb7f){throw new not_found_error_1[(_0x1b13f9(0x206))](_0x19fb7f);}}async[a91_0x53633b(0x20c)](_0x2af62d){const _0x78b68d=a91_0x53633b;try{await this[_0x78b68d(0x210)]['delete'](_0x78b68d(0x220)+this[_0x78b68d(0x1fd)]+'/'+_0x2af62d[_0x78b68d(0x209)]());}catch(_0x58e7d7){throw new bad_request_error_1['BadRequestError'](_0x58e7d7);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a91_0x53633b(0x202)]()),__metadata('design:paramtypes',[bitbucket_api_service_1[a91_0x53633b(0x227)],auth_settings_service_1[a91_0x53633b(0x224)]])],BitbucketRepoService),exports[a91_0x53633b(0x222)]=BitbucketRepoService;