const a91_0x45c0=['typedi','create','toLowerCase','AuthSettingsService','782648btCfJf','Repo','post','length','fromBitbucket','../repo.class','defaultBranch','metadata','workspace','82923usHNyx','put','getOwnPropertyDescriptor','delete','Service','__param','Inject','decorate','apiBody','BadRequestError','333444hftiPr','name','update','autoInit','repositories/','constructor','getOne','/repositories/','../../internal/git.internal','../../../constants/errors','BitbucketRepoService','apply','__metadata','request','createEmptyBranch','project','test','NotFoundError','function','Git','244219lnARWR','master','bitbucket','object','get','defineProperty','5PqGBdk','__esModule','ERR_BITBUCKET_MISSING_WORKSPACE','private','./git-repo.service','apiRequest','ERR_BITBUCKET_MISSING_PROJECT','663159jPqWFM','authSettings','326455nXMkfu','547653lIqlTa'];const a91_0x426bd7=a91_0x3664;(function(_0xb31ea3,_0x3fc7e8){const _0xa0879e=a91_0x3664;while(!![]){try{const _0x47009a=-parseInt(_0xa0879e(0x8e))+parseInt(_0xa0879e(0x86))+parseInt(_0xa0879e(0x88))+parseInt(_0xa0879e(0xa1))+-parseInt(_0xa0879e(0x7f))*parseInt(_0xa0879e(0x97))+parseInt(_0xa0879e(0x89))+-parseInt(_0xa0879e(0xb5));if(_0x47009a===_0x3fc7e8)break;else _0xb31ea3['push'](_0xb31ea3['shift']());}catch(_0x527e80){_0xb31ea3['push'](_0xb31ea3['shift']());}}}(a91_0x45c0,0x68cad));function a91_0x3664(_0x56cc6e,_0x31cd24){return a91_0x3664=function(_0x50505c,_0xac51f8){_0x50505c=_0x50505c-0x7b;let _0x10d898=a91_0x45c0[_0x50505c];return _0x10d898;},a91_0x3664(_0x56cc6e,_0x31cd24);}const a91_0x10d898=function(){let _0x38d0c8=!![];return function(_0x1ead24,_0x40749a){const _0xd92412=_0x38d0c8?function(){const _0x1b18e3=a91_0x3664;if(_0x40749a){const _0x36fe89=_0x40749a[_0x1b18e3(0xac)](_0x1ead24,arguments);return _0x40749a=null,_0x36fe89;}}:function(){};return _0x38d0c8=![],_0xd92412;};}(),a91_0xac51f8=a91_0x10d898(this,function(){const _0x302194=function(){const _0x3c505d=a91_0x3664,_0xe85c0e=_0x302194[_0x3c505d(0xa6)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0xe85c0e[_0x3c505d(0xb1)](a91_0xac51f8);};return _0x302194();});a91_0xac51f8();'use strict';var __decorate=this&&this['__decorate']||function(_0x30a761,_0x501f45,_0x41a4be,_0x44f7c2){const _0x3b37e0=a91_0x3664;var _0x2b6c1d=arguments[_0x3b37e0(0x91)],_0x38a58e=_0x2b6c1d<0x3?_0x501f45:_0x44f7c2===null?_0x44f7c2=Object[_0x3b37e0(0x99)](_0x501f45,_0x41a4be):_0x44f7c2,_0x1f7903;if(typeof Reflect===_0x3b37e0(0x7c)&&typeof Reflect[_0x3b37e0(0x9e)]===_0x3b37e0(0xb3))_0x38a58e=Reflect['decorate'](_0x30a761,_0x501f45,_0x41a4be,_0x44f7c2);else{for(var _0x4837ef=_0x30a761[_0x3b37e0(0x91)]-0x1;_0x4837ef>=0x0;_0x4837ef--)if(_0x1f7903=_0x30a761[_0x4837ef])_0x38a58e=(_0x2b6c1d<0x3?_0x1f7903(_0x38a58e):_0x2b6c1d>0x3?_0x1f7903(_0x501f45,_0x41a4be,_0x38a58e):_0x1f7903(_0x501f45,_0x41a4be))||_0x38a58e;}return _0x2b6c1d>0x3&&_0x38a58e&&Object[_0x3b37e0(0x7e)](_0x501f45,_0x41a4be,_0x38a58e),_0x38a58e;},__metadata=this&&this[a91_0x426bd7(0xad)]||function(_0x59baf2,_0x581120){const _0x1244ca=a91_0x426bd7;if(typeof Reflect==='object'&&typeof Reflect[_0x1244ca(0x95)]==='function')return Reflect[_0x1244ca(0x95)](_0x59baf2,_0x581120);},__param=this&&this[a91_0x426bd7(0x9c)]||function(_0x4f3a1d,_0x2ce2d3){return function(_0x1992fa,_0x458569){_0x2ce2d3(_0x1992fa,_0x458569,_0x4f3a1d);};};Object[a91_0x426bd7(0x7e)](exports,a91_0x426bd7(0x80),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a91_0x426bd7(0xaa)),bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),bitbucket_api_service_1=require('../../git-api/services/bitbucket-api.service'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a91_0x426bd7(0x8a)),git_internal_1=require(a91_0x426bd7(0xa9)),repo_class_1=require(a91_0x426bd7(0x93)),git_repo_service_1=require(a91_0x426bd7(0x83));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x10c3f0,_0x27dcce){const _0x3536b9=a91_0x426bd7;super(_0x10c3f0),this[_0x3536b9(0x87)]=_0x27dcce,this[_0x3536b9(0xae)]=_0x10c3f0[_0x3536b9(0x84)];if(!this['workspace'])throw new Error(errors_1[_0x3536b9(0x81)]);if(!this[_0x3536b9(0xb0)])throw new Error(errors_1[_0x3536b9(0x85)]);}get[a91_0x426bd7(0x96)](){const _0x481c8d=a91_0x426bd7;return this[_0x481c8d(0x87)][_0x481c8d(0x7b)][_0x481c8d(0x96)];}get[a91_0x426bd7(0xb0)](){const _0x7a611=a91_0x426bd7;return this[_0x7a611(0x87)][_0x7a611(0x7b)]['project'];}async[a91_0x426bd7(0x8b)](_0x12190e){const _0x3a79c2=a91_0x426bd7;try{const {name:_0x38cd45}=_0x12190e,_0x15207a={'name':_0x12190e[_0x3a79c2(0xa2)],'is_private':_0x12190e[_0x3a79c2(0x82)],..._0x12190e[_0x3a79c2(0x9f)]||{},'project':{'key':this['project']}},_0x3980cd=await this[_0x3a79c2(0xae)][_0x3a79c2(0x90)](_0x3a79c2(0xa8)+this['workspace']+'/'+_0x38cd45['toLowerCase'](),_0x15207a),_0x1efbc2=repo_class_1[_0x3a79c2(0x8f)][_0x3a79c2(0x92)](_0x3980cd);return _0x12190e[_0x3a79c2(0xa4)]&&await git_internal_1[_0x3a79c2(0xb4)][_0x3a79c2(0xaf)](_0x1efbc2,_0x12190e[_0x3a79c2(0x94)]||_0x3a79c2(0xb6)),this['getOne'](_0x1efbc2['name']);}catch(_0x37d9ae){throw new bad_request_error_1[(_0x3a79c2(0xa0))](_0x37d9ae);}}async[a91_0x426bd7(0xa7)](_0x7cf0b3){const _0x4c7834=a91_0x426bd7;try{const _0x28fa89=await this[_0x4c7834(0xae)][_0x4c7834(0x7d)](_0x4c7834(0xa5)+this[_0x4c7834(0x96)]+'/'+_0x7cf0b3[_0x4c7834(0x8c)]());return repo_class_1[_0x4c7834(0x8f)]['fromBitbucket'](_0x28fa89);}catch(_0x4c9477){throw new not_found_error_1['NotFoundError'](_0x4c9477);}}async[a91_0x426bd7(0xa3)](_0x612b20,_0x191355){const _0x1cdab3=a91_0x426bd7;await this['getOne'](_0x612b20);try{const _0x45ea96=await this['request'][_0x1cdab3(0x98)]('repositories/'+this['workspace']+'/'+_0x612b20[_0x1cdab3(0x8c)](),_0x191355);return repo_class_1[_0x1cdab3(0x8f)]['fromBitbucket'](_0x45ea96);}catch(_0x5a3cd9){throw new not_found_error_1[(_0x1cdab3(0xb2))](_0x5a3cd9);}}async[a91_0x426bd7(0x9a)](_0x5927ba){const _0x38006c=a91_0x426bd7;try{await this[_0x38006c(0xae)][_0x38006c(0x9a)](_0x38006c(0xa5)+this[_0x38006c(0x96)]+'/'+_0x5927ba[_0x38006c(0x8c)]());}catch(_0x31dbc6){throw new bad_request_error_1['BadRequestError'](_0x31dbc6);}}};BitbucketRepoService=__decorate([typedi_1[a91_0x426bd7(0x9b)](),__param(0x0,typedi_1[a91_0x426bd7(0x9d)]()),__metadata('design:paramtypes',[bitbucket_api_service_1['BitbucketApiService'],auth_settings_service_1[a91_0x426bd7(0x8d)]])],BitbucketRepoService),exports[a91_0x426bd7(0xab)]=BitbucketRepoService;