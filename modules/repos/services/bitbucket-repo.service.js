const a93_0x101fdc=a93_0x1246;function a93_0x44dd(){const _0x4c19fa=['defineProperty','Git','../../../constants/errors','BitbucketApiService','put','./git-repo.service','NotFoundError','__decorate','toLowerCase','Repo','repositories/','toString','decorate','../../internal/git.internal','9XugtOL','1004334hFkeRg','(((.+)+)+)+$','apply','368376sjaKxr','constructor','312fdNEjV','createEmptyBranch','ERR_BITBUCKET_MISSING_PROJECT','workspace','__param','private','ApiError','BitbucketRepoService','7PUoaoZ','project','search','post','getOne','../../../core/errors/api.error','39347hhTESc','AuthSettingsService','autoInit','values','function','master','typedi','66604cjIruQ','BadRequestError','next','object','../../git-api/services/bitbucket-api.service','__esModule','__metadata','658619YYIsWk','../repo.class','bitbucket','metadata','request','3144Ipwkyo','delete','fromBitbucket','../../../core/errors/not-found.error','../../../core/errors/bad-request.error','getOwnPropertyDescriptor','288EFcnMp','push','3733670ZovLyp','defaultBranch','apiRequest','3462pOTiHb','authSettings','3310fUzZzS'];a93_0x44dd=function(){return _0x4c19fa;};return a93_0x44dd();}(function(_0x663ec4,_0x2055b9){const _0x326c49=a93_0x1246,_0x303f56=_0x663ec4();while(!![]){try{const _0x32e145=-parseInt(_0x326c49(0x163))/0x1*(-parseInt(_0x326c49(0x17e))/0x2)+-parseInt(_0x326c49(0x152))/0x3*(-parseInt(_0x326c49(0x147))/0x4)+parseInt(_0x326c49(0x14f))/0x5+parseInt(_0x326c49(0x164))/0x6*(-parseInt(_0x326c49(0x171))/0x7)+-parseInt(_0x326c49(0x167))/0x8*(-parseInt(_0x326c49(0x14d))/0x9)+-parseInt(_0x326c49(0x154))/0xa*(parseInt(_0x326c49(0x177))/0xb)+-parseInt(_0x326c49(0x169))/0xc*(parseInt(_0x326c49(0x142))/0xd);if(_0x32e145===_0x2055b9)break;else _0x303f56['push'](_0x303f56['shift']());}catch(_0x366d48){_0x303f56['push'](_0x303f56['shift']());}}}(a93_0x44dd,0xb9272));const a93_0x168c0a=function(){let _0x4967bd=!![];return function(_0x55f633,_0x36f304){const _0x30715b=_0x4967bd?function(){const _0x324574=a93_0x1246;if(_0x36f304){const _0x3aa9d9=_0x36f304[_0x324574(0x166)](_0x55f633,arguments);return _0x36f304=null,_0x3aa9d9;}}:function(){};return _0x4967bd=![],_0x30715b;};}(),a93_0x3147b6=a93_0x168c0a(this,function(){const _0x164575=a93_0x1246;return a93_0x3147b6[_0x164575(0x160)]()[_0x164575(0x173)](_0x164575(0x165))[_0x164575(0x160)]()[_0x164575(0x168)](a93_0x3147b6)[_0x164575(0x173)](_0x164575(0x165));});function a93_0x1246(_0x372651,_0x406293){const _0x562f84=a93_0x44dd();return a93_0x1246=function(_0x3147b6,_0x168c0a){_0x3147b6=_0x3147b6-0x141;let _0x44ddb3=_0x562f84[_0x3147b6];return _0x44ddb3;},a93_0x1246(_0x372651,_0x406293);}a93_0x3147b6();'use strict';var __decorate=this&&this[a93_0x101fdc(0x15c)]||function(_0x188ca9,_0x2b4b17,_0x62ecf7,_0x3fad3c){const _0x3dd594=a93_0x101fdc;var _0x477909=arguments['length'],_0x1a33cd=_0x477909<0x3?_0x2b4b17:_0x3fad3c===null?_0x3fad3c=Object[_0x3dd594(0x14c)](_0x2b4b17,_0x62ecf7):_0x3fad3c,_0xd9ae9b;if(typeof Reflect===_0x3dd594(0x181)&&typeof Reflect[_0x3dd594(0x161)]===_0x3dd594(0x17b))_0x1a33cd=Reflect['decorate'](_0x188ca9,_0x2b4b17,_0x62ecf7,_0x3fad3c);else{for(var _0x4e2de5=_0x188ca9['length']-0x1;_0x4e2de5>=0x0;_0x4e2de5--)if(_0xd9ae9b=_0x188ca9[_0x4e2de5])_0x1a33cd=(_0x477909<0x3?_0xd9ae9b(_0x1a33cd):_0x477909>0x3?_0xd9ae9b(_0x2b4b17,_0x62ecf7,_0x1a33cd):_0xd9ae9b(_0x2b4b17,_0x62ecf7))||_0x1a33cd;}return _0x477909>0x3&&_0x1a33cd&&Object[_0x3dd594(0x155)](_0x2b4b17,_0x62ecf7,_0x1a33cd),_0x1a33cd;},__metadata=this&&this[a93_0x101fdc(0x141)]||function(_0x4342c0,_0x58b8a8){const _0x37845d=a93_0x101fdc;if(typeof Reflect===_0x37845d(0x181)&&typeof Reflect['metadata']===_0x37845d(0x17b))return Reflect[_0x37845d(0x145)](_0x4342c0,_0x58b8a8);},__param=this&&this[a93_0x101fdc(0x16d)]||function(_0x11e008,_0x2c2f86){return function(_0x24a963,_0x1fbf5f){_0x2c2f86(_0x24a963,_0x1fbf5f,_0x11e008);};};Object[a93_0x101fdc(0x155)](exports,a93_0x101fdc(0x183),{'value':!![]}),exports[a93_0x101fdc(0x170)]=void 0x0;const errors_1=require(a93_0x101fdc(0x157)),bad_request_error_1=require(a93_0x101fdc(0x14b)),not_found_error_1=require(a93_0x101fdc(0x14a)),bitbucket_api_service_1=require(a93_0x101fdc(0x182)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a93_0x101fdc(0x17d)),api_error_1=require(a93_0x101fdc(0x176)),git_internal_1=require(a93_0x101fdc(0x162)),repo_class_1=require(a93_0x101fdc(0x143)),git_repo_service_1=require(a93_0x101fdc(0x15a));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x1b9f97,_0x3c70f5){const _0x4df8f1=a93_0x101fdc;super(_0x1b9f97),this[_0x4df8f1(0x153)]=_0x3c70f5,this[_0x4df8f1(0x146)]=_0x1b9f97[_0x4df8f1(0x151)];if(!this[_0x4df8f1(0x16c)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x4df8f1(0x172)])throw new Error(errors_1[_0x4df8f1(0x16b)]);}get[a93_0x101fdc(0x16c)](){const _0x401ab7=a93_0x101fdc;return this['authSettings']['bitbucket'][_0x401ab7(0x16c)];}get['project'](){const _0x5464b7=a93_0x101fdc;return this[_0x5464b7(0x153)][_0x5464b7(0x144)][_0x5464b7(0x172)];}async['create'](_0x45978e){const _0x4fdf30=a93_0x101fdc;try{const {name:_0x5df20e}=_0x45978e,_0x49168d={'name':_0x45978e['name'],'is_private':_0x45978e[_0x4fdf30(0x16e)],..._0x45978e['apiBody']||{},'project':{'key':this[_0x4fdf30(0x172)]}},_0x3dc564=await this[_0x4fdf30(0x146)][_0x4fdf30(0x174)]('/repositories/'+this[_0x4fdf30(0x16c)]+'/'+_0x5df20e['toLowerCase'](),_0x49168d),_0x553609=repo_class_1[_0x4fdf30(0x15e)][_0x4fdf30(0x149)](_0x3dc564);return _0x45978e[_0x4fdf30(0x179)]&&(await git_internal_1[_0x4fdf30(0x156)][_0x4fdf30(0x16a)](_0x553609,_0x45978e[_0x4fdf30(0x150)]||_0x4fdf30(0x17c)),_0x553609[_0x4fdf30(0x150)]=_0x45978e[_0x4fdf30(0x150)]||_0x4fdf30(0x17c)),_0x553609;}catch(_0x2cd66b){if(_0x2cd66b instanceof api_error_1[_0x4fdf30(0x16f)])throw _0x2cd66b;throw new bad_request_error_1[(_0x4fdf30(0x17f))](_0x2cd66b);}}async['getAll'](){const _0x3f23f8=a93_0x101fdc;try{const _0x332ae2=[];let _0x365beb;do{_0x365beb=await this[_0x3f23f8(0x146)]['get'](_0x365beb?_0x365beb[_0x3f23f8(0x180)]:'repositories/'+this[_0x3f23f8(0x16c)]),_0x332ae2[_0x3f23f8(0x14e)](..._0x365beb[_0x3f23f8(0x17a)]);}while(_0x365beb[_0x3f23f8(0x180)]);return _0x332ae2['map'](_0x25c511=>repo_class_1[_0x3f23f8(0x15e)][_0x3f23f8(0x149)](_0x25c511));}catch(_0x2cbaef){if(_0x2cbaef instanceof api_error_1[_0x3f23f8(0x16f)])throw _0x2cbaef;throw new not_found_error_1[(_0x3f23f8(0x15b))](_0x2cbaef);}}async[a93_0x101fdc(0x175)](_0x597d49){const _0xa30cf6=a93_0x101fdc;try{const _0x398672=await this[_0xa30cf6(0x146)]['get']('repositories/'+this[_0xa30cf6(0x16c)]+'/'+_0x597d49['toLowerCase']());return repo_class_1[_0xa30cf6(0x15e)][_0xa30cf6(0x149)](_0x398672);}catch(_0x1e2d36){if(_0x1e2d36 instanceof api_error_1[_0xa30cf6(0x16f)])throw _0x1e2d36;throw new not_found_error_1['NotFoundError'](_0x1e2d36);}}async['update'](_0x4fc014,_0x35b5e5){const _0x52a77a=a93_0x101fdc;await this[_0x52a77a(0x175)](_0x4fc014);try{const _0x51ab63=await this[_0x52a77a(0x146)][_0x52a77a(0x159)](_0x52a77a(0x15f)+this[_0x52a77a(0x16c)]+'/'+_0x4fc014[_0x52a77a(0x15d)](),_0x35b5e5);return repo_class_1[_0x52a77a(0x15e)][_0x52a77a(0x149)](_0x51ab63);}catch(_0x9440f9){if(_0x9440f9 instanceof api_error_1[_0x52a77a(0x16f)])throw _0x9440f9;throw new not_found_error_1[(_0x52a77a(0x15b))](_0x9440f9);}}async[a93_0x101fdc(0x148)](_0x527c20){const _0x342f9a=a93_0x101fdc;try{await this[_0x342f9a(0x146)]['delete'](_0x342f9a(0x15f)+this[_0x342f9a(0x16c)]+'/'+_0x527c20['toLowerCase']());}catch(_0x3ef0ef){if(_0x3ef0ef instanceof api_error_1['ApiError'])throw _0x3ef0ef;throw new bad_request_error_1['BadRequestError'](_0x3ef0ef);}}};BitbucketRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata('design:paramtypes',[bitbucket_api_service_1[a93_0x101fdc(0x158)],auth_settings_service_1[a93_0x101fdc(0x178)]])],BitbucketRepoService),exports[a93_0x101fdc(0x170)]=BitbucketRepoService;