function a109_0x15b4(){const _0x3f8838=['master','constructor','__param','private','project','__decorate','function','__metadata','Service','Inject','ApiError','values','AuthSettingsService','../../../constants/errors','fromBitbucket','160233arKDHu','(((.+)+)+)+$','autoInit','length','../../../core/errors/api.error','../../internal/git.internal','22RTdQmZ','apiBody','object','./git-repo.service','573124mEihpG','getAll','name','request','GitRepoService','defineProperty','../../git-api/services/bitbucket-api.service','ERR_BITBUCKET_MISSING_PROJECT','13709270kvWYLM','apply','Git','toLowerCase','BadRequestError','workspace','authSettings','metadata','getOne','829815YfPppJ','Repo','decorate','__esModule','defaultBranch','9hbNAtL','../../../core/errors/bad-request.error','repositories/','delete','BitbucketRepoService','toString','1152536VFNCoV','21804ULDakn','apiRequest','4417896paCitb','getOwnPropertyDescriptor','map','BitbucketApiService','NotFoundError','bitbucket','740yQHSim'];a109_0x15b4=function(){return _0x3f8838;};return a109_0x15b4();}const a109_0xbe6d52=a109_0x3cd3;(function(_0x50a638,_0x2cb4b3){const _0x204c40=a109_0x3cd3,_0x4e4b75=_0x50a638();while(!![]){try{const _0x2303ea=parseInt(_0x204c40(0x18e))/0x1+parseInt(_0x204c40(0x1b8))/0x2*(parseInt(_0x204c40(0x1b2))/0x3)+parseInt(_0x204c40(0x1bc))/0x4+-parseInt(_0x204c40(0x1a2))/0x5*(parseInt(_0x204c40(0x19a))/0x6)+parseInt(_0x204c40(0x19c))/0x7+parseInt(_0x204c40(0x199))/0x8+-parseInt(_0x204c40(0x193))/0x9*(parseInt(_0x204c40(0x1c4))/0xa);if(_0x2303ea===_0x2cb4b3)break;else _0x4e4b75['push'](_0x4e4b75['shift']());}catch(_0x105ed4){_0x4e4b75['push'](_0x4e4b75['shift']());}}}(a109_0x15b4,0x6842d));const a109_0x2f06da=function(){let _0x33aef3=!![];return function(_0x30b4e1,_0x492b3c){const _0x3f3c9b=_0x33aef3?function(){const _0x31a4ad=a109_0x3cd3;if(_0x492b3c){const _0x5bf091=_0x492b3c[_0x31a4ad(0x1c5)](_0x30b4e1,arguments);return _0x492b3c=null,_0x5bf091;}}:function(){};return _0x33aef3=![],_0x3f3c9b;};}(),a109_0x918153=a109_0x2f06da(this,function(){const _0x20e91d=a109_0x3cd3;return a109_0x918153[_0x20e91d(0x198)]()['search'](_0x20e91d(0x1b3))['toString']()[_0x20e91d(0x1a4)](a109_0x918153)['search'](_0x20e91d(0x1b3));});a109_0x918153();'use strict';var __decorate=this&&this[a109_0xbe6d52(0x1a8)]||function(_0x2d53f4,_0x46a005,_0x6b800a,_0x28eec1){const _0x5c826d=a109_0xbe6d52;var _0x474f4c=arguments['length'],_0x508263=_0x474f4c<0x3?_0x46a005:_0x28eec1===null?_0x28eec1=Object[_0x5c826d(0x19d)](_0x46a005,_0x6b800a):_0x28eec1,_0x178beb;if(typeof Reflect===_0x5c826d(0x1ba)&&typeof Reflect[_0x5c826d(0x190)]==='function')_0x508263=Reflect['decorate'](_0x2d53f4,_0x46a005,_0x6b800a,_0x28eec1);else{for(var _0x54060a=_0x2d53f4[_0x5c826d(0x1b5)]-0x1;_0x54060a>=0x0;_0x54060a--)if(_0x178beb=_0x2d53f4[_0x54060a])_0x508263=(_0x474f4c<0x3?_0x178beb(_0x508263):_0x474f4c>0x3?_0x178beb(_0x46a005,_0x6b800a,_0x508263):_0x178beb(_0x46a005,_0x6b800a))||_0x508263;}return _0x474f4c>0x3&&_0x508263&&Object[_0x5c826d(0x1c1)](_0x46a005,_0x6b800a,_0x508263),_0x508263;},__metadata=this&&this[a109_0xbe6d52(0x1aa)]||function(_0x18afb9,_0x416170){const _0x3066b4=a109_0xbe6d52;if(typeof Reflect===_0x3066b4(0x1ba)&&typeof Reflect[_0x3066b4(0x1cb)]===_0x3066b4(0x1a9))return Reflect[_0x3066b4(0x1cb)](_0x18afb9,_0x416170);},__param=this&&this[a109_0xbe6d52(0x1a5)]||function(_0x5b9616,_0x1d1df6){return function(_0x62dbcc,_0xaa8c08){_0x1d1df6(_0x62dbcc,_0xaa8c08,_0x5b9616);};};Object['defineProperty'](exports,a109_0xbe6d52(0x191),{'value':!![]}),exports[a109_0xbe6d52(0x197)]=void 0x0;const errors_1=require(a109_0xbe6d52(0x1b0)),bad_request_error_1=require(a109_0xbe6d52(0x194)),not_found_error_1=require('../../../core/errors/not-found.error'),bitbucket_api_service_1=require(a109_0xbe6d52(0x1c2)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require('typedi'),api_error_1=require(a109_0xbe6d52(0x1b6)),git_internal_1=require(a109_0xbe6d52(0x1b7)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a109_0xbe6d52(0x1bb));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a109_0xbe6d52(0x1c0)]{constructor(_0x4ea958,_0x3235ea){const _0x35a564=a109_0xbe6d52;super(_0x4ea958),this[_0x35a564(0x1ca)]=_0x3235ea,this[_0x35a564(0x1bf)]=_0x4ea958[_0x35a564(0x19b)];if(!this[_0x35a564(0x1c9)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x35a564(0x1a7)])throw new Error(errors_1[_0x35a564(0x1c3)]);}get[a109_0xbe6d52(0x1c9)](){const _0x5a2a0e=a109_0xbe6d52;return this[_0x5a2a0e(0x1ca)][_0x5a2a0e(0x1a1)][_0x5a2a0e(0x1c9)];}get['project'](){const _0x5c12c5=a109_0xbe6d52;return this[_0x5c12c5(0x1ca)][_0x5c12c5(0x1a1)][_0x5c12c5(0x1a7)];}async['create'](_0x2fb7b9){const _0x27469f=a109_0xbe6d52;try{const {name:_0x57aa7f}=_0x2fb7b9,_0x41b05e={'name':_0x2fb7b9[_0x27469f(0x1be)],'is_private':_0x2fb7b9[_0x27469f(0x1a6)],..._0x2fb7b9[_0x27469f(0x1b9)]||{},'project':{'key':this[_0x27469f(0x1a7)]}},_0x309c34=await this[_0x27469f(0x1bf)]['post']('/repositories/'+this['workspace']+'/'+_0x57aa7f[_0x27469f(0x1c7)](),_0x41b05e),_0x418738=repo_class_1['Repo'][_0x27469f(0x1b1)](_0x309c34);return _0x2fb7b9[_0x27469f(0x1b4)]&&(await git_internal_1[_0x27469f(0x1c6)]['createEmptyBranch'](_0x418738,_0x2fb7b9[_0x27469f(0x192)]||_0x27469f(0x1a3)),_0x418738['defaultBranch']=_0x2fb7b9[_0x27469f(0x192)]||_0x27469f(0x1a3)),_0x418738;}catch(_0xfaf955){if(_0xfaf955 instanceof api_error_1[_0x27469f(0x1ad)])throw _0xfaf955;throw new bad_request_error_1[(_0x27469f(0x1c8))](_0xfaf955);}}async[a109_0xbe6d52(0x1bd)](){const _0x51ce79=a109_0xbe6d52;try{const _0x54b022=[];let _0x56f4e6;do{_0x56f4e6=await this[_0x51ce79(0x1bf)]['get'](_0x56f4e6?_0x56f4e6['next']:_0x51ce79(0x195)+this[_0x51ce79(0x1c9)]),_0x54b022['push'](..._0x56f4e6[_0x51ce79(0x1ae)]);}while(_0x56f4e6['next']);return _0x54b022[_0x51ce79(0x19e)](_0x313f87=>repo_class_1[_0x51ce79(0x18f)]['fromBitbucket'](_0x313f87));}catch(_0x275a93){if(_0x275a93 instanceof api_error_1['ApiError'])throw _0x275a93;throw new not_found_error_1[(_0x51ce79(0x1a0))](_0x275a93);}}async[a109_0xbe6d52(0x1cc)](_0x1adad3){const _0xa61919=a109_0xbe6d52;try{const _0x16ec33=await this[_0xa61919(0x1bf)]['get']('repositories/'+this['workspace']+'/'+_0x1adad3[_0xa61919(0x1c7)]());return repo_class_1[_0xa61919(0x18f)]['fromBitbucket'](_0x16ec33);}catch(_0x3b5bb2){if(_0x3b5bb2 instanceof api_error_1[_0xa61919(0x1ad)])throw _0x3b5bb2;throw new not_found_error_1['NotFoundError'](_0x3b5bb2);}}async['update'](_0x3da242,_0x53c2f9){const _0x1084c1=a109_0xbe6d52;await this[_0x1084c1(0x1cc)](_0x3da242);try{const _0x4117a6=await this[_0x1084c1(0x1bf)]['put'](_0x1084c1(0x195)+this[_0x1084c1(0x1c9)]+'/'+_0x3da242[_0x1084c1(0x1c7)](),_0x53c2f9);return repo_class_1[_0x1084c1(0x18f)][_0x1084c1(0x1b1)](_0x4117a6);}catch(_0x2c742e){if(_0x2c742e instanceof api_error_1['ApiError'])throw _0x2c742e;throw new not_found_error_1[(_0x1084c1(0x1a0))](_0x2c742e);}}async[a109_0xbe6d52(0x196)](_0x402f0a){const _0xc260c3=a109_0xbe6d52;try{await this[_0xc260c3(0x1bf)][_0xc260c3(0x196)]('repositories/'+this['workspace']+'/'+_0x402f0a[_0xc260c3(0x1c7)]());}catch(_0x57f1fe){if(_0x57f1fe instanceof api_error_1[_0xc260c3(0x1ad)])throw _0x57f1fe;throw new bad_request_error_1[(_0xc260c3(0x1c8))](_0x57f1fe);}}};function a109_0x3cd3(_0x42aa12,_0x2b80db){const _0x3a28be=a109_0x15b4();return a109_0x3cd3=function(_0x918153,_0x2f06da){_0x918153=_0x918153-0x18e;let _0x15b409=_0x3a28be[_0x918153];return _0x15b409;},a109_0x3cd3(_0x42aa12,_0x2b80db);}BitbucketRepoService=__decorate([typedi_1[a109_0xbe6d52(0x1ab)](),__param(0x0,typedi_1[a109_0xbe6d52(0x1ac)]()),__metadata('design:paramtypes',[bitbucket_api_service_1[a109_0xbe6d52(0x19f)],auth_settings_service_1[a109_0xbe6d52(0x1af)]])],BitbucketRepoService),exports[a109_0xbe6d52(0x197)]=BitbucketRepoService;