const a103_0x294d9e=a103_0x92c0;function a103_0x4599(){const _0x21aa53=['object','10cRLmku','azure','566288vgGFHI','../../shared/services/auth-settings.service','typedi','patch','Git','post','function','map','199184YJYMgY','length','create','repositories/','get','35VIqmpB','NotFoundError','3405786fZnfRq','GitRepoService','getAll','ApiError','__metadata','metadata','autoInit','BadRequestError','614002fQScYC','decorate','getOne','4278YHuPEU','createEmptyBranch','(((.+)+)+)+$','__esModule','delete','repositories','design:paramtypes','/_apis/git','value','../../../core/errors/api.error','../../../core/errors/not-found.error','defaults','../../internal/git.internal','request','search','defineProperty','fromAzure','toString','../repo.class','1533339AoPMKy','12660241PsswHF','baseURL','constructor','5FvzuRO','AzureRepoService','Repo','organization','getOwnPropertyDescriptor','900SwTsDm','AzureApiService','name'];a103_0x4599=function(){return _0x21aa53;};return a103_0x4599();}function a103_0x92c0(_0x12e4e5,_0x1fdbb6){const _0x439e85=a103_0x4599();return a103_0x92c0=function(_0x587180,_0x46e8d1){_0x587180=_0x587180-0x1ab;let _0x4599ae=_0x439e85[_0x587180];return _0x4599ae;},a103_0x92c0(_0x12e4e5,_0x1fdbb6);}(function(_0x28564f,_0x361f6b){const _0x20c2af=a103_0x92c0,_0x6e562c=_0x28564f();while(!![]){try{const _0x9ab1ed=-parseInt(_0x20c2af(0x1b6))/0x1+-parseInt(_0x20c2af(0x1b9))/0x2*(-parseInt(_0x20c2af(0x1d5))/0x3)+-parseInt(_0x20c2af(0x1e3))/0x4+-parseInt(_0x20c2af(0x1d0))/0x5*(parseInt(_0x20c2af(0x1ae))/0x6)+-parseInt(_0x20c2af(0x1ac))/0x7*(parseInt(_0x20c2af(0x1db))/0x8)+parseInt(_0x20c2af(0x1cc))/0x9+-parseInt(_0x20c2af(0x1d9))/0xa*(-parseInt(_0x20c2af(0x1cd))/0xb);if(_0x9ab1ed===_0x361f6b)break;else _0x6e562c['push'](_0x6e562c['shift']());}catch(_0xb1134a){_0x6e562c['push'](_0x6e562c['shift']());}}}(a103_0x4599,0x5c32b));const a103_0x46e8d1=function(){let _0x4a6cf4=!![];return function(_0x1b2bf9,_0x5f5a85){const _0xca4ab8=_0x4a6cf4?function(){if(_0x5f5a85){const _0x153b43=_0x5f5a85['apply'](_0x1b2bf9,arguments);return _0x5f5a85=null,_0x153b43;}}:function(){};return _0x4a6cf4=![],_0xca4ab8;};}(),a103_0x587180=a103_0x46e8d1(this,function(){const _0x338ea8=a103_0x92c0;return a103_0x587180[_0x338ea8(0x1ca)]()[_0x338ea8(0x1c7)](_0x338ea8(0x1bb))[_0x338ea8(0x1ca)]()[_0x338ea8(0x1cf)](a103_0x587180)[_0x338ea8(0x1c7)](_0x338ea8(0x1bb));});a103_0x587180();'use strict';var __decorate=this&&this['__decorate']||function(_0x5772b1,_0x54614e,_0x26efee,_0x558005){const _0x3c06c1=a103_0x92c0;var _0x1d1ad0=arguments[_0x3c06c1(0x1e4)],_0x38b4db=_0x1d1ad0<0x3?_0x54614e:_0x558005===null?_0x558005=Object[_0x3c06c1(0x1d4)](_0x54614e,_0x26efee):_0x558005,_0x3efa1f;if(typeof Reflect==='object'&&typeof Reflect[_0x3c06c1(0x1b7)]===_0x3c06c1(0x1e1))_0x38b4db=Reflect[_0x3c06c1(0x1b7)](_0x5772b1,_0x54614e,_0x26efee,_0x558005);else{for(var _0x4dedc3=_0x5772b1[_0x3c06c1(0x1e4)]-0x1;_0x4dedc3>=0x0;_0x4dedc3--)if(_0x3efa1f=_0x5772b1[_0x4dedc3])_0x38b4db=(_0x1d1ad0<0x3?_0x3efa1f(_0x38b4db):_0x1d1ad0>0x3?_0x3efa1f(_0x54614e,_0x26efee,_0x38b4db):_0x3efa1f(_0x54614e,_0x26efee))||_0x38b4db;}return _0x1d1ad0>0x3&&_0x38b4db&&Object[_0x3c06c1(0x1c8)](_0x54614e,_0x26efee,_0x38b4db),_0x38b4db;},__metadata=this&&this[a103_0x294d9e(0x1b2)]||function(_0x18052e,_0x2eab25){const _0x5848df=a103_0x294d9e;if(typeof Reflect===_0x5848df(0x1d8)&&typeof Reflect['metadata']===_0x5848df(0x1e1))return Reflect[_0x5848df(0x1b3)](_0x18052e,_0x2eab25);},__param=this&&this['__param']||function(_0x513f42,_0x349424){return function(_0x441f35,_0x430d21){_0x349424(_0x441f35,_0x430d21,_0x513f42);};};Object[a103_0x294d9e(0x1c8)](exports,a103_0x294d9e(0x1bc),{'value':!![]}),exports[a103_0x294d9e(0x1d1)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a103_0x294d9e(0x1c3)),azure_api_service_1=require('../../git-api/services/azure-api.service'),auth_settings_service_1=require(a103_0x294d9e(0x1dc)),typedi_1=require(a103_0x294d9e(0x1dd)),api_error_1=require(a103_0x294d9e(0x1c2)),git_internal_1=require(a103_0x294d9e(0x1c5)),repo_class_1=require(a103_0x294d9e(0x1cb)),git_repo_service_1=require('./git-repo.service');let AzureRepoService=class AzureRepoService extends git_repo_service_1[a103_0x294d9e(0x1af)]{constructor(_0x40308e,_0x30815b){const _0x419262=a103_0x294d9e;super(_0x40308e),this[_0x419262(0x1d3)]=_0x30815b[_0x419262(0x1da)]['organization'],this['project']=_0x30815b[_0x419262(0x1da)]['project'],this[_0x419262(0x1c6)][_0x419262(0x1c4)]['baseURL']=''+this[_0x419262(0x1c6)][_0x419262(0x1c4)][_0x419262(0x1ce)]+this[_0x419262(0x1d3)]+'/'+this['project']+_0x419262(0x1c0);}async[a103_0x294d9e(0x1e5)](_0x260ce5){const _0xa1f782=a103_0x294d9e;try{const _0x443c25=await this[_0xa1f782(0x1c6)][_0xa1f782(0x1e0)](_0xa1f782(0x1be),_0x260ce5),_0x5165eb=repo_class_1[_0xa1f782(0x1d2)][_0xa1f782(0x1c9)](_0x443c25);return _0x260ce5[_0xa1f782(0x1b4)]&&await git_internal_1[_0xa1f782(0x1df)][_0xa1f782(0x1ba)](_0x5165eb,_0x260ce5['defaultBranch']||'master'),this[_0xa1f782(0x1b8)](_0x5165eb[_0xa1f782(0x1d7)]);}catch(_0x119616){if(_0x119616 instanceof api_error_1[_0xa1f782(0x1b1)])throw _0x119616;throw new bad_request_error_1[(_0xa1f782(0x1b5))](_0x119616);}}async['getOne'](_0x4b9cc3){const _0x306181=a103_0x294d9e;try{const _0x115c5c=await this['request']['get'](_0x306181(0x1e6)+_0x4b9cc3);return repo_class_1[_0x306181(0x1d2)]['fromAzure'](_0x115c5c);}catch(_0x5de468){if(_0x5de468 instanceof api_error_1[_0x306181(0x1b1)])throw _0x5de468;throw new not_found_error_1[(_0x306181(0x1ad))](_0x5de468);}}async[a103_0x294d9e(0x1b0)](){const _0x156581=a103_0x294d9e;try{const _0x59d9da=await this[_0x156581(0x1c6)][_0x156581(0x1ab)]('repositories');return _0x59d9da[_0x156581(0x1c1)][_0x156581(0x1e2)](_0x2b7b94=>repo_class_1[_0x156581(0x1d2)][_0x156581(0x1c9)](_0x2b7b94));}catch(_0x47f40e){if(_0x47f40e instanceof api_error_1[_0x156581(0x1b1)])throw _0x47f40e;throw new not_found_error_1[(_0x156581(0x1ad))](_0x47f40e);}}async['update'](_0xf7a203,_0x5f36af){const _0x56572f=a103_0x294d9e;try{const _0x5a302e=await this[_0x56572f(0x1b8)](_0xf7a203),_0x43c69f=await this[_0x56572f(0x1c6)][_0x56572f(0x1de)](_0x5a302e['apiUrl'],_0x5f36af);return repo_class_1[_0x56572f(0x1d2)]['fromAzure'](_0x43c69f);}catch(_0xcabd02){if(_0xcabd02 instanceof api_error_1[_0x56572f(0x1b1)])throw _0xcabd02;throw new bad_request_error_1['BadRequestError'](_0xcabd02);}}async[a103_0x294d9e(0x1bd)](_0x5bf629){const _0x190061=a103_0x294d9e;try{await this[_0x190061(0x1c6)]['delete'](_0x190061(0x1e6)+_0x5bf629);}catch(_0x19b43c){if(_0x19b43c instanceof api_error_1['ApiError'])throw _0x19b43c;throw new not_found_error_1[(_0x190061(0x1ad))](_0x19b43c);}}};AzureRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1['Inject']()),__metadata(a103_0x294d9e(0x1bf),[azure_api_service_1[a103_0x294d9e(0x1d6)],auth_settings_service_1['AuthSettingsService']])],AzureRepoService),exports[a103_0x294d9e(0x1d1)]=AzureRepoService;