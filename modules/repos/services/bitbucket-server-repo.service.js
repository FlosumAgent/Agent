const a93_0x5c3bbf=a93_0x4ce1;(function(_0x50216f,_0x5c996d){const _0x120150=a93_0x4ce1,_0xa52b62=_0x50216f();while(!![]){try{const _0x15c1ea=parseInt(_0x120150(0xa0))/0x1*(-parseInt(_0x120150(0xd0))/0x2)+parseInt(_0x120150(0x96))/0x3+parseInt(_0x120150(0xb6))/0x4+parseInt(_0x120150(0x9d))/0x5*(parseInt(_0x120150(0xb8))/0x6)+parseInt(_0x120150(0x99))/0x7+parseInt(_0x120150(0x97))/0x8*(-parseInt(_0x120150(0xc6))/0x9)+-parseInt(_0x120150(0xcb))/0xa;if(_0x15c1ea===_0x5c996d)break;else _0xa52b62['push'](_0xa52b62['shift']());}catch(_0x5c7534){_0xa52b62['push'](_0xa52b62['shift']());}}}(a93_0x201b,0x24bf7));const a93_0x7c843b=function(){let _0x5acb71=!![];return function(_0x22231f,_0x2284df){const _0x5c0756=_0x5acb71?function(){const _0x160762=a93_0x4ce1;if(_0x2284df){const _0x15448b=_0x2284df[_0x160762(0xc2)](_0x22231f,arguments);return _0x2284df=null,_0x15448b;}}:function(){};return _0x5acb71=![],_0x5c0756;};}(),a93_0x42adf1=a93_0x7c843b(this,function(){const _0x27946e=a93_0x4ce1;return a93_0x42adf1[_0x27946e(0xab)]()[_0x27946e(0x98)](_0x27946e(0xa8))[_0x27946e(0xab)]()[_0x27946e(0xb7)](a93_0x42adf1)[_0x27946e(0x98)](_0x27946e(0xa8));});a93_0x42adf1();'use strict';function a93_0x4ce1(_0x2165fe,_0x2f14a4){const _0x249d22=a93_0x201b();return a93_0x4ce1=function(_0x42adf1,_0x7c843b){_0x42adf1=_0x42adf1-0x93;let _0x201b60=_0x249d22[_0x42adf1];return _0x201b60;},a93_0x4ce1(_0x2165fe,_0x2f14a4);}var __decorate=this&&this[a93_0x5c3bbf(0xcc)]||function(_0x14c3d8,_0x22ecae,_0x45b726,_0x27fcd6){const _0x45fc24=a93_0x5c3bbf;var _0x50c587=arguments[_0x45fc24(0xc0)],_0x4fefc3=_0x50c587<0x3?_0x22ecae:_0x27fcd6===null?_0x27fcd6=Object[_0x45fc24(0xb2)](_0x22ecae,_0x45b726):_0x27fcd6,_0x24e487;if(typeof Reflect===_0x45fc24(0xc4)&&typeof Reflect[_0x45fc24(0xca)]===_0x45fc24(0xd5))_0x4fefc3=Reflect['decorate'](_0x14c3d8,_0x22ecae,_0x45b726,_0x27fcd6);else{for(var _0x47aaa4=_0x14c3d8[_0x45fc24(0xc0)]-0x1;_0x47aaa4>=0x0;_0x47aaa4--)if(_0x24e487=_0x14c3d8[_0x47aaa4])_0x4fefc3=(_0x50c587<0x3?_0x24e487(_0x4fefc3):_0x50c587>0x3?_0x24e487(_0x22ecae,_0x45b726,_0x4fefc3):_0x24e487(_0x22ecae,_0x45b726))||_0x4fefc3;}return _0x50c587>0x3&&_0x4fefc3&&Object['defineProperty'](_0x22ecae,_0x45b726,_0x4fefc3),_0x4fefc3;},__metadata=this&&this[a93_0x5c3bbf(0xa5)]||function(_0x38488a,_0x4a60c3){const _0x5bd265=a93_0x5c3bbf;if(typeof Reflect===_0x5bd265(0xc4)&&typeof Reflect[_0x5bd265(0xa4)]===_0x5bd265(0xd5))return Reflect[_0x5bd265(0xa4)](_0x38488a,_0x4a60c3);},__param=this&&this[a93_0x5c3bbf(0xbb)]||function(_0x4e76fa,_0x973c95){return function(_0x5db50b,_0x59b639){_0x973c95(_0x5db50b,_0x59b639,_0x4e76fa);};};Object[a93_0x5c3bbf(0xbd)](exports,a93_0x5c3bbf(0x9e),{'value':!![]}),exports[a93_0x5c3bbf(0xa1)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a93_0x5c3bbf(0xa9)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a93_0x5c3bbf(0xa3)),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require(a93_0x5c3bbf(0xbf)),utils_1=require(a93_0x5c3bbf(0xae)),repo_class_1=require(a93_0x5c3bbf(0xa6)),git_repo_service_1=require(a93_0x5c3bbf(0xaa));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a93_0x5c3bbf(0xc1)]{constructor(_0x34fa5b,_0x2c2879){const _0x10a5e8=a93_0x5c3bbf;super(_0x34fa5b),this[_0x10a5e8(0xc3)]=_0x34fa5b,this['project']=_0x2c2879[_0x10a5e8(0xba)][_0x10a5e8(0xc9)];}async['create'](_0x2217e7){const _0x2843ec=a93_0x5c3bbf;try{const _0x759f24={'name':_0x2217e7[_0x2843ec(0x9f)],'scmId':_0x2843ec(0xd2),'defaultBranch':_0x2217e7['defaultBranch'],..._0x2217e7[_0x2843ec(0xd7)]||{}},_0x38c834=await this['request']['post'](_0x2843ec(0xcd)+this['project']+_0x2843ec(0xb4),_0x759f24),_0x5cc2a4=repo_class_1[_0x2843ec(0xa2)][_0x2843ec(0xac)](_0x38c834,'');return _0x2217e7[_0x2843ec(0xbe)]&&await git_internal_1[_0x2843ec(0x93)][_0x2843ec(0xb1)](_0x5cc2a4,_0x2217e7['defaultBranch']||_0x2843ec(0xcf)),this[_0x2843ec(0x94)](_0x5cc2a4[_0x2843ec(0x9f)]);}catch(_0x5d50c1){throw new bad_request_error_1[(_0x2843ec(0xbc))](_0x5d50c1);}}async['getOne'](_0x186961){const _0x3bd4ce=a93_0x5c3bbf;var _0xc8742;try{const _0x3c9d72=await this[_0x3bd4ce(0xd8)][_0x3bd4ce(0xce)](_0x3bd4ce(0xcd)+this['project']+_0x3bd4ce(0xa7)+_0x186961),_0x73d50a=repo_class_1[_0x3bd4ce(0xa2)][_0x3bd4ce(0xac)](_0x3c9d72,(0x0,utils_1[_0x3bd4ce(0xd4)])(this[_0x3bd4ce(0xd8)]['defaults']['baseURL']||'',_0x3bd4ce(0xd1)+this[_0x3bd4ce(0xc9)]+_0x3bd4ce(0xa7)+_0x186961)),_0x54ccdb=await this['request']['get'](_0x73d50a['apiUrl']+_0x3bd4ce(0x9b))[_0x3bd4ce(0xd6)](_0x169cd2=>_0x169cd2[_0x3bd4ce(0xaf)]);return _0x73d50a['defaultBranch']=(_0xc8742=_0x54ccdb[_0x3bd4ce(0xc8)](_0x1687be=>_0x1687be['isDefault']===!![]))===null||_0xc8742===void 0x0?void 0x0:_0xc8742[_0x3bd4ce(0xc7)],_0x73d50a;}catch(_0x8ab007){throw new not_found_error_1[(_0x3bd4ce(0x95))](_0x8ab007);}}async[a93_0x5c3bbf(0xb9)](_0x3e1237,_0x2022f6){const _0x315cd0=a93_0x5c3bbf;try{const _0x27054e=await this[_0x315cd0(0xd8)]['put'](_0x315cd0(0xcd)+this[_0x315cd0(0xc9)]+'/repos/'+_0x3e1237,_0x2022f6),_0xcd9f90=await this[_0x315cd0(0xd8)][_0x315cd0(0xce)](_0x315cd0(0xcd)+this['project']+_0x315cd0(0xa7)+_0x3e1237+_0x315cd0(0xc5)),_0x2dfb12=repo_class_1['Repo'][_0x315cd0(0xac)](_0x27054e,(0x0,utils_1[_0x315cd0(0xd4)])(this[_0x315cd0(0xd8)][_0x315cd0(0xb0)][_0x315cd0(0xd3)]||'',_0x315cd0(0xd1)+this[_0x315cd0(0xc9)]+_0x315cd0(0xa7)+_0x3e1237));return _0x2dfb12[_0x315cd0(0x9a)]=_0xcd9f90[_0x315cd0(0xc7)],_0x2dfb12;}catch(_0x35c20f){throw new not_found_error_1[(_0x315cd0(0x95))](_0x35c20f);}}async[a93_0x5c3bbf(0xb3)](_0x5b0967){const _0x4e70c0=a93_0x5c3bbf;try{await this['getOne'](_0x5b0967),await this[_0x4e70c0(0xd8)][_0x4e70c0(0xb3)](_0x4e70c0(0xcd)+this[_0x4e70c0(0xc9)]+_0x4e70c0(0xa7)+_0x5b0967);}catch(_0x37a53b){throw new bad_request_error_1[(_0x4e70c0(0xbc))](_0x37a53b);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1['Inject'])()),__metadata(a93_0x5c3bbf(0xad),[bitbucket_server_api_service_1[a93_0x5c3bbf(0xb5)],auth_settings_service_1[a93_0x5c3bbf(0x9c)]])],BitbucketServerRepoService),exports[a93_0x5c3bbf(0xa1)]=BitbucketServerRepoService;function a93_0x201b(){const _0x297d50=['apply','api','object','/default-branch','25947clvqkR','displayId','find','project','decorate','1556740TngtHu','__decorate','projects/','get','master','6PKfWEb','/projects/','git','baseURL','joinURL','function','then','apiBody','request','Git','getOne','NotFoundError','892200xSvOrk','624LOJRZe','search','417011zJtcMk','defaultBranch','/branches','AuthSettingsService','1099235pgRHDQ','__esModule','name','33391ANkPIp','BitbucketServerRepoService','Repo','typedi','metadata','__metadata','../repo.class','/repos/','(((.+)+)+)+$','../../../core/errors/not-found.error','./git-repo.service','toString','fromBitbucketServer','design:paramtypes','../../shared/utils','values','defaults','createEmptyBranch','getOwnPropertyDescriptor','delete','/repos','BitbucketServerApiService','217680ciaYEU','constructor','6lLiBSD','update','bitbucketServer','__param','BadRequestError','defineProperty','autoInit','../../internal/git.internal','length','GitRepoService'];a93_0x201b=function(){return _0x297d50;};return a93_0x201b();}