const a93_0x5f52=['980711gYIlAz','/repos/','bitbucketServer','__metadata','post','/default-branch','api','GitRepoService','41105DYoPJk','name','function','then','1585vBQXDP','1317VhqVTY','request','Service','/branches','getOne','apiUrl','../../git-api/services/bitbucket-server-api.service','5jQqbYc','../../../core/errors/not-found.error','git','length','projects/','displayId','600262RyMMmN','defaults','../../shared/services/auth-settings.service','./git-repo.service','put','BitbucketServerApiService','constructor','fromBitbucketServer','update','../../internal/git.internal','get','BadRequestError','../../shared/utils','project','createEmptyBranch','return\x20/\x22\x20+\x20this\x20+\x20\x22/','design:paramtypes','AuthSettingsService','__esModule','1850875NVcWVv','joinURL','baseURL','object','297346bJNcoZ','873903suCsjJ','defaultBranch','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Repo','/projects/','defineProperty','getOwnPropertyDescriptor','delete','1iIzkIE','Git','autoInit','__decorate'];const a93_0x869419=a93_0x6859;(function(_0x13b22c,_0x433fe4){const _0x1bb2cf=a93_0x6859;while(!![]){try{const _0x69562e=-parseInt(_0x1bb2cf(0x20e))*-parseInt(_0x1bb2cf(0x212))+-parseInt(_0x1bb2cf(0x205))+-parseInt(_0x1bb2cf(0x1ee))+parseInt(_0x1bb2cf(0x206))+-parseInt(_0x1bb2cf(0x21a))*-parseInt(_0x1bb2cf(0x1e8))+parseInt(_0x1bb2cf(0x201))+-parseInt(_0x1bb2cf(0x21e))*parseInt(_0x1bb2cf(0x21f));if(_0x69562e===_0x433fe4)break;else _0x13b22c['push'](_0x13b22c['shift']());}catch(_0x484c51){_0x13b22c['push'](_0x13b22c['shift']());}}}(a93_0x5f52,0xe2109));const a93_0x369629=function(){let _0x126529=!![];return function(_0x133a88,_0x4b3fe7){const _0x214b71=_0x126529?function(){if(_0x4b3fe7){const _0x5141d4=_0x4b3fe7['apply'](_0x133a88,arguments);return _0x4b3fe7=null,_0x5141d4;}}:function(){};return _0x126529=![],_0x214b71;};}(),a93_0x286b4e=a93_0x369629(this,function(){const _0x293ee0=function(){const _0x22b4a5=a93_0x6859,_0x59f798=_0x293ee0[_0x22b4a5(0x1f4)](_0x22b4a5(0x1fd))()[_0x22b4a5(0x1f4)](_0x22b4a5(0x208));return!_0x59f798['test'](a93_0x286b4e);};return _0x293ee0();});function a93_0x6859(_0x215667,_0x1c8bcd){return a93_0x6859=function(_0x393ecb,_0x286b4e){_0x393ecb=_0x393ecb-0x1e7;let _0x369629=a93_0x5f52[_0x393ecb];return _0x369629;},a93_0x6859(_0x215667,_0x1c8bcd);}a93_0x286b4e();'use strict';var __decorate=this&&this[a93_0x869419(0x211)]||function(_0x664b6,_0x499b38,_0x38400e,_0x4ba908){const _0x32e962=a93_0x869419;var _0xc74c44=arguments[_0x32e962(0x1eb)],_0x5098d2=_0xc74c44<0x3?_0x499b38:_0x4ba908===null?_0x4ba908=Object[_0x32e962(0x20c)](_0x499b38,_0x38400e):_0x4ba908,_0x23454a;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x32e962(0x21c))_0x5098d2=Reflect['decorate'](_0x664b6,_0x499b38,_0x38400e,_0x4ba908);else{for(var _0x2a2ef4=_0x664b6[_0x32e962(0x1eb)]-0x1;_0x2a2ef4>=0x0;_0x2a2ef4--)if(_0x23454a=_0x664b6[_0x2a2ef4])_0x5098d2=(_0xc74c44<0x3?_0x23454a(_0x5098d2):_0xc74c44>0x3?_0x23454a(_0x499b38,_0x38400e,_0x5098d2):_0x23454a(_0x499b38,_0x38400e))||_0x5098d2;}return _0xc74c44>0x3&&_0x5098d2&&Object[_0x32e962(0x20b)](_0x499b38,_0x38400e,_0x5098d2),_0x5098d2;},__metadata=this&&this[a93_0x869419(0x215)]||function(_0x590634,_0xb2354d){const _0x27321f=a93_0x869419;if(typeof Reflect===_0x27321f(0x204)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x590634,_0xb2354d);},__param=this&&this['__param']||function(_0x1380d8,_0xb70573){return function(_0x5868f5,_0x392487){_0xb70573(_0x5868f5,_0x392487,_0x1380d8);};};Object[a93_0x869419(0x20b)](exports,a93_0x869419(0x200),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a93_0x869419(0x1e9)),auth_settings_service_1=require(a93_0x869419(0x1f0)),typedi_1=require('typedi'),bitbucket_server_api_service_1=require(a93_0x869419(0x1e7)),git_internal_1=require(a93_0x869419(0x1f7)),utils_1=require(a93_0x869419(0x1fa)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a93_0x869419(0x1f1));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a93_0x869419(0x219)]{constructor(_0x304fa0,_0x52f6cf){const _0x12403a=a93_0x869419;super(_0x304fa0),this[_0x12403a(0x218)]=_0x304fa0,this[_0x12403a(0x1fb)]=_0x52f6cf[_0x12403a(0x214)][_0x12403a(0x1fb)];}async['create'](_0x4e7cb5){const _0x5e071b=a93_0x869419;try{const _0x5f1eb5={'name':_0x4e7cb5[_0x5e071b(0x21b)],'scmId':_0x5e071b(0x1ea),'defaultBranch':_0x4e7cb5['defaultBranch'],..._0x4e7cb5['apiBody']||{}},_0x1c06ed=await this[_0x5e071b(0x220)][_0x5e071b(0x216)]('projects/'+this[_0x5e071b(0x1fb)]+'/repos',_0x5f1eb5),_0x212ac1=repo_class_1[_0x5e071b(0x209)][_0x5e071b(0x1f5)](_0x1c06ed,'');return _0x4e7cb5[_0x5e071b(0x210)]&&await git_internal_1[_0x5e071b(0x20f)][_0x5e071b(0x1fc)](_0x212ac1,_0x4e7cb5[_0x5e071b(0x207)]||'master'),this[_0x5e071b(0x223)](_0x212ac1[_0x5e071b(0x21b)]);}catch(_0x43ed58){throw new bad_request_error_1[(_0x5e071b(0x1f9))](_0x43ed58);}}async['getOne'](_0x11d4b7){const _0x338f78=a93_0x869419;var _0x2f6337;try{const _0x3a848e=await this[_0x338f78(0x220)][_0x338f78(0x1f8)](_0x338f78(0x1ec)+this[_0x338f78(0x1fb)]+'/repos/'+_0x11d4b7),_0x27e8cc=repo_class_1[_0x338f78(0x209)][_0x338f78(0x1f5)](_0x3a848e,utils_1[_0x338f78(0x202)](this[_0x338f78(0x220)]['defaults'][_0x338f78(0x203)]||'',_0x338f78(0x20a)+this[_0x338f78(0x1fb)]+_0x338f78(0x213)+_0x11d4b7)),_0x443cc1=await this['request']['get'](_0x27e8cc[_0x338f78(0x224)]+_0x338f78(0x222))[_0x338f78(0x21d)](_0x3e6118=>_0x3e6118['values']);return _0x27e8cc[_0x338f78(0x207)]=(_0x2f6337=_0x443cc1['find'](_0x3846fb=>_0x3846fb['isDefault']===!![]))===null||_0x2f6337===void 0x0?void 0x0:_0x2f6337[_0x338f78(0x1ed)],_0x27e8cc;}catch(_0x2a4e36){throw new not_found_error_1['NotFoundError'](_0x2a4e36);}}async[a93_0x869419(0x1f6)](_0x355d41,_0x36e9a0){const _0x9d1f6a=a93_0x869419;try{const _0x107b01=await this[_0x9d1f6a(0x220)][_0x9d1f6a(0x1f2)](_0x9d1f6a(0x1ec)+this['project']+_0x9d1f6a(0x213)+_0x355d41,_0x36e9a0),_0x13e37d=await this[_0x9d1f6a(0x220)][_0x9d1f6a(0x1f8)]('projects/'+this[_0x9d1f6a(0x1fb)]+_0x9d1f6a(0x213)+_0x355d41+_0x9d1f6a(0x217)),_0x52128b=repo_class_1[_0x9d1f6a(0x209)][_0x9d1f6a(0x1f5)](_0x107b01,utils_1[_0x9d1f6a(0x202)](this[_0x9d1f6a(0x220)][_0x9d1f6a(0x1ef)]['baseURL']||'',_0x9d1f6a(0x20a)+this[_0x9d1f6a(0x1fb)]+_0x9d1f6a(0x213)+_0x355d41));return _0x52128b['defaultBranch']=_0x13e37d['displayId'],_0x52128b;}catch(_0x5dcf6c){throw new not_found_error_1['NotFoundError'](_0x5dcf6c);}}async[a93_0x869419(0x20d)](_0x43f92e){const _0xcc2ae3=a93_0x869419;try{await this[_0xcc2ae3(0x223)](_0x43f92e),await this[_0xcc2ae3(0x220)][_0xcc2ae3(0x20d)](_0xcc2ae3(0x1ec)+this[_0xcc2ae3(0x1fb)]+_0xcc2ae3(0x213)+_0x43f92e);}catch(_0x417711){throw new bad_request_error_1[(_0xcc2ae3(0x1f9))](_0x417711);}}};BitbucketServerRepoService=__decorate([typedi_1[a93_0x869419(0x221)](),__param(0x1,typedi_1['Inject']()),__metadata(a93_0x869419(0x1fe),[bitbucket_server_api_service_1[a93_0x869419(0x1f3)],auth_settings_service_1[a93_0x869419(0x1ff)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;