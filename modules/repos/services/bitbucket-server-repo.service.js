const a110_0x20d6b0=a110_0x527b;(function(_0x1e182b,_0x2f0890){const _0x561ee0=a110_0x527b,_0x3610da=_0x1e182b();while(!![]){try{const _0x84ed10=-parseInt(_0x561ee0(0x171))/0x1+-parseInt(_0x561ee0(0x147))/0x2*(parseInt(_0x561ee0(0x140))/0x3)+-parseInt(_0x561ee0(0x14c))/0x4+parseInt(_0x561ee0(0x14d))/0x5+-parseInt(_0x561ee0(0x14b))/0x6+parseInt(_0x561ee0(0x181))/0x7*(parseInt(_0x561ee0(0x169))/0x8)+parseInt(_0x561ee0(0x170))/0x9*(parseInt(_0x561ee0(0x14f))/0xa);if(_0x84ed10===_0x2f0890)break;else _0x3610da['push'](_0x3610da['shift']());}catch(_0x34166b){_0x3610da['push'](_0x3610da['shift']());}}}(a110_0xd39b,0x7d1ed));const a110_0x572c3b=function(){let _0x2791f3=!![];return function(_0x56501d,_0x3aba53){const _0x5bb9bc=_0x2791f3?function(){if(_0x3aba53){const _0x597e66=_0x3aba53['apply'](_0x56501d,arguments);return _0x3aba53=null,_0x597e66;}}:function(){};return _0x2791f3=![],_0x5bb9bc;};}(),a110_0x3075ae=a110_0x572c3b(this,function(){const _0x35f884=a110_0x527b;return a110_0x3075ae[_0x35f884(0x154)]()[_0x35f884(0x163)](_0x35f884(0x16f))['toString']()['constructor'](a110_0x3075ae)['search'](_0x35f884(0x16f));});a110_0x3075ae();'use strict';var __decorate=this&&this[a110_0x20d6b0(0x17b)]||function(_0x3316ec,_0x43ba38,_0x3b4af8,_0x264455){const _0x15f2b4=a110_0x20d6b0;var _0x24de80=arguments[_0x15f2b4(0x141)],_0x5e80a4=_0x24de80<0x3?_0x43ba38:_0x264455===null?_0x264455=Object[_0x15f2b4(0x165)](_0x43ba38,_0x3b4af8):_0x264455,_0xbc0416;if(typeof Reflect===_0x15f2b4(0x15b)&&typeof Reflect[_0x15f2b4(0x174)]==='function')_0x5e80a4=Reflect['decorate'](_0x3316ec,_0x43ba38,_0x3b4af8,_0x264455);else{for(var _0x49c68d=_0x3316ec[_0x15f2b4(0x141)]-0x1;_0x49c68d>=0x0;_0x49c68d--)if(_0xbc0416=_0x3316ec[_0x49c68d])_0x5e80a4=(_0x24de80<0x3?_0xbc0416(_0x5e80a4):_0x24de80>0x3?_0xbc0416(_0x43ba38,_0x3b4af8,_0x5e80a4):_0xbc0416(_0x43ba38,_0x3b4af8))||_0x5e80a4;}return _0x24de80>0x3&&_0x5e80a4&&Object[_0x15f2b4(0x17e)](_0x43ba38,_0x3b4af8,_0x5e80a4),_0x5e80a4;},__metadata=this&&this[a110_0x20d6b0(0x15e)]||function(_0x3bb2f9,_0x3e162d){const _0x527010=a110_0x20d6b0;if(typeof Reflect===_0x527010(0x15b)&&typeof Reflect[_0x527010(0x179)]==='function')return Reflect[_0x527010(0x179)](_0x3bb2f9,_0x3e162d);},__param=this&&this[a110_0x20d6b0(0x142)]||function(_0x3b53f0,_0x45c45b){return function(_0x33ecca,_0x5259ba){_0x45c45b(_0x33ecca,_0x5259ba,_0x3b53f0);};};Object[a110_0x20d6b0(0x17e)](exports,'__esModule',{'value':!![]}),exports[a110_0x20d6b0(0x17f)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a110_0x20d6b0(0x16a)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a110_0x20d6b0(0x16c)),api_error_1=require(a110_0x20d6b0(0x13e)),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require(a110_0x20d6b0(0x144)),utils_1=require('../../shared/utils'),repo_class_1=require(a110_0x20d6b0(0x153)),git_repo_service_1=require(a110_0x20d6b0(0x13f));function a110_0x527b(_0x24c0a5,_0xafc82){const _0x1cc34d=a110_0xd39b();return a110_0x527b=function(_0x3075ae,_0x572c3b){_0x3075ae=_0x3075ae-0x13c;let _0xd39beb=_0x1cc34d[_0x3075ae];return _0xd39beb;},a110_0x527b(_0x24c0a5,_0xafc82);}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x47021c,_0x306d01){const _0x4d4301=a110_0x20d6b0;super(_0x47021c),this['api']=_0x47021c,this['project']=_0x306d01[_0x4d4301(0x182)][_0x4d4301(0x13c)];}async[a110_0x20d6b0(0x175)](_0x5532a9){const _0xe5f277=a110_0x20d6b0;try{const _0x8bc661={'name':_0x5532a9[_0xe5f277(0x168)],'scmId':'git','defaultBranch':_0x5532a9[_0xe5f277(0x152)],..._0x5532a9[_0xe5f277(0x14a)]||{}},_0x2fc9ad=await this['request'][_0xe5f277(0x161)](_0xe5f277(0x15d)+this[_0xe5f277(0x13c)]+_0xe5f277(0x176),_0x8bc661),_0x55af40=repo_class_1[_0xe5f277(0x158)][_0xe5f277(0x167)](_0x2fc9ad,'');return _0x5532a9[_0xe5f277(0x13d)]&&await git_internal_1[_0xe5f277(0x15c)][_0xe5f277(0x172)](_0x55af40,_0x5532a9['defaultBranch']||_0xe5f277(0x180)),this[_0xe5f277(0x157)](_0x55af40[_0xe5f277(0x168)]);}catch(_0x47ea84){if(_0x47ea84 instanceof api_error_1['ApiError'])throw _0x47ea84;throw new bad_request_error_1['BadRequestError'](_0x47ea84);}}async['getAll'](){const _0x4e0364=a110_0x20d6b0;try{const _0x5eb721=[];let _0x3c02ff;do{_0x3c02ff=await this['request'][_0x4e0364(0x14e)](_0x4e0364(0x15d)+this[_0x4e0364(0x13c)]+'/repos',{'params':{'limit':0x64,'start':_0x3c02ff?_0x3c02ff['nextPageStart']:0x0}}),_0x5eb721[_0x4e0364(0x159)](..._0x3c02ff[_0x4e0364(0x150)]);}while(!_0x3c02ff[_0x4e0364(0x16b)]);return _0x5eb721[_0x4e0364(0x145)](_0x3c1352=>repo_class_1[_0x4e0364(0x158)][_0x4e0364(0x167)](_0x3c1352,utils_1[_0x4e0364(0x15f)](this['request']['defaults'][_0x4e0364(0x146)]||'',_0x4e0364(0x17d)+this[_0x4e0364(0x13c)]+_0x4e0364(0x166)+_0x3c1352[_0x4e0364(0x143)])));}catch(_0x9b07bd){if(_0x9b07bd instanceof api_error_1[_0x4e0364(0x17a)])throw _0x9b07bd;throw new not_found_error_1[(_0x4e0364(0x149))](_0x9b07bd);}}async[a110_0x20d6b0(0x157)](_0x5b8679){const _0x48bc38=a110_0x20d6b0;var _0x43033c;try{const _0x2c06d8=await this['request'][_0x48bc38(0x14e)]('projects/'+this[_0x48bc38(0x13c)]+'/repos/'+_0x5b8679),_0x33a03d=repo_class_1['Repo'][_0x48bc38(0x167)](_0x2c06d8,utils_1[_0x48bc38(0x15f)](this[_0x48bc38(0x160)][_0x48bc38(0x16d)]['baseURL']||'',_0x48bc38(0x17d)+this['project']+_0x48bc38(0x166)+_0x5b8679)),_0x1a4730=await this[_0x48bc38(0x160)][_0x48bc38(0x14e)](_0x33a03d['apiUrl']+_0x48bc38(0x177))[_0x48bc38(0x148)](_0x4e812c=>_0x4e812c[_0x48bc38(0x150)]);return _0x33a03d[_0x48bc38(0x152)]=(_0x43033c=_0x1a4730['find'](_0x3f7b33=>_0x3f7b33['isDefault']===!![]))===null||_0x43033c===void 0x0?void 0x0:_0x43033c['displayId'],_0x33a03d;}catch(_0x22b59e){if(_0x22b59e instanceof api_error_1[_0x48bc38(0x17a)])throw _0x22b59e;throw new not_found_error_1[(_0x48bc38(0x149))](_0x22b59e);}}async[a110_0x20d6b0(0x151)](_0x113a44,_0x17b1fe){const _0x3bccac=a110_0x20d6b0;try{const _0x112b69=await this['request'][_0x3bccac(0x156)](_0x3bccac(0x15d)+this[_0x3bccac(0x13c)]+_0x3bccac(0x166)+_0x113a44,_0x17b1fe),_0x249cbd=await this[_0x3bccac(0x160)][_0x3bccac(0x14e)]('projects/'+this[_0x3bccac(0x13c)]+_0x3bccac(0x166)+_0x113a44+_0x3bccac(0x173)),_0x15beba=repo_class_1[_0x3bccac(0x158)]['fromBitbucketServer'](_0x112b69,utils_1[_0x3bccac(0x15f)](this['request'][_0x3bccac(0x16d)][_0x3bccac(0x146)]||'',_0x3bccac(0x17d)+this[_0x3bccac(0x13c)]+_0x3bccac(0x166)+_0x113a44));return _0x15beba[_0x3bccac(0x152)]=_0x249cbd[_0x3bccac(0x15a)],_0x15beba;}catch(_0x53cf17){if(_0x53cf17 instanceof api_error_1['ApiError'])throw _0x53cf17;throw new not_found_error_1[(_0x3bccac(0x149))](_0x53cf17);}}async[a110_0x20d6b0(0x164)](_0x864e32){const _0x5bbe3d=a110_0x20d6b0;try{await this['getOne'](_0x864e32),await this[_0x5bbe3d(0x160)][_0x5bbe3d(0x164)](_0x5bbe3d(0x15d)+this['project']+_0x5bbe3d(0x166)+_0x864e32);}catch(_0x1cab4b){if(_0x1cab4b instanceof api_error_1[_0x5bbe3d(0x17a)])throw _0x1cab4b;throw new bad_request_error_1[(_0x5bbe3d(0x16e))](_0x1cab4b);}}};function a110_0xd39b(){const _0x18826f=['1584690PoPMkR','214816cwSzlA','4467940rVotwq','get','2940gVihFB','values','update','defaultBranch','../repo.class','toString','design:paramtypes','put','getOne','Repo','push','displayId','object','Git','projects/','__metadata','joinURL','request','post','AuthSettingsService','search','delete','getOwnPropertyDescriptor','/repos/','fromBitbucketServer','name','40CKJmrb','../../../core/errors/not-found.error','isLastPage','typedi','defaults','BadRequestError','(((.+)+)+)+$','16218uFfPrx','852214eVIuST','createEmptyBranch','/default-branch','decorate','create','/repos','/branches','BitbucketServerApiService','metadata','ApiError','__decorate','Service','/projects/','defineProperty','BitbucketServerRepoService','master','1136107cOlsUC','bitbucketServer','project','autoInit','../../../core/errors/api.error','./git-repo.service','27165tRibnX','length','__param','slug','../../internal/git.internal','map','baseURL','122LdPabz','then','NotFoundError','apiBody'];a110_0xd39b=function(){return _0x18826f;};return a110_0xd39b();}BitbucketServerRepoService=__decorate([typedi_1[a110_0x20d6b0(0x17c)](),__param(0x1,typedi_1['Inject']()),__metadata(a110_0x20d6b0(0x155),[bitbucket_server_api_service_1[a110_0x20d6b0(0x178)],auth_settings_service_1[a110_0x20d6b0(0x162)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;