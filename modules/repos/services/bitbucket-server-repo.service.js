const a95_0x52fa74=a95_0x535f;(function(_0x10a4f6,_0xb92ce4){const _0x1e7ecc=a95_0x535f,_0x37cb6a=_0x10a4f6();while(!![]){try{const _0x139c62=parseInt(_0x1e7ecc(0x114))/0x1+-parseInt(_0x1e7ecc(0x13d))/0x2*(parseInt(_0x1e7ecc(0x12a))/0x3)+-parseInt(_0x1e7ecc(0x146))/0x4+parseInt(_0x1e7ecc(0x123))/0x5*(parseInt(_0x1e7ecc(0x117))/0x6)+-parseInt(_0x1e7ecc(0x11a))/0x7*(parseInt(_0x1e7ecc(0x13f))/0x8)+-parseInt(_0x1e7ecc(0x113))/0x9+parseInt(_0x1e7ecc(0x147))/0xa;if(_0x139c62===_0xb92ce4)break;else _0x37cb6a['push'](_0x37cb6a['shift']());}catch(_0x37f632){_0x37cb6a['push'](_0x37cb6a['shift']());}}}(a95_0x2367,0xd3eb3));const a95_0x45aecd=function(){let _0x2180d7=!![];return function(_0x3ac1b5,_0x3546fa){const _0x576480=_0x2180d7?function(){if(_0x3546fa){const _0x169ac5=_0x3546fa['apply'](_0x3ac1b5,arguments);return _0x3546fa=null,_0x169ac5;}}:function(){};return _0x2180d7=![],_0x576480;};}(),a95_0x36a81e=a95_0x45aecd(this,function(){const _0x16cbb4=a95_0x535f;return a95_0x36a81e[_0x16cbb4(0x130)]()[_0x16cbb4(0x115)](_0x16cbb4(0x11b))[_0x16cbb4(0x130)]()[_0x16cbb4(0x12c)](a95_0x36a81e)[_0x16cbb4(0x115)](_0x16cbb4(0x11b));});function a95_0x535f(_0x431973,_0x19daaa){const _0xb9614=a95_0x2367();return a95_0x535f=function(_0x36a81e,_0x45aecd){_0x36a81e=_0x36a81e-0x108;let _0x2367a7=_0xb9614[_0x36a81e];return _0x2367a7;},a95_0x535f(_0x431973,_0x19daaa);}function a95_0x2367(){const _0x4825ea=['/repos','master','fromBitbucketServer','/branches','./git-repo.service','../../../core/errors/api.error','typedi','8698842XEJCbW','856691RnxxJm','search','defaultBranch','30AEOuTl','nextPageStart','getAll','2474311iapyML','(((.+)+)+)+$','../../shared/services/auth-settings.service','delete','put','project','update','design:paramtypes','../repo.class','80305nCkmpx','push','__decorate','joinURL','isLastPage','bitbucketServer','AuthSettingsService','2213337ZgncwG','request','constructor','apiUrl','displayId','get','toString','create','post','/repos/','createEmptyBranch','defineProperty','NotFoundError','defaults','/projects/','ApiError','__esModule','/default-branch','BitbucketServerRepoService','2qvVcrx','baseURL','24bnxfhu','projects/','BitbucketServerApiService','metadata','name','__metadata','object','1230896xnJeXu','30034830nsVQcn','values','isDefault','GitRepoService','map','autoInit','BadRequestError','decorate','api','find','__param','apiBody','length','../../../core/errors/not-found.error','getOne','function'];a95_0x2367=function(){return _0x4825ea;};return a95_0x2367();}a95_0x36a81e();'use strict';var __decorate=this&&this[a95_0x52fa74(0x125)]||function(_0x2fae0e,_0x45196a,_0x210f54,_0x13ccda){const _0x35dd29=a95_0x52fa74;var _0x5aa24f=arguments[_0x35dd29(0x108)],_0x5f3959=_0x5aa24f<0x3?_0x45196a:_0x13ccda===null?_0x13ccda=Object['getOwnPropertyDescriptor'](_0x45196a,_0x210f54):_0x13ccda,_0x352426;if(typeof Reflect===_0x35dd29(0x145)&&typeof Reflect[_0x35dd29(0x14e)]===_0x35dd29(0x10b))_0x5f3959=Reflect[_0x35dd29(0x14e)](_0x2fae0e,_0x45196a,_0x210f54,_0x13ccda);else{for(var _0x4a4c1d=_0x2fae0e[_0x35dd29(0x108)]-0x1;_0x4a4c1d>=0x0;_0x4a4c1d--)if(_0x352426=_0x2fae0e[_0x4a4c1d])_0x5f3959=(_0x5aa24f<0x3?_0x352426(_0x5f3959):_0x5aa24f>0x3?_0x352426(_0x45196a,_0x210f54,_0x5f3959):_0x352426(_0x45196a,_0x210f54))||_0x5f3959;}return _0x5aa24f>0x3&&_0x5f3959&&Object[_0x35dd29(0x135)](_0x45196a,_0x210f54,_0x5f3959),_0x5f3959;},__metadata=this&&this[a95_0x52fa74(0x144)]||function(_0x364e99,_0x52839a){const _0x366e96=a95_0x52fa74;if(typeof Reflect===_0x366e96(0x145)&&typeof Reflect[_0x366e96(0x142)]===_0x366e96(0x10b))return Reflect[_0x366e96(0x142)](_0x364e99,_0x52839a);},__param=this&&this[a95_0x52fa74(0x151)]||function(_0x138675,_0x1db605){return function(_0x1c20f5,_0x1887c9){_0x1db605(_0x1c20f5,_0x1887c9,_0x138675);};};Object[a95_0x52fa74(0x135)](exports,a95_0x52fa74(0x13a),{'value':!![]}),exports[a95_0x52fa74(0x13c)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a95_0x52fa74(0x109)),auth_settings_service_1=require(a95_0x52fa74(0x11c)),typedi_1=require(a95_0x52fa74(0x112)),api_error_1=require(a95_0x52fa74(0x111)),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require('../../internal/git.internal'),utils_1=require('../../shared/utils'),repo_class_1=require(a95_0x52fa74(0x122)),git_repo_service_1=require(a95_0x52fa74(0x110));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a95_0x52fa74(0x14a)]{constructor(_0x240dd7,_0xe0755a){const _0x524ea6=a95_0x52fa74;super(_0x240dd7),this[_0x524ea6(0x14f)]=_0x240dd7,this[_0x524ea6(0x11f)]=_0xe0755a[_0x524ea6(0x128)]['project'];}async[a95_0x52fa74(0x131)](_0x35ed5e){const _0xf5d4ee=a95_0x52fa74;try{const _0x4c13c4={'name':_0x35ed5e[_0xf5d4ee(0x143)],'scmId':'git','defaultBranch':_0x35ed5e[_0xf5d4ee(0x116)],..._0x35ed5e[_0xf5d4ee(0x152)]||{}},_0x186aa0=await this[_0xf5d4ee(0x12b)][_0xf5d4ee(0x132)]('projects/'+this['project']+_0xf5d4ee(0x10c),_0x4c13c4),_0x1da4d1=repo_class_1['Repo'][_0xf5d4ee(0x10e)](_0x186aa0,'');return _0x35ed5e[_0xf5d4ee(0x14c)]&&await git_internal_1['Git'][_0xf5d4ee(0x134)](_0x1da4d1,_0x35ed5e[_0xf5d4ee(0x116)]||_0xf5d4ee(0x10d)),this[_0xf5d4ee(0x10a)](_0x1da4d1[_0xf5d4ee(0x143)]);}catch(_0x34e3da){if(_0x34e3da instanceof api_error_1[_0xf5d4ee(0x139)])throw _0x34e3da;throw new bad_request_error_1[(_0xf5d4ee(0x14d))](_0x34e3da);}}async[a95_0x52fa74(0x119)](){const _0x14d430=a95_0x52fa74;try{const _0x434b68=[];let _0x5e4088;do{_0x5e4088=await this[_0x14d430(0x12b)][_0x14d430(0x12f)](_0x14d430(0x140)+this[_0x14d430(0x11f)]+_0x14d430(0x10c),{'params':{'limit':0x64,'start':_0x5e4088?_0x5e4088[_0x14d430(0x118)]:0x0}}),_0x434b68[_0x14d430(0x124)](..._0x5e4088[_0x14d430(0x148)]);}while(!_0x5e4088[_0x14d430(0x127)]);return _0x434b68[_0x14d430(0x14b)](_0x30627f=>repo_class_1['Repo'][_0x14d430(0x10e)](_0x30627f,(0x0,utils_1[_0x14d430(0x126)])(this['request'][_0x14d430(0x137)][_0x14d430(0x13e)]||'',_0x14d430(0x138)+this['project']+_0x14d430(0x133)+_0x30627f['slug'])));}catch(_0x3773b7){if(_0x3773b7 instanceof api_error_1[_0x14d430(0x139)])throw _0x3773b7;throw new not_found_error_1[(_0x14d430(0x136))](_0x3773b7);}}async[a95_0x52fa74(0x10a)](_0x5ddfcb){const _0xfee5a5=a95_0x52fa74;var _0x221c73;try{const _0x4a6670=await this[_0xfee5a5(0x12b)][_0xfee5a5(0x12f)](_0xfee5a5(0x140)+this[_0xfee5a5(0x11f)]+_0xfee5a5(0x133)+_0x5ddfcb),_0x5adae2=repo_class_1['Repo'][_0xfee5a5(0x10e)](_0x4a6670,(0x0,utils_1['joinURL'])(this['request'][_0xfee5a5(0x137)][_0xfee5a5(0x13e)]||'',_0xfee5a5(0x138)+this['project']+_0xfee5a5(0x133)+_0x5ddfcb)),_0x573dee=await this[_0xfee5a5(0x12b)][_0xfee5a5(0x12f)](_0x5adae2[_0xfee5a5(0x12d)]+_0xfee5a5(0x10f))['then'](_0x1a1fa9=>_0x1a1fa9['values']);return _0x5adae2[_0xfee5a5(0x116)]=(_0x221c73=_0x573dee[_0xfee5a5(0x150)](_0x4c9a96=>_0x4c9a96[_0xfee5a5(0x149)]===!![]))===null||_0x221c73===void 0x0?void 0x0:_0x221c73[_0xfee5a5(0x12e)],_0x5adae2;}catch(_0x56227d){if(_0x56227d instanceof api_error_1[_0xfee5a5(0x139)])throw _0x56227d;throw new not_found_error_1[(_0xfee5a5(0x136))](_0x56227d);}}async[a95_0x52fa74(0x120)](_0x1ed9d0,_0x46788c){const _0x496d10=a95_0x52fa74;try{const _0x238b56=await this[_0x496d10(0x12b)][_0x496d10(0x11e)](_0x496d10(0x140)+this[_0x496d10(0x11f)]+'/repos/'+_0x1ed9d0,_0x46788c),_0x2015df=await this[_0x496d10(0x12b)][_0x496d10(0x12f)](_0x496d10(0x140)+this[_0x496d10(0x11f)]+_0x496d10(0x133)+_0x1ed9d0+_0x496d10(0x13b)),_0x553995=repo_class_1['Repo'][_0x496d10(0x10e)](_0x238b56,(0x0,utils_1[_0x496d10(0x126)])(this['request'][_0x496d10(0x137)][_0x496d10(0x13e)]||'',_0x496d10(0x138)+this[_0x496d10(0x11f)]+_0x496d10(0x133)+_0x1ed9d0));return _0x553995['defaultBranch']=_0x2015df['displayId'],_0x553995;}catch(_0x4c875b){if(_0x4c875b instanceof api_error_1[_0x496d10(0x139)])throw _0x4c875b;throw new not_found_error_1[(_0x496d10(0x136))](_0x4c875b);}}async[a95_0x52fa74(0x11d)](_0x104f20){const _0x59c4ba=a95_0x52fa74;try{await this['getOne'](_0x104f20),await this[_0x59c4ba(0x12b)][_0x59c4ba(0x11d)](_0x59c4ba(0x140)+this[_0x59c4ba(0x11f)]+_0x59c4ba(0x133)+_0x104f20);}catch(_0x10f8b4){if(_0x10f8b4 instanceof api_error_1[_0x59c4ba(0x139)])throw _0x10f8b4;throw new bad_request_error_1[(_0x59c4ba(0x14d))](_0x10f8b4);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1['Inject'])()),__metadata(a95_0x52fa74(0x121),[bitbucket_server_api_service_1[a95_0x52fa74(0x141)],auth_settings_service_1[a95_0x52fa74(0x129)]])],BitbucketServerRepoService),exports[a95_0x52fa74(0x13c)]=BitbucketServerRepoService;