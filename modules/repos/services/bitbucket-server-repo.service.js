const a105_0x17b0fe=a105_0x4784;function a105_0x5ecd(){const _0x5c6771=['constructor','5160ZADanE','values','function','(((.+)+)+)+$','baseURL','../repo.class','../../shared/services/auth-settings.service','isLastPage','search','getOwnPropertyDescriptor','defaults','then','push','38941OPJTSz','__esModule','Inject','BitbucketServerApiService','266582RAtRPm','../../shared/utils','project','length','delete','decorate','displayId','git','/default-branch','../../../core/errors/not-found.error','defineProperty','BitbucketServerRepoService','AuthSettingsService','metadata','apply','master','316WTInlq','18FvAeCK','../../git-api/services/bitbucket-server-api.service','GitRepoService','/repos','BadRequestError','put','/projects/','apiUrl','post','toString','defaultBranch','./git-repo.service','8715894AoYUEL','/repos/','nextPageStart','../../../core/errors/bad-request.error','api','object','bitbucketServer','Repo','NotFoundError','projects/','125808TOmKGE','map','3983800ApCrLk','find','getAll','autoInit','name','10nGrzgc','getOne','__metadata','createEmptyBranch','../../../core/errors/api.error','Git','ApiError','update','request','1911zBKyDz','174XObWBO','__param','2278173kclLST','joinURL','2lFfyRt','slug','get','fromBitbucketServer'];a105_0x5ecd=function(){return _0x5c6771;};return a105_0x5ecd();}(function(_0x2d7b0d,_0x39ba31){const _0x24e441=a105_0x4784,_0x69085e=_0x2d7b0d();while(!![]){try{const _0x3e9537=parseInt(_0x24e441(0x1d5))/0x1+-parseInt(_0x24e441(0x1bf))/0x2*(parseInt(_0x24e441(0x1bd))/0x3)+-parseInt(_0x24e441(0x1e5))/0x4*(parseInt(_0x24e441(0x1c4))/0x5)+parseInt(_0x24e441(0x1bb))/0x6*(-parseInt(_0x24e441(0x1d1))/0x7)+-parseInt(_0x24e441(0x1fe))/0x8*(parseInt(_0x24e441(0x1e6))/0x9)+parseInt(_0x24e441(0x203))/0xa*(parseInt(_0x24e441(0x1f2))/0xb)+-parseInt(_0x24e441(0x1fc))/0xc*(-parseInt(_0x24e441(0x1ba))/0xd);if(_0x3e9537===_0x39ba31)break;else _0x69085e['push'](_0x69085e['shift']());}catch(_0x104d8d){_0x69085e['push'](_0x69085e['shift']());}}}(a105_0x5ecd,0x92f20));const a105_0x60df04=function(){let _0xb566a9=!![];return function(_0x2a7ef5,_0x3c6f46){const _0x2c68a4=_0xb566a9?function(){const _0x2150d7=a105_0x4784;if(_0x3c6f46){const _0x45a6cd=_0x3c6f46[_0x2150d7(0x1e3)](_0x2a7ef5,arguments);return _0x3c6f46=null,_0x45a6cd;}}:function(){};return _0xb566a9=![],_0x2c68a4;};}(),a105_0x32da74=a105_0x60df04(this,function(){const _0x4e0553=a105_0x4784;return a105_0x32da74[_0x4e0553(0x1ef)]()[_0x4e0553(0x1cc)](_0x4e0553(0x1c7))[_0x4e0553(0x1ef)]()[_0x4e0553(0x1c3)](a105_0x32da74)[_0x4e0553(0x1cc)]('(((.+)+)+)+$');});a105_0x32da74();'use strict';var __decorate=this&&this['__decorate']||function(_0x1ebd5e,_0x50f347,_0x20c75f,_0x15f449){const _0x2996b3=a105_0x4784;var _0x5e6239=arguments[_0x2996b3(0x1d8)],_0x3f1299=_0x5e6239<0x3?_0x50f347:_0x15f449===null?_0x15f449=Object[_0x2996b3(0x1cd)](_0x50f347,_0x20c75f):_0x15f449,_0x49d72b;if(typeof Reflect===_0x2996b3(0x1f7)&&typeof Reflect[_0x2996b3(0x1da)]==='function')_0x3f1299=Reflect[_0x2996b3(0x1da)](_0x1ebd5e,_0x50f347,_0x20c75f,_0x15f449);else{for(var _0x233e92=_0x1ebd5e[_0x2996b3(0x1d8)]-0x1;_0x233e92>=0x0;_0x233e92--)if(_0x49d72b=_0x1ebd5e[_0x233e92])_0x3f1299=(_0x5e6239<0x3?_0x49d72b(_0x3f1299):_0x5e6239>0x3?_0x49d72b(_0x50f347,_0x20c75f,_0x3f1299):_0x49d72b(_0x50f347,_0x20c75f))||_0x3f1299;}return _0x5e6239>0x3&&_0x3f1299&&Object[_0x2996b3(0x1df)](_0x50f347,_0x20c75f,_0x3f1299),_0x3f1299;},__metadata=this&&this[a105_0x17b0fe(0x205)]||function(_0x3aa5b0,_0xa722a2){const _0x513605=a105_0x17b0fe;if(typeof Reflect===_0x513605(0x1f7)&&typeof Reflect[_0x513605(0x1e2)]===_0x513605(0x1c6))return Reflect[_0x513605(0x1e2)](_0x3aa5b0,_0xa722a2);},__param=this&&this[a105_0x17b0fe(0x1bc)]||function(_0x2b949b,_0x1d1ac8){return function(_0x1a1a0b,_0x41162c){_0x1d1ac8(_0x1a1a0b,_0x41162c,_0x2b949b);};};Object[a105_0x17b0fe(0x1df)](exports,a105_0x17b0fe(0x1d2),{'value':!![]}),exports[a105_0x17b0fe(0x1e0)]=void 0x0;const bad_request_error_1=require(a105_0x17b0fe(0x1f5)),not_found_error_1=require(a105_0x17b0fe(0x1de)),auth_settings_service_1=require(a105_0x17b0fe(0x1ca)),typedi_1=require('typedi'),api_error_1=require(a105_0x17b0fe(0x207)),bitbucket_server_api_service_1=require(a105_0x17b0fe(0x1e7)),git_internal_1=require('../../internal/git.internal'),utils_1=require(a105_0x17b0fe(0x1d6)),repo_class_1=require(a105_0x17b0fe(0x1c9)),git_repo_service_1=require(a105_0x17b0fe(0x1f1));function a105_0x4784(_0x5ec767,_0x5e6399){const _0x55509e=a105_0x5ecd();return a105_0x4784=function(_0x32da74,_0x60df04){_0x32da74=_0x32da74-0x1ba;let _0x5ecdc5=_0x55509e[_0x32da74];return _0x5ecdc5;},a105_0x4784(_0x5ec767,_0x5e6399);}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a105_0x17b0fe(0x1e8)]{constructor(_0x3acfc3,_0x4eee71){const _0x254c34=a105_0x17b0fe;super(_0x3acfc3),this[_0x254c34(0x1f6)]=_0x3acfc3,this[_0x254c34(0x1d7)]=_0x4eee71[_0x254c34(0x1f8)]['project'];}async['create'](_0x5951e1){const _0x5b91ee=a105_0x17b0fe;try{const _0x8e3b81={'name':_0x5951e1[_0x5b91ee(0x202)],'scmId':_0x5b91ee(0x1dc),'defaultBranch':_0x5951e1[_0x5b91ee(0x1f0)],..._0x5951e1['apiBody']||{}},_0x51c914=await this[_0x5b91ee(0x20b)][_0x5b91ee(0x1ee)](_0x5b91ee(0x1fb)+this['project']+'/repos',_0x8e3b81),_0x536a34=repo_class_1[_0x5b91ee(0x1f9)][_0x5b91ee(0x1c2)](_0x51c914,'');return _0x5951e1[_0x5b91ee(0x201)]&&await git_internal_1[_0x5b91ee(0x208)][_0x5b91ee(0x206)](_0x536a34,_0x5951e1[_0x5b91ee(0x1f0)]||_0x5b91ee(0x1e4)),this['getOne'](_0x536a34[_0x5b91ee(0x202)]);}catch(_0x17b1ab){if(_0x17b1ab instanceof api_error_1['ApiError'])throw _0x17b1ab;throw new bad_request_error_1[(_0x5b91ee(0x1ea))](_0x17b1ab);}}async[a105_0x17b0fe(0x200)](){const _0x1f0e10=a105_0x17b0fe;try{const _0x348117=[];let _0x518b39;do{_0x518b39=await this[_0x1f0e10(0x20b)][_0x1f0e10(0x1c1)](_0x1f0e10(0x1fb)+this['project']+_0x1f0e10(0x1e9),{'params':{'limit':0x64,'start':_0x518b39?_0x518b39[_0x1f0e10(0x1f4)]:0x0}}),_0x348117[_0x1f0e10(0x1d0)](..._0x518b39[_0x1f0e10(0x1c5)]);}while(!_0x518b39[_0x1f0e10(0x1cb)]);return _0x348117[_0x1f0e10(0x1fd)](_0x2f00e9=>repo_class_1[_0x1f0e10(0x1f9)]['fromBitbucketServer'](_0x2f00e9,utils_1[_0x1f0e10(0x1be)](this[_0x1f0e10(0x20b)][_0x1f0e10(0x1ce)][_0x1f0e10(0x1c8)]||'','/projects/'+this[_0x1f0e10(0x1d7)]+_0x1f0e10(0x1f3)+_0x2f00e9[_0x1f0e10(0x1c0)])));}catch(_0x49c76e){if(_0x49c76e instanceof api_error_1[_0x1f0e10(0x209)])throw _0x49c76e;throw new not_found_error_1['NotFoundError'](_0x49c76e);}}async['getOne'](_0x14385b){const _0x57409=a105_0x17b0fe;var _0x33485d;try{const _0x1f59c9=await this[_0x57409(0x20b)][_0x57409(0x1c1)]('projects/'+this[_0x57409(0x1d7)]+_0x57409(0x1f3)+_0x14385b),_0x2d915d=repo_class_1[_0x57409(0x1f9)][_0x57409(0x1c2)](_0x1f59c9,utils_1[_0x57409(0x1be)](this[_0x57409(0x20b)][_0x57409(0x1ce)]['baseURL']||'',_0x57409(0x1ec)+this[_0x57409(0x1d7)]+'/repos/'+_0x14385b)),_0xba5f1e=await this[_0x57409(0x20b)][_0x57409(0x1c1)](_0x2d915d[_0x57409(0x1ed)]+'/branches')[_0x57409(0x1cf)](_0xe14979=>_0xe14979[_0x57409(0x1c5)]);return _0x2d915d[_0x57409(0x1f0)]=(_0x33485d=_0xba5f1e[_0x57409(0x1ff)](_0x40f68e=>_0x40f68e['isDefault']===!![]))===null||_0x33485d===void 0x0?void 0x0:_0x33485d[_0x57409(0x1db)],_0x2d915d;}catch(_0x12a7e0){if(_0x12a7e0 instanceof api_error_1[_0x57409(0x209)])throw _0x12a7e0;throw new not_found_error_1[(_0x57409(0x1fa))](_0x12a7e0);}}async[a105_0x17b0fe(0x20a)](_0x1ff10c,_0x570530){const _0x35e93f=a105_0x17b0fe;try{const _0x914e8f=await this[_0x35e93f(0x20b)][_0x35e93f(0x1eb)](_0x35e93f(0x1fb)+this[_0x35e93f(0x1d7)]+_0x35e93f(0x1f3)+_0x1ff10c,_0x570530),_0x6e977b=await this[_0x35e93f(0x20b)][_0x35e93f(0x1c1)](_0x35e93f(0x1fb)+this[_0x35e93f(0x1d7)]+_0x35e93f(0x1f3)+_0x1ff10c+_0x35e93f(0x1dd)),_0x51b2b1=repo_class_1[_0x35e93f(0x1f9)][_0x35e93f(0x1c2)](_0x914e8f,utils_1[_0x35e93f(0x1be)](this[_0x35e93f(0x20b)][_0x35e93f(0x1ce)][_0x35e93f(0x1c8)]||'','/projects/'+this[_0x35e93f(0x1d7)]+'/repos/'+_0x1ff10c));return _0x51b2b1['defaultBranch']=_0x6e977b['displayId'],_0x51b2b1;}catch(_0x23551c){if(_0x23551c instanceof api_error_1[_0x35e93f(0x209)])throw _0x23551c;throw new not_found_error_1[(_0x35e93f(0x1fa))](_0x23551c);}}async[a105_0x17b0fe(0x1d9)](_0x29a6a2){const _0x18a88a=a105_0x17b0fe;try{await this[_0x18a88a(0x204)](_0x29a6a2),await this[_0x18a88a(0x20b)]['delete'](_0x18a88a(0x1fb)+this[_0x18a88a(0x1d7)]+_0x18a88a(0x1f3)+_0x29a6a2);}catch(_0x4f8586){if(_0x4f8586 instanceof api_error_1[_0x18a88a(0x209)])throw _0x4f8586;throw new bad_request_error_1[(_0x18a88a(0x1ea))](_0x4f8586);}}};BitbucketServerRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1[a105_0x17b0fe(0x1d3)]()),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a105_0x17b0fe(0x1d4)],auth_settings_service_1[a105_0x17b0fe(0x1e1)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;