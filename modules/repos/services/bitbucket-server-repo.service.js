const a92_0x4a9eef=a92_0x30d5;function a92_0x30d5(_0x8083e1,_0x24a0f8){const _0x1ed382=a92_0x132b();return a92_0x30d5=function(_0x404b18,_0x4209b9){_0x404b18=_0x404b18-0x1a7;let _0x132bd3=_0x1ed382[_0x404b18];return _0x132bd3;},a92_0x30d5(_0x8083e1,_0x24a0f8);}(function(_0x53d911,_0x1384ad){const _0x40be86=a92_0x30d5,_0x1a1ea8=_0x53d911();while(!![]){try{const _0x45cccd=-parseInt(_0x40be86(0x1e0))/0x1+parseInt(_0x40be86(0x1ca))/0x2+parseInt(_0x40be86(0x1df))/0x3+parseInt(_0x40be86(0x1e2))/0x4*(parseInt(_0x40be86(0x1ae))/0x5)+parseInt(_0x40be86(0x1d7))/0x6+-parseInt(_0x40be86(0x1ab))/0x7*(parseInt(_0x40be86(0x1de))/0x8)+parseInt(_0x40be86(0x1b0))/0x9*(-parseInt(_0x40be86(0x1bb))/0xa);if(_0x45cccd===_0x1384ad)break;else _0x1a1ea8['push'](_0x1a1ea8['shift']());}catch(_0x5c75b7){_0x1a1ea8['push'](_0x1a1ea8['shift']());}}}(a92_0x132b,0x6af2d));const a92_0x4209b9=function(){let _0x14cf3b=!![];return function(_0x74c11b,_0x2d83aa){const _0x46d558=_0x14cf3b?function(){if(_0x2d83aa){const _0x5f4fca=_0x2d83aa['apply'](_0x74c11b,arguments);return _0x2d83aa=null,_0x5f4fca;}}:function(){};return _0x14cf3b=![],_0x46d558;};}(),a92_0x404b18=a92_0x4209b9(this,function(){const _0x18121b=a92_0x30d5;return a92_0x404b18[_0x18121b(0x1ce)]()[_0x18121b(0x1db)]('(((.+)+)+)+$')[_0x18121b(0x1ce)]()['constructor'](a92_0x404b18)[_0x18121b(0x1db)](_0x18121b(0x1d9));});a92_0x404b18();'use strict';var __decorate=this&&this['__decorate']||function(_0x811f96,_0x1bbca4,_0x1f9f7d,_0x2a3bc9){const _0x21fcb5=a92_0x30d5;var _0x247425=arguments[_0x21fcb5(0x1cf)],_0x4618f9=_0x247425<0x3?_0x1bbca4:_0x2a3bc9===null?_0x2a3bc9=Object['getOwnPropertyDescriptor'](_0x1bbca4,_0x1f9f7d):_0x2a3bc9,_0x21532b;if(typeof Reflect===_0x21fcb5(0x1da)&&typeof Reflect[_0x21fcb5(0x1ad)]===_0x21fcb5(0x1ac))_0x4618f9=Reflect[_0x21fcb5(0x1ad)](_0x811f96,_0x1bbca4,_0x1f9f7d,_0x2a3bc9);else{for(var _0x3ef52f=_0x811f96[_0x21fcb5(0x1cf)]-0x1;_0x3ef52f>=0x0;_0x3ef52f--)if(_0x21532b=_0x811f96[_0x3ef52f])_0x4618f9=(_0x247425<0x3?_0x21532b(_0x4618f9):_0x247425>0x3?_0x21532b(_0x1bbca4,_0x1f9f7d,_0x4618f9):_0x21532b(_0x1bbca4,_0x1f9f7d))||_0x4618f9;}return _0x247425>0x3&&_0x4618f9&&Object[_0x21fcb5(0x1aa)](_0x1bbca4,_0x1f9f7d,_0x4618f9),_0x4618f9;},__metadata=this&&this[a92_0x4a9eef(0x1c0)]||function(_0x4fedad,_0x3dd44e){const _0x35fbdc=a92_0x4a9eef;if(typeof Reflect==='object'&&typeof Reflect[_0x35fbdc(0x1d4)]===_0x35fbdc(0x1ac))return Reflect[_0x35fbdc(0x1d4)](_0x4fedad,_0x3dd44e);},__param=this&&this['__param']||function(_0x3a0792,_0x43929b){return function(_0x2c3a01,_0x500199){_0x43929b(_0x2c3a01,_0x500199,_0x3a0792);};};Object[a92_0x4a9eef(0x1aa)](exports,a92_0x4a9eef(0x1c6),{'value':!![]}),exports[a92_0x4a9eef(0x1d5)]=void 0x0;const bad_request_error_1=require(a92_0x4a9eef(0x1cc)),not_found_error_1=require(a92_0x4a9eef(0x1c2)),auth_settings_service_1=require(a92_0x4a9eef(0x1bd)),typedi_1=require('typedi'),bitbucket_server_api_service_1=require(a92_0x4a9eef(0x1bf)),git_internal_1=require('../../internal/git.internal'),utils_1=require(a92_0x4a9eef(0x1d0)),repo_class_1=require(a92_0x4a9eef(0x1c8)),git_repo_service_1=require(a92_0x4a9eef(0x1c3));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a92_0x4a9eef(0x1b9)]{constructor(_0x9b5f9a,_0x4462c4){const _0x21f312=a92_0x4a9eef;super(_0x9b5f9a),this[_0x21f312(0x1a8)]=_0x9b5f9a,this[_0x21f312(0x1cb)]=_0x4462c4[_0x21f312(0x1c1)][_0x21f312(0x1cb)];}async[a92_0x4a9eef(0x1cd)](_0x3bb124){const _0x34bcff=a92_0x4a9eef;try{const _0x3a68a3={'name':_0x3bb124['name'],'scmId':_0x34bcff(0x1e1),'defaultBranch':_0x3bb124[_0x34bcff(0x1be)],..._0x3bb124['apiBody']||{}},_0x119fbd=await this[_0x34bcff(0x1c7)][_0x34bcff(0x1b4)]('projects/'+this[_0x34bcff(0x1cb)]+'/repos',_0x3a68a3),_0x3ac297=repo_class_1[_0x34bcff(0x1d3)]['fromBitbucketServer'](_0x119fbd,'');return _0x3bb124['autoInit']&&await git_internal_1[_0x34bcff(0x1ba)]['createEmptyBranch'](_0x3ac297,_0x3bb124[_0x34bcff(0x1be)]||_0x34bcff(0x1dc)),this[_0x34bcff(0x1a9)](_0x3ac297[_0x34bcff(0x1c4)]);}catch(_0x175298){throw new bad_request_error_1[(_0x34bcff(0x1d6))](_0x175298);}}async[a92_0x4a9eef(0x1a9)](_0x23adc7){const _0xf05fa0=a92_0x4a9eef;try{const _0x551f88=await this[_0xf05fa0(0x1c7)][_0xf05fa0(0x1af)](_0xf05fa0(0x1b6)+this[_0xf05fa0(0x1cb)]+'/repos/'+_0x23adc7),_0x57d1fe=await this['request'][_0xf05fa0(0x1af)](_0xf05fa0(0x1b6)+this[_0xf05fa0(0x1cb)]+_0xf05fa0(0x1dd)+_0x23adc7+_0xf05fa0(0x1e3)),_0x6ab477=repo_class_1['Repo'][_0xf05fa0(0x1e4)](_0x551f88,utils_1[_0xf05fa0(0x1b7)](this[_0xf05fa0(0x1c7)]['defaults'][_0xf05fa0(0x1b5)]||'','/projects/'+this[_0xf05fa0(0x1cb)]+'/repos/'+_0x23adc7));return _0x6ab477[_0xf05fa0(0x1be)]=_0x57d1fe[_0xf05fa0(0x1b1)],_0x6ab477;}catch(_0x42b08f){throw new not_found_error_1[(_0xf05fa0(0x1b2))](_0x42b08f);}}async[a92_0x4a9eef(0x1b3)](_0x286ada,_0x43d2e6){const _0x539d47=a92_0x4a9eef;try{const _0xa723a4=await this['request'][_0x539d47(0x1c5)](_0x539d47(0x1b6)+this[_0x539d47(0x1cb)]+'/repos/'+_0x286ada,_0x43d2e6),_0x5a320d=await this[_0x539d47(0x1c7)][_0x539d47(0x1af)](_0x539d47(0x1b6)+this[_0x539d47(0x1cb)]+'/repos/'+_0x286ada+_0x539d47(0x1e3)),_0x2e7b6b=repo_class_1[_0x539d47(0x1d3)][_0x539d47(0x1e4)](_0xa723a4,utils_1[_0x539d47(0x1b7)](this[_0x539d47(0x1c7)][_0x539d47(0x1d2)][_0x539d47(0x1b5)]||'',_0x539d47(0x1bc)+this['project']+_0x539d47(0x1dd)+_0x286ada));return _0x2e7b6b[_0x539d47(0x1be)]=_0x5a320d[_0x539d47(0x1b1)],_0x2e7b6b;}catch(_0x4f595e){throw new not_found_error_1[(_0x539d47(0x1b2))](_0x4f595e);}}async[a92_0x4a9eef(0x1a7)](_0x245b8c){const _0x1ee039=a92_0x4a9eef;try{await this['getOne'](_0x245b8c),await this[_0x1ee039(0x1c7)][_0x1ee039(0x1a7)]('projects/'+this[_0x1ee039(0x1cb)]+'/repos/'+_0x245b8c);}catch(_0x107c1c){throw new bad_request_error_1['BadRequestError'](_0x107c1c);}}};function a92_0x132b(){const _0x5ce7a8=['defaultBranch','../../git-api/services/bitbucket-server-api.service','__metadata','bitbucketServer','../../../core/errors/not-found.error','./git-repo.service','name','put','__esModule','request','../repo.class','Inject','1485628AwaFDy','project','../../../core/errors/bad-request.error','create','toString','length','../../shared/utils','BitbucketServerApiService','defaults','Repo','metadata','BitbucketServerRepoService','BadRequestError','2057922cVFnUq','AuthSettingsService','(((.+)+)+)+$','object','search','master','/repos/','24fYnlhy','317250UNliqs','144070ElzGWP','git','1084HvnUrA','/default-branch','fromBitbucketServer','delete','api','getOne','defineProperty','425054Inywqk','function','decorate','10550OVhigf','get','408708ceDfFK','displayId','NotFoundError','update','post','baseURL','projects/','joinURL','design:paramtypes','GitRepoService','Git','220tObRAQ','/projects/','../../shared/services/auth-settings.service'];a92_0x132b=function(){return _0x5ce7a8;};return a92_0x132b();}BitbucketServerRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1[a92_0x4a9eef(0x1c9)]()),__metadata(a92_0x4a9eef(0x1b8),[bitbucket_server_api_service_1[a92_0x4a9eef(0x1d1)],auth_settings_service_1[a92_0x4a9eef(0x1d8)]])],BitbucketServerRepoService),exports[a92_0x4a9eef(0x1d5)]=BitbucketServerRepoService;