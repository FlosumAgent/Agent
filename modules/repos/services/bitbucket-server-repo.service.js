const a93_0x8cfe=['GitRepoService','find','/repos','request','displayId','98326ZDJpZg','BitbucketServerRepoService','/repos/','get','1xRUmgL','delete','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','defaults','../../shared/utils','git','defaultBranch','2682GTtCqy','Inject','typedi','isDefault','project','design:paramtypes','autoInit','projects/','update','metadata','apply','constructor','/branches','create','name','decorate','Git','463966rGrPSH','../../git-api/services/bitbucket-server-api.service','__metadata','BitbucketServerApiService','./git-repo.service','joinURL','return\x20/\x22\x20+\x20this\x20+\x20\x22/','259443cGpaSf','baseURL','then','object','/projects/','Repo','../../../core/errors/not-found.error','defineProperty','116843rjnMwP','getOne','apiBody','2WqGbgh','__param','fromBitbucketServer','../../internal/git.internal','Service','function','BadRequestError','master','AuthSettingsService','554563FpGJdk','api','length','values','createEmptyBranch','NotFoundError','66338gDRdKC'];const a93_0x47227c=a93_0x17b9;(function(_0x36d972,_0x8002bd){const _0x2cd79a=a93_0x17b9;while(!![]){try{const _0x40a186=-parseInt(_0x2cd79a(0x189))*-parseInt(_0x2cd79a(0x1a8))+parseInt(_0x2cd79a(0x1a1))+-parseInt(_0x2cd79a(0x185))+-parseInt(_0x2cd79a(0x16d))*-parseInt(_0x2cd79a(0x170))+-parseInt(_0x2cd79a(0x17f))+-parseInt(_0x2cd79a(0x190))+-parseInt(_0x2cd79a(0x179));if(_0x40a186===_0x8002bd)break;else _0x36d972['push'](_0x36d972['shift']());}catch(_0xf5522e){_0x36d972['push'](_0x36d972['shift']());}}}(a93_0x8cfe,0x396b2));const a93_0x1a99bc=function(){let _0x234059=!![];return function(_0x496c88,_0x57a4c9){const _0x4ab186=_0x234059?function(){const _0x240a88=a93_0x17b9;if(_0x57a4c9){const _0x5113ba=_0x57a4c9[_0x240a88(0x19a)](_0x496c88,arguments);return _0x57a4c9=null,_0x5113ba;}}:function(){};return _0x234059=![],_0x4ab186;};}(),a93_0x5ba936=a93_0x1a99bc(this,function(){const _0x2f9ff8=function(){const _0x3f69a2=a93_0x17b9,_0x5bd7a0=_0x2f9ff8[_0x3f69a2(0x19b)](_0x3f69a2(0x1a7))()[_0x3f69a2(0x19b)](_0x3f69a2(0x18b));return!_0x5bd7a0['test'](a93_0x5ba936);};return _0x2f9ff8();});a93_0x5ba936();'use strict';var __decorate=this&&this['__decorate']||function(_0xdef80a,_0x39dcac,_0x32c108,_0x31e58a){const _0x5277e0=a93_0x17b9;var _0x5d2e0e=arguments[_0x5277e0(0x17b)],_0x598397=_0x5d2e0e<0x3?_0x39dcac:_0x31e58a===null?_0x31e58a=Object['getOwnPropertyDescriptor'](_0x39dcac,_0x32c108):_0x31e58a,_0x3e599e;if(typeof Reflect===_0x5277e0(0x1ab)&&typeof Reflect[_0x5277e0(0x19f)]===_0x5277e0(0x175))_0x598397=Reflect['decorate'](_0xdef80a,_0x39dcac,_0x32c108,_0x31e58a);else{for(var _0x2b7b05=_0xdef80a[_0x5277e0(0x17b)]-0x1;_0x2b7b05>=0x0;_0x2b7b05--)if(_0x3e599e=_0xdef80a[_0x2b7b05])_0x598397=(_0x5d2e0e<0x3?_0x3e599e(_0x598397):_0x5d2e0e>0x3?_0x3e599e(_0x39dcac,_0x32c108,_0x598397):_0x3e599e(_0x39dcac,_0x32c108))||_0x598397;}return _0x5d2e0e>0x3&&_0x598397&&Object[_0x5277e0(0x1af)](_0x39dcac,_0x32c108,_0x598397),_0x598397;},__metadata=this&&this[a93_0x47227c(0x1a3)]||function(_0x52c432,_0x3c17ce){const _0x4d542b=a93_0x47227c;if(typeof Reflect===_0x4d542b(0x1ab)&&typeof Reflect[_0x4d542b(0x199)]==='function')return Reflect[_0x4d542b(0x199)](_0x52c432,_0x3c17ce);},__param=this&&this[a93_0x47227c(0x171)]||function(_0x33584c,_0x1306e4){return function(_0xd7bdf0,_0x1a4079){_0x1306e4(_0xd7bdf0,_0x1a4079,_0x33584c);};};function a93_0x17b9(_0x383398,_0x37805c){return a93_0x17b9=function(_0x3f3dc6,_0x5ba936){_0x3f3dc6=_0x3f3dc6-0x16d;let _0x1a99bc=a93_0x8cfe[_0x3f3dc6];return _0x1a99bc;},a93_0x17b9(_0x383398,_0x37805c);}Object[a93_0x47227c(0x1af)](exports,'__esModule',{'value':!![]}),exports[a93_0x47227c(0x186)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a93_0x47227c(0x1ae)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a93_0x47227c(0x192)),bitbucket_server_api_service_1=require(a93_0x47227c(0x1a2)),git_internal_1=require(a93_0x47227c(0x173)),utils_1=require(a93_0x47227c(0x18d)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a93_0x47227c(0x1a5));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a93_0x47227c(0x180)]{constructor(_0x31c1de,_0x594372){const _0x23b417=a93_0x47227c;super(_0x31c1de),this[_0x23b417(0x17a)]=_0x31c1de,this[_0x23b417(0x194)]=_0x594372['bitbucketServer']['project'];}async[a93_0x47227c(0x19d)](_0x2cb819){const _0x39a357=a93_0x47227c;try{const _0x46da5b={'name':_0x2cb819[_0x39a357(0x19e)],'scmId':_0x39a357(0x18e),'defaultBranch':_0x2cb819[_0x39a357(0x18f)],..._0x2cb819[_0x39a357(0x16f)]||{}},_0x36749a=await this[_0x39a357(0x183)]['post']('projects/'+this[_0x39a357(0x194)]+_0x39a357(0x182),_0x46da5b),_0x1386ab=repo_class_1[_0x39a357(0x1ad)][_0x39a357(0x172)](_0x36749a,'');return _0x2cb819[_0x39a357(0x196)]&&await git_internal_1[_0x39a357(0x1a0)][_0x39a357(0x17d)](_0x1386ab,_0x2cb819[_0x39a357(0x18f)]||_0x39a357(0x177)),this[_0x39a357(0x16e)](_0x1386ab[_0x39a357(0x19e)]);}catch(_0x39297b){throw new bad_request_error_1[(_0x39a357(0x176))](_0x39297b);}}async[a93_0x47227c(0x16e)](_0x5075cb){const _0x2eba9c=a93_0x47227c;var _0x3e43a1;try{const _0x51149e=await this[_0x2eba9c(0x183)][_0x2eba9c(0x188)]('projects/'+this['project']+_0x2eba9c(0x187)+_0x5075cb),_0x6e3b3f=repo_class_1[_0x2eba9c(0x1ad)]['fromBitbucketServer'](_0x51149e,utils_1[_0x2eba9c(0x1a6)](this[_0x2eba9c(0x183)][_0x2eba9c(0x18c)][_0x2eba9c(0x1a9)]||'',_0x2eba9c(0x1ac)+this['project']+_0x2eba9c(0x187)+_0x5075cb)),_0x731b50=await this[_0x2eba9c(0x183)][_0x2eba9c(0x188)](_0x6e3b3f['apiUrl']+_0x2eba9c(0x19c))[_0x2eba9c(0x1aa)](_0x3fe9b3=>_0x3fe9b3[_0x2eba9c(0x17c)]);return _0x6e3b3f[_0x2eba9c(0x18f)]=(_0x3e43a1=_0x731b50[_0x2eba9c(0x181)](_0x30a515=>_0x30a515[_0x2eba9c(0x193)]===!![]))===null||_0x3e43a1===void 0x0?void 0x0:_0x3e43a1[_0x2eba9c(0x184)],_0x6e3b3f;}catch(_0x7014){throw new not_found_error_1[(_0x2eba9c(0x17e))](_0x7014);}}async[a93_0x47227c(0x198)](_0xd718de,_0x2601ff){const _0x14fa86=a93_0x47227c;try{const _0x526b27=await this[_0x14fa86(0x183)]['put'](_0x14fa86(0x197)+this[_0x14fa86(0x194)]+_0x14fa86(0x187)+_0xd718de,_0x2601ff),_0x257384=await this['request'][_0x14fa86(0x188)](_0x14fa86(0x197)+this[_0x14fa86(0x194)]+_0x14fa86(0x187)+_0xd718de+'/default-branch'),_0x35cf75=repo_class_1[_0x14fa86(0x1ad)]['fromBitbucketServer'](_0x526b27,utils_1[_0x14fa86(0x1a6)](this[_0x14fa86(0x183)][_0x14fa86(0x18c)]['baseURL']||'',_0x14fa86(0x1ac)+this[_0x14fa86(0x194)]+_0x14fa86(0x187)+_0xd718de));return _0x35cf75[_0x14fa86(0x18f)]=_0x257384['displayId'],_0x35cf75;}catch(_0x1470fe){throw new not_found_error_1['NotFoundError'](_0x1470fe);}}async['delete'](_0x54eb4d){const _0x178a9d=a93_0x47227c;try{await this[_0x178a9d(0x16e)](_0x54eb4d),await this[_0x178a9d(0x183)][_0x178a9d(0x18a)](_0x178a9d(0x197)+this[_0x178a9d(0x194)]+'/repos/'+_0x54eb4d);}catch(_0x13675d){throw new bad_request_error_1['BadRequestError'](_0x13675d);}}};BitbucketServerRepoService=__decorate([typedi_1[a93_0x47227c(0x174)](),__param(0x1,typedi_1[a93_0x47227c(0x191)]()),__metadata(a93_0x47227c(0x195),[bitbucket_server_api_service_1[a93_0x47227c(0x1a4)],auth_settings_service_1[a93_0x47227c(0x178)]])],BitbucketServerRepoService),exports[a93_0x47227c(0x186)]=BitbucketServerRepoService;