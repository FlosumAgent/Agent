const a94_0x417862=a94_0x3cf4;(function(_0x542abf,_0x201784){const _0x5b3a92=a94_0x3cf4,_0x570e30=_0x542abf();while(!![]){try{const _0x1eeb76=parseInt(_0x5b3a92(0x1a9))/0x1*(-parseInt(_0x5b3a92(0x17b))/0x2)+-parseInt(_0x5b3a92(0x199))/0x3+parseInt(_0x5b3a92(0x1a6))/0x4+parseInt(_0x5b3a92(0x188))/0x5*(-parseInt(_0x5b3a92(0x1ae))/0x6)+-parseInt(_0x5b3a92(0x194))/0x7*(-parseInt(_0x5b3a92(0x1b0))/0x8)+-parseInt(_0x5b3a92(0x183))/0x9+parseInt(_0x5b3a92(0x1b9))/0xa;if(_0x1eeb76===_0x201784)break;else _0x570e30['push'](_0x570e30['shift']());}catch(_0x539112){_0x570e30['push'](_0x570e30['shift']());}}}(a94_0x406f,0xd332a));const a94_0x2c1bbf=function(){let _0x48d7e3=!![];return function(_0xeb56bd,_0x2b6d58){const _0x2cbb8=_0x48d7e3?function(){const _0x2f5fc8=a94_0x3cf4;if(_0x2b6d58){const _0x19e0a8=_0x2b6d58[_0x2f5fc8(0x176)](_0xeb56bd,arguments);return _0x2b6d58=null,_0x19e0a8;}}:function(){};return _0x48d7e3=![],_0x2cbb8;};}(),a94_0x33a75e=a94_0x2c1bbf(this,function(){const _0x4fd6f1=a94_0x3cf4;return a94_0x33a75e['toString']()[_0x4fd6f1(0x19e)](_0x4fd6f1(0x17f))['toString']()[_0x4fd6f1(0x197)](a94_0x33a75e)[_0x4fd6f1(0x19e)](_0x4fd6f1(0x17f));});a94_0x33a75e();'use strict';var __decorate=this&&this[a94_0x417862(0x1ba)]||function(_0x5423ac,_0x696f0c,_0x5d92f8,_0x39468c){const _0x36b106=a94_0x417862;var _0x7087c6=arguments[_0x36b106(0x1a8)],_0x1279e3=_0x7087c6<0x3?_0x696f0c:_0x39468c===null?_0x39468c=Object[_0x36b106(0x196)](_0x696f0c,_0x5d92f8):_0x39468c,_0x3b2a9e;if(typeof Reflect===_0x36b106(0x1b8)&&typeof Reflect['decorate']===_0x36b106(0x1a4))_0x1279e3=Reflect['decorate'](_0x5423ac,_0x696f0c,_0x5d92f8,_0x39468c);else{for(var _0x2f2c98=_0x5423ac[_0x36b106(0x1a8)]-0x1;_0x2f2c98>=0x0;_0x2f2c98--)if(_0x3b2a9e=_0x5423ac[_0x2f2c98])_0x1279e3=(_0x7087c6<0x3?_0x3b2a9e(_0x1279e3):_0x7087c6>0x3?_0x3b2a9e(_0x696f0c,_0x5d92f8,_0x1279e3):_0x3b2a9e(_0x696f0c,_0x5d92f8))||_0x1279e3;}return _0x7087c6>0x3&&_0x1279e3&&Object[_0x36b106(0x177)](_0x696f0c,_0x5d92f8,_0x1279e3),_0x1279e3;},__metadata=this&&this[a94_0x417862(0x189)]||function(_0x4159ee,_0x2a5be2){const _0x3db437=a94_0x417862;if(typeof Reflect===_0x3db437(0x1b8)&&typeof Reflect[_0x3db437(0x192)]===_0x3db437(0x1a4))return Reflect[_0x3db437(0x192)](_0x4159ee,_0x2a5be2);},__param=this&&this['__param']||function(_0x16fa73,_0x1d355a){return function(_0x32bf31,_0x1bb778){_0x1d355a(_0x32bf31,_0x1bb778,_0x16fa73);};};function a94_0x406f(){const _0x2c5a43=['defineProperty','update','apiBody','./git-repo.service','63950pqENKl','nextPageStart','../repo.class','slug','(((.+)+)+)+$','../../../core/errors/bad-request.error','find','BitbucketServerRepoService','1331478QEpvMk','../../shared/utils','projects/','values','create','5qLHZWt','__metadata','defaults','NotFoundError','isDefault','push','get','GitRepoService','defaultBranch','project','metadata','map','3352174eCYDpf','/branches','getOwnPropertyDescriptor','constructor','/repos/','3420783wwEyVD','request','../../../core/errors/api.error','put','getOne','search','displayId','../../internal/git.internal','joinURL','../../shared/services/auth-settings.service','isLastPage','function','../../../core/errors/not-found.error','527900lwNAHv','BadRequestError','length','7buCMTc','Repo','/projects/','name','BitbucketServerApiService','2707098ySONcP','post','24kEmeaw','Git','ApiError','fromBitbucketServer','/default-branch','/repos','typedi','baseURL','object','12596560kODIbz','__decorate','delete','AuthSettingsService','git','apply'];a94_0x406f=function(){return _0x2c5a43;};return a94_0x406f();}Object[a94_0x417862(0x177)](exports,'__esModule',{'value':!![]}),exports[a94_0x417862(0x182)]=void 0x0;function a94_0x3cf4(_0x132fcb,_0x1ae5b6){const _0x2c054f=a94_0x406f();return a94_0x3cf4=function(_0x33a75e,_0x2c1bbf){_0x33a75e=_0x33a75e-0x176;let _0x406f57=_0x2c054f[_0x33a75e];return _0x406f57;},a94_0x3cf4(_0x132fcb,_0x1ae5b6);}const bad_request_error_1=require(a94_0x417862(0x180)),not_found_error_1=require(a94_0x417862(0x1a5)),auth_settings_service_1=require(a94_0x417862(0x1a2)),typedi_1=require(a94_0x417862(0x1b6)),api_error_1=require(a94_0x417862(0x19b)),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require(a94_0x417862(0x1a0)),utils_1=require(a94_0x417862(0x184)),repo_class_1=require(a94_0x417862(0x17d)),git_repo_service_1=require(a94_0x417862(0x17a));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a94_0x417862(0x18f)]{constructor(_0xbd69f7,_0x45bc20){const _0x2d4b57=a94_0x417862;super(_0xbd69f7),this['api']=_0xbd69f7,this['project']=_0x45bc20['bitbucketServer'][_0x2d4b57(0x191)];}async[a94_0x417862(0x187)](_0x42d790){const _0x4fd7c0=a94_0x417862;try{const _0x36d4ef={'name':_0x42d790['name'],'scmId':_0x4fd7c0(0x1bd),'defaultBranch':_0x42d790['defaultBranch'],..._0x42d790[_0x4fd7c0(0x179)]||{}},_0x3857a9=await this[_0x4fd7c0(0x19a)][_0x4fd7c0(0x1af)](_0x4fd7c0(0x185)+this[_0x4fd7c0(0x191)]+'/repos',_0x36d4ef),_0x2a4dcb=repo_class_1[_0x4fd7c0(0x1aa)][_0x4fd7c0(0x1b3)](_0x3857a9,'');return _0x42d790['autoInit']&&await git_internal_1[_0x4fd7c0(0x1b1)]['createEmptyBranch'](_0x2a4dcb,_0x42d790[_0x4fd7c0(0x190)]||'master'),this[_0x4fd7c0(0x19d)](_0x2a4dcb[_0x4fd7c0(0x1ac)]);}catch(_0x2643c5){if(_0x2643c5 instanceof api_error_1['ApiError'])throw _0x2643c5;throw new bad_request_error_1['BadRequestError'](_0x2643c5);}}async['getAll'](){const _0x5a2787=a94_0x417862;try{const _0x47f78f=[];let _0x667c30;do{_0x667c30=await this[_0x5a2787(0x19a)][_0x5a2787(0x18e)]('projects/'+this['project']+_0x5a2787(0x1b5),{'params':{'limit':0x64,'start':_0x667c30?_0x667c30[_0x5a2787(0x17c)]:0x0}}),_0x47f78f[_0x5a2787(0x18d)](..._0x667c30[_0x5a2787(0x186)]);}while(!_0x667c30[_0x5a2787(0x1a3)]);return _0x47f78f[_0x5a2787(0x193)](_0x473305=>repo_class_1['Repo'][_0x5a2787(0x1b3)](_0x473305,(0x0,utils_1[_0x5a2787(0x1a1)])(this[_0x5a2787(0x19a)]['defaults'][_0x5a2787(0x1b7)]||'',_0x5a2787(0x1ab)+this[_0x5a2787(0x191)]+_0x5a2787(0x198)+_0x473305[_0x5a2787(0x17e)])));}catch(_0x5b972d){if(_0x5b972d instanceof api_error_1[_0x5a2787(0x1b2)])throw _0x5b972d;throw new not_found_error_1['NotFoundError'](_0x5b972d);}}async[a94_0x417862(0x19d)](_0x20343c){const _0x19da4c=a94_0x417862;var _0x31500f;try{const _0x4973cd=await this['request'][_0x19da4c(0x18e)](_0x19da4c(0x185)+this[_0x19da4c(0x191)]+_0x19da4c(0x198)+_0x20343c),_0xfa1804=repo_class_1[_0x19da4c(0x1aa)][_0x19da4c(0x1b3)](_0x4973cd,(0x0,utils_1[_0x19da4c(0x1a1)])(this['request'][_0x19da4c(0x18a)]['baseURL']||'','/projects/'+this[_0x19da4c(0x191)]+_0x19da4c(0x198)+_0x20343c)),_0x313447=await this['request'][_0x19da4c(0x18e)](_0xfa1804['apiUrl']+_0x19da4c(0x195))['then'](_0x4aaa50=>_0x4aaa50[_0x19da4c(0x186)]);return _0xfa1804[_0x19da4c(0x190)]=(_0x31500f=_0x313447[_0x19da4c(0x181)](_0x575feb=>_0x575feb[_0x19da4c(0x18c)]===!![]))===null||_0x31500f===void 0x0?void 0x0:_0x31500f[_0x19da4c(0x19f)],_0xfa1804;}catch(_0x4afecb){if(_0x4afecb instanceof api_error_1[_0x19da4c(0x1b2)])throw _0x4afecb;throw new not_found_error_1[(_0x19da4c(0x18b))](_0x4afecb);}}async[a94_0x417862(0x178)](_0x284c80,_0x338cc2){const _0x47077d=a94_0x417862;try{const _0x301961=await this[_0x47077d(0x19a)][_0x47077d(0x19c)]('projects/'+this[_0x47077d(0x191)]+_0x47077d(0x198)+_0x284c80,_0x338cc2),_0x579967=await this[_0x47077d(0x19a)]['get']('projects/'+this[_0x47077d(0x191)]+_0x47077d(0x198)+_0x284c80+_0x47077d(0x1b4)),_0x299e65=repo_class_1[_0x47077d(0x1aa)]['fromBitbucketServer'](_0x301961,(0x0,utils_1[_0x47077d(0x1a1)])(this[_0x47077d(0x19a)]['defaults'][_0x47077d(0x1b7)]||'','/projects/'+this[_0x47077d(0x191)]+_0x47077d(0x198)+_0x284c80));return _0x299e65[_0x47077d(0x190)]=_0x579967[_0x47077d(0x19f)],_0x299e65;}catch(_0x203493){if(_0x203493 instanceof api_error_1[_0x47077d(0x1b2)])throw _0x203493;throw new not_found_error_1[(_0x47077d(0x18b))](_0x203493);}}async[a94_0x417862(0x1bb)](_0x533bdb){const _0x5157fe=a94_0x417862;try{await this[_0x5157fe(0x19d)](_0x533bdb),await this[_0x5157fe(0x19a)]['delete'](_0x5157fe(0x185)+this[_0x5157fe(0x191)]+'/repos/'+_0x533bdb);}catch(_0x233383){if(_0x233383 instanceof api_error_1[_0x5157fe(0x1b2)])throw _0x233383;throw new bad_request_error_1[(_0x5157fe(0x1a7))](_0x233383);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1['Inject'])()),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a94_0x417862(0x1ad)],auth_settings_service_1[a94_0x417862(0x1bc)]])],BitbucketServerRepoService),exports[a94_0x417862(0x182)]=BitbucketServerRepoService;