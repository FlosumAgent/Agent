const a94_0x55f6ba=a94_0x586a;(function(_0x308444,_0x1e3f00){const _0x3bc35b=a94_0x586a,_0x597226=_0x308444();while(!![]){try{const _0xce01c8=-parseInt(_0x3bc35b(0xeb))/0x1+parseInt(_0x3bc35b(0x122))/0x2+parseInt(_0x3bc35b(0x109))/0x3*(-parseInt(_0x3bc35b(0xf0))/0x4)+-parseInt(_0x3bc35b(0x114))/0x5+-parseInt(_0x3bc35b(0xe9))/0x6*(-parseInt(_0x3bc35b(0x117))/0x7)+-parseInt(_0x3bc35b(0x10e))/0x8*(-parseInt(_0x3bc35b(0xe5))/0x9)+parseInt(_0x3bc35b(0x126))/0xa;if(_0xce01c8===_0x1e3f00)break;else _0x597226['push'](_0x597226['shift']());}catch(_0x1869a1){_0x597226['push'](_0x597226['shift']());}}}(a94_0x4e4b,0x2e9ea));const a94_0x58311e=function(){let _0x4c4a9b=!![];return function(_0x5a5ea0,_0x307d31){const _0x5b4928=_0x4c4a9b?function(){if(_0x307d31){const _0x10b1c8=_0x307d31['apply'](_0x5a5ea0,arguments);return _0x307d31=null,_0x10b1c8;}}:function(){};return _0x4c4a9b=![],_0x5b4928;};}(),a94_0xbfcdef=a94_0x58311e(this,function(){const _0x3f4f87=a94_0x586a;return a94_0xbfcdef[_0x3f4f87(0xec)]()[_0x3f4f87(0x101)](_0x3f4f87(0xfd))[_0x3f4f87(0xec)]()[_0x3f4f87(0x102)](a94_0xbfcdef)[_0x3f4f87(0x101)]('(((.+)+)+)+$');});function a94_0x586a(_0x56aae2,_0x494dd0){const _0x134552=a94_0x4e4b();return a94_0x586a=function(_0xbfcdef,_0x58311e){_0xbfcdef=_0xbfcdef-0xe2;let _0x4e4bcf=_0x134552[_0xbfcdef];return _0x4e4bcf;},a94_0x586a(_0x56aae2,_0x494dd0);}a94_0xbfcdef();'use strict';var __decorate=this&&this[a94_0x55f6ba(0x127)]||function(_0x159e50,_0x3ef63b,_0x1ea78d,_0x15e1e7){const _0x308483=a94_0x55f6ba;var _0x482458=arguments[_0x308483(0xe2)],_0x3be0c3=_0x482458<0x3?_0x3ef63b:_0x15e1e7===null?_0x15e1e7=Object[_0x308483(0x100)](_0x3ef63b,_0x1ea78d):_0x15e1e7,_0x1ff151;if(typeof Reflect===_0x308483(0x112)&&typeof Reflect['decorate']===_0x308483(0x107))_0x3be0c3=Reflect['decorate'](_0x159e50,_0x3ef63b,_0x1ea78d,_0x15e1e7);else{for(var _0x590970=_0x159e50['length']-0x1;_0x590970>=0x0;_0x590970--)if(_0x1ff151=_0x159e50[_0x590970])_0x3be0c3=(_0x482458<0x3?_0x1ff151(_0x3be0c3):_0x482458>0x3?_0x1ff151(_0x3ef63b,_0x1ea78d,_0x3be0c3):_0x1ff151(_0x3ef63b,_0x1ea78d))||_0x3be0c3;}return _0x482458>0x3&&_0x3be0c3&&Object[_0x308483(0xe3)](_0x3ef63b,_0x1ea78d,_0x3be0c3),_0x3be0c3;},__metadata=this&&this[a94_0x55f6ba(0x118)]||function(_0x3dd1cf,_0x32bc9b){const _0x34c840=a94_0x55f6ba;if(typeof Reflect===_0x34c840(0x112)&&typeof Reflect[_0x34c840(0x119)]==='function')return Reflect[_0x34c840(0x119)](_0x3dd1cf,_0x32bc9b);},__param=this&&this['__param']||function(_0x534d90,_0x5b5a99){return function(_0x1c58db,_0x13e48a){_0x5b5a99(_0x1c58db,_0x13e48a,_0x534d90);};};function a94_0x4e4b(){const _0x359389=['function','getAll','15DnLeNd','values','update','request','../../git-api/services/bitbucket-server-api.service','344WyywXB','BadRequestError','autoInit','name','object','projects/','403465DGHroS','fromBitbucketServer','BitbucketServerRepoService','1372826tLQHtI','__metadata','metadata','../../shared/services/auth-settings.service','./git-repo.service','Repo','BitbucketServerApiService','../../../core/errors/not-found.error','NotFoundError','displayId','master','730300AvRxZD','joinURL','api','typedi','69930CPbEOS','__decorate','length','defineProperty','find','21744XkxSae','/default-branch','../../shared/utils','delete','6HVcSJS','AuthSettingsService','224657CciysA','toString','get','defaultBranch','/branches','140676PHrAEg','createEmptyBranch','getOne','../../../core/errors/api.error','baseURL','Inject','../../internal/git.internal','defaults','apiBody','/projects/','design:paramtypes','/repos/','ApiError','(((.+)+)+)+$','nextPageStart','map','getOwnPropertyDescriptor','search','constructor','push','apiUrl','project','/repos'];a94_0x4e4b=function(){return _0x359389;};return a94_0x4e4b();}Object[a94_0x55f6ba(0xe3)](exports,'__esModule',{'value':!![]}),exports[a94_0x55f6ba(0x116)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a94_0x55f6ba(0x11e)),auth_settings_service_1=require(a94_0x55f6ba(0x11a)),typedi_1=require(a94_0x55f6ba(0x125)),api_error_1=require(a94_0x55f6ba(0xf3)),bitbucket_server_api_service_1=require(a94_0x55f6ba(0x10d)),git_internal_1=require(a94_0x55f6ba(0xf6)),utils_1=require(a94_0x55f6ba(0xe7)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a94_0x55f6ba(0x11b));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x3c6029,_0x18d492){const _0x82b612=a94_0x55f6ba;super(_0x3c6029),this[_0x82b612(0x124)]=_0x3c6029,this[_0x82b612(0x105)]=_0x18d492['bitbucketServer'][_0x82b612(0x105)];}async['create'](_0x3dd95c){const _0x4c3732=a94_0x55f6ba;try{const _0x520401={'name':_0x3dd95c[_0x4c3732(0x111)],'scmId':'git','defaultBranch':_0x3dd95c[_0x4c3732(0xee)],..._0x3dd95c[_0x4c3732(0xf8)]||{}},_0x2dbdcd=await this['request']['post']('projects/'+this['project']+_0x4c3732(0x106),_0x520401),_0x59b693=repo_class_1[_0x4c3732(0x11c)][_0x4c3732(0x115)](_0x2dbdcd,'');return _0x3dd95c[_0x4c3732(0x110)]&&await git_internal_1['Git'][_0x4c3732(0xf1)](_0x59b693,_0x3dd95c['defaultBranch']||_0x4c3732(0x121)),this[_0x4c3732(0xf2)](_0x59b693[_0x4c3732(0x111)]);}catch(_0x17a386){if(_0x17a386 instanceof api_error_1[_0x4c3732(0xfc)])throw _0x17a386;throw new bad_request_error_1[(_0x4c3732(0x10f))](_0x17a386);}}async[a94_0x55f6ba(0x108)](){const _0x5083a9=a94_0x55f6ba;try{const _0x37c064=[];let _0x4f005f;do{_0x4f005f=await this['request'][_0x5083a9(0xed)]('projects/'+this[_0x5083a9(0x105)]+'/repos',{'params':{'limit':0x64,'start':_0x4f005f?_0x4f005f[_0x5083a9(0xfe)]:0x0}}),_0x37c064[_0x5083a9(0x103)](..._0x4f005f[_0x5083a9(0x10a)]);}while(!_0x4f005f['isLastPage']);return _0x37c064[_0x5083a9(0xff)](_0x38b2ec=>repo_class_1[_0x5083a9(0x11c)][_0x5083a9(0x115)](_0x38b2ec,(0x0,utils_1[_0x5083a9(0x123)])(this[_0x5083a9(0x10c)]['defaults']['baseURL']||'',_0x5083a9(0xf9)+this['project']+_0x5083a9(0xfb)+_0x38b2ec['slug'])));}catch(_0x3d28aa){if(_0x3d28aa instanceof api_error_1[_0x5083a9(0xfc)])throw _0x3d28aa;throw new not_found_error_1[(_0x5083a9(0x11f))](_0x3d28aa);}}async['getOne'](_0x55637f){const _0xe3d89f=a94_0x55f6ba;var _0xdbbcf9;try{const _0x23077b=await this[_0xe3d89f(0x10c)][_0xe3d89f(0xed)]('projects/'+this[_0xe3d89f(0x105)]+_0xe3d89f(0xfb)+_0x55637f),_0xa94690=repo_class_1[_0xe3d89f(0x11c)][_0xe3d89f(0x115)](_0x23077b,(0x0,utils_1[_0xe3d89f(0x123)])(this[_0xe3d89f(0x10c)][_0xe3d89f(0xf7)]['baseURL']||'',_0xe3d89f(0xf9)+this[_0xe3d89f(0x105)]+'/repos/'+_0x55637f)),_0x3d85ee=await this[_0xe3d89f(0x10c)][_0xe3d89f(0xed)](_0xa94690[_0xe3d89f(0x104)]+_0xe3d89f(0xef))['then'](_0x3d798d=>_0x3d798d[_0xe3d89f(0x10a)]);return _0xa94690[_0xe3d89f(0xee)]=(_0xdbbcf9=_0x3d85ee[_0xe3d89f(0xe4)](_0xa46e09=>_0xa46e09['isDefault']===!![]))===null||_0xdbbcf9===void 0x0?void 0x0:_0xdbbcf9[_0xe3d89f(0x120)],_0xa94690;}catch(_0xbbaa22){if(_0xbbaa22 instanceof api_error_1[_0xe3d89f(0xfc)])throw _0xbbaa22;throw new not_found_error_1[(_0xe3d89f(0x11f))](_0xbbaa22);}}async[a94_0x55f6ba(0x10b)](_0x3eaa26,_0x40505f){const _0x496c3b=a94_0x55f6ba;try{const _0x30b6f6=await this['request']['put'](_0x496c3b(0x113)+this[_0x496c3b(0x105)]+_0x496c3b(0xfb)+_0x3eaa26,_0x40505f),_0x14fd41=await this['request'][_0x496c3b(0xed)](_0x496c3b(0x113)+this[_0x496c3b(0x105)]+_0x496c3b(0xfb)+_0x3eaa26+_0x496c3b(0xe6)),_0x5af90b=repo_class_1[_0x496c3b(0x11c)]['fromBitbucketServer'](_0x30b6f6,(0x0,utils_1[_0x496c3b(0x123)])(this['request'][_0x496c3b(0xf7)][_0x496c3b(0xf4)]||'','/projects/'+this['project']+_0x496c3b(0xfb)+_0x3eaa26));return _0x5af90b['defaultBranch']=_0x14fd41['displayId'],_0x5af90b;}catch(_0x2eed9f){if(_0x2eed9f instanceof api_error_1['ApiError'])throw _0x2eed9f;throw new not_found_error_1['NotFoundError'](_0x2eed9f);}}async[a94_0x55f6ba(0xe8)](_0x286ece){const _0xf63b21=a94_0x55f6ba;try{await this['getOne'](_0x286ece),await this[_0xf63b21(0x10c)][_0xf63b21(0xe8)]('projects/'+this[_0xf63b21(0x105)]+'/repos/'+_0x286ece);}catch(_0x5c4410){if(_0x5c4410 instanceof api_error_1[_0xf63b21(0xfc)])throw _0x5c4410;throw new bad_request_error_1[(_0xf63b21(0x10f))](_0x5c4410);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a94_0x55f6ba(0xf5)])()),__metadata(a94_0x55f6ba(0xfa),[bitbucket_server_api_service_1[a94_0x55f6ba(0x11d)],auth_settings_service_1[a94_0x55f6ba(0xea)]])],BitbucketServerRepoService),exports[a94_0x55f6ba(0x116)]=BitbucketServerRepoService;