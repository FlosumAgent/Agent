const a92_0xec75=['createEmptyBranch','bitbucketServer','AuthSettingsService','GitRepoService','6mYJXQN','371867HSGKvP','__decorate','git','../../git-api/services/bitbucket-server-api.service','/repos','request','/default-branch','Git','typedi','/projects/','1507865NCOqdO','design:paramtypes','object','BadRequestError','return\x20/\x22\x20+\x20this\x20+\x20\x22/','fromBitbucketServer','update','getOwnPropertyDescriptor','186464hkfamT','name','put','api','joinURL','displayId','3MTDuoT','constructor','66897OyAlRj','decorate','metadata','BitbucketServerRepoService','NotFoundError','defaults','defaultBranch','project','/repos/','projects/','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../shared/services/auth-settings.service','262226KIerGu','get','259707WFPRsV','599250dtMnMT','Repo','../../internal/git.internal','__metadata','length','./git-repo.service','baseURL','getOne','create','__esModule','../repo.class','test','defineProperty','../../shared/utils','post','1fqsLYM'];const a92_0x3e5085=a92_0x17d7;(function(_0x374a54,_0x10dd8d){const _0x37edcf=a92_0x17d7;while(!![]){try{const _0x510644=-parseInt(_0x37edcf(0x1f2))+parseInt(_0x37edcf(0x1c9))+-parseInt(_0x37edcf(0x1f1))+-parseInt(_0x37edcf(0x1e3))*parseInt(_0x37edcf(0x1c8))+parseInt(_0x37edcf(0x1ef))+parseInt(_0x37edcf(0x1e1))*-parseInt(_0x37edcf(0x1db))+-parseInt(_0x37edcf(0x201))*-parseInt(_0x37edcf(0x1d3));if(_0x510644===_0x10dd8d)break;else _0x374a54['push'](_0x374a54['shift']());}catch(_0x4dbb65){_0x374a54['push'](_0x374a54['shift']());}}}(a92_0xec75,0x4eab3));const a92_0x44834c=function(){let _0x46c8e0=!![];return function(_0xa7d769,_0xd5fc97){const _0x3d2abd=_0x46c8e0?function(){if(_0xd5fc97){const _0x5f049d=_0xd5fc97['apply'](_0xa7d769,arguments);return _0xd5fc97=null,_0x5f049d;}}:function(){};return _0x46c8e0=![],_0x3d2abd;};}(),a92_0x186f24=a92_0x44834c(this,function(){const _0x477d4c=function(){const _0x6eb2fe=a92_0x17d7,_0x313bb8=_0x477d4c[_0x6eb2fe(0x1e2)](_0x6eb2fe(0x1d7))()[_0x6eb2fe(0x1e2)](_0x6eb2fe(0x1ed));return!_0x313bb8[_0x6eb2fe(0x1fd)](a92_0x186f24);};return _0x477d4c();});a92_0x186f24();'use strict';var __decorate=this&&this[a92_0x3e5085(0x1ca)]||function(_0x4d97c6,_0x1be5ce,_0x23f558,_0x1a9ed3){const _0x341a9d=a92_0x3e5085;var _0x271374=arguments[_0x341a9d(0x1f6)],_0x50e910=_0x271374<0x3?_0x1be5ce:_0x1a9ed3===null?_0x1a9ed3=Object[_0x341a9d(0x1da)](_0x1be5ce,_0x23f558):_0x1a9ed3,_0x8a9a2c;if(typeof Reflect===_0x341a9d(0x1d5)&&typeof Reflect[_0x341a9d(0x1e4)]==='function')_0x50e910=Reflect['decorate'](_0x4d97c6,_0x1be5ce,_0x23f558,_0x1a9ed3);else{for(var _0x40c830=_0x4d97c6[_0x341a9d(0x1f6)]-0x1;_0x40c830>=0x0;_0x40c830--)if(_0x8a9a2c=_0x4d97c6[_0x40c830])_0x50e910=(_0x271374<0x3?_0x8a9a2c(_0x50e910):_0x271374>0x3?_0x8a9a2c(_0x1be5ce,_0x23f558,_0x50e910):_0x8a9a2c(_0x1be5ce,_0x23f558))||_0x50e910;}return _0x271374>0x3&&_0x50e910&&Object['defineProperty'](_0x1be5ce,_0x23f558,_0x50e910),_0x50e910;},__metadata=this&&this[a92_0x3e5085(0x1f5)]||function(_0x4e178b,_0x2a2792){const _0x246965=a92_0x3e5085;if(typeof Reflect===_0x246965(0x1d5)&&typeof Reflect[_0x246965(0x1e5)]==='function')return Reflect[_0x246965(0x1e5)](_0x4e178b,_0x2a2792);},__param=this&&this['__param']||function(_0x611c7f,_0x4259eb){return function(_0x5a93a2,_0x530704){_0x4259eb(_0x5a93a2,_0x530704,_0x611c7f);};};function a92_0x17d7(_0x441ca4,_0x402004){return a92_0x17d7=function(_0x373d34,_0x186f24){_0x373d34=_0x373d34-0x1c5;let _0x44834c=a92_0xec75[_0x373d34];return _0x44834c;},a92_0x17d7(_0x441ca4,_0x402004);}Object[a92_0x3e5085(0x1fe)](exports,a92_0x3e5085(0x1fb),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require(a92_0x3e5085(0x1ee)),typedi_1=require(a92_0x3e5085(0x1d1)),bitbucket_server_api_service_1=require(a92_0x3e5085(0x1cc)),git_internal_1=require(a92_0x3e5085(0x1f4)),utils_1=require(a92_0x3e5085(0x1ff)),repo_class_1=require(a92_0x3e5085(0x1fc)),git_repo_service_1=require(a92_0x3e5085(0x1f7));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a92_0x3e5085(0x1c7)]{constructor(_0xe61f2f,_0xd6192c){const _0x8c2fc9=a92_0x3e5085;super(_0xe61f2f),this[_0x8c2fc9(0x1de)]=_0xe61f2f,this[_0x8c2fc9(0x1ea)]=_0xd6192c[_0x8c2fc9(0x1c5)][_0x8c2fc9(0x1ea)];}async[a92_0x3e5085(0x1fa)](_0x44c02b){const _0x49e072=a92_0x3e5085;try{const _0x49636c={'name':_0x44c02b[_0x49e072(0x1dc)],'scmId':_0x49e072(0x1cb),'defaultBranch':_0x44c02b[_0x49e072(0x1e9)],..._0x44c02b['apiBody']||{}},_0x1e07f1=await this[_0x49e072(0x1ce)][_0x49e072(0x200)]('projects/'+this[_0x49e072(0x1ea)]+_0x49e072(0x1cd),_0x49636c),_0x58dc9b=repo_class_1['Repo']['fromBitbucketServer'](_0x1e07f1,'');return _0x44c02b['autoInit']&&await git_internal_1[_0x49e072(0x1d0)][_0x49e072(0x202)](_0x58dc9b,_0x44c02b['defaultBranch']||'master'),this[_0x49e072(0x1f9)](_0x58dc9b[_0x49e072(0x1dc)]);}catch(_0x4a364d){throw new bad_request_error_1['BadRequestError'](_0x4a364d);}}async[a92_0x3e5085(0x1f9)](_0x59f836){const _0x254c00=a92_0x3e5085;try{const _0x2ff382=await this[_0x254c00(0x1ce)][_0x254c00(0x1f0)](_0x254c00(0x1ec)+this[_0x254c00(0x1ea)]+_0x254c00(0x1eb)+_0x59f836),_0x1be0e2=await this[_0x254c00(0x1ce)][_0x254c00(0x1f0)]('projects/'+this['project']+'/repos/'+_0x59f836+_0x254c00(0x1cf)),_0x8ba65b=repo_class_1[_0x254c00(0x1f3)][_0x254c00(0x1d8)](_0x2ff382,utils_1[_0x254c00(0x1df)](this[_0x254c00(0x1ce)][_0x254c00(0x1e8)][_0x254c00(0x1f8)]||'',_0x254c00(0x1d2)+this[_0x254c00(0x1ea)]+_0x254c00(0x1eb)+_0x59f836));return _0x8ba65b[_0x254c00(0x1e9)]=_0x1be0e2[_0x254c00(0x1e0)],_0x8ba65b;}catch(_0x39ad0d){throw new not_found_error_1[(_0x254c00(0x1e7))](_0x39ad0d);}}async[a92_0x3e5085(0x1d9)](_0x154cd7,_0x419518){const _0x48fdfa=a92_0x3e5085;try{const _0x5bd411=await this[_0x48fdfa(0x1ce)][_0x48fdfa(0x1dd)](_0x48fdfa(0x1ec)+this['project']+_0x48fdfa(0x1eb)+_0x154cd7,_0x419518),_0x4d21f3=await this['request'][_0x48fdfa(0x1f0)](_0x48fdfa(0x1ec)+this[_0x48fdfa(0x1ea)]+_0x48fdfa(0x1eb)+_0x154cd7+_0x48fdfa(0x1cf)),_0x39d145=repo_class_1[_0x48fdfa(0x1f3)][_0x48fdfa(0x1d8)](_0x5bd411,utils_1['joinURL'](this[_0x48fdfa(0x1ce)][_0x48fdfa(0x1e8)][_0x48fdfa(0x1f8)]||'',_0x48fdfa(0x1d2)+this[_0x48fdfa(0x1ea)]+_0x48fdfa(0x1eb)+_0x154cd7));return _0x39d145['defaultBranch']=_0x4d21f3[_0x48fdfa(0x1e0)],_0x39d145;}catch(_0x2008ab){throw new not_found_error_1[(_0x48fdfa(0x1e7))](_0x2008ab);}}async['delete'](_0x36b99b){const _0x50f0cc=a92_0x3e5085;try{await this[_0x50f0cc(0x1f9)](_0x36b99b),await this[_0x50f0cc(0x1ce)]['delete'](_0x50f0cc(0x1ec)+this[_0x50f0cc(0x1ea)]+_0x50f0cc(0x1eb)+_0x36b99b);}catch(_0x3f7131){throw new bad_request_error_1[(_0x50f0cc(0x1d6))](_0x3f7131);}}};BitbucketServerRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1['Inject']()),__metadata(a92_0x3e5085(0x1d4),[bitbucket_server_api_service_1['BitbucketServerApiService'],auth_settings_service_1[a92_0x3e5085(0x1c6)]])],BitbucketServerRepoService),exports[a92_0x3e5085(0x1e6)]=BitbucketServerRepoService;