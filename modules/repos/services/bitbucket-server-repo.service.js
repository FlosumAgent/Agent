const a93_0xa0d3=['../repo.class','post','defaults','1XvEurt','Repo','Inject','put','master','update','apply','__decorate','515590ciwVyI','/repos','bitbucketServer','../../shared/utils','baseURL','fromBitbucketServer','find','../../shared/services/auth-settings.service','then','projects/','test','constructor','__param','apiBody','/branches','displayId','decorate','BadRequestError','/repos/','Git','apiUrl','isDefault','length','AuthSettingsService','get','api','/projects/','defineProperty','project','function','../../../core/errors/bad-request.error','BitbucketServerApiService','554665cgymBb','metadata','Service','return\x20/\x22\x20+\x20this\x20+\x20\x22/','841783GBKrSL','createEmptyBranch','typedi','create','397473jGdKpf','__metadata','name','400161bvDoLl','defaultBranch','object','188377qPPueD','getOne','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','GitRepoService','request','331365OAWRiz','git','delete','BitbucketServerRepoService'];const a93_0x259964=a93_0x2e00;(function(_0x10385d,_0x3c9605){const _0x57f87c=a93_0x2e00;while(!![]){try{const _0x4dedf3=parseInt(_0x57f87c(0x1ef))+-parseInt(_0x57f87c(0x1bc))*parseInt(_0x57f87c(0x1ec))+parseInt(_0x57f87c(0x1f2))+parseInt(_0x57f87c(0x1b5))+-parseInt(_0x57f87c(0x1c4))+-parseInt(_0x57f87c(0x1e4))+parseInt(_0x57f87c(0x1e8));if(_0x4dedf3===_0x3c9605)break;else _0x10385d['push'](_0x10385d['shift']());}catch(_0x211721){_0x10385d['push'](_0x10385d['shift']());}}}(a93_0xa0d3,0x47c46));const a93_0x2b8b47=function(){let _0x321008=!![];return function(_0x3899a,_0x85a427){const _0x127f3f=_0x321008?function(){const _0x43321f=a93_0x2e00;if(_0x85a427){const _0x1fcf57=_0x85a427[_0x43321f(0x1c2)](_0x3899a,arguments);return _0x85a427=null,_0x1fcf57;}}:function(){};return _0x321008=![],_0x127f3f;};}(),a93_0x2518d7=a93_0x2b8b47(this,function(){const _0x1d7ce7=function(){const _0x4f46ce=a93_0x2e00,_0x50c4f9=_0x1d7ce7[_0x4f46ce(0x1cf)](_0x4f46ce(0x1e7))()['constructor'](_0x4f46ce(0x1b2));return!_0x50c4f9[_0x4f46ce(0x1ce)](a93_0x2518d7);};return _0x1d7ce7();});a93_0x2518d7();'use strict';var __decorate=this&&this[a93_0x259964(0x1c3)]||function(_0x29efbc,_0x105a4e,_0x12b9fd,_0x4d17f6){const _0x76c1ba=a93_0x259964;var _0x3872c9=arguments[_0x76c1ba(0x1da)],_0xd384f3=_0x3872c9<0x3?_0x105a4e:_0x4d17f6===null?_0x4d17f6=Object['getOwnPropertyDescriptor'](_0x105a4e,_0x12b9fd):_0x4d17f6,_0x4ec638;if(typeof Reflect===_0x76c1ba(0x1f1)&&typeof Reflect[_0x76c1ba(0x1d4)]===_0x76c1ba(0x1e1))_0xd384f3=Reflect[_0x76c1ba(0x1d4)](_0x29efbc,_0x105a4e,_0x12b9fd,_0x4d17f6);else{for(var _0x4ec74a=_0x29efbc[_0x76c1ba(0x1da)]-0x1;_0x4ec74a>=0x0;_0x4ec74a--)if(_0x4ec638=_0x29efbc[_0x4ec74a])_0xd384f3=(_0x3872c9<0x3?_0x4ec638(_0xd384f3):_0x3872c9>0x3?_0x4ec638(_0x105a4e,_0x12b9fd,_0xd384f3):_0x4ec638(_0x105a4e,_0x12b9fd))||_0xd384f3;}return _0x3872c9>0x3&&_0xd384f3&&Object[_0x76c1ba(0x1df)](_0x105a4e,_0x12b9fd,_0xd384f3),_0xd384f3;},__metadata=this&&this[a93_0x259964(0x1ed)]||function(_0x5134e1,_0x5178cf){const _0x7c2c81=a93_0x259964;if(typeof Reflect===_0x7c2c81(0x1f1)&&typeof Reflect['metadata']==='function')return Reflect[_0x7c2c81(0x1e5)](_0x5134e1,_0x5178cf);},__param=this&&this[a93_0x259964(0x1d0)]||function(_0x255f0a,_0x5f2835){return function(_0x589737,_0x5acabe){_0x5f2835(_0x589737,_0x5acabe,_0x255f0a);};};Object[a93_0x259964(0x1df)](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;function a93_0x2e00(_0x4ebce4,_0x163c35){return a93_0x2e00=function(_0x393f22,_0x2518d7){_0x393f22=_0x393f22-0x1b2;let _0x2b8b47=a93_0xa0d3[_0x393f22];return _0x2b8b47;},a93_0x2e00(_0x4ebce4,_0x163c35);}const bad_request_error_1=require(a93_0x259964(0x1e2)),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require(a93_0x259964(0x1cb)),typedi_1=require(a93_0x259964(0x1ea)),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require('../../internal/git.internal'),utils_1=require(a93_0x259964(0x1c7)),repo_class_1=require(a93_0x259964(0x1b9)),git_repo_service_1=require('./git-repo.service');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a93_0x259964(0x1b3)]{constructor(_0x5ca197,_0x15ba13){const _0x3a6b5e=a93_0x259964;super(_0x5ca197),this[_0x3a6b5e(0x1dd)]=_0x5ca197,this[_0x3a6b5e(0x1e0)]=_0x15ba13[_0x3a6b5e(0x1c6)]['project'];}async[a93_0x259964(0x1eb)](_0x31aeec){const _0x19d6df=a93_0x259964;try{const _0x58c4ef={'name':_0x31aeec[_0x19d6df(0x1ee)],'scmId':_0x19d6df(0x1b6),'defaultBranch':_0x31aeec[_0x19d6df(0x1f0)],..._0x31aeec[_0x19d6df(0x1d1)]||{}},_0x26c970=await this[_0x19d6df(0x1b4)][_0x19d6df(0x1ba)](_0x19d6df(0x1cd)+this[_0x19d6df(0x1e0)]+_0x19d6df(0x1c5),_0x58c4ef),_0x15762e=repo_class_1[_0x19d6df(0x1bd)][_0x19d6df(0x1c9)](_0x26c970,'');return _0x31aeec['autoInit']&&await git_internal_1[_0x19d6df(0x1d7)][_0x19d6df(0x1e9)](_0x15762e,_0x31aeec['defaultBranch']||_0x19d6df(0x1c0)),this[_0x19d6df(0x1f3)](_0x15762e[_0x19d6df(0x1ee)]);}catch(_0x55d82a){throw new bad_request_error_1[(_0x19d6df(0x1d5))](_0x55d82a);}}async[a93_0x259964(0x1f3)](_0x414f89){const _0x208b38=a93_0x259964;var _0x346302;try{const _0x167406=await this[_0x208b38(0x1b4)]['get'](_0x208b38(0x1cd)+this['project']+_0x208b38(0x1d6)+_0x414f89),_0x1b8eba=repo_class_1['Repo'][_0x208b38(0x1c9)](_0x167406,utils_1['joinURL'](this['request'][_0x208b38(0x1bb)][_0x208b38(0x1c8)]||'',_0x208b38(0x1de)+this[_0x208b38(0x1e0)]+'/repos/'+_0x414f89)),_0x54f958=await this[_0x208b38(0x1b4)][_0x208b38(0x1dc)](_0x1b8eba[_0x208b38(0x1d8)]+_0x208b38(0x1d2))[_0x208b38(0x1cc)](_0x450769=>_0x450769['values']);return _0x1b8eba[_0x208b38(0x1f0)]=(_0x346302=_0x54f958[_0x208b38(0x1ca)](_0x4788dd=>_0x4788dd[_0x208b38(0x1d9)]===!![]))===null||_0x346302===void 0x0?void 0x0:_0x346302[_0x208b38(0x1d3)],_0x1b8eba;}catch(_0x33ddf9){throw new not_found_error_1['NotFoundError'](_0x33ddf9);}}async[a93_0x259964(0x1c1)](_0x4e5fc9,_0x10b520){const _0x2ffff5=a93_0x259964;try{const _0xc344cb=await this[_0x2ffff5(0x1b4)][_0x2ffff5(0x1bf)]('projects/'+this['project']+_0x2ffff5(0x1d6)+_0x4e5fc9,_0x10b520),_0x5c3896=await this[_0x2ffff5(0x1b4)]['get'](_0x2ffff5(0x1cd)+this[_0x2ffff5(0x1e0)]+_0x2ffff5(0x1d6)+_0x4e5fc9+'/default-branch'),_0x342142=repo_class_1[_0x2ffff5(0x1bd)]['fromBitbucketServer'](_0xc344cb,utils_1['joinURL'](this[_0x2ffff5(0x1b4)]['defaults'][_0x2ffff5(0x1c8)]||'',_0x2ffff5(0x1de)+this[_0x2ffff5(0x1e0)]+_0x2ffff5(0x1d6)+_0x4e5fc9));return _0x342142[_0x2ffff5(0x1f0)]=_0x5c3896['displayId'],_0x342142;}catch(_0x408f7f){throw new not_found_error_1['NotFoundError'](_0x408f7f);}}async[a93_0x259964(0x1b7)](_0x4b5f73){const _0x14e7c0=a93_0x259964;try{await this['getOne'](_0x4b5f73),await this[_0x14e7c0(0x1b4)][_0x14e7c0(0x1b7)]('projects/'+this[_0x14e7c0(0x1e0)]+_0x14e7c0(0x1d6)+_0x4b5f73);}catch(_0x5ceed1){throw new bad_request_error_1[(_0x14e7c0(0x1d5))](_0x5ceed1);}}};BitbucketServerRepoService=__decorate([typedi_1[a93_0x259964(0x1e6)](),__param(0x1,typedi_1[a93_0x259964(0x1be)]()),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a93_0x259964(0x1e3)],auth_settings_service_1[a93_0x259964(0x1db)]])],BitbucketServerRepoService),exports[a93_0x259964(0x1b8)]=BitbucketServerRepoService;