const a93_0x5e3646=a93_0x12a9;(function(_0x30acf7,_0x4e31a3){const _0x10ac2b=a93_0x12a9,_0x4d0768=_0x30acf7();while(!![]){try{const _0x2e3389=parseInt(_0x10ac2b(0x1cc))/0x1*(-parseInt(_0x10ac2b(0x1e7))/0x2)+-parseInt(_0x10ac2b(0x1af))/0x3*(-parseInt(_0x10ac2b(0x1e8))/0x4)+parseInt(_0x10ac2b(0x1ea))/0x5*(parseInt(_0x10ac2b(0x1ab))/0x6)+parseInt(_0x10ac2b(0x1be))/0x7*(-parseInt(_0x10ac2b(0x1c1))/0x8)+parseInt(_0x10ac2b(0x1b1))/0x9*(-parseInt(_0x10ac2b(0x1d9))/0xa)+-parseInt(_0x10ac2b(0x1e4))/0xb+parseInt(_0x10ac2b(0x1aa))/0xc;if(_0x2e3389===_0x4e31a3)break;else _0x4d0768['push'](_0x4d0768['shift']());}catch(_0x30cba5){_0x4d0768['push'](_0x4d0768['shift']());}}}(a93_0x5dea,0x1f9f1));const a93_0x27552a=function(){let _0xb8ada7=!![];return function(_0x5932b8,_0x2c1e50){const _0xacba87=_0xb8ada7?function(){const _0x5e068e=a93_0x12a9;if(_0x2c1e50){const _0x19ad3a=_0x2c1e50[_0x5e068e(0x1dc)](_0x5932b8,arguments);return _0x2c1e50=null,_0x19ad3a;}}:function(){};return _0xb8ada7=![],_0xacba87;};}(),a93_0x5a55b4=a93_0x27552a(this,function(){const _0x5e0b0b=a93_0x12a9;return a93_0x5a55b4['toString']()['search'](_0x5e0b0b(0x1cb))[_0x5e0b0b(0x1c8)]()['constructor'](a93_0x5a55b4)[_0x5e0b0b(0x1de)](_0x5e0b0b(0x1cb));});function a93_0x5dea(){const _0x16a752=['api','Repo','NotFoundError','Inject','fromBitbucketServer','function','projects/','length','delete','__metadata','__param','73810atUssd','getOwnPropertyDescriptor','apiUrl','apply','__decorate','search','post','../../shared/utils','decorate','baseURL','apiBody','2399639WXJyqN','../repo.class','project','5678xBkAxi','390452zLiSzI','put','26185NZxMUR','Service','autoInit','AuthSettingsService','/repos/','../../git-api/services/bitbucket-server-api.service','object','5370456Stbibw','240wAhPSO','request','GitRepoService','__esModule','6GofqXx','../../../core/errors/bad-request.error','297WPYmHg','../../../core/errors/not-found.error','name','getOne','BadRequestError','BitbucketServerApiService','defineProperty','BitbucketServerRepoService','/default-branch','defaultBranch','isDefault','master','/projects/','112GmMOdv','joinURL','find','41072eNVtHi','typedi','defaults','git','then','displayId','get','toString','../../shared/services/auth-settings.service','create','(((.+)+)+)+$','63kSzeLk','/repos'];a93_0x5dea=function(){return _0x16a752;};return a93_0x5dea();}a93_0x5a55b4();'use strict';var __decorate=this&&this[a93_0x5e3646(0x1dd)]||function(_0x5359e4,_0x291fef,_0x349d91,_0x24c979){const _0x4a484a=a93_0x5e3646;var _0x2de029=arguments[_0x4a484a(0x1d5)],_0x797254=_0x2de029<0x3?_0x291fef:_0x24c979===null?_0x24c979=Object[_0x4a484a(0x1da)](_0x291fef,_0x349d91):_0x24c979,_0x54d779;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x4a484a(0x1d3))_0x797254=Reflect[_0x4a484a(0x1e1)](_0x5359e4,_0x291fef,_0x349d91,_0x24c979);else{for(var _0x24f45e=_0x5359e4['length']-0x1;_0x24f45e>=0x0;_0x24f45e--)if(_0x54d779=_0x5359e4[_0x24f45e])_0x797254=(_0x2de029<0x3?_0x54d779(_0x797254):_0x2de029>0x3?_0x54d779(_0x291fef,_0x349d91,_0x797254):_0x54d779(_0x291fef,_0x349d91))||_0x797254;}return _0x2de029>0x3&&_0x797254&&Object['defineProperty'](_0x291fef,_0x349d91,_0x797254),_0x797254;},__metadata=this&&this[a93_0x5e3646(0x1d7)]||function(_0x5ada16,_0x36aaa0){const _0x4ea42a=a93_0x5e3646;if(typeof Reflect===_0x4ea42a(0x1a9)&&typeof Reflect['metadata']===_0x4ea42a(0x1d3))return Reflect['metadata'](_0x5ada16,_0x36aaa0);},__param=this&&this[a93_0x5e3646(0x1d8)]||function(_0x10ea40,_0xef5276){return function(_0xaae8b,_0x4e2caa){_0xef5276(_0xaae8b,_0x4e2caa,_0x10ea40);};};function a93_0x12a9(_0x4105f6,_0x92b8){const _0x3db52e=a93_0x5dea();return a93_0x12a9=function(_0x5a55b4,_0x27552a){_0x5a55b4=_0x5a55b4-0x1a9;let _0x5deacc=_0x3db52e[_0x5a55b4];return _0x5deacc;},a93_0x12a9(_0x4105f6,_0x92b8);}Object[a93_0x5e3646(0x1b7)](exports,a93_0x5e3646(0x1ae),{'value':!![]}),exports[a93_0x5e3646(0x1b8)]=void 0x0;const bad_request_error_1=require(a93_0x5e3646(0x1b0)),not_found_error_1=require(a93_0x5e3646(0x1b2)),auth_settings_service_1=require(a93_0x5e3646(0x1c9)),typedi_1=require(a93_0x5e3646(0x1c2)),bitbucket_server_api_service_1=require(a93_0x5e3646(0x1ef)),git_internal_1=require('../../internal/git.internal'),utils_1=require(a93_0x5e3646(0x1e0)),repo_class_1=require(a93_0x5e3646(0x1e5)),git_repo_service_1=require('./git-repo.service');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a93_0x5e3646(0x1ad)]{constructor(_0x1818f3,_0x2749c4){const _0x340629=a93_0x5e3646;super(_0x1818f3),this[_0x340629(0x1ce)]=_0x1818f3,this['project']=_0x2749c4['bitbucketServer'][_0x340629(0x1e6)];}async[a93_0x5e3646(0x1ca)](_0x291ac5){const _0x50c1b6=a93_0x5e3646;try{const _0x180981={'name':_0x291ac5[_0x50c1b6(0x1b3)],'scmId':_0x50c1b6(0x1c4),'defaultBranch':_0x291ac5['defaultBranch'],..._0x291ac5[_0x50c1b6(0x1e3)]||{}},_0x2ecc64=await this['request'][_0x50c1b6(0x1df)](_0x50c1b6(0x1d4)+this[_0x50c1b6(0x1e6)]+_0x50c1b6(0x1cd),_0x180981),_0x1d7dbb=repo_class_1[_0x50c1b6(0x1cf)][_0x50c1b6(0x1d2)](_0x2ecc64,'');return _0x291ac5[_0x50c1b6(0x1ec)]&&await git_internal_1['Git']['createEmptyBranch'](_0x1d7dbb,_0x291ac5[_0x50c1b6(0x1ba)]||_0x50c1b6(0x1bc)),this[_0x50c1b6(0x1b4)](_0x1d7dbb['name']);}catch(_0x2481de){throw new bad_request_error_1[(_0x50c1b6(0x1b5))](_0x2481de);}}async[a93_0x5e3646(0x1b4)](_0x2ec1b5){const _0x51b1d5=a93_0x5e3646;var _0x162e77;try{const _0x20ced5=await this[_0x51b1d5(0x1ac)][_0x51b1d5(0x1c7)](_0x51b1d5(0x1d4)+this[_0x51b1d5(0x1e6)]+_0x51b1d5(0x1ee)+_0x2ec1b5),_0x5a91c9=repo_class_1['Repo'][_0x51b1d5(0x1d2)](_0x20ced5,(0x0,utils_1['joinURL'])(this[_0x51b1d5(0x1ac)][_0x51b1d5(0x1c3)][_0x51b1d5(0x1e2)]||'',_0x51b1d5(0x1bd)+this[_0x51b1d5(0x1e6)]+_0x51b1d5(0x1ee)+_0x2ec1b5)),_0x4a399e=await this['request']['get'](_0x5a91c9[_0x51b1d5(0x1db)]+'/branches')[_0x51b1d5(0x1c5)](_0xa25f76=>_0xa25f76['values']);return _0x5a91c9[_0x51b1d5(0x1ba)]=(_0x162e77=_0x4a399e[_0x51b1d5(0x1c0)](_0xb62cd7=>_0xb62cd7[_0x51b1d5(0x1bb)]===!![]))===null||_0x162e77===void 0x0?void 0x0:_0x162e77['displayId'],_0x5a91c9;}catch(_0x5885e3){throw new not_found_error_1['NotFoundError'](_0x5885e3);}}async['update'](_0x13c06b,_0x606b74){const _0x541927=a93_0x5e3646;try{const _0x18175c=await this['request'][_0x541927(0x1e9)](_0x541927(0x1d4)+this[_0x541927(0x1e6)]+_0x541927(0x1ee)+_0x13c06b,_0x606b74),_0x3471ab=await this[_0x541927(0x1ac)][_0x541927(0x1c7)](_0x541927(0x1d4)+this[_0x541927(0x1e6)]+_0x541927(0x1ee)+_0x13c06b+_0x541927(0x1b9)),_0x3dc6ac=repo_class_1[_0x541927(0x1cf)][_0x541927(0x1d2)](_0x18175c,(0x0,utils_1[_0x541927(0x1bf)])(this[_0x541927(0x1ac)]['defaults']['baseURL']||'','/projects/'+this[_0x541927(0x1e6)]+_0x541927(0x1ee)+_0x13c06b));return _0x3dc6ac['defaultBranch']=_0x3471ab[_0x541927(0x1c6)],_0x3dc6ac;}catch(_0x39c437){throw new not_found_error_1[(_0x541927(0x1d0))](_0x39c437);}}async[a93_0x5e3646(0x1d6)](_0x44a04d){const _0x2996b0=a93_0x5e3646;try{await this['getOne'](_0x44a04d),await this[_0x2996b0(0x1ac)][_0x2996b0(0x1d6)](_0x2996b0(0x1d4)+this[_0x2996b0(0x1e6)]+_0x2996b0(0x1ee)+_0x44a04d);}catch(_0x4f990f){throw new bad_request_error_1[(_0x2996b0(0x1b5))](_0x4f990f);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a93_0x5e3646(0x1eb)])(),__param(0x1,(0x0,typedi_1[a93_0x5e3646(0x1d1)])()),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a93_0x5e3646(0x1b6)],auth_settings_service_1[a93_0x5e3646(0x1ed)]])],BitbucketServerRepoService),exports[a93_0x5e3646(0x1b8)]=BitbucketServerRepoService;