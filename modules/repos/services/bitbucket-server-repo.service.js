function a105_0x58bd(){const _0x2d5710=['baseURL','values','../../../core/errors/api.error','get','getOwnPropertyDescriptor','projects/','update','../../shared/utils','Repo','toString','fromBitbucketServer','ApiError','push','BitbucketServerRepoService','metadata','1395954rKUPKk','/repos','(((.+)+)+)+$','slug','find','__metadata','Inject','bitbucketServer','decorate','git','4tAppUh','../../../core/errors/bad-request.error','getAll','function','/repos/','defaults','2228653iWYdzK','apiBody','nextPageStart','displayId','../../internal/git.internal','defaultBranch','913677gFdCOV','448192gEAQrZ','NotFoundError','defineProperty','create','../../../core/errors/not-found.error','request','./git-repo.service','search','AuthSettingsService','length','isLastPage','BadRequestError','835TkNTQd','841475mGOaGr','/projects/','__esModule','getOne','16237674FAEJjg','name','../../git-api/services/bitbucket-server-api.service','master','joinURL','project','__param','createEmptyBranch','post','14468inqdux','Git','then'];a105_0x58bd=function(){return _0x2d5710;};return a105_0x58bd();}const a105_0x1f4882=a105_0x3cab;(function(_0x3834d8,_0x4b299e){const _0x1f2223=a105_0x3cab,_0x505b64=_0x3834d8();while(!![]){try{const _0x44e2fd=-parseInt(_0x1f2223(0xf5))/0x1+-parseInt(_0x1f2223(0x11e))/0x2*(parseInt(_0x1f2223(0xe7))/0x3)+parseInt(_0x1f2223(0x102))/0x4*(parseInt(_0x1f2223(0xf4))/0x5)+-parseInt(_0x1f2223(0x114))/0x6+-parseInt(_0x1f2223(0xe1))/0x7+parseInt(_0x1f2223(0xe8))/0x8+parseInt(_0x1f2223(0xf9))/0x9;if(_0x44e2fd===_0x4b299e)break;else _0x505b64['push'](_0x505b64['shift']());}catch(_0x42146d){_0x505b64['push'](_0x505b64['shift']());}}}(a105_0x58bd,0x70f1a));function a105_0x3cab(_0x5884a8,_0x237900){const _0x2600d7=a105_0x58bd();return a105_0x3cab=function(_0x263f6d,_0x3b29f4){_0x263f6d=_0x263f6d-0xdc;let _0x58bd80=_0x2600d7[_0x263f6d];return _0x58bd80;},a105_0x3cab(_0x5884a8,_0x237900);}const a105_0x3b29f4=function(){let _0x167e14=!![];return function(_0x874591,_0x47775a){const _0x33529a=_0x167e14?function(){if(_0x47775a){const _0x244447=_0x47775a['apply'](_0x874591,arguments);return _0x47775a=null,_0x244447;}}:function(){};return _0x167e14=![],_0x33529a;};}(),a105_0x263f6d=a105_0x3b29f4(this,function(){const _0x196641=a105_0x3cab;return a105_0x263f6d[_0x196641(0x10e)]()[_0x196641(0xef)](_0x196641(0x116))['toString']()['constructor'](a105_0x263f6d)['search'](_0x196641(0x116));});a105_0x263f6d();'use strict';var __decorate=this&&this['__decorate']||function(_0x302e97,_0x680e81,_0x3f4013,_0x471865){const _0x248232=a105_0x3cab;var _0x3096ea=arguments['length'],_0x4bd2e7=_0x3096ea<0x3?_0x680e81:_0x471865===null?_0x471865=Object[_0x248232(0x109)](_0x680e81,_0x3f4013):_0x471865,_0x22d7b8;if(typeof Reflect==='object'&&typeof Reflect[_0x248232(0x11c)]===_0x248232(0xde))_0x4bd2e7=Reflect[_0x248232(0x11c)](_0x302e97,_0x680e81,_0x3f4013,_0x471865);else{for(var _0x420a1d=_0x302e97[_0x248232(0xf1)]-0x1;_0x420a1d>=0x0;_0x420a1d--)if(_0x22d7b8=_0x302e97[_0x420a1d])_0x4bd2e7=(_0x3096ea<0x3?_0x22d7b8(_0x4bd2e7):_0x3096ea>0x3?_0x22d7b8(_0x680e81,_0x3f4013,_0x4bd2e7):_0x22d7b8(_0x680e81,_0x3f4013))||_0x4bd2e7;}return _0x3096ea>0x3&&_0x4bd2e7&&Object[_0x248232(0xea)](_0x680e81,_0x3f4013,_0x4bd2e7),_0x4bd2e7;},__metadata=this&&this[a105_0x1f4882(0x119)]||function(_0x46c757,_0x26253c){const _0x5dadfa=a105_0x1f4882;if(typeof Reflect==='object'&&typeof Reflect[_0x5dadfa(0x113)]===_0x5dadfa(0xde))return Reflect[_0x5dadfa(0x113)](_0x46c757,_0x26253c);},__param=this&&this[a105_0x1f4882(0xff)]||function(_0x191cf7,_0x1a106c){return function(_0x549cfe,_0x37bec1){_0x1a106c(_0x549cfe,_0x37bec1,_0x191cf7);};};Object['defineProperty'](exports,a105_0x1f4882(0xf7),{'value':!![]}),exports[a105_0x1f4882(0x112)]=void 0x0;const bad_request_error_1=require(a105_0x1f4882(0xdc)),not_found_error_1=require(a105_0x1f4882(0xec)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require('typedi'),api_error_1=require(a105_0x1f4882(0x107)),bitbucket_server_api_service_1=require(a105_0x1f4882(0xfb)),git_internal_1=require(a105_0x1f4882(0xe5)),utils_1=require(a105_0x1f4882(0x10c)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a105_0x1f4882(0xee));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x2ce2e2,_0x1135b4){const _0x21276b=a105_0x1f4882;super(_0x2ce2e2),this['api']=_0x2ce2e2,this['project']=_0x1135b4[_0x21276b(0x11b)]['project'];}async[a105_0x1f4882(0xeb)](_0x9e6cd9){const _0x58f4c9=a105_0x1f4882;try{const _0x3dd528={'name':_0x9e6cd9[_0x58f4c9(0xfa)],'scmId':_0x58f4c9(0x11d),'defaultBranch':_0x9e6cd9['defaultBranch'],..._0x9e6cd9[_0x58f4c9(0xe2)]||{}},_0x5daa40=await this['request'][_0x58f4c9(0x101)]('projects/'+this['project']+_0x58f4c9(0x115),_0x3dd528),_0x3b7be4=repo_class_1[_0x58f4c9(0x10d)][_0x58f4c9(0x10f)](_0x5daa40,'');return _0x9e6cd9['autoInit']&&await git_internal_1[_0x58f4c9(0x103)][_0x58f4c9(0x100)](_0x3b7be4,_0x9e6cd9[_0x58f4c9(0xe6)]||_0x58f4c9(0xfc)),this[_0x58f4c9(0xf8)](_0x3b7be4[_0x58f4c9(0xfa)]);}catch(_0x518a2f){if(_0x518a2f instanceof api_error_1[_0x58f4c9(0x110)])throw _0x518a2f;throw new bad_request_error_1[(_0x58f4c9(0xf3))](_0x518a2f);}}async[a105_0x1f4882(0xdd)](){const _0x1b6cee=a105_0x1f4882;try{const _0x597c7f=[];let _0x3312b4;do{_0x3312b4=await this[_0x1b6cee(0xed)][_0x1b6cee(0x108)](_0x1b6cee(0x10a)+this[_0x1b6cee(0xfe)]+_0x1b6cee(0x115),{'params':{'limit':0x64,'start':_0x3312b4?_0x3312b4[_0x1b6cee(0xe3)]:0x0}}),_0x597c7f[_0x1b6cee(0x111)](..._0x3312b4['values']);}while(!_0x3312b4[_0x1b6cee(0xf2)]);return _0x597c7f['map'](_0x3034a6=>repo_class_1[_0x1b6cee(0x10d)][_0x1b6cee(0x10f)](_0x3034a6,utils_1['joinURL'](this['request'][_0x1b6cee(0xe0)][_0x1b6cee(0x105)]||'','/projects/'+this[_0x1b6cee(0xfe)]+_0x1b6cee(0xdf)+_0x3034a6[_0x1b6cee(0x117)])));}catch(_0x1611e7){if(_0x1611e7 instanceof api_error_1['ApiError'])throw _0x1611e7;throw new not_found_error_1[(_0x1b6cee(0xe9))](_0x1611e7);}}async['getOne'](_0x24b5c5){const _0x210104=a105_0x1f4882;var _0x571b65;try{const _0x2d78da=await this[_0x210104(0xed)][_0x210104(0x108)]('projects/'+this[_0x210104(0xfe)]+_0x210104(0xdf)+_0x24b5c5),_0x5d7e86=repo_class_1['Repo'][_0x210104(0x10f)](_0x2d78da,utils_1[_0x210104(0xfd)](this['request'][_0x210104(0xe0)][_0x210104(0x105)]||'',_0x210104(0xf6)+this[_0x210104(0xfe)]+_0x210104(0xdf)+_0x24b5c5)),_0x4dde2f=await this[_0x210104(0xed)]['get'](_0x5d7e86['apiUrl']+'/branches')[_0x210104(0x104)](_0x8559f1=>_0x8559f1[_0x210104(0x106)]);return _0x5d7e86[_0x210104(0xe6)]=(_0x571b65=_0x4dde2f[_0x210104(0x118)](_0x50ce93=>_0x50ce93['isDefault']===!![]))===null||_0x571b65===void 0x0?void 0x0:_0x571b65[_0x210104(0xe4)],_0x5d7e86;}catch(_0x3e0f93){if(_0x3e0f93 instanceof api_error_1[_0x210104(0x110)])throw _0x3e0f93;throw new not_found_error_1[(_0x210104(0xe9))](_0x3e0f93);}}async[a105_0x1f4882(0x10b)](_0x75ef0b,_0x360d88){const _0xadd512=a105_0x1f4882;try{const _0x2fc090=await this[_0xadd512(0xed)]['put'](_0xadd512(0x10a)+this[_0xadd512(0xfe)]+_0xadd512(0xdf)+_0x75ef0b,_0x360d88),_0x7bbec2=await this[_0xadd512(0xed)][_0xadd512(0x108)](_0xadd512(0x10a)+this[_0xadd512(0xfe)]+'/repos/'+_0x75ef0b+'/default-branch'),_0x47f695=repo_class_1['Repo'][_0xadd512(0x10f)](_0x2fc090,utils_1[_0xadd512(0xfd)](this[_0xadd512(0xed)][_0xadd512(0xe0)]['baseURL']||'','/projects/'+this[_0xadd512(0xfe)]+_0xadd512(0xdf)+_0x75ef0b));return _0x47f695[_0xadd512(0xe6)]=_0x7bbec2[_0xadd512(0xe4)],_0x47f695;}catch(_0x20d58a){if(_0x20d58a instanceof api_error_1[_0xadd512(0x110)])throw _0x20d58a;throw new not_found_error_1[(_0xadd512(0xe9))](_0x20d58a);}}async['delete'](_0x1ebf2a){const _0x5f1851=a105_0x1f4882;try{await this['getOne'](_0x1ebf2a),await this[_0x5f1851(0xed)]['delete'](_0x5f1851(0x10a)+this[_0x5f1851(0xfe)]+_0x5f1851(0xdf)+_0x1ebf2a);}catch(_0x24d05f){if(_0x24d05f instanceof api_error_1[_0x5f1851(0x110)])throw _0x24d05f;throw new bad_request_error_1[(_0x5f1851(0xf3))](_0x24d05f);}}};BitbucketServerRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1[a105_0x1f4882(0x11a)]()),__metadata('design:paramtypes',[bitbucket_server_api_service_1['BitbucketServerApiService'],auth_settings_service_1[a105_0x1f4882(0xf0)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;