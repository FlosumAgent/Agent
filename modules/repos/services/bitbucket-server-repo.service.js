const a93_0x5a0a=['Git','../../shared/utils','/projects/','design:paramtypes','update','values','constructor','391784oKxELq','apiUrl','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','delete','test','getOwnPropertyDescriptor','./git-repo.service','1wToOMq','put','return\x20/\x22\x20+\x20this\x20+\x20\x22/','post','joinURL','decorate','NotFoundError','createEmptyBranch','api','4WztoeC','14495PWlCnz','../../git-api/services/bitbucket-server-api.service','get','function','87UBhjCH','autoInit','bitbucketServer','1058991JLLknv','master','../../shared/services/auth-settings.service','projects/','name','123512bIbudY','displayId','project','/repos/','__esModule','isDefault','/branches','1RvFeYt','getOne','defineProperty','__param','git','4119CbQXZJ','../../../core/errors/not-found.error','358806CbaQuH','../repo.class','fromBitbucketServer','23KARyWs','Inject','1753MuXywY','BitbucketServerRepoService','__decorate','__metadata','Repo','defaultBranch','../../internal/git.internal','baseURL','request','object','then','defaults','apiBody','apply','Service','length','metadata'];const a93_0x42bf78=a93_0x5018;(function(_0xc118f9,_0x26f592){const _0x313985=a93_0x5018;while(!![]){try{const _0x44bd24=-parseInt(_0x313985(0x1de))+parseInt(_0x313985(0x1ca))*parseInt(_0x313985(0x1c6))+parseInt(_0x313985(0x1e5))*-parseInt(_0x313985(0x1e3))+-parseInt(_0x313985(0x1d2))*-parseInt(_0x313985(0x1c5))+parseInt(_0x313985(0x1fd))+-parseInt(_0x313985(0x204))*parseInt(_0x313985(0x1e0))+-parseInt(_0x313985(0x1cd))*parseInt(_0x313985(0x1d9));if(_0x44bd24===_0x26f592)break;else _0xc118f9['push'](_0xc118f9['shift']());}catch(_0x36f388){_0xc118f9['push'](_0xc118f9['shift']());}}}(a93_0x5a0a,0xa7276));const a93_0x576cde=function(){let _0x352bfe=!![];return function(_0x3e1571,_0x52340e){const _0x4b44f7=_0x352bfe?function(){const _0x35eddf=a93_0x5018;if(_0x52340e){const _0x10e227=_0x52340e[_0x35eddf(0x1f2)](_0x3e1571,arguments);return _0x52340e=null,_0x10e227;}}:function(){};return _0x352bfe=![],_0x4b44f7;};}(),a93_0x3b0c65=a93_0x576cde(this,function(){const _0x14697a=function(){const _0x50fa50=a93_0x5018,_0x17832f=_0x14697a['constructor'](_0x50fa50(0x206))()[_0x50fa50(0x1fc)](_0x50fa50(0x1ff));return!_0x17832f[_0x50fa50(0x201)](a93_0x3b0c65);};return _0x14697a();});a93_0x3b0c65();'use strict';var __decorate=this&&this[a93_0x42bf78(0x1e7)]||function(_0x257158,_0x3cbce7,_0x4e4986,_0x1ded84){const _0x4ed0af=a93_0x42bf78;var _0x2d53e1=arguments['length'],_0x4c2d20=_0x2d53e1<0x3?_0x3cbce7:_0x1ded84===null?_0x1ded84=Object[_0x4ed0af(0x202)](_0x3cbce7,_0x4e4986):_0x1ded84,_0x582095;if(typeof Reflect===_0x4ed0af(0x1ee)&&typeof Reflect[_0x4ed0af(0x209)]===_0x4ed0af(0x1c9))_0x4c2d20=Reflect[_0x4ed0af(0x209)](_0x257158,_0x3cbce7,_0x4e4986,_0x1ded84);else{for(var _0x268743=_0x257158[_0x4ed0af(0x1f4)]-0x1;_0x268743>=0x0;_0x268743--)if(_0x582095=_0x257158[_0x268743])_0x4c2d20=(_0x2d53e1<0x3?_0x582095(_0x4c2d20):_0x2d53e1>0x3?_0x582095(_0x3cbce7,_0x4e4986,_0x4c2d20):_0x582095(_0x3cbce7,_0x4e4986))||_0x4c2d20;}return _0x2d53e1>0x3&&_0x4c2d20&&Object[_0x4ed0af(0x1db)](_0x3cbce7,_0x4e4986,_0x4c2d20),_0x4c2d20;},__metadata=this&&this[a93_0x42bf78(0x1e8)]||function(_0x38bfd8,_0x487758){const _0x56f96b=a93_0x42bf78;if(typeof Reflect===_0x56f96b(0x1ee)&&typeof Reflect[_0x56f96b(0x1f5)]===_0x56f96b(0x1c9))return Reflect[_0x56f96b(0x1f5)](_0x38bfd8,_0x487758);},__param=this&&this[a93_0x42bf78(0x1dc)]||function(_0x229e72,_0x507b4b){return function(_0x1e54b9,_0x5a434a){_0x507b4b(_0x1e54b9,_0x5a434a,_0x229e72);};};Object['defineProperty'](exports,a93_0x42bf78(0x1d6),{'value':!![]}),exports[a93_0x42bf78(0x1e6)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a93_0x42bf78(0x1df)),auth_settings_service_1=require(a93_0x42bf78(0x1cf)),typedi_1=require('typedi'),bitbucket_server_api_service_1=require(a93_0x42bf78(0x1c7)),git_internal_1=require(a93_0x42bf78(0x1eb)),utils_1=require(a93_0x42bf78(0x1f7)),repo_class_1=require(a93_0x42bf78(0x1e1)),git_repo_service_1=require(a93_0x42bf78(0x203));function a93_0x5018(_0x5f3c01,_0x462d71){return a93_0x5018=function(_0x1754a2,_0x3b0c65){_0x1754a2=_0x1754a2-0x1c2;let _0x576cde=a93_0x5a0a[_0x1754a2];return _0x576cde;},a93_0x5018(_0x5f3c01,_0x462d71);}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x4be36d,_0x3aa577){const _0x496e1e=a93_0x42bf78;super(_0x4be36d),this[_0x496e1e(0x1c4)]=_0x4be36d,this[_0x496e1e(0x1d4)]=_0x3aa577[_0x496e1e(0x1cc)][_0x496e1e(0x1d4)];}async['create'](_0xb58ef7){const _0x57ae38=a93_0x42bf78;try{const _0x122466={'name':_0xb58ef7[_0x57ae38(0x1d1)],'scmId':_0x57ae38(0x1dd),'defaultBranch':_0xb58ef7['defaultBranch'],..._0xb58ef7[_0x57ae38(0x1f1)]||{}},_0x36e7d1=await this[_0x57ae38(0x1ed)][_0x57ae38(0x207)](_0x57ae38(0x1d0)+this[_0x57ae38(0x1d4)]+'/repos',_0x122466),_0x4a4a11=repo_class_1['Repo']['fromBitbucketServer'](_0x36e7d1,'');return _0xb58ef7[_0x57ae38(0x1cb)]&&await git_internal_1[_0x57ae38(0x1f6)][_0x57ae38(0x1c3)](_0x4a4a11,_0xb58ef7['defaultBranch']||_0x57ae38(0x1ce)),this['getOne'](_0x4a4a11['name']);}catch(_0x325c14){throw new bad_request_error_1['BadRequestError'](_0x325c14);}}async[a93_0x42bf78(0x1da)](_0x5a617c){const _0x11ff2e=a93_0x42bf78;var _0x49b4df;try{const _0x341e56=await this[_0x11ff2e(0x1ed)][_0x11ff2e(0x1c8)](_0x11ff2e(0x1d0)+this['project']+_0x11ff2e(0x1d5)+_0x5a617c),_0x567c94=repo_class_1[_0x11ff2e(0x1e9)]['fromBitbucketServer'](_0x341e56,utils_1[_0x11ff2e(0x208)](this[_0x11ff2e(0x1ed)]['defaults'][_0x11ff2e(0x1ec)]||'',_0x11ff2e(0x1f8)+this[_0x11ff2e(0x1d4)]+_0x11ff2e(0x1d5)+_0x5a617c)),_0xd05343=await this[_0x11ff2e(0x1ed)][_0x11ff2e(0x1c8)](_0x567c94[_0x11ff2e(0x1fe)]+_0x11ff2e(0x1d8))[_0x11ff2e(0x1ef)](_0xf12d2c=>_0xf12d2c[_0x11ff2e(0x1fb)]);return _0x567c94['defaultBranch']=(_0x49b4df=_0xd05343['find'](_0x14a8bd=>_0x14a8bd[_0x11ff2e(0x1d7)]===!![]))===null||_0x49b4df===void 0x0?void 0x0:_0x49b4df[_0x11ff2e(0x1d3)],_0x567c94;}catch(_0x5737fc){throw new not_found_error_1[(_0x11ff2e(0x1c2))](_0x5737fc);}}async[a93_0x42bf78(0x1fa)](_0xe28c76,_0x4785ec){const _0x11c98f=a93_0x42bf78;try{const _0x591168=await this[_0x11c98f(0x1ed)][_0x11c98f(0x205)](_0x11c98f(0x1d0)+this[_0x11c98f(0x1d4)]+_0x11c98f(0x1d5)+_0xe28c76,_0x4785ec),_0x4c60a5=await this['request'][_0x11c98f(0x1c8)](_0x11c98f(0x1d0)+this[_0x11c98f(0x1d4)]+'/repos/'+_0xe28c76+'/default-branch'),_0x4e6688=repo_class_1[_0x11c98f(0x1e9)][_0x11c98f(0x1e2)](_0x591168,utils_1[_0x11c98f(0x208)](this[_0x11c98f(0x1ed)][_0x11c98f(0x1f0)][_0x11c98f(0x1ec)]||'',_0x11c98f(0x1f8)+this[_0x11c98f(0x1d4)]+'/repos/'+_0xe28c76));return _0x4e6688[_0x11c98f(0x1ea)]=_0x4c60a5[_0x11c98f(0x1d3)],_0x4e6688;}catch(_0x301757){throw new not_found_error_1[(_0x11c98f(0x1c2))](_0x301757);}}async['delete'](_0x271454){const _0x354295=a93_0x42bf78;try{await this['getOne'](_0x271454),await this[_0x354295(0x1ed)][_0x354295(0x200)]('projects/'+this[_0x354295(0x1d4)]+'/repos/'+_0x271454);}catch(_0x2b9c39){throw new bad_request_error_1['BadRequestError'](_0x2b9c39);}}};BitbucketServerRepoService=__decorate([typedi_1[a93_0x42bf78(0x1f3)](),__param(0x1,typedi_1[a93_0x42bf78(0x1e4)]()),__metadata(a93_0x42bf78(0x1f9),[bitbucket_server_api_service_1['BitbucketServerApiService'],auth_settings_service_1['AuthSettingsService']])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;