const a93_0xf00d=['/default-branch','create','bitbucketServer','80121XasLMH','object','request','fromBitbucketServer','defineProperty','416276VVVKlj','constructor','update','get','api','__decorate','../../../core/errors/bad-request.error','AuthSettingsService','../../../core/errors/not-found.error','772778GouDeu','../../internal/git.internal','length','238110eYKjQo','baseURL','8ceAVoH','../repo.class','autoInit','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','project','/repos','typedi','5329YRJGvl','git','__metadata','createEmptyBranch','name','projects/','152Fdzyod','173aOmIiB','decorate','254862oUqJyh','defaultBranch','Repo','design:paramtypes','13291qgNjPM','getOwnPropertyDescriptor','isDefault','BadRequestError','function','/projects/','BitbucketServerRepoService','/repos/','return\x20/\x22\x20+\x20this\x20+\x20\x22/','GitRepoService','defaults','getOne','delete','master','./git-repo.service','values','find','../../git-api/services/bitbucket-server-api.service','joinURL','Inject','test','displayId'];const a93_0x5e9723=a93_0x51e4;(function(_0x25a64f,_0x18b55a){const _0x21d7e7=a93_0x51e4;while(!![]){try{const _0x188cc9=-parseInt(_0x21d7e7(0x18f))+-parseInt(_0x21d7e7(0x17a))+-parseInt(_0x21d7e7(0x18d))*-parseInt(_0x21d7e7(0x186))+parseInt(_0x21d7e7(0x1ac))*-parseInt(_0x21d7e7(0x17f))+-parseInt(_0x21d7e7(0x1b1))+-parseInt(_0x21d7e7(0x17d))+parseInt(_0x21d7e7(0x193))*parseInt(_0x21d7e7(0x18c));if(_0x188cc9===_0x18b55a)break;else _0x25a64f['push'](_0x25a64f['shift']());}catch(_0x37fb25){_0x25a64f['push'](_0x25a64f['shift']());}}}(a93_0xf00d,0x97293));const a93_0x5b4034=function(){let _0x47011f=!![];return function(_0x158e21,_0x1babc0){const _0xd83e1a=_0x47011f?function(){if(_0x1babc0){const _0x26691e=_0x1babc0['apply'](_0x158e21,arguments);return _0x1babc0=null,_0x26691e;}}:function(){};return _0x47011f=![],_0xd83e1a;};}(),a93_0x5cd2db=a93_0x5b4034(this,function(){const _0x102fb7=function(){const _0x2b5592=a93_0x51e4,_0x2949f5=_0x102fb7[_0x2b5592(0x1b2)](_0x2b5592(0x19b))()[_0x2b5592(0x1b2)](_0x2b5592(0x182));return!_0x2949f5[_0x2b5592(0x1a7)](a93_0x5cd2db);};return _0x102fb7();});a93_0x5cd2db();'use strict';function a93_0x51e4(_0x49dfab,_0x266824){return a93_0x51e4=function(_0x22baee,_0x5cd2db){_0x22baee=_0x22baee-0x176;let _0x5b4034=a93_0xf00d[_0x22baee];return _0x5b4034;},a93_0x51e4(_0x49dfab,_0x266824);}var __decorate=this&&this[a93_0x5e9723(0x176)]||function(_0x84c2df,_0xedfbdc,_0x48c034,_0x825035){const _0x50aad1=a93_0x5e9723;var _0x567403=arguments['length'],_0xcb2d34=_0x567403<0x3?_0xedfbdc:_0x825035===null?_0x825035=Object[_0x50aad1(0x194)](_0xedfbdc,_0x48c034):_0x825035,_0x46f8da;if(typeof Reflect===_0x50aad1(0x1ad)&&typeof Reflect[_0x50aad1(0x18e)]===_0x50aad1(0x197))_0xcb2d34=Reflect[_0x50aad1(0x18e)](_0x84c2df,_0xedfbdc,_0x48c034,_0x825035);else{for(var _0x45607b=_0x84c2df[_0x50aad1(0x17c)]-0x1;_0x45607b>=0x0;_0x45607b--)if(_0x46f8da=_0x84c2df[_0x45607b])_0xcb2d34=(_0x567403<0x3?_0x46f8da(_0xcb2d34):_0x567403>0x3?_0x46f8da(_0xedfbdc,_0x48c034,_0xcb2d34):_0x46f8da(_0xedfbdc,_0x48c034))||_0xcb2d34;}return _0x567403>0x3&&_0xcb2d34&&Object['defineProperty'](_0xedfbdc,_0x48c034,_0xcb2d34),_0xcb2d34;},__metadata=this&&this[a93_0x5e9723(0x188)]||function(_0x5d4627,_0x589a39){const _0x1171f4=a93_0x5e9723;if(typeof Reflect===_0x1171f4(0x1ad)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x5d4627,_0x589a39);},__param=this&&this['__param']||function(_0x43f122,_0x4193d8){return function(_0x2cf0f3,_0x19115b){_0x4193d8(_0x2cf0f3,_0x19115b,_0x43f122);};};Object[a93_0x5e9723(0x1b0)](exports,'__esModule',{'value':!![]}),exports[a93_0x5e9723(0x199)]=void 0x0;const bad_request_error_1=require(a93_0x5e9723(0x177)),not_found_error_1=require(a93_0x5e9723(0x179)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a93_0x5e9723(0x185)),bitbucket_server_api_service_1=require(a93_0x5e9723(0x1a4)),git_internal_1=require(a93_0x5e9723(0x17b)),utils_1=require('../../shared/utils'),repo_class_1=require(a93_0x5e9723(0x180)),git_repo_service_1=require(a93_0x5e9723(0x1a1));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a93_0x5e9723(0x19c)]{constructor(_0x1e3527,_0x754b87){const _0x454144=a93_0x5e9723;super(_0x1e3527),this[_0x454144(0x1b5)]=_0x1e3527,this[_0x454144(0x183)]=_0x754b87[_0x454144(0x1ab)]['project'];}async[a93_0x5e9723(0x1aa)](_0x2b0165){const _0x166c5c=a93_0x5e9723;try{const _0x22187d={'name':_0x2b0165[_0x166c5c(0x18a)],'scmId':_0x166c5c(0x187),'defaultBranch':_0x2b0165[_0x166c5c(0x190)],..._0x2b0165['apiBody']||{}},_0x42abc6=await this[_0x166c5c(0x1ae)]['post'](_0x166c5c(0x18b)+this[_0x166c5c(0x183)]+_0x166c5c(0x184),_0x22187d),_0x5b23e8=repo_class_1['Repo'][_0x166c5c(0x1af)](_0x42abc6,'');return _0x2b0165[_0x166c5c(0x181)]&&await git_internal_1['Git'][_0x166c5c(0x189)](_0x5b23e8,_0x2b0165[_0x166c5c(0x190)]||_0x166c5c(0x1a0)),this[_0x166c5c(0x19e)](_0x5b23e8[_0x166c5c(0x18a)]);}catch(_0x4918b2){throw new bad_request_error_1[(_0x166c5c(0x196))](_0x4918b2);}}async[a93_0x5e9723(0x19e)](_0xc532b0){const _0x36ff52=a93_0x5e9723;var _0x21cddd;try{const _0x56bca0=await this[_0x36ff52(0x1ae)][_0x36ff52(0x1b4)](_0x36ff52(0x18b)+this[_0x36ff52(0x183)]+_0x36ff52(0x19a)+_0xc532b0),_0x163773=repo_class_1['Repo'][_0x36ff52(0x1af)](_0x56bca0,utils_1[_0x36ff52(0x1a5)](this[_0x36ff52(0x1ae)][_0x36ff52(0x19d)][_0x36ff52(0x17e)]||'',_0x36ff52(0x198)+this[_0x36ff52(0x183)]+_0x36ff52(0x19a)+_0xc532b0)),_0x301521=await this['request']['get'](_0x163773['apiUrl']+'/branches')['then'](_0x38ab68=>_0x38ab68[_0x36ff52(0x1a2)]);return _0x163773['defaultBranch']=(_0x21cddd=_0x301521[_0x36ff52(0x1a3)](_0x3566bf=>_0x3566bf[_0x36ff52(0x195)]===!![]))===null||_0x21cddd===void 0x0?void 0x0:_0x21cddd['displayId'],_0x163773;}catch(_0x479731){throw new not_found_error_1['NotFoundError'](_0x479731);}}async[a93_0x5e9723(0x1b3)](_0x463f5f,_0xed8690){const _0x1e106e=a93_0x5e9723;try{const _0x1fecdb=await this[_0x1e106e(0x1ae)]['put'](_0x1e106e(0x18b)+this[_0x1e106e(0x183)]+_0x1e106e(0x19a)+_0x463f5f,_0xed8690),_0xd21a9d=await this[_0x1e106e(0x1ae)][_0x1e106e(0x1b4)]('projects/'+this[_0x1e106e(0x183)]+_0x1e106e(0x19a)+_0x463f5f+_0x1e106e(0x1a9)),_0x202b97=repo_class_1[_0x1e106e(0x191)][_0x1e106e(0x1af)](_0x1fecdb,utils_1[_0x1e106e(0x1a5)](this[_0x1e106e(0x1ae)][_0x1e106e(0x19d)][_0x1e106e(0x17e)]||'',_0x1e106e(0x198)+this[_0x1e106e(0x183)]+_0x1e106e(0x19a)+_0x463f5f));return _0x202b97[_0x1e106e(0x190)]=_0xd21a9d[_0x1e106e(0x1a8)],_0x202b97;}catch(_0xf802ab){throw new not_found_error_1['NotFoundError'](_0xf802ab);}}async[a93_0x5e9723(0x19f)](_0x1ed823){const _0x402187=a93_0x5e9723;try{await this['getOne'](_0x1ed823),await this[_0x402187(0x1ae)][_0x402187(0x19f)]('projects/'+this[_0x402187(0x183)]+_0x402187(0x19a)+_0x1ed823);}catch(_0x37d1a2){throw new bad_request_error_1['BadRequestError'](_0x37d1a2);}}};BitbucketServerRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1[a93_0x5e9723(0x1a6)]()),__metadata(a93_0x5e9723(0x192),[bitbucket_server_api_service_1['BitbucketServerApiService'],auth_settings_service_1[a93_0x5e9723(0x178)]])],BitbucketServerRepoService),exports[a93_0x5e9723(0x199)]=BitbucketServerRepoService;