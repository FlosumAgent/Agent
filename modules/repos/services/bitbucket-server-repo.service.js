const a92_0x51c4=['constructor','getOne','getOwnPropertyDescriptor','./git-repo.service','1mUepPf','Service','459039XGXTBy','125982loIJRw','design:paramtypes','../repo.class','273919MnkEqE','__metadata','createEmptyBranch','249551jaEMdb','length','NotFoundError','apiUrl','defaults','Repo','project','metadata','apiBody','request','Inject','object','150009AmQEKH','typedi','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','/repos/','../../../core/errors/bad-request.error','update','get','decorate','BitbucketServerRepoService','__decorate','projects/','/repos','create','/default-branch','Git','function','baseURL','apply','bitbucketServer','post','fromBitbucketServer','131590yzOSHN','delete','AuthSettingsService','2mFjMsx','BadRequestError','../../../core/errors/not-found.error','name','BitbucketServerApiService','370408mfuJNh','GitRepoService','../../git-api/services/bitbucket-server-api.service','return\x20/\x22\x20+\x20this\x20+\x20\x22/','defineProperty','defaultBranch'];function a92_0x3262(_0xe3ad50,_0x3ab907){return a92_0x3262=function(_0x1b21d6,_0x4fa67d){_0x1b21d6=_0x1b21d6-0x164;let _0x4e047c=a92_0x51c4[_0x1b21d6];return _0x4e047c;},a92_0x3262(_0xe3ad50,_0x3ab907);}const a92_0x3e21d9=a92_0x3262;(function(_0x375f8f,_0x2dd347){const _0x23e950=a92_0x3262;while(!![]){try{const _0x595a72=-parseInt(_0x23e950(0x172))*-parseInt(_0x23e950(0x170))+-parseInt(_0x23e950(0x176))+parseInt(_0x23e950(0x166))+-parseInt(_0x23e950(0x19a))+-parseInt(_0x23e950(0x179))+parseInt(_0x23e950(0x19d))*parseInt(_0x23e950(0x173))+-parseInt(_0x23e950(0x185));if(_0x595a72===_0x2dd347)break;else _0x375f8f['push'](_0x375f8f['shift']());}catch(_0x26ac04){_0x375f8f['push'](_0x375f8f['shift']());}}}(a92_0x51c4,0x43776));const a92_0x4e047c=function(){let _0x85b033=!![];return function(_0x51326a,_0x4010a7){const _0x148bc9=_0x85b033?function(){const _0x3aa71e=a92_0x3262;if(_0x4010a7){const _0x595831=_0x4010a7[_0x3aa71e(0x196)](_0x51326a,arguments);return _0x4010a7=null,_0x595831;}}:function(){};return _0x85b033=![],_0x148bc9;};}(),a92_0x4fa67d=a92_0x4e047c(this,function(){const _0x41e959=function(){const _0x348492=a92_0x3262,_0xfaf4b3=_0x41e959[_0x348492(0x16c)](_0x348492(0x169))()[_0x348492(0x16c)](_0x348492(0x187));return!_0xfaf4b3['test'](a92_0x4fa67d);};return _0x41e959();});a92_0x4fa67d();'use strict';var __decorate=this&&this[a92_0x3e21d9(0x18e)]||function(_0x342c9d,_0x3b57bc,_0x22f94a,_0x5cdb4a){const _0xce648=a92_0x3e21d9;var _0x4f050e=arguments[_0xce648(0x17a)],_0x505300=_0x4f050e<0x3?_0x3b57bc:_0x5cdb4a===null?_0x5cdb4a=Object[_0xce648(0x16e)](_0x3b57bc,_0x22f94a):_0x5cdb4a,_0x188301;if(typeof Reflect===_0xce648(0x184)&&typeof Reflect[_0xce648(0x18c)]==='function')_0x505300=Reflect[_0xce648(0x18c)](_0x342c9d,_0x3b57bc,_0x22f94a,_0x5cdb4a);else{for(var _0x1eac87=_0x342c9d[_0xce648(0x17a)]-0x1;_0x1eac87>=0x0;_0x1eac87--)if(_0x188301=_0x342c9d[_0x1eac87])_0x505300=(_0x4f050e<0x3?_0x188301(_0x505300):_0x4f050e>0x3?_0x188301(_0x3b57bc,_0x22f94a,_0x505300):_0x188301(_0x3b57bc,_0x22f94a))||_0x505300;}return _0x4f050e>0x3&&_0x505300&&Object[_0xce648(0x16a)](_0x3b57bc,_0x22f94a,_0x505300),_0x505300;},__metadata=this&&this[a92_0x3e21d9(0x177)]||function(_0x2b9b57,_0x165829){const _0x497b76=a92_0x3e21d9;if(typeof Reflect===_0x497b76(0x184)&&typeof Reflect[_0x497b76(0x180)]===_0x497b76(0x194))return Reflect[_0x497b76(0x180)](_0x2b9b57,_0x165829);},__param=this&&this['__param']||function(_0x4626dd,_0x2bf40a){return function(_0x454dad,_0x1d3885){_0x2bf40a(_0x454dad,_0x1d3885,_0x4626dd);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a92_0x3e21d9(0x18d)]=void 0x0;const bad_request_error_1=require(a92_0x3e21d9(0x189)),not_found_error_1=require(a92_0x3e21d9(0x19f)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a92_0x3e21d9(0x186)),bitbucket_server_api_service_1=require(a92_0x3e21d9(0x168)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require(a92_0x3e21d9(0x175)),git_repo_service_1=require(a92_0x3e21d9(0x16f));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a92_0x3e21d9(0x167)]{constructor(_0x33369a,_0x18926d){const _0x2ffdc6=a92_0x3e21d9;super(_0x33369a),this['api']=_0x33369a,this['project']=_0x18926d[_0x2ffdc6(0x197)][_0x2ffdc6(0x17f)];}async[a92_0x3e21d9(0x191)](_0x36c88f){const _0x51c331=a92_0x3e21d9;try{const _0xe17677={'name':_0x36c88f[_0x51c331(0x164)],'scmId':'git','defaultBranch':_0x36c88f[_0x51c331(0x16b)],..._0x36c88f[_0x51c331(0x181)]||{}},_0x51ef80=await this[_0x51c331(0x182)][_0x51c331(0x198)](_0x51c331(0x18f)+this['project']+_0x51c331(0x190),_0xe17677),_0x224b33=repo_class_1[_0x51c331(0x17e)]['fromBitbucketServer'](_0x51ef80,'');return _0x36c88f['autoInit']&&await git_internal_1[_0x51c331(0x193)][_0x51c331(0x178)](_0x224b33,_0x36c88f[_0x51c331(0x16b)]||'master'),this[_0x51c331(0x16d)](_0x224b33[_0x51c331(0x164)]);}catch(_0x22e6c9){throw new bad_request_error_1['BadRequestError'](_0x22e6c9);}}async[a92_0x3e21d9(0x16d)](_0x1ce410){const _0x559d2=a92_0x3e21d9;try{const _0xc80fca=await this[_0x559d2(0x182)][_0x559d2(0x18b)](_0x559d2(0x18f)+this[_0x559d2(0x17f)]+'/repos/'+_0x1ce410),_0x2c2786=await this[_0x559d2(0x182)]['get'](_0x559d2(0x18f)+this[_0x559d2(0x17f)]+_0x559d2(0x188)+_0x1ce410+_0x559d2(0x192)),_0x19244d=repo_class_1[_0x559d2(0x17e)][_0x559d2(0x199)](_0xc80fca,this[_0x559d2(0x182)][_0x559d2(0x17d)][_0x559d2(0x195)]+('projects/'+this[_0x559d2(0x17f)]+'/repos/'+_0x1ce410));return _0x19244d[_0x559d2(0x16b)]=_0x2c2786['displayId'],_0x19244d[_0x559d2(0x17c)]=this['request'][_0x559d2(0x17d)]['baseURL']+(_0x559d2(0x18f)+this['project']+_0x559d2(0x188)+_0x1ce410),_0x19244d;}catch(_0x3d07fc){throw new not_found_error_1[(_0x559d2(0x17b))](_0x3d07fc);}}async[a92_0x3e21d9(0x18a)](_0x528d22,_0xe31bd0){const _0xaf703a=a92_0x3e21d9;try{const _0x412ad8=await this[_0xaf703a(0x182)]['put'](_0xaf703a(0x18f)+this[_0xaf703a(0x17f)]+_0xaf703a(0x188)+_0x528d22,_0xe31bd0),_0x332338=await this[_0xaf703a(0x182)][_0xaf703a(0x18b)](_0xaf703a(0x18f)+this[_0xaf703a(0x17f)]+'/repos/'+_0x528d22+_0xaf703a(0x192)),_0x3f51a5=repo_class_1[_0xaf703a(0x17e)][_0xaf703a(0x199)](_0x412ad8,this[_0xaf703a(0x182)][_0xaf703a(0x17d)][_0xaf703a(0x195)]+(_0xaf703a(0x18f)+this[_0xaf703a(0x17f)]+_0xaf703a(0x188)+_0x528d22));return _0x3f51a5['defaultBranch']=_0x332338['displayId'],_0x3f51a5;}catch(_0x8a6fd5){throw new not_found_error_1[(_0xaf703a(0x17b))](_0x8a6fd5);}}async[a92_0x3e21d9(0x19b)](_0x2d9cc5){const _0x15ea6c=a92_0x3e21d9;try{await this[_0x15ea6c(0x16d)](_0x2d9cc5),await this['request'][_0x15ea6c(0x19b)]('projects/'+this[_0x15ea6c(0x17f)]+_0x15ea6c(0x188)+_0x2d9cc5);}catch(_0x3ee57a){throw new bad_request_error_1[(_0x15ea6c(0x19e))](_0x3ee57a);}}};BitbucketServerRepoService=__decorate([typedi_1[a92_0x3e21d9(0x171)](),__param(0x1,typedi_1[a92_0x3e21d9(0x183)]()),__metadata(a92_0x3e21d9(0x174),[bitbucket_server_api_service_1[a92_0x3e21d9(0x165)],auth_settings_service_1[a92_0x3e21d9(0x19c)]])],BitbucketServerRepoService),exports[a92_0x3e21d9(0x18d)]=BitbucketServerRepoService;