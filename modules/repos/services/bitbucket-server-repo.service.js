const a93_0x11cb=['name','isDefault','getOwnPropertyDescriptor','defineProperty','create','design:paramtypes','86045MZvXAD','../../../core/errors/bad-request.error','__esModule','apiUrl','Inject','__decorate','projects/','GitRepoService','/default-branch','request','593954zWbigr','/projects/','defaults','1Mebvej','function','createEmptyBranch','baseURL','defaultBranch','1615044KKbcQw','BitbucketServerRepoService','../../../core/errors/not-found.error','__param','decorate','length','/repos/','joinURL','/branches','AuthSettingsService','BitbucketServerApiService','project','69801LWBaVY','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','13KNtZVl','typedi','Service','/repos','delete','BadRequestError','__metadata','bitbucketServer','autoInit','Repo','api','object','return\x20/\x22\x20+\x20this\x20+\x20\x22/','fromBitbucketServer','679714eKFnJp','find','122653jwpAUE','../../shared/utils','metadata','NotFoundError','getOne','../repo.class','get','displayId','../../shared/services/auth-settings.service','361716aCvpad','test'];function a93_0x3a1d(_0x5db86e,_0x44e774){return a93_0x3a1d=function(_0x2e9236,_0x5a4e77){_0x2e9236=_0x2e9236-0x106;let _0x141a4f=a93_0x11cb[_0x2e9236];return _0x141a4f;},a93_0x3a1d(_0x5db86e,_0x44e774);}const a93_0x489026=a93_0x3a1d;(function(_0x2b51fa,_0x3aab9f){const _0x1d8a38=a93_0x3a1d;while(!![]){try{const _0x89ac14=-parseInt(_0x1d8a38(0x116))+-parseInt(_0x1d8a38(0x126))+parseInt(_0x1d8a38(0x128))*-parseInt(_0x1d8a38(0x146))+-parseInt(_0x1d8a38(0x131))+parseInt(_0x1d8a38(0x118))*parseInt(_0x1d8a38(0x139))+parseInt(_0x1d8a38(0x10a))+-parseInt(_0x1d8a38(0x143));if(_0x89ac14===_0x3aab9f)break;else _0x2b51fa['push'](_0x2b51fa['shift']());}catch(_0x4b7210){_0x2b51fa['push'](_0x2b51fa['shift']());}}}(a93_0x11cb,0xdd23f));const a93_0x141a4f=function(){let _0x5e5747=!![];return function(_0xfaebc9,_0x2ec04f){const _0x11ab86=_0x5e5747?function(){if(_0x2ec04f){const _0x5b476c=_0x2ec04f['apply'](_0xfaebc9,arguments);return _0x2ec04f=null,_0x5b476c;}}:function(){};return _0x5e5747=![],_0x11ab86;};}(),a93_0x5a4e77=a93_0x141a4f(this,function(){const _0x2da22d=function(){const _0x3fdecd=a93_0x3a1d,_0x2155bd=_0x2da22d['constructor'](_0x3fdecd(0x124))()['constructor'](_0x3fdecd(0x117));return!_0x2155bd[_0x3fdecd(0x132)](a93_0x5a4e77);};return _0x2da22d();});a93_0x5a4e77();'use strict';var __decorate=this&&this[a93_0x489026(0x13e)]||function(_0x599249,_0x3175f1,_0x4b0ff4,_0x4ad9b1){const _0x5cfec5=a93_0x489026;var _0x46822c=arguments[_0x5cfec5(0x10f)],_0x656d95=_0x46822c<0x3?_0x3175f1:_0x4ad9b1===null?_0x4ad9b1=Object[_0x5cfec5(0x135)](_0x3175f1,_0x4b0ff4):_0x4ad9b1,_0x53e4e0;if(typeof Reflect==='object'&&typeof Reflect[_0x5cfec5(0x10e)]===_0x5cfec5(0x106))_0x656d95=Reflect['decorate'](_0x599249,_0x3175f1,_0x4b0ff4,_0x4ad9b1);else{for(var _0x205e64=_0x599249[_0x5cfec5(0x10f)]-0x1;_0x205e64>=0x0;_0x205e64--)if(_0x53e4e0=_0x599249[_0x205e64])_0x656d95=(_0x46822c<0x3?_0x53e4e0(_0x656d95):_0x46822c>0x3?_0x53e4e0(_0x3175f1,_0x4b0ff4,_0x656d95):_0x53e4e0(_0x3175f1,_0x4b0ff4))||_0x656d95;}return _0x46822c>0x3&&_0x656d95&&Object[_0x5cfec5(0x136)](_0x3175f1,_0x4b0ff4,_0x656d95),_0x656d95;},__metadata=this&&this[a93_0x489026(0x11e)]||function(_0x1cbc87,_0x22a9c3){const _0x55d765=a93_0x489026;if(typeof Reflect===_0x55d765(0x123)&&typeof Reflect[_0x55d765(0x12a)]==='function')return Reflect[_0x55d765(0x12a)](_0x1cbc87,_0x22a9c3);},__param=this&&this[a93_0x489026(0x10d)]||function(_0x43d8d4,_0x445c7e){return function(_0x256b3e,_0x306f0a){_0x445c7e(_0x256b3e,_0x306f0a,_0x43d8d4);};};Object[a93_0x489026(0x136)](exports,a93_0x489026(0x13b),{'value':!![]}),exports[a93_0x489026(0x10b)]=void 0x0;const bad_request_error_1=require(a93_0x489026(0x13a)),not_found_error_1=require(a93_0x489026(0x10c)),auth_settings_service_1=require(a93_0x489026(0x130)),typedi_1=require(a93_0x489026(0x119)),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require('../../internal/git.internal'),utils_1=require(a93_0x489026(0x129)),repo_class_1=require(a93_0x489026(0x12d)),git_repo_service_1=require('./git-repo.service');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a93_0x489026(0x140)]{constructor(_0x1110c8,_0x3828f3){const _0x54d55b=a93_0x489026;super(_0x1110c8),this[_0x54d55b(0x122)]=_0x1110c8,this[_0x54d55b(0x115)]=_0x3828f3[_0x54d55b(0x11f)]['project'];}async[a93_0x489026(0x137)](_0x420bc0){const _0x1e5e6c=a93_0x489026;try{const _0x429c2e={'name':_0x420bc0[_0x1e5e6c(0x133)],'scmId':'git','defaultBranch':_0x420bc0[_0x1e5e6c(0x109)],..._0x420bc0['apiBody']||{}},_0x1cebb8=await this[_0x1e5e6c(0x142)]['post']('projects/'+this[_0x1e5e6c(0x115)]+_0x1e5e6c(0x11b),_0x429c2e),_0x6489bd=repo_class_1[_0x1e5e6c(0x121)][_0x1e5e6c(0x125)](_0x1cebb8,'');return _0x420bc0[_0x1e5e6c(0x120)]&&await git_internal_1['Git'][_0x1e5e6c(0x107)](_0x6489bd,_0x420bc0[_0x1e5e6c(0x109)]||'master'),this[_0x1e5e6c(0x12c)](_0x6489bd[_0x1e5e6c(0x133)]);}catch(_0x32cc7d){throw new bad_request_error_1[(_0x1e5e6c(0x11d))](_0x32cc7d);}}async[a93_0x489026(0x12c)](_0x20c65e){const _0x1b1dc1=a93_0x489026;var _0x24b9ad;try{const _0x1186ee=await this[_0x1b1dc1(0x142)][_0x1b1dc1(0x12e)]('projects/'+this['project']+_0x1b1dc1(0x110)+_0x20c65e),_0x4ce10c=repo_class_1[_0x1b1dc1(0x121)]['fromBitbucketServer'](_0x1186ee,utils_1[_0x1b1dc1(0x111)](this[_0x1b1dc1(0x142)][_0x1b1dc1(0x145)][_0x1b1dc1(0x108)]||'',_0x1b1dc1(0x144)+this['project']+_0x1b1dc1(0x110)+_0x20c65e)),_0x17e49c=await this[_0x1b1dc1(0x142)][_0x1b1dc1(0x12e)](_0x4ce10c[_0x1b1dc1(0x13c)]+_0x1b1dc1(0x112))['then'](_0xead6c7=>_0xead6c7['values']);return _0x4ce10c[_0x1b1dc1(0x109)]=(_0x24b9ad=_0x17e49c[_0x1b1dc1(0x127)](_0x24c616=>_0x24c616[_0x1b1dc1(0x134)]===!![]))===null||_0x24b9ad===void 0x0?void 0x0:_0x24b9ad[_0x1b1dc1(0x12f)],_0x4ce10c;}catch(_0x4cfef6){throw new not_found_error_1['NotFoundError'](_0x4cfef6);}}async['update'](_0x42d099,_0x1d7304){const _0x59cb05=a93_0x489026;try{const _0x17e7bf=await this[_0x59cb05(0x142)]['put'](_0x59cb05(0x13f)+this[_0x59cb05(0x115)]+_0x59cb05(0x110)+_0x42d099,_0x1d7304),_0x3420c1=await this[_0x59cb05(0x142)][_0x59cb05(0x12e)](_0x59cb05(0x13f)+this[_0x59cb05(0x115)]+'/repos/'+_0x42d099+_0x59cb05(0x141)),_0x55f129=repo_class_1[_0x59cb05(0x121)][_0x59cb05(0x125)](_0x17e7bf,utils_1['joinURL'](this[_0x59cb05(0x142)][_0x59cb05(0x145)][_0x59cb05(0x108)]||'',_0x59cb05(0x144)+this[_0x59cb05(0x115)]+_0x59cb05(0x110)+_0x42d099));return _0x55f129['defaultBranch']=_0x3420c1[_0x59cb05(0x12f)],_0x55f129;}catch(_0x1283b4){throw new not_found_error_1[(_0x59cb05(0x12b))](_0x1283b4);}}async['delete'](_0x19b41e){const _0x1ccf31=a93_0x489026;try{await this[_0x1ccf31(0x12c)](_0x19b41e),await this['request'][_0x1ccf31(0x11c)](_0x1ccf31(0x13f)+this[_0x1ccf31(0x115)]+_0x1ccf31(0x110)+_0x19b41e);}catch(_0x5338f5){throw new bad_request_error_1['BadRequestError'](_0x5338f5);}}};BitbucketServerRepoService=__decorate([typedi_1[a93_0x489026(0x11a)](),__param(0x1,typedi_1[a93_0x489026(0x13d)]()),__metadata(a93_0x489026(0x138),[bitbucket_server_api_service_1[a93_0x489026(0x114)],auth_settings_service_1[a93_0x489026(0x113)]])],BitbucketServerRepoService),exports[a93_0x489026(0x10b)]=BitbucketServerRepoService;