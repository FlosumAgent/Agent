const a93_0x20fe=['44452hNqInl','../../../core/errors/not-found.error','BitbucketServerApiService','../../../core/errors/bad-request.error','__param','defaultBranch','getOwnPropertyDescriptor','find','master','/projects/','defineProperty','Inject','getOne','../../shared/utils','metadata','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','defaults','name','__metadata','api','373419WVCaif','design:paramtypes','5bENJGY','createEmptyBranch','joinURL','baseURL','function','2yasavM','decorate','11455DkPpmM','BadRequestError','fromBitbucketServer','post','object','values','620206rAHYyc','__decorate','get','autoInit','785466jzasdz','./git-repo.service','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../git-api/services/bitbucket-server-api.service','projects/','bitbucketServer','typedi','742873WsQwrq','23QDNLDo','constructor','create','length','test','Service','Repo','5943Mitebe','BitbucketServerRepoService','isDefault','NotFoundError','request','../repo.class','git','project','apiUrl','apiBody','/repos/'];const a93_0x2da596=a93_0x458d;(function(_0x26b630,_0x11e5a9){const _0x379dba=a93_0x458d;while(!![]){try{const _0x15f721=-parseInt(_0x379dba(0x100))+parseInt(_0x379dba(0x104))+parseInt(_0x379dba(0x113))*parseInt(_0x379dba(0x10c))+parseInt(_0x379dba(0xfa))*parseInt(_0x379dba(0xf3))+-parseInt(_0x379dba(0xf1))*parseInt(_0x379dba(0xf8))+parseInt(_0x379dba(0x10b))+parseInt(_0x379dba(0x11e));if(_0x15f721===_0x11e5a9)break;else _0x26b630['push'](_0x26b630['shift']());}catch(_0x2ef87f){_0x26b630['push'](_0x26b630['shift']());}}}(a93_0x20fe,0x6195f));const a93_0x73d275=function(){let _0x43fd2c=!![];return function(_0x45f76f,_0x5e9a7b){const _0x5c1baa=_0x43fd2c?function(){if(_0x5e9a7b){const _0x4de566=_0x5e9a7b['apply'](_0x45f76f,arguments);return _0x5e9a7b=null,_0x4de566;}}:function(){};return _0x43fd2c=![],_0x5c1baa;};}(),a93_0x4996b3=a93_0x73d275(this,function(){const _0x58a245=function(){const _0x2a2379=a93_0x458d,_0x2185b7=_0x58a245[_0x2a2379(0x10d)](_0x2a2379(0x106))()[_0x2a2379(0x10d)](_0x2a2379(0xec));return!_0x2185b7[_0x2a2379(0x110)](a93_0x4996b3);};return _0x58a245();});a93_0x4996b3();'use strict';var __decorate=this&&this[a93_0x2da596(0x101)]||function(_0x28b985,_0x5c9d8c,_0x412115,_0x1517e4){const _0x1ac7b1=a93_0x2da596;var _0xdeae18=arguments['length'],_0x483a24=_0xdeae18<0x3?_0x5c9d8c:_0x1517e4===null?_0x1517e4=Object[_0x1ac7b1(0x124)](_0x5c9d8c,_0x412115):_0x1517e4,_0xa70b85;if(typeof Reflect===_0x1ac7b1(0xfe)&&typeof Reflect[_0x1ac7b1(0xf9)]===_0x1ac7b1(0xf7))_0x483a24=Reflect[_0x1ac7b1(0xf9)](_0x28b985,_0x5c9d8c,_0x412115,_0x1517e4);else{for(var _0x47c430=_0x28b985[_0x1ac7b1(0x10f)]-0x1;_0x47c430>=0x0;_0x47c430--)if(_0xa70b85=_0x28b985[_0x47c430])_0x483a24=(_0xdeae18<0x3?_0xa70b85(_0x483a24):_0xdeae18>0x3?_0xa70b85(_0x5c9d8c,_0x412115,_0x483a24):_0xa70b85(_0x5c9d8c,_0x412115))||_0x483a24;}return _0xdeae18>0x3&&_0x483a24&&Object['defineProperty'](_0x5c9d8c,_0x412115,_0x483a24),_0x483a24;},__metadata=this&&this[a93_0x2da596(0xef)]||function(_0x407871,_0x11404d){const _0x4c3aa0=a93_0x2da596;if(typeof Reflect===_0x4c3aa0(0xfe)&&typeof Reflect[_0x4c3aa0(0xeb)]===_0x4c3aa0(0xf7))return Reflect[_0x4c3aa0(0xeb)](_0x407871,_0x11404d);},__param=this&&this[a93_0x2da596(0x122)]||function(_0x4680c2,_0x202263){return function(_0x2375d6,_0x4bdfc2){_0x202263(_0x2375d6,_0x4bdfc2,_0x4680c2);};};function a93_0x458d(_0x220c35,_0x54b18a){return a93_0x458d=function(_0x53d92d,_0x4996b3){_0x53d92d=_0x53d92d-0xe7;let _0x73d275=a93_0x20fe[_0x53d92d];return _0x73d275;},a93_0x458d(_0x220c35,_0x54b18a);}Object[a93_0x2da596(0xe7)](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a93_0x2da596(0x121)),not_found_error_1=require(a93_0x2da596(0x11f)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a93_0x2da596(0x10a)),bitbucket_server_api_service_1=require(a93_0x2da596(0x107)),git_internal_1=require('../../internal/git.internal'),utils_1=require(a93_0x2da596(0xea)),repo_class_1=require(a93_0x2da596(0x118)),git_repo_service_1=require(a93_0x2da596(0x105));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x230dd4,_0x59c98c){const _0x21285c=a93_0x2da596;super(_0x230dd4),this[_0x21285c(0xf0)]=_0x230dd4,this[_0x21285c(0x11a)]=_0x59c98c[_0x21285c(0x109)][_0x21285c(0x11a)];}async[a93_0x2da596(0x10e)](_0x95f923){const _0x496618=a93_0x2da596;try{const _0x5c76e0={'name':_0x95f923[_0x496618(0xee)],'scmId':_0x496618(0x119),'defaultBranch':_0x95f923[_0x496618(0x123)],..._0x95f923[_0x496618(0x11c)]||{}},_0x20e2cb=await this['request'][_0x496618(0xfd)](_0x496618(0x108)+this['project']+'/repos',_0x5c76e0),_0x2e1d24=repo_class_1[_0x496618(0x112)][_0x496618(0xfc)](_0x20e2cb,'');return _0x95f923[_0x496618(0x103)]&&await git_internal_1['Git'][_0x496618(0xf4)](_0x2e1d24,_0x95f923[_0x496618(0x123)]||_0x496618(0x126)),this[_0x496618(0xe9)](_0x2e1d24[_0x496618(0xee)]);}catch(_0x4dbfdd){throw new bad_request_error_1['BadRequestError'](_0x4dbfdd);}}async[a93_0x2da596(0xe9)](_0x1c491d){const _0x2d3408=a93_0x2da596;var _0x2a04a6;try{const _0x53ba19=await this[_0x2d3408(0x117)]['get'](_0x2d3408(0x108)+this[_0x2d3408(0x11a)]+_0x2d3408(0x11d)+_0x1c491d),_0x127cda=repo_class_1[_0x2d3408(0x112)]['fromBitbucketServer'](_0x53ba19,utils_1['joinURL'](this['request'][_0x2d3408(0xed)]['baseURL']||'',_0x2d3408(0x127)+this['project']+_0x2d3408(0x11d)+_0x1c491d)),_0x494bae=await this[_0x2d3408(0x117)][_0x2d3408(0x102)](_0x127cda[_0x2d3408(0x11b)]+'/branches')['then'](_0x376224=>_0x376224[_0x2d3408(0xff)]);return _0x127cda['defaultBranch']=(_0x2a04a6=_0x494bae[_0x2d3408(0x125)](_0x98c8fe=>_0x98c8fe[_0x2d3408(0x115)]===!![]))===null||_0x2a04a6===void 0x0?void 0x0:_0x2a04a6['displayId'],_0x127cda;}catch(_0x535a16){throw new not_found_error_1[(_0x2d3408(0x116))](_0x535a16);}}async['update'](_0x1876cb,_0x39f716){const _0x5d9f80=a93_0x2da596;try{const _0x42e07a=await this[_0x5d9f80(0x117)]['put'](_0x5d9f80(0x108)+this[_0x5d9f80(0x11a)]+_0x5d9f80(0x11d)+_0x1876cb,_0x39f716),_0x306806=await this[_0x5d9f80(0x117)][_0x5d9f80(0x102)]('projects/'+this[_0x5d9f80(0x11a)]+_0x5d9f80(0x11d)+_0x1876cb+'/default-branch'),_0x591117=repo_class_1[_0x5d9f80(0x112)]['fromBitbucketServer'](_0x42e07a,utils_1[_0x5d9f80(0xf5)](this[_0x5d9f80(0x117)][_0x5d9f80(0xed)][_0x5d9f80(0xf6)]||'','/projects/'+this['project']+_0x5d9f80(0x11d)+_0x1876cb));return _0x591117['defaultBranch']=_0x306806['displayId'],_0x591117;}catch(_0xc3689){throw new not_found_error_1[(_0x5d9f80(0x116))](_0xc3689);}}async['delete'](_0x151ead){const _0x2cb3b4=a93_0x2da596;try{await this['getOne'](_0x151ead),await this[_0x2cb3b4(0x117)]['delete']('projects/'+this[_0x2cb3b4(0x11a)]+'/repos/'+_0x151ead);}catch(_0x2c24bc){throw new bad_request_error_1[(_0x2cb3b4(0xfb))](_0x2c24bc);}}};BitbucketServerRepoService=__decorate([typedi_1[a93_0x2da596(0x111)](),__param(0x1,typedi_1[a93_0x2da596(0xe8)]()),__metadata(a93_0x2da596(0xf2),[bitbucket_server_api_service_1[a93_0x2da596(0x120)],auth_settings_service_1['AuthSettingsService']])],BitbucketServerRepoService),exports[a93_0x2da596(0x114)]=BitbucketServerRepoService;