const a110_0x251249=a110_0x461c;(function(_0x35be18,_0x58cf49){const _0x5040ee=a110_0x461c,_0x42a38e=_0x35be18();while(!![]){try{const _0x379bc1=parseInt(_0x5040ee(0xee))/0x1+-parseInt(_0x5040ee(0xd9))/0x2+parseInt(_0x5040ee(0xfd))/0x3+-parseInt(_0x5040ee(0x100))/0x4+-parseInt(_0x5040ee(0xf6))/0x5*(-parseInt(_0x5040ee(0xe4))/0x6)+-parseInt(_0x5040ee(0xf1))/0x7+parseInt(_0x5040ee(0x103))/0x8;if(_0x379bc1===_0x58cf49)break;else _0x42a38e['push'](_0x42a38e['shift']());}catch(_0x5515ab){_0x42a38e['push'](_0x42a38e['shift']());}}}(a110_0x4e8f,0x39469));function a110_0x4e8f(){const _0x1e1569=['NotFoundError','typedi','autoInit','search','defineProperty','api','decorate','__metadata','nextPageStart','BadRequestError','request','bitbucketServer','Inject','getOwnPropertyDescriptor','../../shared/services/auth-settings.service','__param','object','displayId','metadata','536298ivzUKP','then','Service','apply','delete','find','createEmptyBranch','(((.+)+)+)+$','ApiError','AuthSettingsService','/repos/','36PGsWFW','function','joinURL','./git-repo.service','slug','BitbucketServerRepoService','getAll','../../../core/errors/bad-request.error','/projects/','/default-branch','76942gHAlTU','git','master','441581HKIaCd','update','isDefault','BitbucketServerApiService','/repos','188465UDUcUw','Git','Repo','getOne','design:paramtypes','get','put','1183224OohwIQ','defaultBranch','defaults','735908eaCJnP','projects/','apiBody','418416pvOBKz','push','baseURL','length','map','GitRepoService','name','values','fromBitbucketServer','__decorate','project','toString','../../../core/errors/api.error'];a110_0x4e8f=function(){return _0x1e1569;};return a110_0x4e8f();}function a110_0x461c(_0x284fce,_0x5ef015){const _0x194374=a110_0x4e8f();return a110_0x461c=function(_0x4fea5a,_0x53c297){_0x4fea5a=_0x4fea5a-0xc4;let _0x4e8f16=_0x194374[_0x4fea5a];return _0x4e8f16;},a110_0x461c(_0x284fce,_0x5ef015);}const a110_0x53c297=function(){let _0x19808e=!![];return function(_0x125124,_0x2a4da2){const _0x130f5e=_0x19808e?function(){const _0x1adcdb=a110_0x461c;if(_0x2a4da2){const _0x45e5d1=_0x2a4da2[_0x1adcdb(0xdc)](_0x125124,arguments);return _0x2a4da2=null,_0x45e5d1;}}:function(){};return _0x19808e=![],_0x130f5e;};}(),a110_0x4fea5a=a110_0x53c297(this,function(){const _0x47569b=a110_0x461c;return a110_0x4fea5a[_0x47569b(0xc4)]()[_0x47569b(0xc9)](_0x47569b(0xe0))[_0x47569b(0xc4)]()['constructor'](a110_0x4fea5a)['search'](_0x47569b(0xe0));});a110_0x4fea5a();'use strict';var __decorate=this&&this[a110_0x251249(0x10c)]||function(_0x32bbb9,_0x45bb9a,_0x4978f2,_0x23c25b){const _0x580a63=a110_0x251249;var _0x11a594=arguments['length'],_0x5bf1d9=_0x11a594<0x3?_0x45bb9a:_0x23c25b===null?_0x23c25b=Object[_0x580a63(0xd3)](_0x45bb9a,_0x4978f2):_0x23c25b,_0x33d3d1;if(typeof Reflect===_0x580a63(0xd6)&&typeof Reflect[_0x580a63(0xcc)]===_0x580a63(0xe5))_0x5bf1d9=Reflect[_0x580a63(0xcc)](_0x32bbb9,_0x45bb9a,_0x4978f2,_0x23c25b);else{for(var _0x1c4b03=_0x32bbb9[_0x580a63(0x106)]-0x1;_0x1c4b03>=0x0;_0x1c4b03--)if(_0x33d3d1=_0x32bbb9[_0x1c4b03])_0x5bf1d9=(_0x11a594<0x3?_0x33d3d1(_0x5bf1d9):_0x11a594>0x3?_0x33d3d1(_0x45bb9a,_0x4978f2,_0x5bf1d9):_0x33d3d1(_0x45bb9a,_0x4978f2))||_0x5bf1d9;}return _0x11a594>0x3&&_0x5bf1d9&&Object[_0x580a63(0xca)](_0x45bb9a,_0x4978f2,_0x5bf1d9),_0x5bf1d9;},__metadata=this&&this[a110_0x251249(0xcd)]||function(_0x1d639d,_0x5525ac){const _0x281cc2=a110_0x251249;if(typeof Reflect==='object'&&typeof Reflect[_0x281cc2(0xd8)]===_0x281cc2(0xe5))return Reflect['metadata'](_0x1d639d,_0x5525ac);},__param=this&&this[a110_0x251249(0xd5)]||function(_0x3417fe,_0x5ea4d2){return function(_0x14647a,_0x488f67){_0x5ea4d2(_0x14647a,_0x488f67,_0x3417fe);};};Object[a110_0x251249(0xca)](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a110_0x251249(0xeb)),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require(a110_0x251249(0xd4)),typedi_1=require(a110_0x251249(0xc7)),api_error_1=require(a110_0x251249(0xc5)),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require('../../internal/git.internal'),utils_1=require('../../shared/utils'),repo_class_1=require('../repo.class'),git_repo_service_1=require(a110_0x251249(0xe7));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a110_0x251249(0x108)]{constructor(_0x1c494a,_0x530c1b){const _0x38de1=a110_0x251249;super(_0x1c494a),this[_0x38de1(0xcb)]=_0x1c494a,this[_0x38de1(0x10d)]=_0x530c1b[_0x38de1(0xd1)][_0x38de1(0x10d)];}async['create'](_0x3f0384){const _0x5a8a08=a110_0x251249;try{const _0x2c6c4b={'name':_0x3f0384[_0x5a8a08(0x109)],'scmId':_0x5a8a08(0xef),'defaultBranch':_0x3f0384[_0x5a8a08(0xfe)],..._0x3f0384[_0x5a8a08(0x102)]||{}},_0x1404ef=await this[_0x5a8a08(0xd0)]['post'](_0x5a8a08(0x101)+this['project']+'/repos',_0x2c6c4b),_0x20c908=repo_class_1[_0x5a8a08(0xf8)][_0x5a8a08(0x10b)](_0x1404ef,'');return _0x3f0384[_0x5a8a08(0xc8)]&&await git_internal_1[_0x5a8a08(0xf7)][_0x5a8a08(0xdf)](_0x20c908,_0x3f0384[_0x5a8a08(0xfe)]||_0x5a8a08(0xf0)),this[_0x5a8a08(0xf9)](_0x20c908['name']);}catch(_0x2c111){if(_0x2c111 instanceof api_error_1[_0x5a8a08(0xe1)])throw _0x2c111;throw new bad_request_error_1[(_0x5a8a08(0xcf))](_0x2c111);}}async[a110_0x251249(0xea)](){const _0x39787a=a110_0x251249;try{const _0x34931c=[];let _0x11a818;do{_0x11a818=await this['request'][_0x39787a(0xfb)](_0x39787a(0x101)+this[_0x39787a(0x10d)]+_0x39787a(0xf5),{'params':{'limit':0x64,'start':_0x11a818?_0x11a818[_0x39787a(0xce)]:0x0}}),_0x34931c[_0x39787a(0x104)](..._0x11a818[_0x39787a(0x10a)]);}while(!_0x11a818['isLastPage']);return _0x34931c[_0x39787a(0x107)](_0x25c4b4=>repo_class_1[_0x39787a(0xf8)]['fromBitbucketServer'](_0x25c4b4,utils_1[_0x39787a(0xe6)](this['request'][_0x39787a(0xff)][_0x39787a(0x105)]||'',_0x39787a(0xec)+this[_0x39787a(0x10d)]+_0x39787a(0xe3)+_0x25c4b4[_0x39787a(0xe8)])));}catch(_0x3b224b){if(_0x3b224b instanceof api_error_1[_0x39787a(0xe1)])throw _0x3b224b;throw new not_found_error_1['NotFoundError'](_0x3b224b);}}async[a110_0x251249(0xf9)](_0x4c0f11){const _0x53696c=a110_0x251249;var _0x180e4b;try{const _0x2e6ed2=await this[_0x53696c(0xd0)]['get'](_0x53696c(0x101)+this[_0x53696c(0x10d)]+_0x53696c(0xe3)+_0x4c0f11),_0x28d5f6=repo_class_1['Repo']['fromBitbucketServer'](_0x2e6ed2,utils_1['joinURL'](this['request']['defaults']['baseURL']||'',_0x53696c(0xec)+this[_0x53696c(0x10d)]+'/repos/'+_0x4c0f11)),_0x530689=await this[_0x53696c(0xd0)][_0x53696c(0xfb)](_0x28d5f6['apiUrl']+'/branches')[_0x53696c(0xda)](_0x49fc6f=>_0x49fc6f[_0x53696c(0x10a)]);return _0x28d5f6[_0x53696c(0xfe)]=(_0x180e4b=_0x530689[_0x53696c(0xde)](_0x1f2e8b=>_0x1f2e8b[_0x53696c(0xf3)]===!![]))===null||_0x180e4b===void 0x0?void 0x0:_0x180e4b[_0x53696c(0xd7)],_0x28d5f6;}catch(_0x3731a6){if(_0x3731a6 instanceof api_error_1[_0x53696c(0xe1)])throw _0x3731a6;throw new not_found_error_1[(_0x53696c(0xc6))](_0x3731a6);}}async[a110_0x251249(0xf2)](_0x27621d,_0x5f1835){const _0x18e19c=a110_0x251249;try{const _0x472f36=await this[_0x18e19c(0xd0)][_0x18e19c(0xfc)](_0x18e19c(0x101)+this[_0x18e19c(0x10d)]+_0x18e19c(0xe3)+_0x27621d,_0x5f1835),_0xc04de6=await this['request'][_0x18e19c(0xfb)](_0x18e19c(0x101)+this[_0x18e19c(0x10d)]+_0x18e19c(0xe3)+_0x27621d+_0x18e19c(0xed)),_0x124f9c=repo_class_1[_0x18e19c(0xf8)][_0x18e19c(0x10b)](_0x472f36,utils_1[_0x18e19c(0xe6)](this['request']['defaults'][_0x18e19c(0x105)]||'','/projects/'+this[_0x18e19c(0x10d)]+_0x18e19c(0xe3)+_0x27621d));return _0x124f9c[_0x18e19c(0xfe)]=_0xc04de6[_0x18e19c(0xd7)],_0x124f9c;}catch(_0x36ec96){if(_0x36ec96 instanceof api_error_1[_0x18e19c(0xe1)])throw _0x36ec96;throw new not_found_error_1[(_0x18e19c(0xc6))](_0x36ec96);}}async[a110_0x251249(0xdd)](_0x4a901f){const _0x56b3fc=a110_0x251249;try{await this[_0x56b3fc(0xf9)](_0x4a901f),await this['request'][_0x56b3fc(0xdd)](_0x56b3fc(0x101)+this[_0x56b3fc(0x10d)]+_0x56b3fc(0xe3)+_0x4a901f);}catch(_0x3855d8){if(_0x3855d8 instanceof api_error_1[_0x56b3fc(0xe1)])throw _0x3855d8;throw new bad_request_error_1[(_0x56b3fc(0xcf))](_0x3855d8);}}};BitbucketServerRepoService=__decorate([typedi_1[a110_0x251249(0xdb)](),__param(0x1,typedi_1[a110_0x251249(0xd2)]()),__metadata(a110_0x251249(0xfa),[bitbucket_server_api_service_1[a110_0x251249(0xf4)],auth_settings_service_1[a110_0x251249(0xe2)]])],BitbucketServerRepoService),exports[a110_0x251249(0xe9)]=BitbucketServerRepoService;