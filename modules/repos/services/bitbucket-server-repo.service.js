const a92_0x557e=['Inject','return\x20/\x22\x20+\x20this\x20+\x20\x22/','length','Service','constructor','project','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../shared/utils','GitRepoService','design:paramtypes','125058BPgbhr','BitbucketServerRepoService','BitbucketServerApiService','git','../../internal/git.internal','getOne','539228InpljU','AuthSettingsService','defineProperty','../../shared/services/auth-settings.service','post','139369hkZAke','put','../repo.class','BadRequestError','73486fTEKMG','1654004uQqXXI','294325BlcNIw','apply','/repos/','test','1ewENNx','delete','displayId','__decorate','projects/','master','../../../core/errors/bad-request.error','baseURL','../../git-api/services/bitbucket-server-api.service','metadata','function','486784JlujkB','/default-branch','object','/repos','__metadata','Repo','api','defaults','NotFoundError','get','joinURL','fromBitbucketServer','defaultBranch','request','autoInit','/projects/'];const a92_0x223a55=a92_0x1f67;(function(_0xce7f2e,_0xa7c6b8){const _0x257906=a92_0x1f67;while(!![]){try{const _0x4c7884=-parseInt(_0x257906(0xbc))+-parseInt(_0x257906(0xa2))+-parseInt(_0x257906(0x9c))+-parseInt(_0x257906(0xab))+parseInt(_0x257906(0xb1))*parseInt(_0x257906(0xa7))+-parseInt(_0x257906(0xad))+parseInt(_0x257906(0xac));if(_0x4c7884===_0xa7c6b8)break;else _0xce7f2e['push'](_0xce7f2e['shift']());}catch(_0x2ea149){_0xce7f2e['push'](_0xce7f2e['shift']());}}}(a92_0x557e,0x4303c));const a92_0x201be4=function(){let _0x3aed39=!![];return function(_0xae2b5,_0x462ad9){const _0x28516c=_0x3aed39?function(){const _0x326334=a92_0x1f67;if(_0x462ad9){const _0x1ec1bc=_0x462ad9[_0x326334(0xae)](_0xae2b5,arguments);return _0x462ad9=null,_0x1ec1bc;}}:function(){};return _0x3aed39=![],_0x28516c;};}(),a92_0x494f93=a92_0x201be4(this,function(){const _0x3b9193=function(){const _0x408eff=a92_0x1f67,_0x3242ca=_0x3b9193[_0x408eff(0x96)](_0x408eff(0x93))()[_0x408eff(0x96)](_0x408eff(0x98));return!_0x3242ca[_0x408eff(0xb0)](a92_0x494f93);};return _0x3b9193();});a92_0x494f93();'use strict';var __decorate=this&&this[a92_0x223a55(0xb4)]||function(_0x501220,_0x44ac83,_0x27b9f5,_0x59b27d){const _0x298f74=a92_0x223a55;var _0x3b6b17=arguments['length'],_0x194c91=_0x3b6b17<0x3?_0x44ac83:_0x59b27d===null?_0x59b27d=Object['getOwnPropertyDescriptor'](_0x44ac83,_0x27b9f5):_0x59b27d,_0x1366e2;if(typeof Reflect===_0x298f74(0x84)&&typeof Reflect['decorate']===_0x298f74(0xbb))_0x194c91=Reflect['decorate'](_0x501220,_0x44ac83,_0x27b9f5,_0x59b27d);else{for(var _0x19d4ee=_0x501220[_0x298f74(0x94)]-0x1;_0x19d4ee>=0x0;_0x19d4ee--)if(_0x1366e2=_0x501220[_0x19d4ee])_0x194c91=(_0x3b6b17<0x3?_0x1366e2(_0x194c91):_0x3b6b17>0x3?_0x1366e2(_0x44ac83,_0x27b9f5,_0x194c91):_0x1366e2(_0x44ac83,_0x27b9f5))||_0x194c91;}return _0x3b6b17>0x3&&_0x194c91&&Object[_0x298f74(0xa4)](_0x44ac83,_0x27b9f5,_0x194c91),_0x194c91;},__metadata=this&&this[a92_0x223a55(0x86)]||function(_0x5547dd,_0x68d7c){const _0x321070=a92_0x223a55;if(typeof Reflect==='object'&&typeof Reflect[_0x321070(0xba)]===_0x321070(0xbb))return Reflect[_0x321070(0xba)](_0x5547dd,_0x68d7c);},__param=this&&this['__param']||function(_0x5b5a72,_0x462fc0){return function(_0x32c1bd,_0x36a667){_0x462fc0(_0x32c1bd,_0x36a667,_0x5b5a72);};};function a92_0x1f67(_0x491348,_0x4fc30e){return a92_0x1f67=function(_0x4b95d6,_0x494f93){_0x4b95d6=_0x4b95d6-0x84;let _0x201be4=a92_0x557e[_0x4b95d6];return _0x201be4;},a92_0x1f67(_0x491348,_0x4fc30e);}Object[a92_0x223a55(0xa4)](exports,'__esModule',{'value':!![]}),exports[a92_0x223a55(0x9d)]=void 0x0;const bad_request_error_1=require(a92_0x223a55(0xb7)),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require(a92_0x223a55(0xa5)),typedi_1=require('typedi'),bitbucket_server_api_service_1=require(a92_0x223a55(0xb9)),git_internal_1=require(a92_0x223a55(0xa0)),utils_1=require(a92_0x223a55(0x99)),repo_class_1=require(a92_0x223a55(0xa9)),git_repo_service_1=require('./git-repo.service');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a92_0x223a55(0x9a)]{constructor(_0x4e3567,_0x41e52c){const _0x27874e=a92_0x223a55;super(_0x4e3567),this[_0x27874e(0x88)]=_0x4e3567,this['project']=_0x41e52c['bitbucketServer'][_0x27874e(0x97)];}async['create'](_0x23ce9c){const _0xa0af9f=a92_0x223a55;try{const _0xd6133b={'name':_0x23ce9c['name'],'scmId':_0xa0af9f(0x9f),'defaultBranch':_0x23ce9c[_0xa0af9f(0x8e)],..._0x23ce9c['apiBody']||{}},_0x2f602e=await this[_0xa0af9f(0x8f)][_0xa0af9f(0xa6)]('projects/'+this[_0xa0af9f(0x97)]+_0xa0af9f(0x85),_0xd6133b),_0x46bc52=repo_class_1[_0xa0af9f(0x87)][_0xa0af9f(0x8d)](_0x2f602e,'');return _0x23ce9c[_0xa0af9f(0x90)]&&await git_internal_1['Git']['createEmptyBranch'](_0x46bc52,_0x23ce9c[_0xa0af9f(0x8e)]||_0xa0af9f(0xb6)),this[_0xa0af9f(0xa1)](_0x46bc52['name']);}catch(_0x5b7a18){throw new bad_request_error_1[(_0xa0af9f(0xaa))](_0x5b7a18);}}async[a92_0x223a55(0xa1)](_0x2f279e){const _0x189a2d=a92_0x223a55;try{const _0x2b7dc4=await this[_0x189a2d(0x8f)][_0x189a2d(0x8b)]('projects/'+this[_0x189a2d(0x97)]+_0x189a2d(0xaf)+_0x2f279e),_0x11ff6c=await this['request']['get'](_0x189a2d(0xb5)+this['project']+'/repos/'+_0x2f279e+_0x189a2d(0xbd)),_0x38d610=repo_class_1[_0x189a2d(0x87)][_0x189a2d(0x8d)](_0x2b7dc4,utils_1[_0x189a2d(0x8c)](this[_0x189a2d(0x8f)]['defaults'][_0x189a2d(0xb8)]||'',_0x189a2d(0x91)+this[_0x189a2d(0x97)]+'/repos/'+_0x2f279e));return _0x38d610[_0x189a2d(0x8e)]=_0x11ff6c[_0x189a2d(0xb3)],_0x38d610;}catch(_0x564f0d){throw new not_found_error_1[(_0x189a2d(0x8a))](_0x564f0d);}}async['update'](_0x1c7dcc,_0x211299){const _0x47dfab=a92_0x223a55;try{const _0x1d7078=await this[_0x47dfab(0x8f)][_0x47dfab(0xa8)](_0x47dfab(0xb5)+this[_0x47dfab(0x97)]+_0x47dfab(0xaf)+_0x1c7dcc,_0x211299),_0x1a3197=await this[_0x47dfab(0x8f)][_0x47dfab(0x8b)](_0x47dfab(0xb5)+this[_0x47dfab(0x97)]+_0x47dfab(0xaf)+_0x1c7dcc+'/default-branch'),_0x2745cc=repo_class_1['Repo'][_0x47dfab(0x8d)](_0x1d7078,utils_1[_0x47dfab(0x8c)](this[_0x47dfab(0x8f)][_0x47dfab(0x89)][_0x47dfab(0xb8)]||'',_0x47dfab(0x91)+this[_0x47dfab(0x97)]+_0x47dfab(0xaf)+_0x1c7dcc));return _0x2745cc[_0x47dfab(0x8e)]=_0x1a3197[_0x47dfab(0xb3)],_0x2745cc;}catch(_0x4a99c0){throw new not_found_error_1[(_0x47dfab(0x8a))](_0x4a99c0);}}async['delete'](_0x5da1a4){const _0x491fdb=a92_0x223a55;try{await this[_0x491fdb(0xa1)](_0x5da1a4),await this[_0x491fdb(0x8f)][_0x491fdb(0xb2)]('projects/'+this[_0x491fdb(0x97)]+_0x491fdb(0xaf)+_0x5da1a4);}catch(_0x957506){throw new bad_request_error_1[(_0x491fdb(0xaa))](_0x957506);}}};BitbucketServerRepoService=__decorate([typedi_1[a92_0x223a55(0x95)](),__param(0x1,typedi_1[a92_0x223a55(0x92)]()),__metadata(a92_0x223a55(0x9b),[bitbucket_server_api_service_1[a92_0x223a55(0x9e)],auth_settings_service_1[a92_0x223a55(0xa3)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;