const a92_0x5157=['BitbucketServerRepoService','1265113fhXFtP','76959pxecfM','getOne','baseURL','return\x20/\x22\x20+\x20this\x20+\x20\x22/','NotFoundError','./git-repo.service','/projects/','request','6997IEVKNI','/default-branch','projects/','git','createEmptyBranch','8NNYSiR','constructor','__param','defaultBranch','test','13UwPCUf','__metadata','fromBitbucketServer','Service','../../../core/errors/bad-request.error','delete','metadata','api','../../../core/errors/not-found.error','name','__esModule','defineProperty','displayId','/repos/','../../shared/services/auth-settings.service','141051nbeebo','1FkxolN','bitbucketServer','1470410xgmkNU','post','/repos','../../shared/utils','object','../../git-api/services/bitbucket-server-api.service','get','project','../../internal/git.internal','put','Repo','Inject','typedi','function','98418XUjKIm','design:paramtypes','defaults','apply','getOwnPropertyDescriptor','3yNmwfr','joinURL','BadRequestError','1136579UjFkBF'];const a92_0x49feb1=a92_0xb500;(function(_0x3eb811,_0x3d4d9a){const _0x361853=a92_0xb500;while(!![]){try{const _0xe5c8e2=parseInt(_0x361853(0x115))+parseInt(_0x361853(0x136))*parseInt(_0x361853(0x13b))+-parseInt(_0x361853(0x12d))+-parseInt(_0x361853(0x113))*parseInt(_0x361853(0x12b))+parseInt(_0x361853(0x123))+-parseInt(_0x361853(0x128))*parseInt(_0x361853(0x12e))+-parseInt(_0x361853(0x112))*-parseInt(_0x361853(0x140));if(_0xe5c8e2===_0x3d4d9a)break;else _0x3eb811['push'](_0x3eb811['shift']());}catch(_0x25f78a){_0x3eb811['push'](_0x3eb811['shift']());}}}(a92_0x5157,0xc9a2a));const a92_0x13b0a0=function(){let _0x3119e6=!![];return function(_0x3f406c,_0x4e3ef6){const _0x17269c=_0x3119e6?function(){const _0x23a56d=a92_0xb500;if(_0x4e3ef6){const _0x51da11=_0x4e3ef6[_0x23a56d(0x126)](_0x3f406c,arguments);return _0x4e3ef6=null,_0x51da11;}}:function(){};return _0x3119e6=![],_0x17269c;};}(),a92_0x556005=a92_0x13b0a0(this,function(){const _0x2fa02b=function(){const _0x5b8a0a=a92_0xb500,_0x3c88b4=_0x2fa02b[_0x5b8a0a(0x13c)](_0x5b8a0a(0x131))()[_0x5b8a0a(0x13c)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x3c88b4[_0x5b8a0a(0x13f)](a92_0x556005);};return _0x2fa02b();});a92_0x556005();'use strict';var __decorate=this&&this['__decorate']||function(_0x40d081,_0x53859c,_0x2acdda,_0x433a75){const _0x4f2b78=a92_0xb500;var _0x3de014=arguments['length'],_0x402b29=_0x3de014<0x3?_0x53859c:_0x433a75===null?_0x433a75=Object[_0x4f2b78(0x127)](_0x53859c,_0x2acdda):_0x433a75,_0x217aaf;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x4f2b78(0x122))_0x402b29=Reflect['decorate'](_0x40d081,_0x53859c,_0x2acdda,_0x433a75);else{for(var _0x4d2057=_0x40d081['length']-0x1;_0x4d2057>=0x0;_0x4d2057--)if(_0x217aaf=_0x40d081[_0x4d2057])_0x402b29=(_0x3de014<0x3?_0x217aaf(_0x402b29):_0x3de014>0x3?_0x217aaf(_0x53859c,_0x2acdda,_0x402b29):_0x217aaf(_0x53859c,_0x2acdda))||_0x402b29;}return _0x3de014>0x3&&_0x402b29&&Object[_0x4f2b78(0x10e)](_0x53859c,_0x2acdda,_0x402b29),_0x402b29;},__metadata=this&&this[a92_0x49feb1(0x141)]||function(_0x328f65,_0x12bbcb){const _0x3cb88c=a92_0x49feb1;if(typeof Reflect===_0x3cb88c(0x119)&&typeof Reflect[_0x3cb88c(0x146)]===_0x3cb88c(0x122))return Reflect['metadata'](_0x328f65,_0x12bbcb);},__param=this&&this[a92_0x49feb1(0x13d)]||function(_0x51f3f3,_0x75159e){return function(_0x41cd1c,_0x70d010){_0x75159e(_0x41cd1c,_0x70d010,_0x51f3f3);};};Object[a92_0x49feb1(0x10e)](exports,a92_0x49feb1(0x10d),{'value':!![]}),exports[a92_0x49feb1(0x12c)]=void 0x0;function a92_0xb500(_0x28187f,_0x5084f2){return a92_0xb500=function(_0x5988a3,_0x556005){_0x5988a3=_0x5988a3-0x10b;let _0x13b0a0=a92_0x5157[_0x5988a3];return _0x13b0a0;},a92_0xb500(_0x28187f,_0x5084f2);}const bad_request_error_1=require(a92_0x49feb1(0x144)),not_found_error_1=require(a92_0x49feb1(0x10b)),auth_settings_service_1=require(a92_0x49feb1(0x111)),typedi_1=require(a92_0x49feb1(0x121)),bitbucket_server_api_service_1=require(a92_0x49feb1(0x11a)),git_internal_1=require(a92_0x49feb1(0x11d)),utils_1=require(a92_0x49feb1(0x118)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a92_0x49feb1(0x133));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x2662a4,_0x19f396){const _0x47ec6d=a92_0x49feb1;super(_0x2662a4),this[_0x47ec6d(0x147)]=_0x2662a4,this[_0x47ec6d(0x11c)]=_0x19f396[_0x47ec6d(0x114)][_0x47ec6d(0x11c)];}async['create'](_0xbaf7db){const _0x3235c6=a92_0x49feb1;try{const _0x359b6e={'name':_0xbaf7db[_0x3235c6(0x10c)],'scmId':_0x3235c6(0x139),'defaultBranch':_0xbaf7db[_0x3235c6(0x13e)],..._0xbaf7db['apiBody']||{}},_0x2c57d3=await this[_0x3235c6(0x135)][_0x3235c6(0x116)](_0x3235c6(0x138)+this[_0x3235c6(0x11c)]+_0x3235c6(0x117),_0x359b6e),_0x572d9c=repo_class_1[_0x3235c6(0x11f)][_0x3235c6(0x142)](_0x2c57d3,'');return _0xbaf7db['autoInit']&&await git_internal_1['Git'][_0x3235c6(0x13a)](_0x572d9c,_0xbaf7db[_0x3235c6(0x13e)]||'master'),this[_0x3235c6(0x12f)](_0x572d9c[_0x3235c6(0x10c)]);}catch(_0x45bf30){throw new bad_request_error_1[(_0x3235c6(0x12a))](_0x45bf30);}}async[a92_0x49feb1(0x12f)](_0x543713){const _0x37ade9=a92_0x49feb1;try{const _0x12be9d=await this[_0x37ade9(0x135)][_0x37ade9(0x11b)]('projects/'+this['project']+_0x37ade9(0x110)+_0x543713),_0x58256b=await this[_0x37ade9(0x135)][_0x37ade9(0x11b)](_0x37ade9(0x138)+this['project']+_0x37ade9(0x110)+_0x543713+'/default-branch'),_0x50ddbc=repo_class_1[_0x37ade9(0x11f)][_0x37ade9(0x142)](_0x12be9d,utils_1[_0x37ade9(0x129)](this['request'][_0x37ade9(0x125)][_0x37ade9(0x130)]||'',_0x37ade9(0x134)+this[_0x37ade9(0x11c)]+_0x37ade9(0x110)+_0x543713));return _0x50ddbc[_0x37ade9(0x13e)]=_0x58256b[_0x37ade9(0x10f)],_0x50ddbc;}catch(_0x145330){throw new not_found_error_1[(_0x37ade9(0x132))](_0x145330);}}async['update'](_0x53bb41,_0x38f1c1){const _0x2cdf84=a92_0x49feb1;try{const _0x32c189=await this['request'][_0x2cdf84(0x11e)](_0x2cdf84(0x138)+this['project']+_0x2cdf84(0x110)+_0x53bb41,_0x38f1c1),_0x3267a6=await this[_0x2cdf84(0x135)]['get'](_0x2cdf84(0x138)+this['project']+_0x2cdf84(0x110)+_0x53bb41+_0x2cdf84(0x137)),_0x574b11=repo_class_1[_0x2cdf84(0x11f)]['fromBitbucketServer'](_0x32c189,utils_1['joinURL'](this['request'][_0x2cdf84(0x125)]['baseURL']||'',_0x2cdf84(0x134)+this[_0x2cdf84(0x11c)]+_0x2cdf84(0x110)+_0x53bb41));return _0x574b11['defaultBranch']=_0x3267a6[_0x2cdf84(0x10f)],_0x574b11;}catch(_0x5f337c){throw new not_found_error_1[(_0x2cdf84(0x132))](_0x5f337c);}}async[a92_0x49feb1(0x145)](_0x1276fe){const _0x4ef8be=a92_0x49feb1;try{await this[_0x4ef8be(0x12f)](_0x1276fe),await this[_0x4ef8be(0x135)][_0x4ef8be(0x145)](_0x4ef8be(0x138)+this[_0x4ef8be(0x11c)]+'/repos/'+_0x1276fe);}catch(_0x403b29){throw new bad_request_error_1[(_0x4ef8be(0x12a))](_0x403b29);}}};BitbucketServerRepoService=__decorate([typedi_1[a92_0x49feb1(0x143)](),__param(0x1,typedi_1[a92_0x49feb1(0x120)]()),__metadata(a92_0x49feb1(0x124),[bitbucket_server_api_service_1['BitbucketServerApiService'],auth_settings_service_1['AuthSettingsService']])],BitbucketServerRepoService),exports[a92_0x49feb1(0x12c)]=BitbucketServerRepoService;