const a93_0x2f5c=['project','apiBody','constructor','fromBitbucketServer','../../git-api/services/bitbucket-server-api.service','autoInit','../../../core/errors/bad-request.error','AuthSettingsService','1VBKDyk','Service','post','../../shared/utils','440949tplHwy','BadRequestError','1557dOFoXX','object','joinURL','384949ddhNxh','NotFoundError','master','./git-repo.service','189310jrGeUT','update','defaultBranch','getOwnPropertyDescriptor','design:paramtypes','154974LRAfii','GitRepoService','Git','/branches','defineProperty','function','12lOgVAZ','delete','274yLalGT','metadata','/repos/','get','../../../core/errors/not-found.error','projects/','Repo','typedi','BitbucketServerRepoService','then','18pjzEVz','put','getOne','__esModule','length','/repos','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','createEmptyBranch','BitbucketServerApiService','request','git','__metadata','apply','15007xMEjEV','test','baseURL','bitbucketServer','/default-branch','28472dduCKm','name','/projects/','api','find','decorate','displayId','defaults'];const a93_0x23dfd6=a93_0x219a;(function(_0x44ae7f,_0x38aa5f){const _0x49ff92=a93_0x219a;while(!![]){try{const _0x176535=-parseInt(_0x49ff92(0x1ea))+parseInt(_0x49ff92(0x1af))*-parseInt(_0x49ff92(0x1cd))+parseInt(_0x49ff92(0x1c8))*-parseInt(_0x49ff92(0x1bb))+-parseInt(_0x49ff92(0x1e3))*-parseInt(_0x49ff92(0x1b1))+parseInt(_0x49ff92(0x1e1))+parseInt(_0x49ff92(0x1e6))*parseInt(_0x49ff92(0x1dd))+-parseInt(_0x49ff92(0x1a9));if(_0x176535===_0x38aa5f)break;else _0x44ae7f['push'](_0x44ae7f['shift']());}catch(_0x359e50){_0x44ae7f['push'](_0x44ae7f['shift']());}}}(a93_0x2f5c,0x485fa));function a93_0x219a(_0x18cfde,_0x5a72a3){return a93_0x219a=function(_0x4eb5b4,_0x4fe9f6){_0x4eb5b4=_0x4eb5b4-0x1a9;let _0x3e1e3b=a93_0x2f5c[_0x4eb5b4];return _0x3e1e3b;},a93_0x219a(_0x18cfde,_0x5a72a3);}const a93_0x3e1e3b=function(){let _0x4fe4e8=!![];return function(_0x2c7510,_0x414010){const _0x18bacf=_0x4fe4e8?function(){const _0x5a589e=a93_0x219a;if(_0x414010){const _0x4bdb91=_0x414010[_0x5a589e(0x1c7)](_0x2c7510,arguments);return _0x414010=null,_0x4bdb91;}}:function(){};return _0x4fe4e8=![],_0x18bacf;};}(),a93_0x4fe9f6=a93_0x3e1e3b(this,function(){const _0x50657f=function(){const _0x3fdd2c=a93_0x219a,_0x5b5cba=_0x50657f[_0x3fdd2c(0x1d7)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x3fdd2c(0x1d7)](_0x3fdd2c(0x1c1));return!_0x5b5cba[_0x3fdd2c(0x1c9)](a93_0x4fe9f6);};return _0x50657f();});a93_0x4fe9f6();'use strict';var __decorate=this&&this['__decorate']||function(_0x23b4dc,_0x2393f6,_0xedeaf2,_0x55a5fb){const _0x406b3f=a93_0x219a;var _0x1753d8=arguments[_0x406b3f(0x1bf)],_0x1deca8=_0x1753d8<0x3?_0x2393f6:_0x55a5fb===null?_0x55a5fb=Object[_0x406b3f(0x1ed)](_0x2393f6,_0xedeaf2):_0x55a5fb,_0x5d5239;if(typeof Reflect===_0x406b3f(0x1e4)&&typeof Reflect[_0x406b3f(0x1d2)]===_0x406b3f(0x1ae))_0x1deca8=Reflect[_0x406b3f(0x1d2)](_0x23b4dc,_0x2393f6,_0xedeaf2,_0x55a5fb);else{for(var _0x19f991=_0x23b4dc['length']-0x1;_0x19f991>=0x0;_0x19f991--)if(_0x5d5239=_0x23b4dc[_0x19f991])_0x1deca8=(_0x1753d8<0x3?_0x5d5239(_0x1deca8):_0x1753d8>0x3?_0x5d5239(_0x2393f6,_0xedeaf2,_0x1deca8):_0x5d5239(_0x2393f6,_0xedeaf2))||_0x1deca8;}return _0x1753d8>0x3&&_0x1deca8&&Object[_0x406b3f(0x1ad)](_0x2393f6,_0xedeaf2,_0x1deca8),_0x1deca8;},__metadata=this&&this[a93_0x23dfd6(0x1c6)]||function(_0x5e3e69,_0x49ec6d){const _0x3ce6e9=a93_0x23dfd6;if(typeof Reflect===_0x3ce6e9(0x1e4)&&typeof Reflect[_0x3ce6e9(0x1b2)]===_0x3ce6e9(0x1ae))return Reflect[_0x3ce6e9(0x1b2)](_0x5e3e69,_0x49ec6d);},__param=this&&this['__param']||function(_0x596a30,_0x5b345a){return function(_0x2482ee,_0xb13d1a){_0x5b345a(_0x2482ee,_0xb13d1a,_0x596a30);};};Object['defineProperty'](exports,a93_0x23dfd6(0x1be),{'value':!![]}),exports[a93_0x23dfd6(0x1b9)]=void 0x0;const bad_request_error_1=require(a93_0x23dfd6(0x1db)),not_found_error_1=require(a93_0x23dfd6(0x1b5)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a93_0x23dfd6(0x1b8)),bitbucket_server_api_service_1=require(a93_0x23dfd6(0x1d9)),git_internal_1=require('../../internal/git.internal'),utils_1=require(a93_0x23dfd6(0x1e0)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a93_0x23dfd6(0x1e9));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a93_0x23dfd6(0x1aa)]{constructor(_0x109b0d,_0x1c0199){const _0x2e2882=a93_0x23dfd6;super(_0x109b0d),this[_0x2e2882(0x1d0)]=_0x109b0d,this[_0x2e2882(0x1d5)]=_0x1c0199[_0x2e2882(0x1cb)][_0x2e2882(0x1d5)];}async['create'](_0x14ca5c){const _0x35e720=a93_0x23dfd6;try{const _0x7961e6={'name':_0x14ca5c[_0x35e720(0x1ce)],'scmId':_0x35e720(0x1c5),'defaultBranch':_0x14ca5c['defaultBranch'],..._0x14ca5c[_0x35e720(0x1d6)]||{}},_0x56b9d8=await this[_0x35e720(0x1c4)][_0x35e720(0x1df)](_0x35e720(0x1b6)+this[_0x35e720(0x1d5)]+_0x35e720(0x1c0),_0x7961e6),_0x93925a=repo_class_1['Repo'][_0x35e720(0x1d8)](_0x56b9d8,'');return _0x14ca5c[_0x35e720(0x1da)]&&await git_internal_1[_0x35e720(0x1ab)][_0x35e720(0x1c2)](_0x93925a,_0x14ca5c['defaultBranch']||_0x35e720(0x1e8)),this[_0x35e720(0x1bd)](_0x93925a[_0x35e720(0x1ce)]);}catch(_0xa6f6a){throw new bad_request_error_1[(_0x35e720(0x1e2))](_0xa6f6a);}}async[a93_0x23dfd6(0x1bd)](_0x555d37){const _0x2624bd=a93_0x23dfd6;var _0x5b1932;try{const _0x19ee1a=await this[_0x2624bd(0x1c4)][_0x2624bd(0x1b4)](_0x2624bd(0x1b6)+this[_0x2624bd(0x1d5)]+_0x2624bd(0x1b3)+_0x555d37),_0x517fb2=repo_class_1[_0x2624bd(0x1b7)][_0x2624bd(0x1d8)](_0x19ee1a,utils_1[_0x2624bd(0x1e5)](this[_0x2624bd(0x1c4)]['defaults'][_0x2624bd(0x1ca)]||'',_0x2624bd(0x1cf)+this[_0x2624bd(0x1d5)]+_0x2624bd(0x1b3)+_0x555d37)),_0x21cfb1=await this[_0x2624bd(0x1c4)][_0x2624bd(0x1b4)](_0x517fb2['apiUrl']+_0x2624bd(0x1ac))[_0x2624bd(0x1ba)](_0x4dc12e=>_0x4dc12e['values']);return _0x517fb2[_0x2624bd(0x1ec)]=(_0x5b1932=_0x21cfb1[_0x2624bd(0x1d1)](_0x58a1ae=>_0x58a1ae['isDefault']===!![]))===null||_0x5b1932===void 0x0?void 0x0:_0x5b1932['displayId'],_0x517fb2;}catch(_0x33a253){throw new not_found_error_1[(_0x2624bd(0x1e7))](_0x33a253);}}async[a93_0x23dfd6(0x1eb)](_0x236874,_0xfab76f){const _0x1f10c9=a93_0x23dfd6;try{const _0xfa887f=await this['request'][_0x1f10c9(0x1bc)](_0x1f10c9(0x1b6)+this[_0x1f10c9(0x1d5)]+'/repos/'+_0x236874,_0xfab76f),_0x552313=await this['request'][_0x1f10c9(0x1b4)](_0x1f10c9(0x1b6)+this[_0x1f10c9(0x1d5)]+_0x1f10c9(0x1b3)+_0x236874+_0x1f10c9(0x1cc)),_0x1b55ad=repo_class_1[_0x1f10c9(0x1b7)][_0x1f10c9(0x1d8)](_0xfa887f,utils_1[_0x1f10c9(0x1e5)](this[_0x1f10c9(0x1c4)][_0x1f10c9(0x1d4)]['baseURL']||'','/projects/'+this['project']+_0x1f10c9(0x1b3)+_0x236874));return _0x1b55ad[_0x1f10c9(0x1ec)]=_0x552313[_0x1f10c9(0x1d3)],_0x1b55ad;}catch(_0x5e5c0f){throw new not_found_error_1[(_0x1f10c9(0x1e7))](_0x5e5c0f);}}async[a93_0x23dfd6(0x1b0)](_0x2ef40b){const _0x17097d=a93_0x23dfd6;try{await this[_0x17097d(0x1bd)](_0x2ef40b),await this[_0x17097d(0x1c4)][_0x17097d(0x1b0)](_0x17097d(0x1b6)+this[_0x17097d(0x1d5)]+_0x17097d(0x1b3)+_0x2ef40b);}catch(_0x3e4fad){throw new bad_request_error_1['BadRequestError'](_0x3e4fad);}}};BitbucketServerRepoService=__decorate([typedi_1[a93_0x23dfd6(0x1de)](),__param(0x1,typedi_1['Inject']()),__metadata(a93_0x23dfd6(0x1ee),[bitbucket_server_api_service_1[a93_0x23dfd6(0x1c3)],auth_settings_service_1[a93_0x23dfd6(0x1dc)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;