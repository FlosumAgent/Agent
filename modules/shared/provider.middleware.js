const a124_0x4eb7=['default','__importDefault','Middleware','getApi','UnauthorizedError','toString','constructor','object','headers','defineProperty','decorate','33283gItAXF','./git-provider.manager','9705vVxsAU','__metadata','isLoggedIn','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','update','../../constants/errors','design:paramtypes','x-git-provider','appSettings','1AOlgeG','getOwnPropertyDescriptor','test','164371dRMGqU','27rEaduW','length','84592lchcCz','get','27967SGllrH','67975jpwsJc','__esModule','ProviderMiddleware','../../core','return\x20/\x22\x20+\x20this\x20+\x20\x22/','before','ERR_INVALID_AUTH_OPTIONS','AppSettingsService','4XsbcDN','142068amYTSp','./services/app-settings.service','metadata','function'];const a124_0x584427=a124_0x33ae;(function(_0x227e4d,_0x258a9d){const _0x144c12=a124_0x33ae;while(!![]){try{const _0x44898c=parseInt(_0x144c12(0x75))+-parseInt(_0x144c12(0x78))+parseInt(_0x144c12(0x84))+-parseInt(_0x144c12(0x7a))*-parseInt(_0x144c12(0x83))+-parseInt(_0x144c12(0x93))+-parseInt(_0x144c12(0x72))*-parseInt(_0x144c12(0x7b))+parseInt(_0x144c12(0x95))*-parseInt(_0x144c12(0x76));if(_0x44898c===_0x258a9d)break;else _0x227e4d['push'](_0x227e4d['shift']());}catch(_0x504c78){_0x227e4d['push'](_0x227e4d['shift']());}}}(a124_0x4eb7,0x19f84));const a124_0x319850=function(){let _0xd410c7=!![];return function(_0x30a133,_0x1877f3){const _0x262f73=_0xd410c7?function(){if(_0x1877f3){const _0x15b418=_0x1877f3['apply'](_0x30a133,arguments);return _0x1877f3=null,_0x15b418;}}:function(){};return _0xd410c7=![],_0x262f73;};}(),a124_0x44e7da=a124_0x319850(this,function(){const _0x2e1462=function(){const _0x298884=a124_0x33ae,_0x361835=_0x2e1462['constructor'](_0x298884(0x7f))()[_0x298884(0x8e)](_0x298884(0x6c));return!_0x361835[_0x298884(0x74)](a124_0x44e7da);};return _0x2e1462();});a124_0x44e7da();'use strict';var __decorate=this&&this['__decorate']||function(_0x458fe6,_0xe002a,_0x2912cd,_0x5084e5){const _0x517c5e=a124_0x33ae;var _0x4f253d=arguments[_0x517c5e(0x77)],_0x3b4a7c=_0x4f253d<0x3?_0xe002a:_0x5084e5===null?_0x5084e5=Object[_0x517c5e(0x73)](_0xe002a,_0x2912cd):_0x5084e5,_0x2fd3fd;if(typeof Reflect===_0x517c5e(0x8f)&&typeof Reflect[_0x517c5e(0x92)]==='function')_0x3b4a7c=Reflect[_0x517c5e(0x92)](_0x458fe6,_0xe002a,_0x2912cd,_0x5084e5);else{for(var _0x2fa0e6=_0x458fe6[_0x517c5e(0x77)]-0x1;_0x2fa0e6>=0x0;_0x2fa0e6--)if(_0x2fd3fd=_0x458fe6[_0x2fa0e6])_0x3b4a7c=(_0x4f253d<0x3?_0x2fd3fd(_0x3b4a7c):_0x4f253d>0x3?_0x2fd3fd(_0xe002a,_0x2912cd,_0x3b4a7c):_0x2fd3fd(_0xe002a,_0x2912cd))||_0x3b4a7c;}return _0x4f253d>0x3&&_0x3b4a7c&&Object[_0x517c5e(0x91)](_0xe002a,_0x2912cd,_0x3b4a7c),_0x3b4a7c;},__metadata=this&&this[a124_0x584427(0x6a)]||function(_0x266d4c,_0xdabee5){const _0xf4c83b=a124_0x584427;if(typeof Reflect==='object'&&typeof Reflect[_0xf4c83b(0x86)]===_0xf4c83b(0x87))return Reflect[_0xf4c83b(0x86)](_0x266d4c,_0xdabee5);},__importDefault=this&&this[a124_0x584427(0x89)]||function(_0x2d9a14){const _0x2ebd4b=a124_0x584427;return _0x2d9a14&&_0x2d9a14[_0x2ebd4b(0x7c)]?_0x2d9a14:{'default':_0x2d9a14};};Object[a124_0x584427(0x91)](exports,'__esModule',{'value':!![]}),exports[a124_0x584427(0x7d)]=void 0x0;const errors_1=require(a124_0x584427(0x6e)),core_1=require(a124_0x584427(0x7e)),unauthorized_error_1=require('../../core/errors/unauthorized.error'),typedi_1=__importDefault(require('typedi')),git_provider_manager_1=require(a124_0x584427(0x94)),app_settings_service_1=require(a124_0x584427(0x85));function a124_0x33ae(_0x5f3ef6,_0x385dc3){return a124_0x33ae=function(_0x1bb8f3,_0x44e7da){_0x1bb8f3=_0x1bb8f3-0x6a;let _0x319850=a124_0x4eb7[_0x1bb8f3];return _0x319850;},a124_0x33ae(_0x5f3ef6,_0x385dc3);}let ProviderMiddleware=class ProviderMiddleware{constructor(_0x4fafd6){const _0x1500f4=a124_0x584427;this[_0x1500f4(0x71)]=_0x4fafd6;}async['handle'](_0x3f597d,_0x144fb6){const _0x187a5a=a124_0x584427;if(_0x3f597d['headers']['x-git-provider']){this[_0x187a5a(0x71)][_0x187a5a(0x6d)]({'provider':_0x3f597d[_0x187a5a(0x90)][_0x187a5a(0x70)][_0x187a5a(0x8d)]()});const _0x2af4ed=typedi_1[_0x187a5a(0x88)][_0x187a5a(0x79)](git_provider_manager_1['GitProviderManager'])[_0x187a5a(0x8b)]();await _0x2af4ed['testConnection']();const _0x17183b=await _0x2af4ed[_0x187a5a(0x6b)]();if(!_0x17183b)throw new unauthorized_error_1[(_0x187a5a(0x8c))](errors_1[_0x187a5a(0x81)]);}}};ProviderMiddleware=__decorate([core_1[a124_0x584427(0x8a)](a124_0x584427(0x80)),__metadata(a124_0x584427(0x6f),[app_settings_service_1[a124_0x584427(0x82)]])],ProviderMiddleware),exports[a124_0x584427(0x7d)]=ProviderMiddleware;