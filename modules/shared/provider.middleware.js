const a124_0x515d=['length','isLoggedIn','../../core/errors/unauthorized.error','60586VhqAOJ','./services/app-settings.service','753851KptnIL','metadata','4176689GlbsQM','__importDefault','1065538kWwSGq','__metadata','object','Middleware','1369479kXRtJv','1510643yHIhYV','before','getApi','defineProperty','toString','getOwnPropertyDescriptor','x-git-provider','744078uSQCMK','./git-provider.manager','ProviderMiddleware','UnauthorizedError','AppSettingsService','typedi','1dzgUCx','1rTKfPH','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','testConnection','16hyCrpF','__decorate','update','return\x20/\x22\x20+\x20this\x20+\x20\x22/','design:paramtypes','apply','function','decorate','constructor','__esModule'];const a124_0x2ca80a=a124_0x2d8d;(function(_0x2dbd2a,_0x288a2a){const _0x4e67a2=a124_0x2d8d;while(!![]){try{const _0x2b8947=-parseInt(_0x4e67a2(0x14f))+parseInt(_0x4e67a2(0x139))*-parseInt(_0x4e67a2(0x154))+-parseInt(_0x4e67a2(0x153))+-parseInt(_0x4e67a2(0x149))*parseInt(_0x4e67a2(0x13c))+parseInt(_0x4e67a2(0x15b))+parseInt(_0x4e67a2(0x14b))+-parseInt(_0x4e67a2(0x138))*-parseInt(_0x4e67a2(0x14d));if(_0x2b8947===_0x288a2a)break;else _0x2dbd2a['push'](_0x2dbd2a['shift']());}catch(_0x4d9df5){_0x2dbd2a['push'](_0x2dbd2a['shift']());}}}(a124_0x515d,0xb971e));const a124_0x5d4ed2=function(){let _0x4dfb4d=!![];return function(_0x5000e8,_0xe4b737){const _0xe946bf=_0x4dfb4d?function(){const _0x44561f=a124_0x2d8d;if(_0xe4b737){const _0x1294ab=_0xe4b737[_0x44561f(0x141)](_0x5000e8,arguments);return _0xe4b737=null,_0x1294ab;}}:function(){};return _0x4dfb4d=![],_0xe946bf;};}(),a124_0x3c87ec=a124_0x5d4ed2(this,function(){const _0xc0a5d7=function(){const _0x1de7ee=a124_0x2d8d,_0x2249ff=_0xc0a5d7[_0x1de7ee(0x144)](_0x1de7ee(0x13f))()[_0x1de7ee(0x144)](_0x1de7ee(0x13a));return!_0x2249ff['test'](a124_0x3c87ec);};return _0xc0a5d7();});a124_0x3c87ec();'use strict';function a124_0x2d8d(_0x3ef83c,_0x100ff8){return a124_0x2d8d=function(_0x3a1d7a,_0x3c87ec){_0x3a1d7a=_0x3a1d7a-0x134;let _0x5d4ed2=a124_0x515d[_0x3a1d7a];return _0x5d4ed2;},a124_0x2d8d(_0x3ef83c,_0x100ff8);}var __decorate=this&&this[a124_0x2ca80a(0x13d)]||function(_0xe3fcdb,_0x49ef22,_0x35c8e8,_0xca3423){const _0x25d2ad=a124_0x2ca80a;var _0x20ce86=arguments[_0x25d2ad(0x146)],_0x2b7b5e=_0x20ce86<0x3?_0x49ef22:_0xca3423===null?_0xca3423=Object[_0x25d2ad(0x159)](_0x49ef22,_0x35c8e8):_0xca3423,_0x27b03d;if(typeof Reflect==='object'&&typeof Reflect[_0x25d2ad(0x143)]===_0x25d2ad(0x142))_0x2b7b5e=Reflect[_0x25d2ad(0x143)](_0xe3fcdb,_0x49ef22,_0x35c8e8,_0xca3423);else{for(var _0x38e650=_0xe3fcdb[_0x25d2ad(0x146)]-0x1;_0x38e650>=0x0;_0x38e650--)if(_0x27b03d=_0xe3fcdb[_0x38e650])_0x2b7b5e=(_0x20ce86<0x3?_0x27b03d(_0x2b7b5e):_0x20ce86>0x3?_0x27b03d(_0x49ef22,_0x35c8e8,_0x2b7b5e):_0x27b03d(_0x49ef22,_0x35c8e8))||_0x2b7b5e;}return _0x20ce86>0x3&&_0x2b7b5e&&Object['defineProperty'](_0x49ef22,_0x35c8e8,_0x2b7b5e),_0x2b7b5e;},__metadata=this&&this[a124_0x2ca80a(0x150)]||function(_0x1f1619,_0x478a4f){const _0x5ed6c3=a124_0x2ca80a;if(typeof Reflect===_0x5ed6c3(0x151)&&typeof Reflect[_0x5ed6c3(0x14c)]===_0x5ed6c3(0x142))return Reflect[_0x5ed6c3(0x14c)](_0x1f1619,_0x478a4f);},__importDefault=this&&this[a124_0x2ca80a(0x14e)]||function(_0x45bbed){const _0x167a93=a124_0x2ca80a;return _0x45bbed&&_0x45bbed[_0x167a93(0x145)]?_0x45bbed:{'default':_0x45bbed};};Object[a124_0x2ca80a(0x157)](exports,a124_0x2ca80a(0x145),{'value':!![]}),exports[a124_0x2ca80a(0x134)]=void 0x0;const core_1=require('../../core'),unauthorized_error_1=require(a124_0x2ca80a(0x148)),typedi_1=__importDefault(require(a124_0x2ca80a(0x137))),git_provider_manager_1=require(a124_0x2ca80a(0x15c)),app_settings_service_1=require(a124_0x2ca80a(0x14a));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x5e4633){this['appSettings']=_0x5e4633;}async['handle'](_0x242006,_0x2a69f5){const _0x1e3aa9=a124_0x2ca80a;if(_0x242006['headers'][_0x1e3aa9(0x15a)]){this['appSettings'][_0x1e3aa9(0x13e)]({'provider':_0x242006['headers'][_0x1e3aa9(0x15a)][_0x1e3aa9(0x158)]()});const _0x44e7b3=typedi_1['default']['get'](git_provider_manager_1['GitProviderManager'])[_0x1e3aa9(0x156)]();await _0x44e7b3[_0x1e3aa9(0x13b)]();try{await _0x44e7b3[_0x1e3aa9(0x147)]();}catch(_0x1813f6){throw new unauthorized_error_1[(_0x1e3aa9(0x135))](_0x1813f6);}}}};ProviderMiddleware=__decorate([core_1[a124_0x2ca80a(0x152)](a124_0x2ca80a(0x155)),__metadata(a124_0x2ca80a(0x140),[app_settings_service_1[a124_0x2ca80a(0x136)]])],ProviderMiddleware),exports[a124_0x2ca80a(0x134)]=ProviderMiddleware;