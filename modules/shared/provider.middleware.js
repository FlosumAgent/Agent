const a119_0x5a39=['object','testConnection','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','update','3ZaaNWO','../../core/errors/unauthorized.error','getOwnPropertyDescriptor','2927gelpeW','metadata','__importDefault','215051TmEyqi','__esModule','AppSettingsService','design:paramtypes','getApi','toString','196491TKkzqH','28162pNHWzR','./git-provider.manager','function','GitProviderManager','headers','ProviderMiddleware','65678VmOVXW','before','handle','appSettings','159760gEmnQz','test','typedi','UnauthorizedError','544490pcBVti','../../core','8WbgnKU','1ubTyrh','isLoggedIn','decorate','length','__metadata','./services/app-settings.service','defineProperty','get','1ZyEleD','constructor'];function a119_0x4e00(_0x15fc2e,_0x3928c4){return a119_0x4e00=function(_0x4f7698,_0x5ed8df){_0x4f7698=_0x4f7698-0x129;let _0x4d941c=a119_0x5a39[_0x4f7698];return _0x4d941c;},a119_0x4e00(_0x15fc2e,_0x3928c4);}const a119_0x42414c=a119_0x4e00;(function(_0x37c441,_0x501b3e){const _0x132046=a119_0x4e00;while(!![]){try{const _0x4eea6b=-parseInt(_0x132046(0x146))+-parseInt(_0x132046(0x14c))*parseInt(_0x132046(0x139))+-parseInt(_0x132046(0x12b))*parseInt(_0x132046(0x13f))+parseInt(_0x132046(0x145))+-parseInt(_0x132046(0x150))+-parseInt(_0x132046(0x13c))*parseInt(_0x132046(0x12a))+parseInt(_0x132046(0x154))*parseInt(_0x132046(0x133));if(_0x4eea6b===_0x501b3e)break;else _0x37c441['push'](_0x37c441['shift']());}catch(_0x40195b){_0x37c441['push'](_0x37c441['shift']());}}}(a119_0x5a39,0x1cb36));const a119_0x4d941c=function(){let _0x193c3f=!![];return function(_0x50c471,_0x373370){const _0x310275=_0x193c3f?function(){if(_0x373370){const _0x399384=_0x373370['apply'](_0x50c471,arguments);return _0x373370=null,_0x399384;}}:function(){};return _0x193c3f=![],_0x310275;};}(),a119_0x5ed8df=a119_0x4d941c(this,function(){const _0x3f368e=function(){const _0x2ff8d9=a119_0x4e00,_0x2fbb1f=_0x3f368e[_0x2ff8d9(0x134)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x2ff8d9(0x137));return!_0x2fbb1f[_0x2ff8d9(0x151)](a119_0x5ed8df);};return _0x3f368e();});a119_0x5ed8df();'use strict';var __decorate=this&&this['__decorate']||function(_0x48f872,_0x3319d0,_0x52cbed,_0x4eb641){const _0x275ade=a119_0x4e00;var _0x2c2a9c=arguments[_0x275ade(0x12e)],_0x5cde5e=_0x2c2a9c<0x3?_0x3319d0:_0x4eb641===null?_0x4eb641=Object[_0x275ade(0x13b)](_0x3319d0,_0x52cbed):_0x4eb641,_0x1f2529;if(typeof Reflect===_0x275ade(0x135)&&typeof Reflect['decorate']===_0x275ade(0x148))_0x5cde5e=Reflect[_0x275ade(0x12d)](_0x48f872,_0x3319d0,_0x52cbed,_0x4eb641);else{for(var _0x56202e=_0x48f872[_0x275ade(0x12e)]-0x1;_0x56202e>=0x0;_0x56202e--)if(_0x1f2529=_0x48f872[_0x56202e])_0x5cde5e=(_0x2c2a9c<0x3?_0x1f2529(_0x5cde5e):_0x2c2a9c>0x3?_0x1f2529(_0x3319d0,_0x52cbed,_0x5cde5e):_0x1f2529(_0x3319d0,_0x52cbed))||_0x5cde5e;}return _0x2c2a9c>0x3&&_0x5cde5e&&Object[_0x275ade(0x131)](_0x3319d0,_0x52cbed,_0x5cde5e),_0x5cde5e;},__metadata=this&&this[a119_0x42414c(0x12f)]||function(_0xc1844e,_0x119eeb){const _0x3ab626=a119_0x42414c;if(typeof Reflect===_0x3ab626(0x135)&&typeof Reflect[_0x3ab626(0x13d)]===_0x3ab626(0x148))return Reflect[_0x3ab626(0x13d)](_0xc1844e,_0x119eeb);},__importDefault=this&&this[a119_0x42414c(0x13e)]||function(_0x132abc){const _0x55924f=a119_0x42414c;return _0x132abc&&_0x132abc[_0x55924f(0x140)]?_0x132abc:{'default':_0x132abc};};Object[a119_0x42414c(0x131)](exports,a119_0x42414c(0x140),{'value':!![]}),exports[a119_0x42414c(0x14b)]=void 0x0;const errors_1=require('../../constants/errors'),core_1=require(a119_0x42414c(0x129)),unauthorized_error_1=require(a119_0x42414c(0x13a)),typedi_1=__importDefault(require(a119_0x42414c(0x152))),git_provider_manager_1=require(a119_0x42414c(0x147)),app_settings_service_1=require(a119_0x42414c(0x130));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x4fc066){const _0xc91b3f=a119_0x42414c;this[_0xc91b3f(0x14f)]=_0x4fc066;}async[a119_0x42414c(0x14e)](_0x510061,_0x170060){const _0x4a660b=a119_0x42414c;if(_0x510061[_0x4a660b(0x14a)]['x-git-provider']){this[_0x4a660b(0x14f)][_0x4a660b(0x138)]({'provider':_0x510061[_0x4a660b(0x14a)]['x-git-provider'][_0x4a660b(0x144)]()});const _0x4635e0=typedi_1['default'][_0x4a660b(0x132)](git_provider_manager_1[_0x4a660b(0x149)])[_0x4a660b(0x143)]();await _0x4635e0[_0x4a660b(0x136)]();const _0x1e6a41=await _0x4635e0[_0x4a660b(0x12c)]();if(!_0x1e6a41)throw new unauthorized_error_1[(_0x4a660b(0x153))](errors_1['ERR_INVALID_AUTH_OPTIONS']);}}};ProviderMiddleware=__decorate([core_1['Middleware'](a119_0x42414c(0x14d)),__metadata(a119_0x42414c(0x142),[app_settings_service_1[a119_0x42414c(0x141)]])],ProviderMiddleware),exports[a119_0x42414c(0x14b)]=ProviderMiddleware;