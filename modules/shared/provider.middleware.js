const a124_0x2fcb=['1595043wFaIbY','1qbWCDX','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','x-git-provider','function','object','before','defineProperty','__metadata','handle','default','update','design:paramtypes','AppSettingsService','toString','966161AUOynW','./git-provider.manager','493943RkKOhj','../../core','isLoggedIn','UnauthorizedError','__esModule','__decorate','1hKYzKj','return\x20/\x22\x20+\x20this\x20+\x20\x22/','47186ahniTy','appSettings','length','Middleware','decorate','testConnection','typedi','constructor','218275OPFKxT','getOwnPropertyDescriptor','metadata','getApi','GitProviderManager','headers','../../core/errors/unauthorized.error','apply','551753njitIP','620623tEyOja','6jgnEyf'];const a124_0xa96a90=a124_0x19d1;function a124_0x19d1(_0x12749c,_0x3df12d){return a124_0x19d1=function(_0x2ac3ad,_0x2a149b){_0x2ac3ad=_0x2ac3ad-0xa3;let _0x1a4895=a124_0x2fcb[_0x2ac3ad];return _0x1a4895;},a124_0x19d1(_0x12749c,_0x3df12d);}(function(_0x52da48,_0x4d4100){const _0x420475=a124_0x19d1;while(!![]){try{const _0x2d7234=parseInt(_0x420475(0xb0))*parseInt(_0x420475(0xc2))+-parseInt(_0x420475(0xc1))+parseInt(_0x420475(0xc3))+-parseInt(_0x420475(0xb8))+parseInt(_0x420475(0xa6))+-parseInt(_0x420475(0xae))*parseInt(_0x420475(0xc0))+-parseInt(_0x420475(0xa8))*parseInt(_0x420475(0xc4));if(_0x2d7234===_0x4d4100)break;else _0x52da48['push'](_0x52da48['shift']());}catch(_0x5c9871){_0x52da48['push'](_0x52da48['shift']());}}}(a124_0x2fcb,0xea4ee));const a124_0x1a4895=function(){let _0x2187c1=!![];return function(_0x3a19a7,_0x48751c){const _0x512938=_0x2187c1?function(){const _0x74e9ff=a124_0x19d1;if(_0x48751c){const _0x1d7848=_0x48751c[_0x74e9ff(0xbf)](_0x3a19a7,arguments);return _0x48751c=null,_0x1d7848;}}:function(){};return _0x2187c1=![],_0x512938;};}(),a124_0x2a149b=a124_0x1a4895(this,function(){const _0x361a22=function(){const _0x24db43=a124_0x19d1,_0x5e2902=_0x361a22[_0x24db43(0xb7)](_0x24db43(0xaf))()[_0x24db43(0xb7)](_0x24db43(0xc5));return!_0x5e2902['test'](a124_0x2a149b);};return _0x361a22();});a124_0x2a149b();'use strict';var __decorate=this&&this[a124_0xa96a90(0xad)]||function(_0x51cf76,_0x58f6f9,_0x2262ff,_0x192783){const _0x2c0ba8=a124_0xa96a90;var _0xe12153=arguments[_0x2c0ba8(0xb2)],_0x4b30e8=_0xe12153<0x3?_0x58f6f9:_0x192783===null?_0x192783=Object[_0x2c0ba8(0xb9)](_0x58f6f9,_0x2262ff):_0x192783,_0x518d3a;if(typeof Reflect==='object'&&typeof Reflect[_0x2c0ba8(0xb4)]===_0x2c0ba8(0xc7))_0x4b30e8=Reflect['decorate'](_0x51cf76,_0x58f6f9,_0x2262ff,_0x192783);else{for(var _0x3b1c64=_0x51cf76['length']-0x1;_0x3b1c64>=0x0;_0x3b1c64--)if(_0x518d3a=_0x51cf76[_0x3b1c64])_0x4b30e8=(_0xe12153<0x3?_0x518d3a(_0x4b30e8):_0xe12153>0x3?_0x518d3a(_0x58f6f9,_0x2262ff,_0x4b30e8):_0x518d3a(_0x58f6f9,_0x2262ff))||_0x4b30e8;}return _0xe12153>0x3&&_0x4b30e8&&Object[_0x2c0ba8(0xca)](_0x58f6f9,_0x2262ff,_0x4b30e8),_0x4b30e8;},__metadata=this&&this[a124_0xa96a90(0xcb)]||function(_0x55859b,_0x1a0509){const _0x28b24b=a124_0xa96a90;if(typeof Reflect===_0x28b24b(0xc8)&&typeof Reflect[_0x28b24b(0xba)]===_0x28b24b(0xc7))return Reflect[_0x28b24b(0xba)](_0x55859b,_0x1a0509);},__importDefault=this&&this['__importDefault']||function(_0x584592){const _0x1be56a=a124_0xa96a90;return _0x584592&&_0x584592[_0x1be56a(0xac)]?_0x584592:{'default':_0x584592};};Object[a124_0xa96a90(0xca)](exports,'__esModule',{'value':!![]}),exports['ProviderMiddleware']=void 0x0;const core_1=require(a124_0xa96a90(0xa9)),unauthorized_error_1=require(a124_0xa96a90(0xbe)),typedi_1=__importDefault(require(a124_0xa96a90(0xb6))),git_provider_manager_1=require(a124_0xa96a90(0xa7)),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0x54863d){const _0x507254=a124_0xa96a90;this[_0x507254(0xb1)]=_0x54863d;}async[a124_0xa96a90(0xcc)](_0x364374,_0x3680fa){const _0x1801ec=a124_0xa96a90;if(_0x364374[_0x1801ec(0xbd)]['x-git-provider']){this[_0x1801ec(0xb1)][_0x1801ec(0xce)]({'provider':_0x364374['headers'][_0x1801ec(0xc6)][_0x1801ec(0xa5)]()});const _0x41afb5=typedi_1[_0x1801ec(0xcd)]['get'](git_provider_manager_1[_0x1801ec(0xbc)])[_0x1801ec(0xbb)]();await _0x41afb5[_0x1801ec(0xb5)]();try{await _0x41afb5[_0x1801ec(0xaa)]();}catch(_0x2716af){throw new unauthorized_error_1[(_0x1801ec(0xab))](_0x2716af);}}}};ProviderMiddleware=__decorate([core_1[a124_0xa96a90(0xb3)](a124_0xa96a90(0xc9)),__metadata(a124_0xa96a90(0xa3),[app_settings_service_1[a124_0xa96a90(0xa4)]])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;