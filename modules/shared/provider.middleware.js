const a105_0x42e8=['693487cubtsg','get','headers','length','function','decorate','object','../../core','1492879RgVLZN','getOwnPropertyDescriptor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','./services/app-settings.service','test','../../core/errors/unauthorized.error','565670RSmQSy','getApi','__decorate','ProviderMiddleware','Middleware','design:paramtypes','__esModule','./git-provider.manager','metadata','1250076QrLUoQ','default','typedi','ERR_INVALID_AUTH_OPTIONS','x-git-provider','3rYQZtv','601023GunZCn','257649ozdxZH','appSettings','../../constants/errors','constructor','UnauthorizedError','defineProperty','1gJmlIy','apply','496283McGsOM','isLoggedIn','__metadata','2UmwYsE'];function a105_0x1396(_0x5c6d44,_0x400f6d){return a105_0x1396=function(_0x18574a,_0x160f4d){_0x18574a=_0x18574a-0xd5;let _0x31d188=a105_0x42e8[_0x18574a];return _0x31d188;},a105_0x1396(_0x5c6d44,_0x400f6d);}const a105_0x32b028=a105_0x1396;(function(_0x2c57dc,_0x200454){const _0x54d329=a105_0x1396;while(!![]){try{const _0x51d5ac=parseInt(_0x54d329(0xed))+-parseInt(_0x54d329(0xf9))*parseInt(_0x54d329(0xfa))+parseInt(_0x54d329(0xde))+parseInt(_0x54d329(0xf6))*parseInt(_0x54d329(0xec))+-parseInt(_0x54d329(0xee))+parseInt(_0x54d329(0xf4))*-parseInt(_0x54d329(0xd8))+parseInt(_0x54d329(0xe7));if(_0x51d5ac===_0x200454)break;else _0x2c57dc['push'](_0x2c57dc['shift']());}catch(_0x829970){_0x2c57dc['push'](_0x2c57dc['shift']());}}}(a105_0x42e8,0xbb874));const a105_0x31d188=function(){let _0x570299=!![];return function(_0x66aecb,_0x534864){const _0x51c43b=_0x570299?function(){const _0x40a6e9=a105_0x1396;if(_0x534864){const _0x246aa8=_0x534864[_0x40a6e9(0xf5)](_0x66aecb,arguments);return _0x534864=null,_0x246aa8;}}:function(){};return _0x570299=![],_0x51c43b;};}(),a105_0x160f4d=a105_0x31d188(this,function(){const _0x313235=function(){const _0x3d164b=a105_0x1396,_0x43670c=_0x313235[_0x3d164b(0xf1)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x3d164b(0xda));return!_0x43670c[_0x3d164b(0xdc)](a105_0x160f4d);};return _0x313235();});a105_0x160f4d();'use strict';var __decorate=this&&this[a105_0x32b028(0xe0)]||function(_0x248e64,_0x22c3e7,_0x36252f,_0x5e7ecd){const _0x3be19e=a105_0x32b028;var _0x381647=arguments['length'],_0x3d5aff=_0x381647<0x3?_0x22c3e7:_0x5e7ecd===null?_0x5e7ecd=Object[_0x3be19e(0xd9)](_0x22c3e7,_0x36252f):_0x5e7ecd,_0x56cc35;if(typeof Reflect===_0x3be19e(0xd6)&&typeof Reflect[_0x3be19e(0xd5)]===_0x3be19e(0xfe))_0x3d5aff=Reflect[_0x3be19e(0xd5)](_0x248e64,_0x22c3e7,_0x36252f,_0x5e7ecd);else{for(var _0x20b0b0=_0x248e64[_0x3be19e(0xfd)]-0x1;_0x20b0b0>=0x0;_0x20b0b0--)if(_0x56cc35=_0x248e64[_0x20b0b0])_0x3d5aff=(_0x381647<0x3?_0x56cc35(_0x3d5aff):_0x381647>0x3?_0x56cc35(_0x22c3e7,_0x36252f,_0x3d5aff):_0x56cc35(_0x22c3e7,_0x36252f))||_0x3d5aff;}return _0x381647>0x3&&_0x3d5aff&&Object['defineProperty'](_0x22c3e7,_0x36252f,_0x3d5aff),_0x3d5aff;},__metadata=this&&this[a105_0x32b028(0xf8)]||function(_0x5dabca,_0x16e70b){const _0x294ef8=a105_0x32b028;if(typeof Reflect===_0x294ef8(0xd6)&&typeof Reflect['metadata']===_0x294ef8(0xfe))return Reflect[_0x294ef8(0xe6)](_0x5dabca,_0x16e70b);},__importDefault=this&&this['__importDefault']||function(_0x261425){const _0x4d8970=a105_0x32b028;return _0x261425&&_0x261425[_0x4d8970(0xe4)]?_0x261425:{'default':_0x261425};};Object[a105_0x32b028(0xf3)](exports,a105_0x32b028(0xe4),{'value':!![]}),exports[a105_0x32b028(0xe1)]=void 0x0;const errors_1=require(a105_0x32b028(0xf0)),core_1=require(a105_0x32b028(0xd7)),unauthorized_error_1=require(a105_0x32b028(0xdd)),typedi_1=__importDefault(require(a105_0x32b028(0xe9))),git_provider_manager_1=require(a105_0x32b028(0xe5)),app_settings_service_1=require(a105_0x32b028(0xdb));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x1042e1){const _0x435b53=a105_0x32b028;this[_0x435b53(0xef)]=_0x1042e1;}async['handle'](_0x16d721,_0x3b0f1b){const _0x26b81e=a105_0x32b028;if(_0x16d721[_0x26b81e(0xfc)][_0x26b81e(0xeb)]){this['appSettings']['update']({'provider':_0x16d721['headers']['x-git-provider']['toString']()});const _0x49acc2=typedi_1[_0x26b81e(0xe8)][_0x26b81e(0xfb)](git_provider_manager_1['GitProviderManager'])[_0x26b81e(0xdf)]();await _0x49acc2['testConnection']();const _0x42109f=await _0x49acc2[_0x26b81e(0xf7)]();if(!_0x42109f)throw new unauthorized_error_1[(_0x26b81e(0xf2))](errors_1[_0x26b81e(0xea)]);}}};ProviderMiddleware=__decorate([core_1[a105_0x32b028(0xe2)]('before'),__metadata(a105_0x32b028(0xe3),[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;