const a108_0x3e32=['./git-provider.manager','__importDefault','typedi','isLoggedIn','21DVngPS','length','../../core/errors/unauthorized.error','defineProperty','function','GitProviderManager','202120fppCxO','object','get','827108cjkArq','default','../../core','before','x-git-provider','getOwnPropertyDescriptor','./services/app-settings.service','../../constants/errors','getApi','decorate','8AUIuor','test','testConnection','headers','__esModule','UnauthorizedError','toString','update','Middleware','2833441heBhbJ','341bUoWpn','999178QvaLMT','constructor','ProviderMiddleware','appSettings','4229TixEqq','metadata','38185kspgNT','24386JPmiFT','return\x20/\x22\x20+\x20this\x20+\x20\x22/','handle'];function a108_0x2ad3(_0x44a076,_0x8b2963){return a108_0x2ad3=function(_0x2ddf88,_0xb129dc){_0x2ddf88=_0x2ddf88-0x119;let _0x18df53=a108_0x3e32[_0x2ddf88];return _0x18df53;},a108_0x2ad3(_0x44a076,_0x8b2963);}const a108_0x26e41c=a108_0x2ad3;(function(_0x48b253,_0x5481e9){const _0x5be6ed=a108_0x2ad3;while(!![]){try{const _0x4cbdc6=-parseInt(_0x5be6ed(0x127))*parseInt(_0x5be6ed(0x12f))+-parseInt(_0x5be6ed(0x125))*parseInt(_0x5be6ed(0x120))+parseInt(_0x5be6ed(0x142))*parseInt(_0x5be6ed(0x128))+parseInt(_0x5be6ed(0x135))+parseInt(_0x5be6ed(0x138))+-parseInt(_0x5be6ed(0x121))+parseInt(_0x5be6ed(0x11f));if(_0x4cbdc6===_0x5481e9)break;else _0x48b253['push'](_0x48b253['shift']());}catch(_0x20152b){_0x48b253['push'](_0x48b253['shift']());}}}(a108_0x3e32,0xc6e0d));const a108_0x18df53=function(){let _0x2b74ff=!![];return function(_0x1624dc,_0xd2ceaa){const _0x55da33=_0x2b74ff?function(){if(_0xd2ceaa){const _0x5915c3=_0xd2ceaa['apply'](_0x1624dc,arguments);return _0xd2ceaa=null,_0x5915c3;}}:function(){};return _0x2b74ff=![],_0x55da33;};}(),a108_0xb129dc=a108_0x18df53(this,function(){const _0x2c735e=function(){const _0x5a0e72=a108_0x2ad3,_0xa43923=_0x2c735e[_0x5a0e72(0x122)](_0x5a0e72(0x129))()[_0x5a0e72(0x122)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0xa43923[_0x5a0e72(0x143)](a108_0xb129dc);};return _0x2c735e();});a108_0xb129dc();'use strict';var __decorate=this&&this['__decorate']||function(_0x1a491d,_0x268fe7,_0x3be2c9,_0x33bdc0){const _0x279a3f=a108_0x2ad3;var _0x443b30=arguments[_0x279a3f(0x130)],_0xfa973c=_0x443b30<0x3?_0x268fe7:_0x33bdc0===null?_0x33bdc0=Object[_0x279a3f(0x13d)](_0x268fe7,_0x3be2c9):_0x33bdc0,_0x261bba;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x279a3f(0x133))_0xfa973c=Reflect[_0x279a3f(0x141)](_0x1a491d,_0x268fe7,_0x3be2c9,_0x33bdc0);else{for(var _0x212f67=_0x1a491d[_0x279a3f(0x130)]-0x1;_0x212f67>=0x0;_0x212f67--)if(_0x261bba=_0x1a491d[_0x212f67])_0xfa973c=(_0x443b30<0x3?_0x261bba(_0xfa973c):_0x443b30>0x3?_0x261bba(_0x268fe7,_0x3be2c9,_0xfa973c):_0x261bba(_0x268fe7,_0x3be2c9))||_0xfa973c;}return _0x443b30>0x3&&_0xfa973c&&Object[_0x279a3f(0x132)](_0x268fe7,_0x3be2c9,_0xfa973c),_0xfa973c;},__metadata=this&&this['__metadata']||function(_0x2de98c,_0x31efad){const _0x4fb88e=a108_0x2ad3;if(typeof Reflect===_0x4fb88e(0x136)&&typeof Reflect['metadata']===_0x4fb88e(0x133))return Reflect[_0x4fb88e(0x126)](_0x2de98c,_0x31efad);},__importDefault=this&&this[a108_0x26e41c(0x12c)]||function(_0x3d3965){const _0x3279d5=a108_0x26e41c;return _0x3d3965&&_0x3d3965[_0x3279d5(0x11a)]?_0x3d3965:{'default':_0x3d3965};};Object['defineProperty'](exports,a108_0x26e41c(0x11a),{'value':!![]}),exports[a108_0x26e41c(0x123)]=void 0x0;const errors_1=require(a108_0x26e41c(0x13f)),core_1=require(a108_0x26e41c(0x13a)),unauthorized_error_1=require(a108_0x26e41c(0x131)),typedi_1=__importDefault(require(a108_0x26e41c(0x12d))),git_provider_manager_1=require(a108_0x26e41c(0x12b)),app_settings_service_1=require(a108_0x26e41c(0x13e));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x3fa649){const _0x22e091=a108_0x26e41c;this[_0x22e091(0x124)]=_0x3fa649;}async[a108_0x26e41c(0x12a)](_0x1ed1ab,_0x56402c){const _0x49ea43=a108_0x26e41c;if(_0x1ed1ab['headers'][_0x49ea43(0x13c)]){this[_0x49ea43(0x124)][_0x49ea43(0x11d)]({'provider':_0x1ed1ab[_0x49ea43(0x119)][_0x49ea43(0x13c)][_0x49ea43(0x11c)]()});const _0x3ae49f=typedi_1[_0x49ea43(0x139)][_0x49ea43(0x137)](git_provider_manager_1[_0x49ea43(0x134)])[_0x49ea43(0x140)]();await _0x3ae49f[_0x49ea43(0x144)]();const _0x52cecc=await _0x3ae49f[_0x49ea43(0x12e)]();if(!_0x52cecc)throw new unauthorized_error_1[(_0x49ea43(0x11b))](errors_1['ERR_INVALID_AUTH_OPTIONS']);}}};ProviderMiddleware=__decorate([core_1[a108_0x26e41c(0x11e)](a108_0x26e41c(0x13b)),__metadata('design:paramtypes',[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a108_0x26e41c(0x123)]=ProviderMiddleware;