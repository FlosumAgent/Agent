const a126_0x8850=['7642NLcXtL','__metadata','design:paramtypes','constructor','Middleware','875410qcdTgJ','../../core/errors/unauthorized.error','./git-provider.manager','89yxeLiN','isLoggedIn','object','UnauthorizedError','../../core','getOwnPropertyDescriptor','1erieGZ','defineProperty','1737IVSzXv','metadata','397787hWdVkh','579IExywj','test','x-git-provider','766438ZaNyom','GitProviderManager','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','length','typedi','343169VwZYxt','AppSettingsService','__decorate','update','handle','headers','toString','decorate','2138QbJRDR','default','before','__esModule','appSettings','return\x20/\x22\x20+\x20this\x20+\x20\x22/','538ydyadX','get','function'];const a126_0xbd9fa7=a126_0x9b47;(function(_0x9ce6d7,_0x4eade0){const _0x32cf02=a126_0x9b47;while(!![]){try{const _0x113436=-parseInt(_0x32cf02(0x1af))*-parseInt(_0x32cf02(0x1a7))+parseInt(_0x32cf02(0x1a4))*parseInt(_0x32cf02(0x1ca))+-parseInt(_0x32cf02(0x1ac))+-parseInt(_0x32cf02(0x1b5))*parseInt(_0x32cf02(0x1b9))+-parseInt(_0x32cf02(0x1ba))*parseInt(_0x32cf02(0x1b7))+parseInt(_0x32cf02(0x1c2))+parseInt(_0x32cf02(0x1bd));if(_0x113436===_0x4eade0)break;else _0x9ce6d7['push'](_0x9ce6d7['shift']());}catch(_0x5975cc){_0x9ce6d7['push'](_0x9ce6d7['shift']());}}}(a126_0x8850,0xa164d));const a126_0x3b95a5=function(){let _0x3b54ec=!![];return function(_0x56ec1a,_0x50814f){const _0x3bbf86=_0x3b54ec?function(){if(_0x50814f){const _0x133b05=_0x50814f['apply'](_0x56ec1a,arguments);return _0x50814f=null,_0x133b05;}}:function(){};return _0x3b54ec=![],_0x3bbf86;};}(),a126_0x4bede2=a126_0x3b95a5(this,function(){const _0x2a5ad5=function(){const _0x582d35=a126_0x9b47,_0x53512b=_0x2a5ad5['constructor'](_0x582d35(0x1a3))()[_0x582d35(0x1aa)](_0x582d35(0x1bf));return!_0x53512b[_0x582d35(0x1bb)](a126_0x4bede2);};return _0x2a5ad5();});a126_0x4bede2();'use strict';var __decorate=this&&this[a126_0xbd9fa7(0x1c4)]||function(_0x207e8d,_0x59f92e,_0x5371ff,_0x674f9b){const _0xad04e9=a126_0xbd9fa7;var _0x1b5a04=arguments[_0xad04e9(0x1c0)],_0x6a898d=_0x1b5a04<0x3?_0x59f92e:_0x674f9b===null?_0x674f9b=Object[_0xad04e9(0x1b4)](_0x59f92e,_0x5371ff):_0x674f9b,_0x147d03;if(typeof Reflect==='object'&&typeof Reflect[_0xad04e9(0x1c9)]===_0xad04e9(0x1a6))_0x6a898d=Reflect[_0xad04e9(0x1c9)](_0x207e8d,_0x59f92e,_0x5371ff,_0x674f9b);else{for(var _0x1b931a=_0x207e8d[_0xad04e9(0x1c0)]-0x1;_0x1b931a>=0x0;_0x1b931a--)if(_0x147d03=_0x207e8d[_0x1b931a])_0x6a898d=(_0x1b5a04<0x3?_0x147d03(_0x6a898d):_0x1b5a04>0x3?_0x147d03(_0x59f92e,_0x5371ff,_0x6a898d):_0x147d03(_0x59f92e,_0x5371ff))||_0x6a898d;}return _0x1b5a04>0x3&&_0x6a898d&&Object[_0xad04e9(0x1b6)](_0x59f92e,_0x5371ff,_0x6a898d),_0x6a898d;},__metadata=this&&this[a126_0xbd9fa7(0x1a8)]||function(_0x13f6c9,_0x210ada){const _0x8907f8=a126_0xbd9fa7;if(typeof Reflect===_0x8907f8(0x1b1)&&typeof Reflect[_0x8907f8(0x1b8)]===_0x8907f8(0x1a6))return Reflect[_0x8907f8(0x1b8)](_0x13f6c9,_0x210ada);},__importDefault=this&&this['__importDefault']||function(_0x5dec6c){const _0x12fdd7=a126_0xbd9fa7;return _0x5dec6c&&_0x5dec6c[_0x12fdd7(0x1cd)]?_0x5dec6c:{'default':_0x5dec6c};};function a126_0x9b47(_0x1d89aa,_0x17e96f){return a126_0x9b47=function(_0xae863f,_0x4bede2){_0xae863f=_0xae863f-0x1a2;let _0x3b95a5=a126_0x8850[_0xae863f];return _0x3b95a5;},a126_0x9b47(_0x1d89aa,_0x17e96f);}Object['defineProperty'](exports,a126_0xbd9fa7(0x1cd),{'value':!![]}),exports['ProviderMiddleware']=void 0x0;const core_1=require(a126_0xbd9fa7(0x1b3)),unauthorized_error_1=require(a126_0xbd9fa7(0x1ad)),typedi_1=__importDefault(require(a126_0xbd9fa7(0x1c1))),git_provider_manager_1=require(a126_0xbd9fa7(0x1ae)),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0xbd15d9){const _0x1763bf=a126_0xbd9fa7;this[_0x1763bf(0x1a2)]=_0xbd15d9;}async[a126_0xbd9fa7(0x1c6)](_0x288ca4,_0x255deb){const _0x202410=a126_0xbd9fa7;if(_0x288ca4['headers'][_0x202410(0x1bc)]){this[_0x202410(0x1a2)][_0x202410(0x1c5)]({'provider':_0x288ca4[_0x202410(0x1c7)][_0x202410(0x1bc)][_0x202410(0x1c8)]()});const _0x321bfb=typedi_1[_0x202410(0x1cb)][_0x202410(0x1a5)](git_provider_manager_1[_0x202410(0x1be)])['getApi']();await _0x321bfb['testConnection']();try{await _0x321bfb[_0x202410(0x1b0)]();}catch(_0x298c72){throw new unauthorized_error_1[(_0x202410(0x1b2))](_0x298c72);}}}};ProviderMiddleware=__decorate([core_1[a126_0xbd9fa7(0x1ab)](a126_0xbd9fa7(0x1cc)),__metadata(a126_0xbd9fa7(0x1a9),[app_settings_service_1[a126_0xbd9fa7(0x1c3)]])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;