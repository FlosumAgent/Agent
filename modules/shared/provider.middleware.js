const a119_0x2694=['./git-provider.manager','__metadata','toString','./services/app-settings.service','1kitObH','UnauthorizedError','metadata','252455cTRAtk','decorate','getOwnPropertyDescriptor','design:paramtypes','x-git-provider','755693bYybOv','before','get','678CMKhvL','length','__decorate','1addTOl','testConnection','AppSettingsService','ERR_INVALID_AUTH_OPTIONS','463518ceDVXi','24121UuUFJQ','update','default','object','return\x20/\x22\x20+\x20this\x20+\x20\x22/','Middleware','appSettings','test','__esModule','ProviderMiddleware','getApi','1006vWEfIU','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','2kzxnwn','1959326fEOgpA','headers','constructor','function','../../core/errors/unauthorized.error','84848IqrXCa','defineProperty','../../core','GitProviderManager'];const a119_0x2e3397=a119_0xa260;(function(_0x318b18,_0x26bb32){const _0x68ef7a=a119_0xa260;while(!![]){try{const _0x4a3c83=parseInt(_0x68ef7a(0x10e))+-parseInt(_0x68ef7a(0x135))*-parseInt(_0x68ef7a(0x11a))+-parseInt(_0x68ef7a(0x11c))*-parseInt(_0x68ef7a(0x122))+parseInt(_0x68ef7a(0x132))+parseInt(_0x68ef7a(0x12d))*parseInt(_0x68ef7a(0x12a))+parseInt(_0x68ef7a(0x10f))+-parseInt(_0x68ef7a(0x138))*parseInt(_0x68ef7a(0x11d));if(_0x4a3c83===_0x26bb32)break;else _0x318b18['push'](_0x318b18['shift']());}catch(_0x27d42f){_0x318b18['push'](_0x318b18['shift']());}}}(a119_0x2694,0x5ec81));function a119_0xa260(_0x262035,_0x41998c){return a119_0xa260=function(_0x2cfe2c,_0x5ac9df){_0x2cfe2c=_0x2cfe2c-0x10e;let _0x437a6a=a119_0x2694[_0x2cfe2c];return _0x437a6a;},a119_0xa260(_0x262035,_0x41998c);}const a119_0x437a6a=function(){let _0x439356=!![];return function(_0xbc1e72,_0x4ad413){const _0x5530c0=_0x439356?function(){if(_0x4ad413){const _0x412d25=_0x4ad413['apply'](_0xbc1e72,arguments);return _0x4ad413=null,_0x412d25;}}:function(){};return _0x439356=![],_0x5530c0;};}(),a119_0x5ac9df=a119_0x437a6a(this,function(){const _0x13c664=function(){const _0x3798c9=a119_0xa260,_0x5280df=_0x13c664[_0x3798c9(0x11f)](_0x3798c9(0x113))()['constructor'](_0x3798c9(0x11b));return!_0x5280df[_0x3798c9(0x116)](a119_0x5ac9df);};return _0x13c664();});a119_0x5ac9df();'use strict';var __decorate=this&&this[a119_0x2e3397(0x137)]||function(_0x195891,_0x2f1f5a,_0x3102b1,_0x281a97){const _0x1d7dea=a119_0x2e3397;var _0xfce540=arguments[_0x1d7dea(0x136)],_0x420677=_0xfce540<0x3?_0x2f1f5a:_0x281a97===null?_0x281a97=Object[_0x1d7dea(0x12f)](_0x2f1f5a,_0x3102b1):_0x281a97,_0xf5b12;if(typeof Reflect===_0x1d7dea(0x112)&&typeof Reflect[_0x1d7dea(0x12e)]===_0x1d7dea(0x120))_0x420677=Reflect['decorate'](_0x195891,_0x2f1f5a,_0x3102b1,_0x281a97);else{for(var _0x3a58ad=_0x195891[_0x1d7dea(0x136)]-0x1;_0x3a58ad>=0x0;_0x3a58ad--)if(_0xf5b12=_0x195891[_0x3a58ad])_0x420677=(_0xfce540<0x3?_0xf5b12(_0x420677):_0xfce540>0x3?_0xf5b12(_0x2f1f5a,_0x3102b1,_0x420677):_0xf5b12(_0x2f1f5a,_0x3102b1))||_0x420677;}return _0xfce540>0x3&&_0x420677&&Object[_0x1d7dea(0x123)](_0x2f1f5a,_0x3102b1,_0x420677),_0x420677;},__metadata=this&&this[a119_0x2e3397(0x127)]||function(_0x41b29b,_0x22aa45){const _0x43f453=a119_0x2e3397;if(typeof Reflect==='object'&&typeof Reflect[_0x43f453(0x12c)]===_0x43f453(0x120))return Reflect['metadata'](_0x41b29b,_0x22aa45);},__importDefault=this&&this['__importDefault']||function(_0x1895b0){return _0x1895b0&&_0x1895b0['__esModule']?_0x1895b0:{'default':_0x1895b0};};Object[a119_0x2e3397(0x123)](exports,a119_0x2e3397(0x117),{'value':!![]}),exports['ProviderMiddleware']=void 0x0;const errors_1=require('../../constants/errors'),core_1=require(a119_0x2e3397(0x124)),unauthorized_error_1=require(a119_0x2e3397(0x121)),typedi_1=__importDefault(require('typedi')),git_provider_manager_1=require(a119_0x2e3397(0x126)),app_settings_service_1=require(a119_0x2e3397(0x129));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x1aa872){const _0x201198=a119_0x2e3397;this[_0x201198(0x115)]=_0x1aa872;}async['handle'](_0x2a9d55,_0x297068){const _0x4e4839=a119_0x2e3397;if(_0x2a9d55[_0x4e4839(0x11e)]['x-git-provider']){this[_0x4e4839(0x115)][_0x4e4839(0x110)]({'provider':_0x2a9d55[_0x4e4839(0x11e)][_0x4e4839(0x131)][_0x4e4839(0x128)]()});const _0x33e3ab=typedi_1[_0x4e4839(0x111)][_0x4e4839(0x134)](git_provider_manager_1[_0x4e4839(0x125)])[_0x4e4839(0x119)]();await _0x33e3ab[_0x4e4839(0x139)]();const _0x208985=await _0x33e3ab['isLoggedIn']();if(!_0x208985)throw new unauthorized_error_1[(_0x4e4839(0x12b))](errors_1[_0x4e4839(0x13b)]);}}};ProviderMiddleware=__decorate([core_1[a119_0x2e3397(0x114)](a119_0x2e3397(0x133)),__metadata(a119_0x2e3397(0x130),[app_settings_service_1[a119_0x2e3397(0x13a)]])],ProviderMiddleware),exports[a119_0x2e3397(0x118)]=ProviderMiddleware;