const a124_0x34bf=['defineProperty','default','function','966499xcGneK','../../core/errors/unauthorized.error','before','ProviderMiddleware','__esModule','__metadata','../../constants/errors','239779OSmYwE','update','headers','__importDefault','1IOtnQO','object','x-git-provider','687299eTMdYy','decorate','897372GnHCHE','5KKLuIj','test','1TceiJR','Middleware','return\x20/\x22\x20+\x20this\x20+\x20\x22/','GitProviderManager','./git-provider.manager','ERR_INVALID_AUTH_OPTIONS','589209gUdeyj','length','metadata','735578aOWCCy','404066RzuCIj','apply','UnauthorizedError','design:paramtypes','appSettings','../../core','getOwnPropertyDescriptor','toString','constructor'];const a124_0x6ce703=a124_0x48e1;(function(_0x4e92c6,_0x4416f3){const _0x2b1802=a124_0x48e1;while(!![]){try{const _0x482190=parseInt(_0x2b1802(0x17c))+-parseInt(_0x2b1802(0x16a))*-parseInt(_0x2b1802(0x17b))+parseInt(_0x2b1802(0x15f))+parseInt(_0x2b1802(0x16d))*-parseInt(_0x2b1802(0x172))+-parseInt(_0x2b1802(0x178))+parseInt(_0x2b1802(0x16f))+-parseInt(_0x2b1802(0x166))*parseInt(_0x2b1802(0x170));if(_0x482190===_0x4416f3)break;else _0x4e92c6['push'](_0x4e92c6['shift']());}catch(_0x4feedc){_0x4e92c6['push'](_0x4e92c6['shift']());}}}(a124_0x34bf,0x80ef0));const a124_0x41c440=function(){let _0x28659f=!![];return function(_0xfddefc,_0x11847a){const _0x194f26=_0x28659f?function(){const _0x377e27=a124_0x48e1;if(_0x11847a){const _0x51b079=_0x11847a[_0x377e27(0x17d)](_0xfddefc,arguments);return _0x11847a=null,_0x51b079;}}:function(){};return _0x28659f=![],_0x194f26;};}(),a124_0x4c835c=a124_0x41c440(this,function(){const _0x1dc657=function(){const _0x3fcdda=a124_0x48e1,_0x47e762=_0x1dc657['constructor'](_0x3fcdda(0x174))()[_0x3fcdda(0x184)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x47e762[_0x3fcdda(0x171)](a124_0x4c835c);};return _0x1dc657();});a124_0x4c835c();'use strict';var __decorate=this&&this['__decorate']||function(_0x114e09,_0x4ef403,_0x4a8b8c,_0x436586){const _0x40f6a7=a124_0x48e1;var _0x58577e=arguments[_0x40f6a7(0x179)],_0x3ba19c=_0x58577e<0x3?_0x4ef403:_0x436586===null?_0x436586=Object[_0x40f6a7(0x182)](_0x4ef403,_0x4a8b8c):_0x436586,_0x2776de;if(typeof Reflect==='object'&&typeof Reflect[_0x40f6a7(0x16e)]===_0x40f6a7(0x15e))_0x3ba19c=Reflect[_0x40f6a7(0x16e)](_0x114e09,_0x4ef403,_0x4a8b8c,_0x436586);else{for(var _0x198d62=_0x114e09[_0x40f6a7(0x179)]-0x1;_0x198d62>=0x0;_0x198d62--)if(_0x2776de=_0x114e09[_0x198d62])_0x3ba19c=(_0x58577e<0x3?_0x2776de(_0x3ba19c):_0x58577e>0x3?_0x2776de(_0x4ef403,_0x4a8b8c,_0x3ba19c):_0x2776de(_0x4ef403,_0x4a8b8c))||_0x3ba19c;}return _0x58577e>0x3&&_0x3ba19c&&Object[_0x40f6a7(0x185)](_0x4ef403,_0x4a8b8c,_0x3ba19c),_0x3ba19c;},__metadata=this&&this[a124_0x6ce703(0x164)]||function(_0x226811,_0x1de838){const _0x451267=a124_0x6ce703;if(typeof Reflect===_0x451267(0x16b)&&typeof Reflect['metadata']==='function')return Reflect[_0x451267(0x17a)](_0x226811,_0x1de838);},__importDefault=this&&this[a124_0x6ce703(0x169)]||function(_0x277745){const _0x1bf6e8=a124_0x6ce703;return _0x277745&&_0x277745[_0x1bf6e8(0x163)]?_0x277745:{'default':_0x277745};};Object[a124_0x6ce703(0x185)](exports,a124_0x6ce703(0x163),{'value':!![]}),exports[a124_0x6ce703(0x162)]=void 0x0;const errors_1=require(a124_0x6ce703(0x165)),core_1=require(a124_0x6ce703(0x181)),unauthorized_error_1=require(a124_0x6ce703(0x160)),typedi_1=__importDefault(require('typedi')),git_provider_manager_1=require(a124_0x6ce703(0x176)),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0x48b474){const _0x2cdfdb=a124_0x6ce703;this[_0x2cdfdb(0x180)]=_0x48b474;}async['handle'](_0x3c6b54,_0x9976b6){const _0x5d34a8=a124_0x6ce703;if(_0x3c6b54[_0x5d34a8(0x168)][_0x5d34a8(0x16c)]){this[_0x5d34a8(0x180)][_0x5d34a8(0x167)]({'provider':_0x3c6b54[_0x5d34a8(0x168)][_0x5d34a8(0x16c)][_0x5d34a8(0x183)]()});const _0x5041d8=typedi_1[_0x5d34a8(0x186)]['get'](git_provider_manager_1[_0x5d34a8(0x175)])['getApi']();await _0x5041d8['testConnection']();const _0x1b5775=await _0x5041d8['isLoggedIn']();if(!_0x1b5775)throw new unauthorized_error_1[(_0x5d34a8(0x17e))](errors_1[_0x5d34a8(0x177)]);}}};function a124_0x48e1(_0x4d15d7,_0x525c5f){return a124_0x48e1=function(_0x3feee9,_0x4c835c){_0x3feee9=_0x3feee9-0x15e;let _0x41c440=a124_0x34bf[_0x3feee9];return _0x41c440;},a124_0x48e1(_0x4d15d7,_0x525c5f);}ProviderMiddleware=__decorate([core_1[a124_0x6ce703(0x173)](a124_0x6ce703(0x161)),__metadata(a124_0x6ce703(0x17f),[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a124_0x6ce703(0x162)]=ProviderMiddleware;