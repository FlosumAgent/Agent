const a126_0x2b97=['199962EwUgdu','1051398NiPZYl','391392Jixgzu','defineProperty','function','274441wpyvsr','../../core/errors/unauthorized.error','decorate','update','testConnection','metadata','__esModule','699386cyPCdO','GitProviderManager','typedi','handle','1328583XSgLzc','get','return\x20/\x22\x20+\x20this\x20+\x20\x22/','appSettings','1azGzPp','x-git-provider','test','before','__importDefault','19BetFRV','1wiSZwS','Middleware','62603YKfCYF','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','constructor','ProviderMiddleware','1thZczL','./services/app-settings.service','getOwnPropertyDescriptor','toString','object','__metadata','../../core','__decorate','length','apply','./git-provider.manager'];const a126_0x9968df=a126_0x572b;(function(_0x472bb0,_0x3b75eb){const _0x49c56e=a126_0x572b;while(!![]){try{const _0x45f8c5=-parseInt(_0x49c56e(0x1ec))*-parseInt(_0x49c56e(0x1ef))+-parseInt(_0x49c56e(0x1d8))*parseInt(_0x49c56e(0x1f3))+parseInt(_0x49c56e(0x1e3))+parseInt(_0x49c56e(0x1e7))*-parseInt(_0x49c56e(0x1d4))+-parseInt(_0x49c56e(0x1ed))*parseInt(_0x49c56e(0x1df))+parseInt(_0x49c56e(0x1d5))+-parseInt(_0x49c56e(0x1d3));if(_0x45f8c5===_0x3b75eb)break;else _0x472bb0['push'](_0x472bb0['shift']());}catch(_0x2ba958){_0x472bb0['push'](_0x472bb0['shift']());}}}(a126_0x2b97,0xa70d5));const a126_0x533e78=function(){let _0x264ca1=!![];return function(_0x2df6b7,_0x1e531c){const _0x53e0f6=_0x264ca1?function(){const _0x589284=a126_0x572b;if(_0x1e531c){const _0x38f0ba=_0x1e531c[_0x589284(0x1d1)](_0x2df6b7,arguments);return _0x1e531c=null,_0x38f0ba;}}:function(){};return _0x264ca1=![],_0x53e0f6;};}(),a126_0x9e89b=a126_0x533e78(this,function(){const _0x481246=function(){const _0x317595=a126_0x572b,_0x5e65ab=_0x481246[_0x317595(0x1f1)](_0x317595(0x1e5))()[_0x317595(0x1f1)](_0x317595(0x1f0));return!_0x5e65ab[_0x317595(0x1e9)](a126_0x9e89b);};return _0x481246();});a126_0x9e89b();'use strict';var __decorate=this&&this[a126_0x9968df(0x1cf)]||function(_0xfe2fb4,_0x416ae2,_0x4978e1,_0x200087){const _0x44b109=a126_0x9968df;var _0x10f4b3=arguments[_0x44b109(0x1d0)],_0x33e943=_0x10f4b3<0x3?_0x416ae2:_0x200087===null?_0x200087=Object[_0x44b109(0x1f5)](_0x416ae2,_0x4978e1):_0x200087,_0x5ead13;if(typeof Reflect===_0x44b109(0x1f7)&&typeof Reflect[_0x44b109(0x1da)]===_0x44b109(0x1d7))_0x33e943=Reflect['decorate'](_0xfe2fb4,_0x416ae2,_0x4978e1,_0x200087);else{for(var _0x505a2d=_0xfe2fb4[_0x44b109(0x1d0)]-0x1;_0x505a2d>=0x0;_0x505a2d--)if(_0x5ead13=_0xfe2fb4[_0x505a2d])_0x33e943=(_0x10f4b3<0x3?_0x5ead13(_0x33e943):_0x10f4b3>0x3?_0x5ead13(_0x416ae2,_0x4978e1,_0x33e943):_0x5ead13(_0x416ae2,_0x4978e1))||_0x33e943;}return _0x10f4b3>0x3&&_0x33e943&&Object[_0x44b109(0x1d6)](_0x416ae2,_0x4978e1,_0x33e943),_0x33e943;},__metadata=this&&this[a126_0x9968df(0x1f8)]||function(_0x521b7a,_0x559656){const _0x4bb4a1=a126_0x9968df;if(typeof Reflect===_0x4bb4a1(0x1f7)&&typeof Reflect[_0x4bb4a1(0x1dd)]===_0x4bb4a1(0x1d7))return Reflect[_0x4bb4a1(0x1dd)](_0x521b7a,_0x559656);},__importDefault=this&&this[a126_0x9968df(0x1eb)]||function(_0x567bd4){const _0x33a829=a126_0x9968df;return _0x567bd4&&_0x567bd4[_0x33a829(0x1de)]?_0x567bd4:{'default':_0x567bd4};};Object['defineProperty'](exports,a126_0x9968df(0x1de),{'value':!![]}),exports['ProviderMiddleware']=void 0x0;function a126_0x572b(_0x445853,_0x1cec02){return a126_0x572b=function(_0x1b5c96,_0x9e89b){_0x1b5c96=_0x1b5c96-0x1cf;let _0x533e78=a126_0x2b97[_0x1b5c96];return _0x533e78;},a126_0x572b(_0x445853,_0x1cec02);}const core_1=require(a126_0x9968df(0x1f9)),unauthorized_error_1=require(a126_0x9968df(0x1d9)),typedi_1=__importDefault(require(a126_0x9968df(0x1e1))),git_provider_manager_1=require(a126_0x9968df(0x1d2)),app_settings_service_1=require(a126_0x9968df(0x1f4));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x39f74b){this['appSettings']=_0x39f74b;}async[a126_0x9968df(0x1e2)](_0x31e091,_0x3e7547){const _0x17a7e6=a126_0x9968df;if(_0x31e091['headers'][_0x17a7e6(0x1e8)]){this[_0x17a7e6(0x1e6)][_0x17a7e6(0x1db)]({'provider':_0x31e091['headers'][_0x17a7e6(0x1e8)][_0x17a7e6(0x1f6)]()});const _0x56bb12=typedi_1['default'][_0x17a7e6(0x1e4)](git_provider_manager_1[_0x17a7e6(0x1e0)])['getApi']();await _0x56bb12[_0x17a7e6(0x1dc)]();try{await _0x56bb12['isLoggedIn']();}catch(_0x4d22d0){throw new unauthorized_error_1['UnauthorizedError'](_0x4d22d0);}}}};ProviderMiddleware=__decorate([core_1[a126_0x9968df(0x1ee)](a126_0x9968df(0x1ea)),__metadata('design:paramtypes',[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a126_0x9968df(0x1f2)]=ProviderMiddleware;