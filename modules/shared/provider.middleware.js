const a120_0x3fc1=['2459EbzrNM','default','58298zILdLA','1RzdHYZ','appSettings','359RVRenO','object','getOwnPropertyDescriptor','380024elgZBg','__metadata','constructor','361163XroZRn','typedi','defineProperty','__importDefault','update','GitProviderManager','isLoggedIn','headers','testConnection','design:paramtypes','function','Middleware','1kRYfhA','metadata','length','getApi','ProviderMiddleware','870157iJxgIz','apply','./services/app-settings.service','./git-provider.manager','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../core','get','x-git-provider','__esModule','decorate','1TxVygX','before','868372kbFrDz','UnauthorizedError','1337GGaayM'];const a120_0x5b6543=a120_0x9688;(function(_0x33c975,_0x4ce031){const _0xaf1b88=a120_0x9688;while(!![]){try{const _0x491ecd=parseInt(_0xaf1b88(0xb9))*-parseInt(_0xaf1b88(0xbf))+parseInt(_0xaf1b88(0xba))*-parseInt(_0xaf1b88(0xb5))+-parseInt(_0xaf1b88(0xa6))*parseInt(_0xaf1b88(0xc5))+-parseInt(_0xaf1b88(0xc2))+parseInt(_0xaf1b88(0xbc))+parseInt(_0xaf1b88(0xbd))*parseInt(_0xaf1b88(0xab))+parseInt(_0xaf1b88(0xb7));if(_0x491ecd===_0x4ce031)break;else _0x33c975['push'](_0x33c975['shift']());}catch(_0x122e35){_0x33c975['push'](_0x33c975['shift']());}}}(a120_0x3fc1,0x8bf0e));const a120_0x1759db=function(){let _0x298de1=!![];return function(_0x17f448,_0x577d75){const _0x53c967=_0x298de1?function(){const _0x2a4035=a120_0x9688;if(_0x577d75){const _0x55dd71=_0x577d75[_0x2a4035(0xac)](_0x17f448,arguments);return _0x577d75=null,_0x55dd71;}}:function(){};return _0x298de1=![],_0x53c967;};}(),a120_0x297bb5=a120_0x1759db(this,function(){const _0x29cd36=function(){const _0x182ac7=a120_0x9688,_0x539fb7=_0x29cd36['constructor'](_0x182ac7(0xaf))()[_0x182ac7(0xc4)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x539fb7['test'](a120_0x297bb5);};return _0x29cd36();});a120_0x297bb5();function a120_0x9688(_0x21dff0,_0x1c29da){return a120_0x9688=function(_0x5012c0,_0x297bb5){_0x5012c0=_0x5012c0-0x9e;let _0x1759db=a120_0x3fc1[_0x5012c0];return _0x1759db;},a120_0x9688(_0x21dff0,_0x1c29da);}'use strict';var __decorate=this&&this['__decorate']||function(_0x290ac7,_0x4bf890,_0x25bf56,_0x3daba3){const _0x35f08a=a120_0x9688;var _0x5a63b3=arguments[_0x35f08a(0xa8)],_0x177f8e=_0x5a63b3<0x3?_0x4bf890:_0x3daba3===null?_0x3daba3=Object[_0x35f08a(0xc1)](_0x4bf890,_0x25bf56):_0x3daba3,_0x11fb09;if(typeof Reflect===_0x35f08a(0xc0)&&typeof Reflect['decorate']===_0x35f08a(0xa4))_0x177f8e=Reflect[_0x35f08a(0xb4)](_0x290ac7,_0x4bf890,_0x25bf56,_0x3daba3);else{for(var _0x5487f0=_0x290ac7[_0x35f08a(0xa8)]-0x1;_0x5487f0>=0x0;_0x5487f0--)if(_0x11fb09=_0x290ac7[_0x5487f0])_0x177f8e=(_0x5a63b3<0x3?_0x11fb09(_0x177f8e):_0x5a63b3>0x3?_0x11fb09(_0x4bf890,_0x25bf56,_0x177f8e):_0x11fb09(_0x4bf890,_0x25bf56))||_0x177f8e;}return _0x5a63b3>0x3&&_0x177f8e&&Object['defineProperty'](_0x4bf890,_0x25bf56,_0x177f8e),_0x177f8e;},__metadata=this&&this[a120_0x5b6543(0xc3)]||function(_0xce720d,_0x2f9ed9){const _0x34fa7d=a120_0x5b6543;if(typeof Reflect===_0x34fa7d(0xc0)&&typeof Reflect['metadata']===_0x34fa7d(0xa4))return Reflect[_0x34fa7d(0xa7)](_0xce720d,_0x2f9ed9);},__importDefault=this&&this[a120_0x5b6543(0xc8)]||function(_0x5ac7d2){return _0x5ac7d2&&_0x5ac7d2['__esModule']?_0x5ac7d2:{'default':_0x5ac7d2};};Object[a120_0x5b6543(0xc7)](exports,a120_0x5b6543(0xb3),{'value':!![]}),exports[a120_0x5b6543(0xaa)]=void 0x0;const errors_1=require('../../constants/errors'),core_1=require(a120_0x5b6543(0xb0)),unauthorized_error_1=require('../../core/errors/unauthorized.error'),typedi_1=__importDefault(require(a120_0x5b6543(0xc6))),git_provider_manager_1=require(a120_0x5b6543(0xae)),app_settings_service_1=require(a120_0x5b6543(0xad));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x2f540c){const _0x1003c0=a120_0x5b6543;this[_0x1003c0(0xbe)]=_0x2f540c;}async['handle'](_0x4869dd,_0x2bf6c1){const _0x33c21b=a120_0x5b6543;if(_0x4869dd[_0x33c21b(0xa1)][_0x33c21b(0xb2)]){this['appSettings'][_0x33c21b(0x9e)]({'provider':_0x4869dd[_0x33c21b(0xa1)][_0x33c21b(0xb2)]['toString']()});const _0x5a06ca=typedi_1[_0x33c21b(0xbb)][_0x33c21b(0xb1)](git_provider_manager_1[_0x33c21b(0x9f)])[_0x33c21b(0xa9)]();await _0x5a06ca[_0x33c21b(0xa2)]();const _0x4b437c=await _0x5a06ca[_0x33c21b(0xa0)]();if(!_0x4b437c)throw new unauthorized_error_1[(_0x33c21b(0xb8))](errors_1['ERR_INVALID_AUTH_OPTIONS']);}}};ProviderMiddleware=__decorate([core_1[a120_0x5b6543(0xa5)](a120_0x5b6543(0xb6)),__metadata(a120_0x5b6543(0xa3),[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a120_0x5b6543(0xaa)]=ProviderMiddleware;