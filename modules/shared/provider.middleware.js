const a119_0x8c46=['./git-provider.manager','get','../../constants/errors','__esModule','__importDefault','ProviderMiddleware','../../core','handle','isLoggedIn','12077JXzrmr','headers','object','decorate','196616wDhTPZ','1083221NyfpSE','4kPKDSE','UnauthorizedError','947081sNIZJX','1138944kMUeVP','x-git-provider','constructor','return\x20/\x22\x20+\x20this\x20+\x20\x22/','apply','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','Middleware','update','./services/app-settings.service','defineProperty','metadata','67bYBIos','typedi','length','802627zCHQUW','getApi','getOwnPropertyDescriptor','341472rYoMrs','default'];const a119_0x2306f9=a119_0x1a58;(function(_0x5c566f,_0x45f6c0){const _0x3e06b4=a119_0x1a58;while(!![]){try{const _0x35efef=-parseInt(_0x3e06b4(0x14e))+-parseInt(_0x3e06b4(0x13e))+parseInt(_0x3e06b4(0x149))*-parseInt(_0x3e06b4(0x15d))+-parseInt(_0x3e06b4(0x152))+parseInt(_0x3e06b4(0x151))+-parseInt(_0x3e06b4(0x14d))+parseInt(_0x3e06b4(0x14f))*parseInt(_0x3e06b4(0x13b));if(_0x35efef===_0x45f6c0)break;else _0x5c566f['push'](_0x5c566f['shift']());}catch(_0x1f7df0){_0x5c566f['push'](_0x5c566f['shift']());}}}(a119_0x8c46,0x8f991));const a119_0x419d37=function(){let _0x2a18b8=!![];return function(_0x455dae,_0x4cd15c){const _0x544c7a=_0x2a18b8?function(){const _0x2add47=a119_0x1a58;if(_0x4cd15c){const _0x770b1e=_0x4cd15c[_0x2add47(0x156)](_0x455dae,arguments);return _0x4cd15c=null,_0x770b1e;}}:function(){};return _0x2a18b8=![],_0x544c7a;};}(),a119_0x2482ad=a119_0x419d37(this,function(){const _0x4cf81a=function(){const _0x5db465=a119_0x1a58,_0x49a951=_0x4cf81a['constructor'](_0x5db465(0x155))()[_0x5db465(0x154)](_0x5db465(0x157));return!_0x49a951['test'](a119_0x2482ad);};return _0x4cf81a();});a119_0x2482ad();'use strict';var __decorate=this&&this['__decorate']||function(_0xc7964a,_0x1aa08e,_0x19d6bb,_0x34f361){const _0x214ef6=a119_0x1a58;var _0x34f8b7=arguments[_0x214ef6(0x15f)],_0xceabb8=_0x34f8b7<0x3?_0x1aa08e:_0x34f361===null?_0x34f361=Object[_0x214ef6(0x13d)](_0x1aa08e,_0x19d6bb):_0x34f361,_0x2355fc;if(typeof Reflect===_0x214ef6(0x14b)&&typeof Reflect['decorate']==='function')_0xceabb8=Reflect[_0x214ef6(0x14c)](_0xc7964a,_0x1aa08e,_0x19d6bb,_0x34f361);else{for(var _0x19022f=_0xc7964a[_0x214ef6(0x15f)]-0x1;_0x19022f>=0x0;_0x19022f--)if(_0x2355fc=_0xc7964a[_0x19022f])_0xceabb8=(_0x34f8b7<0x3?_0x2355fc(_0xceabb8):_0x34f8b7>0x3?_0x2355fc(_0x1aa08e,_0x19d6bb,_0xceabb8):_0x2355fc(_0x1aa08e,_0x19d6bb))||_0xceabb8;}return _0x34f8b7>0x3&&_0xceabb8&&Object[_0x214ef6(0x15b)](_0x1aa08e,_0x19d6bb,_0xceabb8),_0xceabb8;},__metadata=this&&this['__metadata']||function(_0x955e35,_0x799226){const _0x558e9b=a119_0x1a58;if(typeof Reflect==='object'&&typeof Reflect[_0x558e9b(0x15c)]==='function')return Reflect[_0x558e9b(0x15c)](_0x955e35,_0x799226);},__importDefault=this&&this[a119_0x2306f9(0x144)]||function(_0x56e784){const _0x1ef176=a119_0x2306f9;return _0x56e784&&_0x56e784[_0x1ef176(0x143)]?_0x56e784:{'default':_0x56e784};};Object[a119_0x2306f9(0x15b)](exports,'__esModule',{'value':!![]}),exports[a119_0x2306f9(0x145)]=void 0x0;const errors_1=require(a119_0x2306f9(0x142)),core_1=require(a119_0x2306f9(0x146)),unauthorized_error_1=require('../../core/errors/unauthorized.error'),typedi_1=__importDefault(require(a119_0x2306f9(0x15e))),git_provider_manager_1=require(a119_0x2306f9(0x140)),app_settings_service_1=require(a119_0x2306f9(0x15a));function a119_0x1a58(_0xd76cf0,_0x3c141b){return a119_0x1a58=function(_0x41e515,_0x2482ad){_0x41e515=_0x41e515-0x13b;let _0x419d37=a119_0x8c46[_0x41e515];return _0x419d37;},a119_0x1a58(_0xd76cf0,_0x3c141b);}let ProviderMiddleware=class ProviderMiddleware{constructor(_0x13ebc5){this['appSettings']=_0x13ebc5;}async[a119_0x2306f9(0x147)](_0x8b2490,_0x3c9d18){const _0x127598=a119_0x2306f9;if(_0x8b2490[_0x127598(0x14a)][_0x127598(0x153)]){this['appSettings'][_0x127598(0x159)]({'provider':_0x8b2490[_0x127598(0x14a)]['x-git-provider']['toString']()});const _0x107c6c=typedi_1[_0x127598(0x13f)][_0x127598(0x141)](git_provider_manager_1['GitProviderManager'])[_0x127598(0x13c)]();await _0x107c6c['testConnection']();const _0x37becf=await _0x107c6c[_0x127598(0x148)]();if(!_0x37becf)throw new unauthorized_error_1[(_0x127598(0x150))](errors_1['ERR_INVALID_AUTH_OPTIONS']);}}};ProviderMiddleware=__decorate([core_1[a119_0x2306f9(0x158)]('before'),__metadata('design:paramtypes',[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a119_0x2306f9(0x145)]=ProviderMiddleware;