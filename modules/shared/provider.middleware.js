const a126_0x2ae2=['../../core','25141oVtHoZ','589614ONORiW','toString','./git-provider.manager','isLoggedIn','getApi','AppSettingsService','309523PMRasb','990PQlsst','ProviderMiddleware','get','__decorate','typedi','function','handle','headers','1ODfPAe','decorate','before','x-git-provider','update','2KMQTli','defineProperty','__importDefault','testConnection','UnauthorizedError','length','17xKvzBj','test','__esModule','constructor','Middleware','75862xDFkHI','GitProviderManager','apply','1PWqnWo','164KKBjlE','design:paramtypes','3538AhJLeJ','metadata','appSettings','return\x20/\x22\x20+\x20this\x20+\x20\x22/','17359BGnZFe','157UVXxFW','default'];const a126_0x3f5cea=a126_0x1ea2;(function(_0x313261,_0x26c76b){const _0x2d1bc9=a126_0x1ea2;while(!![]){try{const _0x103b64=parseInt(_0x2d1bc9(0x11c))*-parseInt(_0x2d1bc9(0x101))+parseInt(_0x2d1bc9(0x121))*parseInt(_0x2d1bc9(0x111))+parseInt(_0x2d1bc9(0xf9))*parseInt(_0x2d1bc9(0xfe))+-parseInt(_0x2d1bc9(0xf7))*-parseInt(_0x2d1bc9(0x109))+parseInt(_0x2d1bc9(0x108))*parseInt(_0x2d1bc9(0x116))+parseInt(_0x2d1bc9(0x124))*-parseInt(_0x2d1bc9(0xfd))+-parseInt(_0x2d1bc9(0x102));if(_0x103b64===_0x26c76b)break;else _0x313261['push'](_0x313261['shift']());}catch(_0x5ec916){_0x313261['push'](_0x313261['shift']());}}}(a126_0x2ae2,0x5c5fc));function a126_0x1ea2(_0x2e8c56,_0x54e70e){return a126_0x1ea2=function(_0x5b0d59,_0x746cf9){_0x5b0d59=_0x5b0d59-0xf7;let _0x1c28ad=a126_0x2ae2[_0x5b0d59];return _0x1c28ad;},a126_0x1ea2(_0x2e8c56,_0x54e70e);}const a126_0x1c28ad=function(){let _0x18106b=!![];return function(_0x2fccab,_0x17b77a){const _0x3cb49a=_0x18106b?function(){const _0x4fe62f=a126_0x1ea2;if(_0x17b77a){const _0x2b8ad2=_0x17b77a[_0x4fe62f(0x123)](_0x2fccab,arguments);return _0x17b77a=null,_0x2b8ad2;}}:function(){};return _0x18106b=![],_0x3cb49a;};}(),a126_0x746cf9=a126_0x1c28ad(this,function(){const _0x7a5deb=function(){const _0x430c6c=a126_0x1ea2,_0x9cefc2=_0x7a5deb[_0x430c6c(0x11f)](_0x430c6c(0xfc))()[_0x430c6c(0x11f)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x9cefc2[_0x430c6c(0x11d)](a126_0x746cf9);};return _0x7a5deb();});a126_0x746cf9();'use strict';var __decorate=this&&this[a126_0x3f5cea(0x10c)]||function(_0x4db0e7,_0x471efb,_0x43836e,_0xdc6478){const _0xc9fc24=a126_0x3f5cea;var _0x592de8=arguments[_0xc9fc24(0x11b)],_0x229c0a=_0x592de8<0x3?_0x471efb:_0xdc6478===null?_0xdc6478=Object['getOwnPropertyDescriptor'](_0x471efb,_0x43836e):_0xdc6478,_0x3f6d5d;if(typeof Reflect==='object'&&typeof Reflect[_0xc9fc24(0x112)]===_0xc9fc24(0x10e))_0x229c0a=Reflect['decorate'](_0x4db0e7,_0x471efb,_0x43836e,_0xdc6478);else{for(var _0x5eef0d=_0x4db0e7[_0xc9fc24(0x11b)]-0x1;_0x5eef0d>=0x0;_0x5eef0d--)if(_0x3f6d5d=_0x4db0e7[_0x5eef0d])_0x229c0a=(_0x592de8<0x3?_0x3f6d5d(_0x229c0a):_0x592de8>0x3?_0x3f6d5d(_0x471efb,_0x43836e,_0x229c0a):_0x3f6d5d(_0x471efb,_0x43836e))||_0x229c0a;}return _0x592de8>0x3&&_0x229c0a&&Object[_0xc9fc24(0x117)](_0x471efb,_0x43836e,_0x229c0a),_0x229c0a;},__metadata=this&&this['__metadata']||function(_0x3ec627,_0x3bf3aa){const _0x30ee2f=a126_0x3f5cea;if(typeof Reflect==='object'&&typeof Reflect[_0x30ee2f(0xfa)]===_0x30ee2f(0x10e))return Reflect[_0x30ee2f(0xfa)](_0x3ec627,_0x3bf3aa);},__importDefault=this&&this[a126_0x3f5cea(0x118)]||function(_0x5514ed){return _0x5514ed&&_0x5514ed['__esModule']?_0x5514ed:{'default':_0x5514ed};};Object['defineProperty'](exports,a126_0x3f5cea(0x11e),{'value':!![]}),exports[a126_0x3f5cea(0x10a)]=void 0x0;const core_1=require(a126_0x3f5cea(0x100)),unauthorized_error_1=require('../../core/errors/unauthorized.error'),typedi_1=__importDefault(require(a126_0x3f5cea(0x10d))),git_provider_manager_1=require(a126_0x3f5cea(0x104)),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0x44cd79){const _0x15001d=a126_0x3f5cea;this[_0x15001d(0xfb)]=_0x44cd79;}async[a126_0x3f5cea(0x10f)](_0x130ea0,_0x57e206){const _0x34fa29=a126_0x3f5cea;if(_0x130ea0['headers'][_0x34fa29(0x114)]){this[_0x34fa29(0xfb)][_0x34fa29(0x115)]({'provider':_0x130ea0[_0x34fa29(0x110)][_0x34fa29(0x114)][_0x34fa29(0x103)]()});const _0x2ee944=typedi_1[_0x34fa29(0xff)][_0x34fa29(0x10b)](git_provider_manager_1[_0x34fa29(0x122)])[_0x34fa29(0x106)]();await _0x2ee944[_0x34fa29(0x119)]();try{await _0x2ee944[_0x34fa29(0x105)]();}catch(_0x1bc47c){throw new unauthorized_error_1[(_0x34fa29(0x11a))](_0x1bc47c);}}}};ProviderMiddleware=__decorate([core_1[a126_0x3f5cea(0x120)](a126_0x3f5cea(0x113)),__metadata(a126_0x3f5cea(0xf8),[app_settings_service_1[a126_0x3f5cea(0x107)]])],ProviderMiddleware),exports[a126_0x3f5cea(0x10a)]=ProviderMiddleware;