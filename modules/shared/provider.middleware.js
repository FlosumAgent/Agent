const a105_0x27fa=['./git-provider.manager','ProviderMiddleware','Middleware','5DGMXkZ','function','634265ktiLjP','AppSettingsService','defineProperty','ERR_INVALID_AUTH_OPTIONS','metadata','552479vtUzzQ','get','3881iIxWAI','decorate','./services/app-settings.service','length','getApi','design:paramtypes','../../core/errors/unauthorized.error','175220ZFGxGo','GitProviderManager','object','getOwnPropertyDescriptor','80527TfzhFq','331911kFjIcO','48xtgLww','isLoggedIn','apply','appSettings','constructor','headers','7262sXjQIS','x-git-provider','__decorate','return\x20/\x22\x20+\x20this\x20+\x20\x22/','handle','test','typedi','131QkNnfH','../../core','../../constants/errors','__metadata','testConnection','before'];const a105_0x15370d=a105_0x30c2;(function(_0x1ec974,_0x17b1e0){const _0x306f26=a105_0x30c2;while(!![]){try{const _0x208faa=-parseInt(_0x306f26(0xa1))+-parseInt(_0x306f26(0xba))+parseInt(_0x306f26(0xa8))*-parseInt(_0x306f26(0xa2))+parseInt(_0x306f26(0x9c))+parseInt(_0x306f26(0xbf))+parseInt(_0x306f26(0xc1))*parseInt(_0x306f26(0xaf))+parseInt(_0x306f26(0xa0))*parseInt(_0x306f26(0xb8));if(_0x208faa===_0x17b1e0)break;else _0x1ec974['push'](_0x1ec974['shift']());}catch(_0x5ec256){_0x1ec974['push'](_0x1ec974['shift']());}}}(a105_0x27fa,0x4f199));const a105_0x545788=function(){let _0xbce39d=!![];return function(_0x5a6d10,_0xa9d09){const _0x4c2f2f=_0xbce39d?function(){const _0x5451c7=a105_0x30c2;if(_0xa9d09){const _0x2ac7e7=_0xa9d09[_0x5451c7(0xa4)](_0x5a6d10,arguments);return _0xa9d09=null,_0x2ac7e7;}}:function(){};return _0xbce39d=![],_0x4c2f2f;};}(),a105_0x4a8709=a105_0x545788(this,function(){const _0x39a069=function(){const _0x1f1613=a105_0x30c2,_0x1884db=_0x39a069['constructor'](_0x1f1613(0xab))()[_0x1f1613(0xa6)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1884db[_0x1f1613(0xad)](a105_0x4a8709);};return _0x39a069();});a105_0x4a8709();'use strict';function a105_0x30c2(_0x1c875e,_0x1986b8){return a105_0x30c2=function(_0x4c4f3c,_0x4a8709){_0x4c4f3c=_0x4c4f3c-0x9c;let _0x545788=a105_0x27fa[_0x4c4f3c];return _0x545788;},a105_0x30c2(_0x1c875e,_0x1986b8);}var __decorate=this&&this[a105_0x15370d(0xaa)]||function(_0x15bd4a,_0x7d9d0c,_0x51e6ea,_0x310ba4){const _0x542953=a105_0x15370d;var _0x248a19=arguments[_0x542953(0xc4)],_0x3465ad=_0x248a19<0x3?_0x7d9d0c:_0x310ba4===null?_0x310ba4=Object[_0x542953(0x9f)](_0x7d9d0c,_0x51e6ea):_0x310ba4,_0x5e5fe1;if(typeof Reflect===_0x542953(0x9e)&&typeof Reflect[_0x542953(0xc2)]==='function')_0x3465ad=Reflect[_0x542953(0xc2)](_0x15bd4a,_0x7d9d0c,_0x51e6ea,_0x310ba4);else{for(var _0x56fff1=_0x15bd4a[_0x542953(0xc4)]-0x1;_0x56fff1>=0x0;_0x56fff1--)if(_0x5e5fe1=_0x15bd4a[_0x56fff1])_0x3465ad=(_0x248a19<0x3?_0x5e5fe1(_0x3465ad):_0x248a19>0x3?_0x5e5fe1(_0x7d9d0c,_0x51e6ea,_0x3465ad):_0x5e5fe1(_0x7d9d0c,_0x51e6ea))||_0x3465ad;}return _0x248a19>0x3&&_0x3465ad&&Object['defineProperty'](_0x7d9d0c,_0x51e6ea,_0x3465ad),_0x3465ad;},__metadata=this&&this[a105_0x15370d(0xb2)]||function(_0x151a8d,_0xf11f3){const _0xf88d81=a105_0x15370d;if(typeof Reflect===_0xf88d81(0x9e)&&typeof Reflect['metadata']===_0xf88d81(0xb9))return Reflect[_0xf88d81(0xbe)](_0x151a8d,_0xf11f3);},__importDefault=this&&this['__importDefault']||function(_0x364b39){return _0x364b39&&_0x364b39['__esModule']?_0x364b39:{'default':_0x364b39};};Object[a105_0x15370d(0xbc)](exports,'__esModule',{'value':!![]}),exports[a105_0x15370d(0xb6)]=void 0x0;const errors_1=require(a105_0x15370d(0xb1)),core_1=require(a105_0x15370d(0xb0)),unauthorized_error_1=require(a105_0x15370d(0xc7)),typedi_1=__importDefault(require(a105_0x15370d(0xae))),git_provider_manager_1=require(a105_0x15370d(0xb5)),app_settings_service_1=require(a105_0x15370d(0xc3));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x46ba3d){const _0x4e229a=a105_0x15370d;this[_0x4e229a(0xa5)]=_0x46ba3d;}async[a105_0x15370d(0xac)](_0x12089c,_0x586847){const _0x2bb669=a105_0x15370d;if(_0x12089c[_0x2bb669(0xa7)][_0x2bb669(0xa9)]){this['appSettings']['update']({'provider':_0x12089c[_0x2bb669(0xa7)][_0x2bb669(0xa9)]['toString']()});const _0x40b60d=typedi_1['default'][_0x2bb669(0xc0)](git_provider_manager_1[_0x2bb669(0x9d)])[_0x2bb669(0xc5)]();await _0x40b60d[_0x2bb669(0xb3)]();const _0x13047b=await _0x40b60d[_0x2bb669(0xa3)]();if(!_0x13047b)throw new unauthorized_error_1['UnauthorizedError'](errors_1[_0x2bb669(0xbd)]);}}};ProviderMiddleware=__decorate([core_1[a105_0x15370d(0xb7)](a105_0x15370d(0xb4)),__metadata(a105_0x15370d(0xc6),[app_settings_service_1[a105_0x15370d(0xbb)]])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;