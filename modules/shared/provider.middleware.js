const a126_0x56bf=['158675qqMYvc','ProviderMiddleware','x-git-provider','__esModule','testConnection','update','__metadata','./services/app-settings.service','object','AppSettingsService','../../core','getApi','isLoggedIn','Middleware','headers','GitProviderManager','get','__decorate','../../core/errors/unauthorized.error','default','129555eLRLvj','return\x20/\x22\x20+\x20this\x20+\x20\x22/','length','90707twkgvS','8438AFMMlJ','__importDefault','3QNHahM','function','toString','75YMrIjK','345774cFIOof','constructor','design:paramtypes','typedi','73030PmurzG','./git-provider.manager','metadata','apply','308518SudZqf','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}'];const a126_0x5a8677=a126_0x5484;(function(_0x20b48a,_0x53dfa6){const _0x206389=a126_0x5484;while(!![]){try{const _0x2b0a59=parseInt(_0x206389(0x75))+parseInt(_0x206389(0x79))+-parseInt(_0x206389(0x93))+-parseInt(_0x206389(0x7f))+-parseInt(_0x206389(0x7d))+parseInt(_0x206389(0x6e))*-parseInt(_0x206389(0x71))+-parseInt(_0x206389(0x74))*-parseInt(_0x206389(0x6f));if(_0x2b0a59===_0x53dfa6)break;else _0x20b48a['push'](_0x20b48a['shift']());}catch(_0x26264d){_0x20b48a['push'](_0x20b48a['shift']());}}}(a126_0x56bf,0x2ca01));const a126_0x3138f1=function(){let _0x336a90=!![];return function(_0x2e2dbc,_0x19c122){const _0x5edc87=_0x336a90?function(){const _0x4db8ee=a126_0x5484;if(_0x19c122){const _0x340f8c=_0x19c122[_0x4db8ee(0x7c)](_0x2e2dbc,arguments);return _0x19c122=null,_0x340f8c;}}:function(){};return _0x336a90=![],_0x5edc87;};}(),a126_0x1e989f=a126_0x3138f1(this,function(){const _0x271193=function(){const _0x5309a4=a126_0x5484,_0x3ade70=_0x271193[_0x5309a4(0x76)](_0x5309a4(0x94))()[_0x5309a4(0x76)](_0x5309a4(0x7e));return!_0x3ade70['test'](a126_0x1e989f);};return _0x271193();});a126_0x1e989f();'use strict';var __decorate=this&&this[a126_0x5a8677(0x90)]||function(_0x3cdf0b,_0x3a3129,_0x485447,_0x4f7cb1){const _0x5a2cbe=a126_0x5a8677;var _0x2f67bd=arguments[_0x5a2cbe(0x6d)],_0x3f765b=_0x2f67bd<0x3?_0x3a3129:_0x4f7cb1===null?_0x4f7cb1=Object['getOwnPropertyDescriptor'](_0x3a3129,_0x485447):_0x4f7cb1,_0x1afef5;if(typeof Reflect===_0x5a2cbe(0x87)&&typeof Reflect['decorate']===_0x5a2cbe(0x72))_0x3f765b=Reflect['decorate'](_0x3cdf0b,_0x3a3129,_0x485447,_0x4f7cb1);else{for(var _0xacd7b6=_0x3cdf0b['length']-0x1;_0xacd7b6>=0x0;_0xacd7b6--)if(_0x1afef5=_0x3cdf0b[_0xacd7b6])_0x3f765b=(_0x2f67bd<0x3?_0x1afef5(_0x3f765b):_0x2f67bd>0x3?_0x1afef5(_0x3a3129,_0x485447,_0x3f765b):_0x1afef5(_0x3a3129,_0x485447))||_0x3f765b;}return _0x2f67bd>0x3&&_0x3f765b&&Object['defineProperty'](_0x3a3129,_0x485447,_0x3f765b),_0x3f765b;},__metadata=this&&this[a126_0x5a8677(0x85)]||function(_0x55fbf7,_0x48f5a1){const _0x4b96a6=a126_0x5a8677;if(typeof Reflect===_0x4b96a6(0x87)&&typeof Reflect['metadata']==='function')return Reflect[_0x4b96a6(0x7b)](_0x55fbf7,_0x48f5a1);},__importDefault=this&&this[a126_0x5a8677(0x70)]||function(_0x21f6ca){const _0x403a0c=a126_0x5a8677;return _0x21f6ca&&_0x21f6ca[_0x403a0c(0x82)]?_0x21f6ca:{'default':_0x21f6ca};};Object['defineProperty'](exports,a126_0x5a8677(0x82),{'value':!![]}),exports[a126_0x5a8677(0x80)]=void 0x0;const core_1=require(a126_0x5a8677(0x89)),unauthorized_error_1=require(a126_0x5a8677(0x91)),typedi_1=__importDefault(require(a126_0x5a8677(0x78))),git_provider_manager_1=require(a126_0x5a8677(0x7a)),app_settings_service_1=require(a126_0x5a8677(0x86));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x7fbd){this['appSettings']=_0x7fbd;}async['handle'](_0x41a79b,_0x442adf){const _0x2a65f8=a126_0x5a8677;if(_0x41a79b['headers'][_0x2a65f8(0x81)]){this['appSettings'][_0x2a65f8(0x84)]({'provider':_0x41a79b[_0x2a65f8(0x8d)]['x-git-provider'][_0x2a65f8(0x73)]()});const _0x4b160e=typedi_1[_0x2a65f8(0x92)][_0x2a65f8(0x8f)](git_provider_manager_1[_0x2a65f8(0x8e)])[_0x2a65f8(0x8a)]();await _0x4b160e[_0x2a65f8(0x83)]();try{await _0x4b160e[_0x2a65f8(0x8b)]();}catch(_0x4a4c62){throw new unauthorized_error_1['UnauthorizedError'](_0x4a4c62);}}}};function a126_0x5484(_0x470676,_0x4830c5){return a126_0x5484=function(_0x41bee1,_0x1e989f){_0x41bee1=_0x41bee1-0x6d;let _0x3138f1=a126_0x56bf[_0x41bee1];return _0x3138f1;},a126_0x5484(_0x470676,_0x4830c5);}ProviderMiddleware=__decorate([core_1[a126_0x5a8677(0x8c)]('before'),__metadata(a126_0x5a8677(0x77),[app_settings_service_1[a126_0x5a8677(0x88)]])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;