const a157_0x1af0e7=a157_0x32ce;(function(_0x53f377,_0x237742){const _0x701b60=a157_0x32ce,_0x2ab95d=_0x53f377();while(!![]){try{const _0x4fd7e3=-parseInt(_0x701b60(0xdd))/0x1+parseInt(_0x701b60(0xc5))/0x2*(-parseInt(_0x701b60(0xd7))/0x3)+parseInt(_0x701b60(0xd2))/0x4*(-parseInt(_0x701b60(0xbd))/0x5)+parseInt(_0x701b60(0xb8))/0x6*(parseInt(_0x701b60(0xc0))/0x7)+-parseInt(_0x701b60(0xc2))/0x8+parseInt(_0x701b60(0xc3))/0x9*(parseInt(_0x701b60(0xbb))/0xa)+parseInt(_0x701b60(0xcc))/0xb*(parseInt(_0x701b60(0xdc))/0xc);if(_0x4fd7e3===_0x237742)break;else _0x2ab95d['push'](_0x2ab95d['shift']());}catch(_0x5af7b5){_0x2ab95d['push'](_0x2ab95d['shift']());}}}(a157_0x4267,0xb3d74));const a157_0x48381c=function(){let _0xcb3b87=!![];return function(_0x45685e,_0x267245){const _0xd2b1b4=_0xcb3b87?function(){if(_0x267245){const _0x583b09=_0x267245['apply'](_0x45685e,arguments);return _0x267245=null,_0x583b09;}}:function(){};return _0xcb3b87=![],_0xd2b1b4;};}(),a157_0x4fe29b=a157_0x48381c(this,function(){const _0x1bbfbd=a157_0x32ce;return a157_0x4fe29b['toString']()[_0x1bbfbd(0xd6)](_0x1bbfbd(0xcf))[_0x1bbfbd(0xba)]()[_0x1bbfbd(0xd9)](a157_0x4fe29b)['search']('(((.+)+)+)+$');});a157_0x4fe29b();'use strict';var __decorate=this&&this[a157_0x1af0e7(0xd5)]||function(_0x2fad08,_0x21054a,_0x3f4266,_0x557156){const _0x177e34=a157_0x1af0e7;var _0x18f280=arguments['length'],_0xfa9995=_0x18f280<0x3?_0x21054a:_0x557156===null?_0x557156=Object[_0x177e34(0xc8)](_0x21054a,_0x3f4266):_0x557156,_0x1122e2;if(typeof Reflect===_0x177e34(0xc9)&&typeof Reflect[_0x177e34(0xdf)]==='function')_0xfa9995=Reflect['decorate'](_0x2fad08,_0x21054a,_0x3f4266,_0x557156);else{for(var _0x97427b=_0x2fad08[_0x177e34(0xca)]-0x1;_0x97427b>=0x0;_0x97427b--)if(_0x1122e2=_0x2fad08[_0x97427b])_0xfa9995=(_0x18f280<0x3?_0x1122e2(_0xfa9995):_0x18f280>0x3?_0x1122e2(_0x21054a,_0x3f4266,_0xfa9995):_0x1122e2(_0x21054a,_0x3f4266))||_0xfa9995;}return _0x18f280>0x3&&_0xfa9995&&Object[_0x177e34(0xbf)](_0x21054a,_0x3f4266,_0xfa9995),_0xfa9995;},__metadata=this&&this[a157_0x1af0e7(0xd1)]||function(_0x14e1da,_0x1b7760){const _0x17a3c6=a157_0x1af0e7;if(typeof Reflect==='object'&&typeof Reflect[_0x17a3c6(0xc4)]==='function')return Reflect['metadata'](_0x14e1da,_0x1b7760);},__importDefault=this&&this['__importDefault']||function(_0xd06720){const _0x3f4ca8=a157_0x1af0e7;return _0xd06720&&_0xd06720[_0x3f4ca8(0xc7)]?_0xd06720:{'default':_0xd06720};};function a157_0x4267(){const _0x10317c=['get','x-git-provider','__decorate','search','513JRSFEn','isLoggedIn','constructor','update','UnauthorizedError','50412ZzxLLd','363921Rwmhxa','typedi','decorate','6sDFgix','ProviderMiddleware','toString','6164290FZEspk','headers','5WNGmtP','./git-provider.manager','defineProperty','9090165BSjvXD','GitProviderManager','6676528SjhQdQ','18aJwGEB','metadata','1804snBxhi','default','__esModule','getOwnPropertyDescriptor','object','length','before','1133CVqqdI','AppSettingsService','handle','(((.+)+)+)+$','design:paramtypes','__metadata','3499196jnOxGw'];a157_0x4267=function(){return _0x10317c;};return a157_0x4267();}function a157_0x32ce(_0x2a1c77,_0x144486){const _0xed2667=a157_0x4267();return a157_0x32ce=function(_0x4fe29b,_0x48381c){_0x4fe29b=_0x4fe29b-0xb8;let _0x426744=_0xed2667[_0x4fe29b];return _0x426744;},a157_0x32ce(_0x2a1c77,_0x144486);}Object['defineProperty'](exports,a157_0x1af0e7(0xc7),{'value':!![]}),exports['ProviderMiddleware']=void 0x0;const core_1=require('../../core'),unauthorized_error_1=require('../../core/errors/unauthorized.error'),typedi_1=__importDefault(require(a157_0x1af0e7(0xde))),internal_server_error_1=require('../../core/errors/internal-server.error'),git_provider_manager_1=require(a157_0x1af0e7(0xbe)),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0x4b86f8){this['appSettings']=_0x4b86f8;}async[a157_0x1af0e7(0xce)](_0x297659,_0x52d959){const _0x290a6e=a157_0x1af0e7;if(_0x297659[_0x290a6e(0xbc)][_0x290a6e(0xd4)]){this['appSettings'][_0x290a6e(0xda)]({'provider':_0x297659[_0x290a6e(0xbc)]['x-git-provider'][_0x290a6e(0xba)]()});const _0x5899bd=typedi_1[_0x290a6e(0xc6)][_0x290a6e(0xd3)](git_provider_manager_1[_0x290a6e(0xc1)])['getApi']();try{await _0x5899bd[_0x290a6e(0xd8)]();}catch(_0x3a4936){if(_0x3a4936 instanceof internal_server_error_1['InternalServerError'])throw _0x3a4936;throw new unauthorized_error_1[(_0x290a6e(0xdb))](_0x3a4936);}}}};ProviderMiddleware=__decorate([core_1['Middleware'](a157_0x1af0e7(0xcb)),__metadata(a157_0x1af0e7(0xd0),[app_settings_service_1[a157_0x1af0e7(0xcd)]])],ProviderMiddleware),exports[a157_0x1af0e7(0xb9)]=ProviderMiddleware;