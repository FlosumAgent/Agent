const a124_0x2891=['appSettings','metadata','UnauthorizedError','return\x20/\x22\x20+\x20this\x20+\x20\x22/','277122JYMXZa','514126RlXbzw','object','length','testConnection','test','2011gepZfK','101faAlLf','constructor','./services/app-settings.service','57034FqmStl','get','441471QxUCpq','509494WbSnwc','toString','function','551KqHMwh','headers','decorate','__decorate','getApi','ProviderMiddleware','x-git-provider','handle','defineProperty','1YrsNly','257wBpZLs','design:paramtypes','isLoggedIn','default','getOwnPropertyDescriptor','../../core/errors/unauthorized.error','__esModule','update'];const a124_0x31112d=a124_0x28f6;(function(_0x49817d,_0x1a1e6f){const _0x157f8e=a124_0x28f6;while(!![]){try{const _0x38509c=-parseInt(_0x157f8e(0x19a))+-parseInt(_0x157f8e(0x181))*parseInt(_0x157f8e(0x193))+parseInt(_0x157f8e(0x199))+-parseInt(_0x157f8e(0x194))*-parseInt(_0x157f8e(0x19d))+parseInt(_0x157f8e(0x197))+parseInt(_0x157f8e(0x180))*parseInt(_0x157f8e(0x18d))+parseInt(_0x157f8e(0x18e));if(_0x38509c===_0x1a1e6f)break;else _0x49817d['push'](_0x49817d['shift']());}catch(_0x2ee828){_0x49817d['push'](_0x49817d['shift']());}}}(a124_0x2891,0x4de6b));const a124_0x1745c1=function(){let _0x33a68a=!![];return function(_0x3745b1,_0x46d881){const _0x21fc80=_0x33a68a?function(){if(_0x46d881){const _0x45dad1=_0x46d881['apply'](_0x3745b1,arguments);return _0x46d881=null,_0x45dad1;}}:function(){};return _0x33a68a=![],_0x21fc80;};}(),a124_0x602222=a124_0x1745c1(this,function(){const _0x1bca60=function(){const _0x4944c5=a124_0x28f6,_0x2af491=_0x1bca60[_0x4944c5(0x195)](_0x4944c5(0x18c))()[_0x4944c5(0x195)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2af491[_0x4944c5(0x192)](a124_0x602222);};return _0x1bca60();});a124_0x602222();'use strict';var __decorate=this&&this[a124_0x31112d(0x1a0)]||function(_0x205473,_0x8d25a8,_0x3e391f,_0x67e2b8){const _0x754a6=a124_0x31112d;var _0x22a91f=arguments['length'],_0x47f325=_0x22a91f<0x3?_0x8d25a8:_0x67e2b8===null?_0x67e2b8=Object[_0x754a6(0x185)](_0x8d25a8,_0x3e391f):_0x67e2b8,_0x413158;if(typeof Reflect===_0x754a6(0x18f)&&typeof Reflect[_0x754a6(0x19f)]===_0x754a6(0x19c))_0x47f325=Reflect[_0x754a6(0x19f)](_0x205473,_0x8d25a8,_0x3e391f,_0x67e2b8);else{for(var _0x8b1e92=_0x205473[_0x754a6(0x190)]-0x1;_0x8b1e92>=0x0;_0x8b1e92--)if(_0x413158=_0x205473[_0x8b1e92])_0x47f325=(_0x22a91f<0x3?_0x413158(_0x47f325):_0x22a91f>0x3?_0x413158(_0x8d25a8,_0x3e391f,_0x47f325):_0x413158(_0x8d25a8,_0x3e391f))||_0x47f325;}return _0x22a91f>0x3&&_0x47f325&&Object[_0x754a6(0x17f)](_0x8d25a8,_0x3e391f,_0x47f325),_0x47f325;},__metadata=this&&this['__metadata']||function(_0x1c1729,_0x4e96c1){const _0x352bf2=a124_0x31112d;if(typeof Reflect===_0x352bf2(0x18f)&&typeof Reflect[_0x352bf2(0x18a)]===_0x352bf2(0x19c))return Reflect[_0x352bf2(0x18a)](_0x1c1729,_0x4e96c1);},__importDefault=this&&this['__importDefault']||function(_0x463a3d){const _0x32ecf1=a124_0x31112d;return _0x463a3d&&_0x463a3d[_0x32ecf1(0x187)]?_0x463a3d:{'default':_0x463a3d};};function a124_0x28f6(_0x11924f,_0x1e9385){return a124_0x28f6=function(_0x585b48,_0x602222){_0x585b48=_0x585b48-0x17d;let _0x1745c1=a124_0x2891[_0x585b48];return _0x1745c1;},a124_0x28f6(_0x11924f,_0x1e9385);}Object[a124_0x31112d(0x17f)](exports,a124_0x31112d(0x187),{'value':!![]}),exports[a124_0x31112d(0x1a2)]=void 0x0;const core_1=require('../../core'),unauthorized_error_1=require(a124_0x31112d(0x186)),typedi_1=__importDefault(require('typedi')),git_provider_manager_1=require('./git-provider.manager'),app_settings_service_1=require(a124_0x31112d(0x196));let ProviderMiddleware=class ProviderMiddleware{constructor(_0xa10870){this['appSettings']=_0xa10870;}async[a124_0x31112d(0x17e)](_0x205420,_0xacc7a5){const _0x2962f1=a124_0x31112d;if(_0x205420[_0x2962f1(0x19e)][_0x2962f1(0x17d)]){this[_0x2962f1(0x189)][_0x2962f1(0x188)]({'provider':_0x205420[_0x2962f1(0x19e)][_0x2962f1(0x17d)][_0x2962f1(0x19b)]()});const _0x4e5557=typedi_1[_0x2962f1(0x184)][_0x2962f1(0x198)](git_provider_manager_1['GitProviderManager'])[_0x2962f1(0x1a1)]();await _0x4e5557[_0x2962f1(0x191)]();try{await _0x4e5557[_0x2962f1(0x183)]();}catch(_0x1125db){throw new unauthorized_error_1[(_0x2962f1(0x18b))](_0x1125db);}}}};ProviderMiddleware=__decorate([core_1['Middleware']('before'),__metadata(a124_0x31112d(0x182),[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a124_0x31112d(0x1a2)]=ProviderMiddleware;