const a105_0x4348=['ProviderMiddleware','2cQgnFk','__decorate','before','ERR_INVALID_AUTH_OPTIONS','562465pWuEix','771argxGN','appSettings','headers','toString','getOwnPropertyDescriptor','constructor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','./services/app-settings.service','755142kLjqvG','__importDefault','AppSettingsService','typedi','metadata','return\x20/\x22\x20+\x20this\x20+\x20\x22/','handle','949CAfbLj','defineProperty','382309iSFgFo','__metadata','1duiahQ','UnauthorizedError','object','GitProviderManager','function','410141sMQTMz','1112553YxfYwL','decorate','../../core/errors/unauthorized.error','../../core','3557004EyqKuJ','../../constants/errors','testConnection'];const a105_0x5ca6ae=a105_0x2d6c;(function(_0x1b1022,_0x5b7ab3){const _0x27cdeb=a105_0x2d6c;while(!![]){try{const _0x54efdc=-parseInt(_0x27cdeb(0x1a8))+parseInt(_0x27cdeb(0x1ba))*parseInt(_0x27cdeb(0x1a4))+-parseInt(_0x27cdeb(0x1b1))+-parseInt(_0x27cdeb(0x1c2))+parseInt(_0x27cdeb(0x1a9))*-parseInt(_0x27cdeb(0x1b8))+-parseInt(_0x27cdeb(0x1c1))*parseInt(_0x27cdeb(0x1bc))+parseInt(_0x27cdeb(0x1a0));if(_0x54efdc===_0x5b7ab3)break;else _0x1b1022['push'](_0x1b1022['shift']());}catch(_0x400cf3){_0x1b1022['push'](_0x1b1022['shift']());}}}(a105_0x4348,0xb704a));const a105_0x298a9a=function(){let _0x1da6a5=!![];return function(_0x1d0a13,_0x11bbce){const _0x5788ba=_0x1da6a5?function(){if(_0x11bbce){const _0x2ee170=_0x11bbce['apply'](_0x1d0a13,arguments);return _0x11bbce=null,_0x2ee170;}}:function(){};return _0x1da6a5=![],_0x5788ba;};}(),a105_0x1e57f1=a105_0x298a9a(this,function(){const _0x88c479=function(){const _0x385a53=a105_0x2d6c,_0x2b936c=_0x88c479[_0x385a53(0x1ae)](_0x385a53(0x1b6))()['constructor'](_0x385a53(0x1af));return!_0x2b936c['test'](a105_0x1e57f1);};return _0x88c479();});a105_0x1e57f1();'use strict';function a105_0x2d6c(_0x302686,_0xf7037f){return a105_0x2d6c=function(_0x472a93,_0x1e57f1){_0x472a93=_0x472a93-0x1a0;let _0x298a9a=a105_0x4348[_0x472a93];return _0x298a9a;},a105_0x2d6c(_0x302686,_0xf7037f);}var __decorate=this&&this[a105_0x5ca6ae(0x1a5)]||function(_0x9f359c,_0x293c60,_0x1eceb4,_0x2af4c9){const _0x56a8df=a105_0x5ca6ae;var _0x28bb6d=arguments['length'],_0xdcd42b=_0x28bb6d<0x3?_0x293c60:_0x2af4c9===null?_0x2af4c9=Object[_0x56a8df(0x1ad)](_0x293c60,_0x1eceb4):_0x2af4c9,_0x25773a;if(typeof Reflect===_0x56a8df(0x1be)&&typeof Reflect[_0x56a8df(0x1c3)]===_0x56a8df(0x1c0))_0xdcd42b=Reflect[_0x56a8df(0x1c3)](_0x9f359c,_0x293c60,_0x1eceb4,_0x2af4c9);else{for(var _0x361b6e=_0x9f359c['length']-0x1;_0x361b6e>=0x0;_0x361b6e--)if(_0x25773a=_0x9f359c[_0x361b6e])_0xdcd42b=(_0x28bb6d<0x3?_0x25773a(_0xdcd42b):_0x28bb6d>0x3?_0x25773a(_0x293c60,_0x1eceb4,_0xdcd42b):_0x25773a(_0x293c60,_0x1eceb4))||_0xdcd42b;}return _0x28bb6d>0x3&&_0xdcd42b&&Object[_0x56a8df(0x1b9)](_0x293c60,_0x1eceb4,_0xdcd42b),_0xdcd42b;},__metadata=this&&this[a105_0x5ca6ae(0x1bb)]||function(_0x4c5b20,_0x272715){const _0x3b77df=a105_0x5ca6ae;if(typeof Reflect==='object'&&typeof Reflect[_0x3b77df(0x1b5)]==='function')return Reflect[_0x3b77df(0x1b5)](_0x4c5b20,_0x272715);},__importDefault=this&&this[a105_0x5ca6ae(0x1b2)]||function(_0x6d5639){return _0x6d5639&&_0x6d5639['__esModule']?_0x6d5639:{'default':_0x6d5639};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a105_0x5ca6ae(0x1a3)]=void 0x0;const errors_1=require(a105_0x5ca6ae(0x1a1)),core_1=require(a105_0x5ca6ae(0x1c5)),unauthorized_error_1=require(a105_0x5ca6ae(0x1c4)),typedi_1=__importDefault(require(a105_0x5ca6ae(0x1b4))),git_provider_manager_1=require('./git-provider.manager'),app_settings_service_1=require(a105_0x5ca6ae(0x1b0));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x45d5f2){const _0x2e5ffe=a105_0x5ca6ae;this[_0x2e5ffe(0x1aa)]=_0x45d5f2;}async[a105_0x5ca6ae(0x1b7)](_0x1762a3,_0x16828d){const _0x54a54b=a105_0x5ca6ae;if(_0x1762a3['headers']['x-git-provider']){this['appSettings']['update']({'provider':_0x1762a3[_0x54a54b(0x1ab)]['x-git-provider'][_0x54a54b(0x1ac)]()});const _0x379328=typedi_1['default']['get'](git_provider_manager_1[_0x54a54b(0x1bf)])['getApi']();await _0x379328[_0x54a54b(0x1a2)]();const _0x22c44a=await _0x379328['isLoggedIn']();if(!_0x22c44a)throw new unauthorized_error_1[(_0x54a54b(0x1bd))](errors_1[_0x54a54b(0x1a7)]);}}};ProviderMiddleware=__decorate([core_1['Middleware'](a105_0x5ca6ae(0x1a6)),__metadata('design:paramtypes',[app_settings_service_1[a105_0x5ca6ae(0x1b3)]])],ProviderMiddleware),exports[a105_0x5ca6ae(0x1a3)]=ProviderMiddleware;