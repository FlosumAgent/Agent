const a108_0x39a3=['__esModule','__decorate','73iNnxUt','defineProperty','headers','./git-provider.manager','apply','object','426415GUDATX','metadata','272084pjhEhS','Middleware','168ttQrMC','decorate','2XmsCeC','design:paramtypes','testConnection','983cPMmaU','__metadata','test','handle','toString','../../constants/errors','ERR_INVALID_AUTH_OPTIONS','2elMGPo','length','../../core/errors/unauthorized.error','before','update','__importDefault','GitProviderManager','ProviderMiddleware','get','appSettings','function','return\x20/\x22\x20+\x20this\x20+\x20\x22/','x-git-provider','580193WNdDka','constructor','572954YBdhHR','getApi','../../core','447ACOufh','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','typedi','63970xfjbJU'];const a108_0x372932=a108_0x337d;(function(_0x30fc80,_0x7efd7b){const _0x67bb6c=a108_0x337d;while(!![]){try{const _0x3c1f8f=-parseInt(_0x67bb6c(0x9f))*parseInt(_0x67bb6c(0x80))+parseInt(_0x67bb6c(0x9c))+parseInt(_0x67bb6c(0x94))+parseInt(_0x67bb6c(0xa7))+parseInt(_0x67bb6c(0x99))*-parseInt(_0x67bb6c(0xa9))+parseInt(_0x67bb6c(0x7d))*parseInt(_0x67bb6c(0xa5))+parseInt(_0x67bb6c(0x87))*-parseInt(_0x67bb6c(0x96));if(_0x3c1f8f===_0x7efd7b)break;else _0x30fc80['push'](_0x30fc80['shift']());}catch(_0x54151e){_0x30fc80['push'](_0x30fc80['shift']());}}}(a108_0x39a3,0x7449a));const a108_0x45a75e=function(){let _0x58400c=!![];return function(_0x2e489f,_0x27e860){const _0x34cccc=_0x58400c?function(){const _0x54af3c=a108_0x337d;if(_0x27e860){const _0x60cf18=_0x27e860[_0x54af3c(0xa3)](_0x2e489f,arguments);return _0x27e860=null,_0x60cf18;}}:function(){};return _0x58400c=![],_0x34cccc;};}(),a108_0x4e88f7=a108_0x45a75e(this,function(){const _0x37ee04=function(){const _0x59f074=a108_0x337d,_0x3e9be6=_0x37ee04[_0x59f074(0x95)](_0x59f074(0x92))()[_0x59f074(0x95)](_0x59f074(0x9a));return!_0x3e9be6[_0x59f074(0x82)](a108_0x4e88f7);};return _0x37ee04();});a108_0x4e88f7();function a108_0x337d(_0x34547b,_0x1808cc){return a108_0x337d=function(_0x154fd4,_0x4e88f7){_0x154fd4=_0x154fd4-0x7d;let _0x45a75e=a108_0x39a3[_0x154fd4];return _0x45a75e;},a108_0x337d(_0x34547b,_0x1808cc);}'use strict';var __decorate=this&&this[a108_0x372932(0x9e)]||function(_0x1ebcbf,_0x3f4006,_0x264262,_0x5ba0e2){const _0x8a85b7=a108_0x372932;var _0x295f12=arguments[_0x8a85b7(0x88)],_0xd88a0c=_0x295f12<0x3?_0x3f4006:_0x5ba0e2===null?_0x5ba0e2=Object['getOwnPropertyDescriptor'](_0x3f4006,_0x264262):_0x5ba0e2,_0xafa87b;if(typeof Reflect===_0x8a85b7(0xa4)&&typeof Reflect['decorate']==='function')_0xd88a0c=Reflect[_0x8a85b7(0xaa)](_0x1ebcbf,_0x3f4006,_0x264262,_0x5ba0e2);else{for(var _0x1d655a=_0x1ebcbf['length']-0x1;_0x1d655a>=0x0;_0x1d655a--)if(_0xafa87b=_0x1ebcbf[_0x1d655a])_0xd88a0c=(_0x295f12<0x3?_0xafa87b(_0xd88a0c):_0x295f12>0x3?_0xafa87b(_0x3f4006,_0x264262,_0xd88a0c):_0xafa87b(_0x3f4006,_0x264262))||_0xd88a0c;}return _0x295f12>0x3&&_0xd88a0c&&Object[_0x8a85b7(0xa0)](_0x3f4006,_0x264262,_0xd88a0c),_0xd88a0c;},__metadata=this&&this[a108_0x372932(0x81)]||function(_0x217c79,_0x2ef4d3){const _0xe9da05=a108_0x372932;if(typeof Reflect===_0xe9da05(0xa4)&&typeof Reflect[_0xe9da05(0xa6)]===_0xe9da05(0x91))return Reflect['metadata'](_0x217c79,_0x2ef4d3);},__importDefault=this&&this[a108_0x372932(0x8c)]||function(_0x41159d){const _0x147055=a108_0x372932;return _0x41159d&&_0x41159d[_0x147055(0x9d)]?_0x41159d:{'default':_0x41159d};};Object[a108_0x372932(0xa0)](exports,a108_0x372932(0x9d),{'value':!![]}),exports[a108_0x372932(0x8e)]=void 0x0;const errors_1=require(a108_0x372932(0x85)),core_1=require(a108_0x372932(0x98)),unauthorized_error_1=require(a108_0x372932(0x89)),typedi_1=__importDefault(require(a108_0x372932(0x9b))),git_provider_manager_1=require(a108_0x372932(0xa2)),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0x181b14){const _0x274d55=a108_0x372932;this[_0x274d55(0x90)]=_0x181b14;}async[a108_0x372932(0x83)](_0x16127c,_0x1f1ee6){const _0x31a833=a108_0x372932;if(_0x16127c[_0x31a833(0xa1)][_0x31a833(0x93)]){this[_0x31a833(0x90)][_0x31a833(0x8b)]({'provider':_0x16127c[_0x31a833(0xa1)]['x-git-provider'][_0x31a833(0x84)]()});const _0x1d2644=typedi_1['default'][_0x31a833(0x8f)](git_provider_manager_1[_0x31a833(0x8d)])[_0x31a833(0x97)]();await _0x1d2644[_0x31a833(0x7f)]();const _0x295652=await _0x1d2644['isLoggedIn']();if(!_0x295652)throw new unauthorized_error_1['UnauthorizedError'](errors_1[_0x31a833(0x86)]);}}};ProviderMiddleware=__decorate([core_1[a108_0x372932(0xa8)](a108_0x372932(0x8a)),__metadata(a108_0x372932(0x7e),[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a108_0x372932(0x8e)]=ProviderMiddleware;