const a119_0x5a1f=['391094vrZYqC','return\x20/\x22\x20+\x20this\x20+\x20\x22/','function','ERR_INVALID_AUTH_OPTIONS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','appSettings','GitProviderManager','../../core/errors/unauthorized.error','length','defineProperty','update','x-git-provider','object','996865XYRHCq','__esModule','290749ccVRJQ','toString','decorate','Middleware','678045pcyhDD','864741VIDZre','214257bACFAi','2BTXOPl','constructor','../../core','getApi','857541dLVrqN','typedi','metadata','AppSettingsService','default','1ZXKwEE','headers','getOwnPropertyDescriptor','apply','test','UnauthorizedError','isLoggedIn','design:paramtypes','before'];function a119_0x154c(_0x25ef8a,_0x3a8547){return a119_0x154c=function(_0x38e0b0,_0x3a56b7){_0x38e0b0=_0x38e0b0-0x1da;let _0x5b4a46=a119_0x5a1f[_0x38e0b0];return _0x5b4a46;},a119_0x154c(_0x25ef8a,_0x3a8547);}const a119_0x26cd6e=a119_0x154c;(function(_0x5df8dc,_0x4712d6){const _0x132a3d=a119_0x154c;while(!![]){try{const _0x394b7d=-parseInt(_0x132a3d(0x1fe))+parseInt(_0x132a3d(0x1dc))+parseInt(_0x132a3d(0x1e8))*parseInt(_0x132a3d(0x1de))+-parseInt(_0x132a3d(0x1f1))+-parseInt(_0x132a3d(0x1e3))+parseInt(_0x132a3d(0x200))+parseInt(_0x132a3d(0x1df))*parseInt(_0x132a3d(0x1dd));if(_0x394b7d===_0x4712d6)break;else _0x5df8dc['push'](_0x5df8dc['shift']());}catch(_0x48a96b){_0x5df8dc['push'](_0x5df8dc['shift']());}}}(a119_0x5a1f,0xa2d99));const a119_0x5b4a46=function(){let _0x4d4b6e=!![];return function(_0x41bc94,_0x1c38fe){const _0xae3b6c=_0x4d4b6e?function(){const _0x105771=a119_0x154c;if(_0x1c38fe){const _0x13c116=_0x1c38fe[_0x105771(0x1eb)](_0x41bc94,arguments);return _0x1c38fe=null,_0x13c116;}}:function(){};return _0x4d4b6e=![],_0xae3b6c;};}(),a119_0x3a56b7=a119_0x5b4a46(this,function(){const _0xc1179f=function(){const _0x2a858d=a119_0x154c,_0x482afb=_0xc1179f[_0x2a858d(0x1e0)](_0x2a858d(0x1f2))()[_0x2a858d(0x1e0)](_0x2a858d(0x1f5));return!_0x482afb[_0x2a858d(0x1ec)](a119_0x3a56b7);};return _0xc1179f();});a119_0x3a56b7();'use strict';var __decorate=this&&this['__decorate']||function(_0x2b62a4,_0x270396,_0x236bad,_0xa6bb45){const _0x3a33ab=a119_0x154c;var _0x1ea377=arguments[_0x3a33ab(0x1f9)],_0x3c92c9=_0x1ea377<0x3?_0x270396:_0xa6bb45===null?_0xa6bb45=Object[_0x3a33ab(0x1ea)](_0x270396,_0x236bad):_0xa6bb45,_0x29302f;if(typeof Reflect===_0x3a33ab(0x1fd)&&typeof Reflect[_0x3a33ab(0x1da)]===_0x3a33ab(0x1f3))_0x3c92c9=Reflect['decorate'](_0x2b62a4,_0x270396,_0x236bad,_0xa6bb45);else{for(var _0x4fd691=_0x2b62a4[_0x3a33ab(0x1f9)]-0x1;_0x4fd691>=0x0;_0x4fd691--)if(_0x29302f=_0x2b62a4[_0x4fd691])_0x3c92c9=(_0x1ea377<0x3?_0x29302f(_0x3c92c9):_0x1ea377>0x3?_0x29302f(_0x270396,_0x236bad,_0x3c92c9):_0x29302f(_0x270396,_0x236bad))||_0x3c92c9;}return _0x1ea377>0x3&&_0x3c92c9&&Object[_0x3a33ab(0x1fa)](_0x270396,_0x236bad,_0x3c92c9),_0x3c92c9;},__metadata=this&&this['__metadata']||function(_0x5a7f87,_0xfad2e1){const _0x473046=a119_0x154c;if(typeof Reflect==='object'&&typeof Reflect[_0x473046(0x1e5)]==='function')return Reflect[_0x473046(0x1e5)](_0x5a7f87,_0xfad2e1);},__importDefault=this&&this['__importDefault']||function(_0x5c94f7){const _0x2d8f12=a119_0x154c;return _0x5c94f7&&_0x5c94f7[_0x2d8f12(0x1ff)]?_0x5c94f7:{'default':_0x5c94f7};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['ProviderMiddleware']=void 0x0;const errors_1=require('../../constants/errors'),core_1=require(a119_0x26cd6e(0x1e1)),unauthorized_error_1=require(a119_0x26cd6e(0x1f8)),typedi_1=__importDefault(require(a119_0x26cd6e(0x1e4))),git_provider_manager_1=require('./git-provider.manager'),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0x276791){const _0x4b2538=a119_0x26cd6e;this[_0x4b2538(0x1f6)]=_0x276791;}async['handle'](_0x1641e9,_0xdcfda4){const _0xcda066=a119_0x26cd6e;if(_0x1641e9[_0xcda066(0x1e9)]['x-git-provider']){this[_0xcda066(0x1f6)][_0xcda066(0x1fb)]({'provider':_0x1641e9[_0xcda066(0x1e9)][_0xcda066(0x1fc)][_0xcda066(0x201)]()});const _0x3a0bb1=typedi_1[_0xcda066(0x1e7)]['get'](git_provider_manager_1[_0xcda066(0x1f7)])[_0xcda066(0x1e2)]();await _0x3a0bb1['testConnection']();const _0x37f09d=await _0x3a0bb1[_0xcda066(0x1ee)]();if(!_0x37f09d)throw new unauthorized_error_1[(_0xcda066(0x1ed))](errors_1[_0xcda066(0x1f4)]);}}};ProviderMiddleware=__decorate([core_1[a119_0x26cd6e(0x1db)](a119_0x26cd6e(0x1f0)),__metadata(a119_0x26cd6e(0x1ef),[app_settings_service_1[a119_0x26cd6e(0x1e6)]])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;