const a108_0x286a=['design:paramtypes','__decorate','defineProperty','../../constants/errors','toString','ERR_INVALID_AUTH_OPTIONS','return\x20/\x22\x20+\x20this\x20+\x20\x22/','get','121901cwgdMK','../../core/errors/unauthorized.error','test','__esModule','headers','decorate','constructor','metadata','AppSettingsService','131FwLpAB','typedi','before','45439PwEzXg','function','364665HkszZw','apply','88cWFTmV','333925bANjzm','getApi','__metadata','x-git-provider','Middleware','13856VqHGoG','./git-provider.manager','680359qqDatQ','appSettings','default','length','object','ProviderMiddleware','getOwnPropertyDescriptor','UnauthorizedError','351718jQnTsV','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','update'];const a108_0x37683c=a108_0x198e;(function(_0x134707,_0x1b0e89){const _0x527ded=a108_0x198e;while(!![]){try{const _0x5d5708=parseInt(_0x527ded(0x72))*-parseInt(_0x527ded(0x90))+-parseInt(_0x527ded(0x95))+-parseInt(_0x527ded(0x7c))+-parseInt(_0x527ded(0x87))+-parseInt(_0x527ded(0x74))+parseInt(_0x527ded(0x98))+-parseInt(_0x527ded(0x97))*-parseInt(_0x527ded(0x93));if(_0x5d5708===_0x1b0e89)break;else _0x134707['push'](_0x134707['shift']());}catch(_0x3bf00c){_0x134707['push'](_0x134707['shift']());}}}(a108_0x286a,0xf3d7a));const a108_0x135f94=function(){let _0x30f9eb=!![];return function(_0x3b3c02,_0x3de60e){const _0x192c26=_0x30f9eb?function(){const _0x323d58=a108_0x198e;if(_0x3de60e){const _0x4f2284=_0x3de60e[_0x323d58(0x96)](_0x3b3c02,arguments);return _0x3de60e=null,_0x4f2284;}}:function(){};return _0x30f9eb=![],_0x192c26;};}(),a108_0x1abf39=a108_0x135f94(this,function(){const _0x2d3ca8=function(){const _0x3f36e0=a108_0x198e,_0x48c0d6=_0x2d3ca8['constructor'](_0x3f36e0(0x85))()[_0x3f36e0(0x8d)](_0x3f36e0(0x7d));return!_0x48c0d6[_0x3f36e0(0x89)](a108_0x1abf39);};return _0x2d3ca8();});a108_0x1abf39();'use strict';var __decorate=this&&this[a108_0x37683c(0x80)]||function(_0x4354a8,_0x63c47,_0x451693,_0x51433c){const _0x768489=a108_0x37683c;var _0x2c610a=arguments[_0x768489(0x77)],_0x10782f=_0x2c610a<0x3?_0x63c47:_0x51433c===null?_0x51433c=Object[_0x768489(0x7a)](_0x63c47,_0x451693):_0x51433c,_0x4d5c9a;if(typeof Reflect===_0x768489(0x78)&&typeof Reflect[_0x768489(0x8c)]===_0x768489(0x94))_0x10782f=Reflect[_0x768489(0x8c)](_0x4354a8,_0x63c47,_0x451693,_0x51433c);else{for(var _0x3a0535=_0x4354a8[_0x768489(0x77)]-0x1;_0x3a0535>=0x0;_0x3a0535--)if(_0x4d5c9a=_0x4354a8[_0x3a0535])_0x10782f=(_0x2c610a<0x3?_0x4d5c9a(_0x10782f):_0x2c610a>0x3?_0x4d5c9a(_0x63c47,_0x451693,_0x10782f):_0x4d5c9a(_0x63c47,_0x451693))||_0x10782f;}return _0x2c610a>0x3&&_0x10782f&&Object[_0x768489(0x81)](_0x63c47,_0x451693,_0x10782f),_0x10782f;},__metadata=this&&this[a108_0x37683c(0x9a)]||function(_0x5e8d7b,_0x16119e){const _0x3e4942=a108_0x37683c;if(typeof Reflect===_0x3e4942(0x78)&&typeof Reflect[_0x3e4942(0x8e)]===_0x3e4942(0x94))return Reflect[_0x3e4942(0x8e)](_0x5e8d7b,_0x16119e);},__importDefault=this&&this['__importDefault']||function(_0x4bcc94){const _0x109a5d=a108_0x37683c;return _0x4bcc94&&_0x4bcc94[_0x109a5d(0x8a)]?_0x4bcc94:{'default':_0x4bcc94};};Object[a108_0x37683c(0x81)](exports,a108_0x37683c(0x8a),{'value':!![]}),exports[a108_0x37683c(0x79)]=void 0x0;const errors_1=require(a108_0x37683c(0x82)),core_1=require('../../core'),unauthorized_error_1=require(a108_0x37683c(0x88)),typedi_1=__importDefault(require(a108_0x37683c(0x91))),git_provider_manager_1=require(a108_0x37683c(0x73)),app_settings_service_1=require('./services/app-settings.service');function a108_0x198e(_0x28d0aa,_0x170536){return a108_0x198e=function(_0x5bfda9,_0x1abf39){_0x5bfda9=_0x5bfda9-0x71;let _0x135f94=a108_0x286a[_0x5bfda9];return _0x135f94;},a108_0x198e(_0x28d0aa,_0x170536);}let ProviderMiddleware=class ProviderMiddleware{constructor(_0xd92d7c){const _0x5186f5=a108_0x37683c;this[_0x5186f5(0x75)]=_0xd92d7c;}async['handle'](_0x4ec636,_0x511dc5){const _0x3702bc=a108_0x37683c;if(_0x4ec636[_0x3702bc(0x8b)][_0x3702bc(0x9b)]){this['appSettings'][_0x3702bc(0x7e)]({'provider':_0x4ec636[_0x3702bc(0x8b)][_0x3702bc(0x9b)][_0x3702bc(0x83)]()});const _0x4fea37=typedi_1[_0x3702bc(0x76)][_0x3702bc(0x86)](git_provider_manager_1['GitProviderManager'])[_0x3702bc(0x99)]();await _0x4fea37['testConnection']();const _0x13580e=await _0x4fea37['isLoggedIn']();if(!_0x13580e)throw new unauthorized_error_1[(_0x3702bc(0x7b))](errors_1[_0x3702bc(0x84)]);}}};ProviderMiddleware=__decorate([core_1[a108_0x37683c(0x71)](a108_0x37683c(0x92)),__metadata(a108_0x37683c(0x7f),[app_settings_service_1[a108_0x37683c(0x8f)]])],ProviderMiddleware),exports[a108_0x37683c(0x79)]=ProviderMiddleware;