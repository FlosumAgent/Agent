const a79_0x116346=a79_0x4ee5;(function(_0x95d2c6,_0x12ed03){const _0x32e55e=a79_0x4ee5,_0x5f0625=_0x95d2c6();while(!![]){try{const _0x445724=parseInt(_0x32e55e(0x1b4))/0x1*(parseInt(_0x32e55e(0x190))/0x2)+-parseInt(_0x32e55e(0x18e))/0x3*(parseInt(_0x32e55e(0x19c))/0x4)+-parseInt(_0x32e55e(0x1a2))/0x5*(parseInt(_0x32e55e(0x18a))/0x6)+parseInt(_0x32e55e(0x197))/0x7+-parseInt(_0x32e55e(0x1af))/0x8*(-parseInt(_0x32e55e(0x1a6))/0x9)+parseInt(_0x32e55e(0x16c))/0xa*(-parseInt(_0x32e55e(0x173))/0xb)+-parseInt(_0x32e55e(0x1aa))/0xc;if(_0x445724===_0x12ed03)break;else _0x5f0625['push'](_0x5f0625['shift']());}catch(_0x3d55f6){_0x5f0625['push'](_0x5f0625['shift']());}}}(a79_0x33d0,0x75170));const a79_0x2dcada=function(){let _0x33bdc6=!![];return function(_0x1b7b0c,_0x4bff3e){const _0x1e4ddd=_0x33bdc6?function(){const _0x18e287=a79_0x4ee5;if(_0x4bff3e){const _0x533d67=_0x4bff3e[_0x18e287(0x172)](_0x1b7b0c,arguments);return _0x4bff3e=null,_0x533d67;}}:function(){};return _0x33bdc6=![],_0x1e4ddd;};}(),a79_0xa80873=a79_0x2dcada(this,function(){const _0x24000d=a79_0x4ee5;return a79_0xa80873[_0x24000d(0x1b0)]()['search'](_0x24000d(0x171))[_0x24000d(0x1b0)]()['constructor'](a79_0xa80873)[_0x24000d(0x1b1)](_0x24000d(0x171));});a79_0xa80873();'use strict';function a79_0x4ee5(_0x57df82,_0x92b3b3){const _0x3af7a8=a79_0x33d0();return a79_0x4ee5=function(_0xa80873,_0x2dcada){_0xa80873=_0xa80873-0x167;let _0x33d057=_0x3af7a8[_0xa80873];return _0x33d057;},a79_0x4ee5(_0x57df82,_0x92b3b3);}var __importDefault=this&&this['__importDefault']||function(_0x5f4e45){const _0x5b7e10=a79_0x4ee5;return _0x5f4e45&&_0x5f4e45[_0x5b7e10(0x17b)]?_0x5f4e45:{'default':_0x5f4e45};};Object[a79_0x116346(0x1b6)](exports,a79_0x116346(0x17b),{'value':!![]}),exports[a79_0x116346(0x18d)]=void 0x0;const constants_1=require('../../constants'),core_1=require(a79_0x116346(0x16a)),path_1=__importDefault(require(a79_0x116346(0x16d))),typedi_1=__importDefault(require(a79_0x116346(0x196))),branch_dto_1=require(a79_0x116346(0x193)),auth_settings_service_1=require('../shared/services/auth-settings.service'),utils_1=require(a79_0x116346(0x19b)),fs_internal_1=require(a79_0x116346(0x1a0)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a79_0x116346(0x1a3));class Git{constructor(_0x4fafd3){const _0x521d47=a79_0x116346;this[_0x521d47(0x183)]=_0x4fafd3;}get[a79_0x116346(0x1ab)](){return this['_repoPath'];}async['setCredentials'](_0x107cba,_0x516b09){const _0x3dfbf6=a79_0x116346;Git[_0x3dfbf6(0x19d)][_0x3dfbf6(0x1a8)](_0x3dfbf6(0x199),_0x107cba,_0x516b09),await shell_internal_1[_0x3dfbf6(0x1b3)][_0x3dfbf6(0x1b2)]('cd\x20'+this['_repoPath']+_0x3dfbf6(0x17a)+_0x107cba+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x516b09+'\x22');}async[a79_0x116346(0x17c)](..._0x3510e2){const _0x3f2194=a79_0x116346;await shell_internal_1[_0x3f2194(0x1b3)][_0x3f2194(0x1b2)](_0x3f2194(0x194)+this[_0x3f2194(0x183)]+_0x3f2194(0x177)+_0x3510e2['join']('\x20'));}async[a79_0x116346(0x187)](){const _0x34f756=a79_0x116346;return shell_internal_1['Shell'][_0x34f756(0x1b2)](_0x34f756(0x194)+this[_0x34f756(0x183)]+'\x20&&\x20git\x20status');}async['commit'](_0x41a68a){const _0x2d4b70=a79_0x116346;Git['logger'][_0x2d4b70(0x1a8)](_0x2d4b70(0x198),_0x41a68a),await shell_internal_1[_0x2d4b70(0x1b3)][_0x2d4b70(0x1b2)](_0x2d4b70(0x194)+this[_0x2d4b70(0x183)]+_0x2d4b70(0x17e)+_0x41a68a+'\x22');}async[a79_0x116346(0x19e)](_0x104b48){const _0x1cf17=a79_0x116346;Git[_0x1cf17(0x19d)][_0x1cf17(0x1a8)](_0x1cf17(0x1ae),_0x104b48),await shell_internal_1[_0x1cf17(0x1b3)]['exec'](_0x1cf17(0x194)+this[_0x1cf17(0x183)]+_0x1cf17(0x18b)+_0x104b48+_0x1cf17(0x169));}async[a79_0x116346(0x1b5)](_0x20ec45){const _0x4947b2=a79_0x116346;Git['logger']['log'](_0x4947b2(0x188),_0x20ec45),await shell_internal_1[_0x4947b2(0x1b3)][_0x4947b2(0x1b2)](_0x4947b2(0x194)+this[_0x4947b2(0x183)]+_0x4947b2(0x1ad)+_0x20ec45);}async[a79_0x116346(0x186)](_0x30902a){const _0x4ca97f=a79_0x116346;Git[_0x4ca97f(0x19d)][_0x4ca97f(0x1a8)](_0x4ca97f(0x182),_0x30902a);const _0x4a0784=await shell_internal_1['Shell'][_0x4ca97f(0x1b2)](_0x4ca97f(0x194)+this['_repoPath']+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nMessage:\x20%s\x22\x20--name-status\x20'+_0x30902a);return{'author':internal_utils_1[_0x4ca97f(0x192)](_0x4a0784),'message':internal_utils_1[_0x4ca97f(0x178)](_0x4a0784),'changes':internal_utils_1[_0x4ca97f(0x19f)](_0x4a0784)};}static async['clone'](_0x25146e,_0x492551,_0x550c56){const _0x33f502=a79_0x116346,_0x2c299c=path_1[_0x33f502(0x176)][_0x33f502(0x16f)](this[_0x33f502(0x195)],_0x492551),_0x5f270b=new Git(_0x2c299c);return Git[_0x33f502(0x19d)][_0x33f502(0x1a8)](_0x33f502(0x1a7),_0x550c56,_0x25146e,_0x2c299c),await fs_internal_1['FS'][_0x33f502(0x1b8)](_0x2c299c),await shell_internal_1[_0x33f502(0x1b3)]['exec'](_0x33f502(0x167)+_0x550c56+'\x20--single-branch\x20'+_0x25146e+'\x20'+_0x2c299c)['catch'](()=>void 0x0),_0x5f270b;}static async['getRepositoryBranches'](_0x63141f){const _0x52a207=a79_0x116346,_0x5f2d26=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x2de995}=typedi_1[_0x52a207(0x176)][_0x52a207(0x170)](auth_settings_service_1[_0x52a207(0x17f)]),_0x96bfa1=_0x63141f[_0x52a207(0x1a4)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x52a207(0x1b7)](_0x63141f[_0x52a207(0x1a4)])+_0x52a207(0x189)+_0x2de995+'@'),_0x4f36fc=await shell_internal_1[_0x52a207(0x1b3)][_0x52a207(0x1b2)]('git\x20ls-remote\x20'+_0x96bfa1),_0x129e98=_0x4f36fc[_0x52a207(0x1a1)]('\x0a')[_0x52a207(0x191)](_0x54f883=>_0x5f2d26[_0x52a207(0x16b)](_0x54f883))['map'](_0x1d0987=>{const _0x59e3c1=_0x52a207,[,_0x50b5b2,_0x5501c3]=_0x1d0987[_0x59e3c1(0x180)](_0x5f2d26),_0x3a297e=new branch_dto_1[(_0x59e3c1(0x16e))]();return _0x3a297e[_0x59e3c1(0x1a9)]=_0x50b5b2,_0x3a297e['name']=_0x5501c3[_0x59e3c1(0x185)](_0x59e3c1(0x18f),''),_0x3a297e;});return _0x129e98;}static async[a79_0x116346(0x175)](_0x736300,_0x35dc5,_0x4dd300=a79_0x116346(0x17d)){const _0x2d370e=a79_0x116346,{gitCredentials:_0x1120df}=typedi_1[_0x2d370e(0x176)][_0x2d370e(0x170)](auth_settings_service_1[_0x2d370e(0x17f)]),_0x39249f=_0x736300[_0x2d370e(0x1a4)][_0x2d370e(0x185)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x2d370e(0x1b7)](_0x736300[_0x2d370e(0x1a4)])+_0x2d370e(0x189)+_0x1120df+'@'),_0x3a5b57=path_1[_0x2d370e(0x176)][_0x2d370e(0x16f)](this[_0x2d370e(0x195)],_0x736300[_0x2d370e(0x1a5)]);Git[_0x2d370e(0x19d)][_0x2d370e(0x1a8)](_0x2d370e(0x181),_0x736300[_0x2d370e(0x1a5)],_0x35dc5,_0x3a5b57,_0x39249f),await fs_internal_1['FS'][_0x2d370e(0x1b8)](_0x3a5b57),await fs_internal_1['FS']['makeDir'](_0x3a5b57);const _0x508b05=new Git(_0x3a5b57);await shell_internal_1[_0x2d370e(0x1b3)][_0x2d370e(0x1b2)]('cd\x20'+_0x508b05['baseDir']+'\x20&&\x20git\x20init'),await shell_internal_1[_0x2d370e(0x1b3)]['exec'](_0x2d370e(0x194)+_0x508b05['baseDir']+_0x2d370e(0x18c)+_0x39249f),await _0x508b05[_0x2d370e(0x19a)](constants_1[_0x2d370e(0x179)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x2d370e(0x1b3)][_0x2d370e(0x1b2)]('cd\x20'+_0x508b05[_0x2d370e(0x1ab)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x35dc5),await shell_internal_1[_0x2d370e(0x1b3)]['exec']('cd\x20'+_0x508b05['baseDir']+_0x2d370e(0x17e)+_0x4dd300+_0x2d370e(0x1ac)),await _0x508b05[_0x2d370e(0x19e)](_0x35dc5),Git[_0x2d370e(0x19d)][_0x2d370e(0x1a8)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x2d370e(0x1b8)](_0x508b05['baseDir']);}}exports[a79_0x116346(0x18d)]=Git,Git[a79_0x116346(0x195)]=path_1['default'][a79_0x116346(0x16f)](process['cwd'](),a79_0x116346(0x174),a79_0x116346(0x184)),Git[a79_0x116346(0x19d)]=new core_1[(a79_0x116346(0x168))](Git[a79_0x116346(0x1a5)]);function a79_0x33d0(){const _0x501cc0=['defineProperty','getProtocol','removeDir','git\x20clone\x20-b\x20','Logger','\x20--quiet','../../core','test','138960HSxLsN','path','BranchDto','join','get','(((.+)+)+)+$','apply','66ugAkHP','.temp','createEmptyBranch','default','\x20&&\x20git\x20add\x20','extractMessageFromCommitDescribe','DEFAULT_GIT_USER_NAME','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','__esModule','add','init\x20repository','\x20&&\x20git\x20commit\x20-m\x20\x22','AuthSettingsService','match','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','describe\x20commit\x20%s','_repoPath','git','replace','describeCommit','status','checkout\x20to\x20%s','://','6ozOYHL','\x20&&\x20git\x20push\x20origin\x20','\x20&&\x20git\x20remote\x20add\x20origin\x20','Git','157329wZurqF','refs/heads/','62iIoHEu','filter','extractAuthorFromCommitDescribe','../branches/dto/branch.dto','cd\x20','DEFAULT_CLONE_PATH','typedi','5961935xfhBIi','commit\x20message\x20\x22%s\x22','set\x20credentials\x20%s\x20(%s)','setCredentials','../shared/utils','32xRbIHi','logger','push','extractChangesFromCommitDescribe','./fs.internal','split','78735MNYFrH','./shell.internal','gitUrl','name','1717164tSKtuZ','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','log','sha','14519916dOzSlo','baseDir','\x22\x20--allow-empty','\x20&&\x20git\x20checkout\x20','push\x20changes\x20to\x20%s','32HqceQF','toString','search','exec','Shell','19141LsBphY','checkout'];a79_0x33d0=function(){return _0x501cc0;};return a79_0x33d0();}