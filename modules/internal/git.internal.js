const a75_0x8f97=['AuthSettingsService','DEFAULT_CLONE_PATH','../../core','parseGitError','\x20&&\x20git\x20push\x20origin\x20','info','1wODZAx','Shell','typedi','Git','./internal.utils','\x20&&\x20git\x20commit\x20-m\x20\x22','\x20--single-branch\x20','857399GssWKZ','\x20&&\x20git\x20add\x20','flosum-agent','test','git\x20clone\x20-b\x20','get','constructor','cwd','163289eiYntJ','__importDefault','1LUdSJe','\x20&&\x20git\x20init','catch','699200HgLrjl','return\x20/\x22\x20+\x20this\x20+\x20\x22/','exec','clone','join','status','default','setCredentials','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','getProtocol','cd\x20','__esModule','commit','\x20&&\x20git\x20status','18987MHwpzi','Logger','defineProperty','\x20&&\x20git\x20remote\x20add\x20origin\x20','_repoPath','push','init\x20repository','set\x20credentials\x20%s\x20(%s)','git','://','.temp','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','createEmptyBranch','removeDir','add','gitUrl','path','logger','402581YhWGyc','baseDir','4127VhKEaK','7eERRRO','apply','agent@flosum.com','name','../shared/services/auth-settings.service','\x22\x20--allow-empty','1700923ciizPq','./shell.internal'];function a75_0x477d(_0x405fb3,_0x3603fc){return a75_0x477d=function(_0xcb4409,_0x3085a9){_0xcb4409=_0xcb4409-0x16f;let _0x3d57ad=a75_0x8f97[_0xcb4409];return _0x3d57ad;},a75_0x477d(_0x405fb3,_0x3603fc);}const a75_0xd33ac3=a75_0x477d;(function(_0x161561,_0x41703d){const _0x49b4eb=a75_0x477d;while(!![]){try{const _0x260dc4=parseInt(_0x49b4eb(0x181))*-parseInt(_0x49b4eb(0x1a4))+-parseInt(_0x49b4eb(0x184))+parseInt(_0x49b4eb(0x170))*parseInt(_0x49b4eb(0x1a6))+-parseInt(_0x49b4eb(0x192))+-parseInt(_0x49b4eb(0x177))+parseInt(_0x49b4eb(0x17f))*parseInt(_0x49b4eb(0x1a7))+parseInt(_0x49b4eb(0x1ad));if(_0x260dc4===_0x41703d)break;else _0x161561['push'](_0x161561['shift']());}catch(_0x4df81f){_0x161561['push'](_0x161561['shift']());}}}(a75_0x8f97,0xd4612));const a75_0x3d57ad=function(){let _0x2ba288=!![];return function(_0x1c2fbf,_0x41ea38){const _0x22da23=_0x2ba288?function(){const _0x340b49=a75_0x477d;if(_0x41ea38){const _0x1eb566=_0x41ea38[_0x340b49(0x1a8)](_0x1c2fbf,arguments);return _0x41ea38=null,_0x1eb566;}}:function(){};return _0x2ba288=![],_0x22da23;};}(),a75_0x3085a9=a75_0x3d57ad(this,function(){const _0x2c38ff=function(){const _0x59e269=a75_0x477d,_0x43c283=_0x2c38ff[_0x59e269(0x17d)](_0x59e269(0x185))()[_0x59e269(0x17d)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x43c283[_0x59e269(0x17a)](a75_0x3085a9);};return _0x2c38ff();});a75_0x3085a9();'use strict';var __importDefault=this&&this[a75_0xd33ac3(0x180)]||function(_0x294327){const _0x54e869=a75_0xd33ac3;return _0x294327&&_0x294327[_0x54e869(0x18f)]?_0x294327:{'default':_0x294327};};Object[a75_0xd33ac3(0x194)](exports,a75_0xd33ac3(0x18f),{'value':!![]}),exports[a75_0xd33ac3(0x173)]=void 0x0;const core_1=require(a75_0xd33ac3(0x1b1)),path_1=__importDefault(require(a75_0xd33ac3(0x1a2))),typedi_1=__importDefault(require(a75_0xd33ac3(0x172))),auth_settings_service_1=require(a75_0xd33ac3(0x1ab)),utils_1=require('../shared/utils'),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a75_0xd33ac3(0x174)),shell_internal_1=require(a75_0xd33ac3(0x1ae));class Git{constructor(_0x1d2025){const _0x5bd872=a75_0xd33ac3;this[_0x5bd872(0x196)]=_0x1d2025;}get[a75_0xd33ac3(0x1a5)](){const _0x1202a2=a75_0xd33ac3;return this[_0x1202a2(0x196)];}async['setCredentials'](_0x488ea4,_0x3b5b82){const _0x1e452a=a75_0xd33ac3;Git['logger'][_0x1e452a(0x16f)](_0x1e452a(0x199),_0x488ea4,_0x3b5b82),await shell_internal_1[_0x1e452a(0x171)][_0x1e452a(0x186)](_0x1e452a(0x18e)+this[_0x1e452a(0x196)]+_0x1e452a(0x18c)+_0x488ea4+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x3b5b82+'\x22')[_0x1e452a(0x183)](internal_utils_1[_0x1e452a(0x1b2)]);}async[a75_0xd33ac3(0x1a0)](..._0x504714){const _0x295b3d=a75_0xd33ac3;await shell_internal_1[_0x295b3d(0x171)][_0x295b3d(0x186)]('cd\x20'+this[_0x295b3d(0x196)]+_0x295b3d(0x178)+_0x504714['join']('\x20'))[_0x295b3d(0x183)](internal_utils_1[_0x295b3d(0x1b2)]);}async[a75_0xd33ac3(0x189)](){const _0x4d88a4=a75_0xd33ac3;return shell_internal_1['Shell'][_0x4d88a4(0x186)]('cd\x20'+this[_0x4d88a4(0x196)]+_0x4d88a4(0x191))[_0x4d88a4(0x183)](internal_utils_1['parseGitError']);}async[a75_0xd33ac3(0x190)](_0x4c7069){const _0x14df38=a75_0xd33ac3;Git['logger']['info']('commit\x20message\x20\x22%s\x22',_0x4c7069),await shell_internal_1['Shell']['exec']('cd\x20'+this['_repoPath']+_0x14df38(0x175)+_0x4c7069+'\x22')[_0x14df38(0x183)](internal_utils_1[_0x14df38(0x1b2)]);}async['push'](_0x194117){const _0xe804ba=a75_0xd33ac3;Git[_0xe804ba(0x1a3)][_0xe804ba(0x16f)]('push\x20changes\x20to\x20%s',_0x194117),await shell_internal_1[_0xe804ba(0x171)][_0xe804ba(0x186)](_0xe804ba(0x18e)+this['_repoPath']+_0xe804ba(0x1b3)+_0x194117+'\x20--quiet')[_0xe804ba(0x183)](internal_utils_1[_0xe804ba(0x1b2)]);}static async[a75_0xd33ac3(0x187)](_0x1febda,_0x18fefe,_0xe8f2a1){const _0x348159=a75_0xd33ac3,_0x7ffec0=path_1[_0x348159(0x18a)][_0x348159(0x188)](this[_0x348159(0x1b0)],_0x18fefe),_0x283503=new Git(_0x7ffec0);return Git[_0x348159(0x1a3)][_0x348159(0x16f)](_0x348159(0x19d),_0xe8f2a1,_0x1febda,_0x7ffec0),await fs_internal_1['FS'][_0x348159(0x19f)](_0x7ffec0),await shell_internal_1[_0x348159(0x171)][_0x348159(0x186)](_0x348159(0x17b)+_0xe8f2a1+_0x348159(0x176)+_0x1febda+'\x20'+_0x7ffec0)[_0x348159(0x183)](()=>void 0x0),_0x283503;}static async[a75_0xd33ac3(0x19e)](_0x33d425,_0x3e4d40,_0x18c0a8=a75_0xd33ac3(0x198)){const _0x45388f=a75_0xd33ac3,{gitCredentials:_0x1d76f7}=typedi_1[_0x45388f(0x18a)][_0x45388f(0x17c)](auth_settings_service_1[_0x45388f(0x1af)]),_0x4c35c9=_0x33d425[_0x45388f(0x1a1)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x45388f(0x18d)](_0x33d425['gitUrl'])+_0x45388f(0x19b)+_0x1d76f7+'@'),_0x175ec7=path_1['default'][_0x45388f(0x188)](this[_0x45388f(0x1b0)],_0x33d425[_0x45388f(0x1aa)]);Git[_0x45388f(0x1a3)][_0x45388f(0x16f)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x33d425[_0x45388f(0x1aa)],_0x3e4d40,_0x175ec7,_0x4c35c9),await fs_internal_1['FS'][_0x45388f(0x19f)](_0x175ec7),await fs_internal_1['FS']['makeDir'](_0x175ec7);const _0x73fd7d=new Git(_0x175ec7);await shell_internal_1['Shell'][_0x45388f(0x186)]('cd\x20'+_0x73fd7d[_0x45388f(0x1a5)]+_0x45388f(0x182))[_0x45388f(0x183)](internal_utils_1[_0x45388f(0x1b2)]),await shell_internal_1[_0x45388f(0x171)][_0x45388f(0x186)](_0x45388f(0x18e)+_0x73fd7d['baseDir']+_0x45388f(0x195)+_0x4c35c9)[_0x45388f(0x183)](internal_utils_1['parseGitError']),await _0x73fd7d[_0x45388f(0x18b)](_0x45388f(0x179),_0x45388f(0x1a9)),_0x3e4d40&&(await shell_internal_1[_0x45388f(0x171)][_0x45388f(0x186)](_0x45388f(0x18e)+_0x73fd7d['baseDir']+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x3e4d40)[_0x45388f(0x183)](internal_utils_1['parseGitError']),await shell_internal_1[_0x45388f(0x171)]['exec'](_0x45388f(0x18e)+_0x73fd7d[_0x45388f(0x1a5)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x18c0a8+_0x45388f(0x1ac))[_0x45388f(0x183)](internal_utils_1[_0x45388f(0x1b2)]),await _0x73fd7d[_0x45388f(0x197)](_0x3e4d40)),Git[_0x45388f(0x1a3)][_0x45388f(0x16f)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x45388f(0x19f)](_0x73fd7d[_0x45388f(0x1a5)]);}}exports[a75_0xd33ac3(0x173)]=Git,Git[a75_0xd33ac3(0x1b0)]=path_1[a75_0xd33ac3(0x18a)][a75_0xd33ac3(0x188)](process[a75_0xd33ac3(0x17e)](),a75_0xd33ac3(0x19c),a75_0xd33ac3(0x19a)),Git['logger']=new core_1[(a75_0xd33ac3(0x193))](Git[a75_0xd33ac3(0x1aa)]);