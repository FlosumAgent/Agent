const a76_0x3d7f95=a76_0x39b3;(function(_0x175010,_0x3c2ebd){const _0x58eff0=a76_0x39b3,_0x472af7=_0x175010();while(!![]){try{const _0x4a96b3=-parseInt(_0x58eff0(0x15d))/0x1*(-parseInt(_0x58eff0(0x13f))/0x2)+-parseInt(_0x58eff0(0x169))/0x3*(parseInt(_0x58eff0(0x14f))/0x4)+parseInt(_0x58eff0(0x148))/0x5*(parseInt(_0x58eff0(0x143))/0x6)+parseInt(_0x58eff0(0x161))/0x7+-parseInt(_0x58eff0(0x15e))/0x8+-parseInt(_0x58eff0(0x14b))/0x9+parseInt(_0x58eff0(0x155))/0xa;if(_0x4a96b3===_0x3c2ebd)break;else _0x472af7['push'](_0x472af7['shift']());}catch(_0x216b88){_0x472af7['push'](_0x472af7['shift']());}}}(a76_0x2d98,0xb8878));const a76_0x391fb6=function(){let _0x2d030b=!![];return function(_0x13fdcd,_0x59a0b){const _0x4e0415=_0x2d030b?function(){const _0xa309bc=a76_0x39b3;if(_0x59a0b){const _0x2d2ee6=_0x59a0b[_0xa309bc(0x14a)](_0x13fdcd,arguments);return _0x59a0b=null,_0x2d2ee6;}}:function(){};return _0x2d030b=![],_0x4e0415;};}(),a76_0x464e50=a76_0x391fb6(this,function(){const _0x523823=a76_0x39b3;return a76_0x464e50[_0x523823(0x159)]()['search'](_0x523823(0x142))[_0x523823(0x159)]()['constructor'](a76_0x464e50)[_0x523823(0x16d)]('(((.+)+)+)+$');});a76_0x464e50();function a76_0x2d98(){const _0x19db88=['cd\x20','Shell','AuthSettingsService','push','git\x20clone\x20-b\x20','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','sha','join','refs/heads/','\x20&&\x20git\x20add\x20','332758MJMOZV','\x20--single-branch\x20','Git','(((.+)+)+)+$','540SWohJK','match','git\x20ls-remote\x20','__esModule','info','26310AdTbij','set\x20credentials\x20%s\x20(%s)','apply','9344133BbYZVD','commit','agent@flosum.com','../shared/utils','35572saiSSB','\x20&&\x20git\x20commit\x20-m\x20\x22','./shell.internal','baseDir','__importDefault','exec','18242110sVdfWv','gitUrl','\x20&&\x20git\x20remote\x20add\x20origin\x20','parseGitError','toString','name','git','createEmptyBranch','2IgrJAn','11266392EsFvje','_repoPath','clone','9667574DQvrfj','split','\x20&&\x20git\x20status','replace','setCredentials','\x22\x20--allow-empty','removeDir','logger','273oVnQYO','\x20&&\x20git\x20checkout\x20--orphan\x20','default','path','search','../branches/dto/branch.dto','filter','add','\x20&&\x20git\x20init','\x20--quiet','test','getProtocol','\x20&&\x20git\x20push\x20origin\x20','map','typedi','get','../../core','../shared/services/auth-settings.service','://','cwd','catch','./fs.internal','init\x20repository','flosum-agent','DEFAULT_CLONE_PATH'];a76_0x2d98=function(){return _0x19db88;};return a76_0x2d98();}'use strict';var __importDefault=this&&this[a76_0x3d7f95(0x153)]||function(_0x3b94ac){const _0x230819=a76_0x3d7f95;return _0x3b94ac&&_0x3b94ac[_0x230819(0x146)]?_0x3b94ac:{'default':_0x3b94ac};};Object['defineProperty'](exports,a76_0x3d7f95(0x146),{'value':!![]}),exports[a76_0x3d7f95(0x141)]=void 0x0;function a76_0x39b3(_0x1490f9,_0x3fc414){const _0x1da279=a76_0x2d98();return a76_0x39b3=function(_0x464e50,_0x391fb6){_0x464e50=_0x464e50-0x127;let _0x2d9873=_0x1da279[_0x464e50];return _0x2d9873;},a76_0x39b3(_0x1490f9,_0x3fc414);}const core_1=require(a76_0x3d7f95(0x12b)),path_1=__importDefault(require(a76_0x3d7f95(0x16c))),typedi_1=__importDefault(require(a76_0x3d7f95(0x129))),branch_dto_1=require(a76_0x3d7f95(0x16e)),auth_settings_service_1=require(a76_0x3d7f95(0x12c)),utils_1=require(a76_0x3d7f95(0x14e)),fs_internal_1=require(a76_0x3d7f95(0x130)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a76_0x3d7f95(0x151));class Git{constructor(_0x2eb77d){const _0x300502=a76_0x3d7f95;this[_0x300502(0x15f)]=_0x2eb77d;}get[a76_0x3d7f95(0x152)](){const _0x31ae7a=a76_0x3d7f95;return this[_0x31ae7a(0x15f)];}async[a76_0x3d7f95(0x165)](_0x2efa6d,_0x23695e){const _0x5d4d73=a76_0x3d7f95;Git[_0x5d4d73(0x168)][_0x5d4d73(0x147)](_0x5d4d73(0x149),_0x2efa6d,_0x23695e),await shell_internal_1['Shell'][_0x5d4d73(0x154)](_0x5d4d73(0x134)+this[_0x5d4d73(0x15f)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x2efa6d+_0x5d4d73(0x13a)+_0x23695e+'\x22')[_0x5d4d73(0x12f)](internal_utils_1[_0x5d4d73(0x158)]);}async[a76_0x3d7f95(0x170)](..._0x55a908){const _0x141bf6=a76_0x3d7f95;await shell_internal_1[_0x141bf6(0x135)][_0x141bf6(0x154)]('cd\x20'+this[_0x141bf6(0x15f)]+_0x141bf6(0x13e)+_0x55a908[_0x141bf6(0x13c)]('\x20'))[_0x141bf6(0x12f)](internal_utils_1[_0x141bf6(0x158)]);}async['status'](){const _0x3b3302=a76_0x3d7f95;return shell_internal_1[_0x3b3302(0x135)][_0x3b3302(0x154)](_0x3b3302(0x134)+this[_0x3b3302(0x15f)]+_0x3b3302(0x163))[_0x3b3302(0x12f)](internal_utils_1[_0x3b3302(0x158)]);}async[a76_0x3d7f95(0x14c)](_0x1fc2e8){const _0x3ae6fd=a76_0x3d7f95;Git['logger']['info']('commit\x20message\x20\x22%s\x22',_0x1fc2e8),await shell_internal_1[_0x3ae6fd(0x135)]['exec'](_0x3ae6fd(0x134)+this[_0x3ae6fd(0x15f)]+_0x3ae6fd(0x150)+_0x1fc2e8+'\x22')[_0x3ae6fd(0x12f)](internal_utils_1[_0x3ae6fd(0x158)]);}async[a76_0x3d7f95(0x137)](_0x33a063){const _0x1cf4f8=a76_0x3d7f95;Git[_0x1cf4f8(0x168)]['info']('push\x20changes\x20to\x20%s',_0x33a063),await shell_internal_1['Shell']['exec'](_0x1cf4f8(0x134)+this[_0x1cf4f8(0x15f)]+_0x1cf4f8(0x127)+_0x33a063+_0x1cf4f8(0x172))[_0x1cf4f8(0x12f)](internal_utils_1[_0x1cf4f8(0x158)]);}static async[a76_0x3d7f95(0x160)](_0x321316,_0x2654ba,_0x1994e6){const _0x3eafef=a76_0x3d7f95,_0x5eaa99=path_1[_0x3eafef(0x16b)]['join'](this[_0x3eafef(0x133)],_0x2654ba),_0x27414d=new Git(_0x5eaa99);return Git[_0x3eafef(0x168)][_0x3eafef(0x147)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x1994e6,_0x321316,_0x5eaa99),await fs_internal_1['FS']['removeDir'](_0x5eaa99),await shell_internal_1[_0x3eafef(0x135)][_0x3eafef(0x154)](_0x3eafef(0x138)+_0x1994e6+_0x3eafef(0x140)+_0x321316+'\x20'+_0x5eaa99)['catch'](()=>void 0x0),_0x27414d;}static async['getRepositoryBranches'](_0x27a659){const _0x833393=a76_0x3d7f95,_0x4de781=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x864370}=typedi_1[_0x833393(0x16b)][_0x833393(0x12a)](auth_settings_service_1[_0x833393(0x136)]),_0x3fe38c=_0x27a659[_0x833393(0x156)][_0x833393(0x164)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x27a659[_0x833393(0x156)])+_0x833393(0x12d)+_0x864370+'@'),_0x42a0cd=await shell_internal_1[_0x833393(0x135)][_0x833393(0x154)](_0x833393(0x145)+_0x3fe38c),_0x733d0c=_0x42a0cd[_0x833393(0x162)]('\x0a')[_0x833393(0x16f)](_0x4089a4=>_0x4de781[_0x833393(0x173)](_0x4089a4))[_0x833393(0x128)](_0x2c5687=>{const _0x17ee45=_0x833393,[,_0x48af76,_0x4c9e60]=_0x2c5687[_0x17ee45(0x144)](_0x4de781),_0x3cd6a2=new branch_dto_1['BranchDto']();return _0x3cd6a2[_0x17ee45(0x13b)]=_0x48af76,_0x3cd6a2[_0x17ee45(0x15a)]=_0x4c9e60[_0x17ee45(0x164)](_0x17ee45(0x13d),''),_0x3cd6a2;});return _0x733d0c;}static async[a76_0x3d7f95(0x15c)](_0x23596c,_0x5ece0c,_0x320304=a76_0x3d7f95(0x131)){const _0x54d671=a76_0x3d7f95,{gitCredentials:_0x1d6d68}=typedi_1['default'][_0x54d671(0x12a)](auth_settings_service_1[_0x54d671(0x136)]),_0x51fc4=_0x23596c['gitUrl'][_0x54d671(0x164)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x54d671(0x174)])(_0x23596c[_0x54d671(0x156)])+'://'+_0x1d6d68+'@'),_0x2fbe65=path_1[_0x54d671(0x16b)][_0x54d671(0x13c)](this[_0x54d671(0x133)],_0x23596c[_0x54d671(0x15a)]);Git[_0x54d671(0x168)]['info']('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x23596c[_0x54d671(0x15a)],_0x5ece0c,_0x2fbe65,_0x51fc4),await fs_internal_1['FS'][_0x54d671(0x167)](_0x2fbe65),await fs_internal_1['FS']['makeDir'](_0x2fbe65);const _0x2ae40f=new Git(_0x2fbe65);await shell_internal_1[_0x54d671(0x135)][_0x54d671(0x154)](_0x54d671(0x134)+_0x2ae40f[_0x54d671(0x152)]+_0x54d671(0x171))[_0x54d671(0x12f)](internal_utils_1['parseGitError']),await shell_internal_1['Shell'][_0x54d671(0x154)](_0x54d671(0x134)+_0x2ae40f['baseDir']+_0x54d671(0x157)+_0x51fc4)['catch'](internal_utils_1['parseGitError']),await _0x2ae40f[_0x54d671(0x165)](_0x54d671(0x132),_0x54d671(0x14d)),await shell_internal_1['Shell']['exec'](_0x54d671(0x134)+_0x2ae40f[_0x54d671(0x152)]+_0x54d671(0x16a)+_0x5ece0c)['catch'](internal_utils_1[_0x54d671(0x158)]),await shell_internal_1[_0x54d671(0x135)][_0x54d671(0x154)](_0x54d671(0x134)+_0x2ae40f['baseDir']+_0x54d671(0x150)+_0x320304+_0x54d671(0x166))[_0x54d671(0x12f)](internal_utils_1['parseGitError']),await _0x2ae40f[_0x54d671(0x137)](_0x5ece0c),Git['logger'][_0x54d671(0x147)](_0x54d671(0x139)),await fs_internal_1['FS']['removeDir'](_0x2ae40f[_0x54d671(0x152)]);}}exports[a76_0x3d7f95(0x141)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a76_0x3d7f95(0x16b)][a76_0x3d7f95(0x13c)](process[a76_0x3d7f95(0x12e)](),'.temp',a76_0x3d7f95(0x15b)),Git['logger']=new core_1['Logger'](Git['name']);