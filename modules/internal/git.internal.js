function a76_0x35aa(_0x562559,_0x347ad3){const _0x574232=a76_0x4bc1();return a76_0x35aa=function(_0x4639eb,_0x24a604){_0x4639eb=_0x4639eb-0xd3;let _0x4bc18d=_0x574232[_0x4639eb];return _0x4bc18d;},a76_0x35aa(_0x562559,_0x347ad3);}const a76_0x321408=a76_0x35aa;(function(_0x3a406f,_0x394d2e){const _0x55e0d5=a76_0x35aa,_0x4bfb12=_0x3a406f();while(!![]){try{const _0x1726bc=-parseInt(_0x55e0d5(0xee))/0x1+-parseInt(_0x55e0d5(0xed))/0x2+parseInt(_0x55e0d5(0xe1))/0x3+parseInt(_0x55e0d5(0x110))/0x4+-parseInt(_0x55e0d5(0xe9))/0x5+parseInt(_0x55e0d5(0xea))/0x6+parseInt(_0x55e0d5(0x111))/0x7*(parseInt(_0x55e0d5(0xfe))/0x8);if(_0x1726bc===_0x394d2e)break;else _0x4bfb12['push'](_0x4bfb12['shift']());}catch(_0x2b18ae){_0x4bfb12['push'](_0x4bfb12['shift']());}}}(a76_0x4bc1,0x516eb));const a76_0x24a604=function(){let _0x3f3dd4=!![];return function(_0x158497,_0x5ade95){const _0x30d934=_0x3f3dd4?function(){const _0xb92e0b=a76_0x35aa;if(_0x5ade95){const _0x4a20ef=_0x5ade95[_0xb92e0b(0xfb)](_0x158497,arguments);return _0x5ade95=null,_0x4a20ef;}}:function(){};return _0x3f3dd4=![],_0x30d934;};}(),a76_0x4639eb=a76_0x24a604(this,function(){const _0x473ec0=a76_0x35aa;return a76_0x4639eb[_0x473ec0(0x10b)]()['search'](_0x473ec0(0x119))[_0x473ec0(0x10b)]()[_0x473ec0(0x10d)](a76_0x4639eb)[_0x473ec0(0x10c)](_0x473ec0(0x119));});a76_0x4639eb();'use strict';var __importDefault=this&&this[a76_0x321408(0xe5)]||function(_0x305998){return _0x305998&&_0x305998['__esModule']?_0x305998:{'default':_0x305998};};Object[a76_0x321408(0x104)](exports,a76_0x321408(0x100),{'value':!![]}),exports[a76_0x321408(0xd6)]=void 0x0;const core_1=require(a76_0x321408(0x103)),path_1=__importDefault(require(a76_0x321408(0xf9))),typedi_1=__importDefault(require('typedi')),branch_dto_1=require('../branches/dto/branch.dto'),auth_settings_service_1=require(a76_0x321408(0xf0)),utils_1=require(a76_0x321408(0xf5)),fs_internal_1=require(a76_0x321408(0xfa)),internal_utils_1=require(a76_0x321408(0x115)),shell_internal_1=require('./shell.internal');class Git{constructor(_0x183ba6){this['_repoPath']=_0x183ba6;}get[a76_0x321408(0x107)](){const _0x1626ca=a76_0x321408;return this[_0x1626ca(0x113)];}async[a76_0x321408(0x116)](_0x4246b0,_0x3f481e){const _0x14bce8=a76_0x321408;Git[_0x14bce8(0x118)][_0x14bce8(0xd5)]('set\x20credentials\x20%s\x20(%s)',_0x4246b0,_0x3f481e),await shell_internal_1[_0x14bce8(0xef)][_0x14bce8(0xe2)](_0x14bce8(0xd3)+this[_0x14bce8(0x113)]+_0x14bce8(0x112)+_0x4246b0+_0x14bce8(0xda)+_0x3f481e+'\x22')[_0x14bce8(0xff)](internal_utils_1[_0x14bce8(0x101)]);}async['add'](..._0x19127b){const _0x173e9a=a76_0x321408;await shell_internal_1[_0x173e9a(0xef)]['exec'](_0x173e9a(0xd3)+this[_0x173e9a(0x113)]+_0x173e9a(0x105)+_0x19127b[_0x173e9a(0x108)]('\x20'))[_0x173e9a(0xff)](internal_utils_1[_0x173e9a(0x101)]);}async[a76_0x321408(0xf2)](){const _0x236299=a76_0x321408;return shell_internal_1[_0x236299(0xef)]['exec'](_0x236299(0xd3)+this[_0x236299(0x113)]+'\x20&&\x20git\x20status')[_0x236299(0xff)](internal_utils_1[_0x236299(0x101)]);}async['commit'](_0x31b628){const _0x3d2598=a76_0x321408;Git[_0x3d2598(0x118)][_0x3d2598(0xd5)](_0x3d2598(0xd4),_0x31b628),await shell_internal_1[_0x3d2598(0xef)][_0x3d2598(0xe2)]('cd\x20'+this[_0x3d2598(0x113)]+_0x3d2598(0xd9)+_0x31b628+'\x22')[_0x3d2598(0xff)](internal_utils_1['parseGitError']);}async[a76_0x321408(0x102)](_0x5869b9){const _0x4c652d=a76_0x321408;Git[_0x4c652d(0x118)][_0x4c652d(0xd5)](_0x4c652d(0xf4),_0x5869b9),await shell_internal_1[_0x4c652d(0xef)]['exec'](_0x4c652d(0xd3)+this[_0x4c652d(0x113)]+_0x4c652d(0xd7)+_0x5869b9+'\x20--quiet')[_0x4c652d(0xff)](internal_utils_1['parseGitError']);}static async[a76_0x321408(0xdf)](_0x45e01e,_0x568cf6,_0x45a470){const _0x1094ea=a76_0x321408,_0x3362f4=path_1['default'][_0x1094ea(0x108)](this[_0x1094ea(0xeb)],_0x568cf6),_0x148f88=new Git(_0x3362f4);return Git['logger'][_0x1094ea(0xd5)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x45a470,_0x45e01e,_0x3362f4),await fs_internal_1['FS'][_0x1094ea(0xec)](_0x3362f4),await shell_internal_1['Shell']['exec']('git\x20clone\x20-b\x20'+_0x45a470+_0x1094ea(0xdc)+_0x45e01e+'\x20'+_0x3362f4)['catch'](()=>void 0x0),_0x148f88;}static async['getRepositoryBranches'](_0x3e5a67){const _0x456aac=a76_0x321408,_0x92910d=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x16fa8b}=typedi_1[_0x456aac(0xfd)][_0x456aac(0xe4)](auth_settings_service_1['AuthSettingsService']),_0x58533a=_0x3e5a67['gitUrl']['replace'](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x456aac(0xe7)])(_0x3e5a67[_0x456aac(0x10e)])+'://'+_0x16fa8b+'@'),_0x596c7c=await shell_internal_1[_0x456aac(0xef)]['exec'](_0x456aac(0xf1)+_0x58533a),_0x30ff46=_0x596c7c[_0x456aac(0xe0)]('\x0a')[_0x456aac(0xdb)](_0x520a5a=>_0x92910d['test'](_0x520a5a))['map'](_0x3d4393=>{const _0x464ea0=_0x456aac,[,_0x3730ff,_0x21686d]=_0x3d4393['match'](_0x92910d),_0x2fd632=new branch_dto_1[(_0x464ea0(0x114))]();return _0x2fd632[_0x464ea0(0xe6)]=_0x3730ff,_0x2fd632[_0x464ea0(0x10a)]=_0x21686d[_0x464ea0(0xe8)](_0x464ea0(0x10f),''),_0x2fd632;});return _0x30ff46;}static async['createEmptyBranch'](_0x3a9bb3,_0x330e7d,_0x54d7a6=a76_0x321408(0xf8)){const _0x5158fb=a76_0x321408,{gitCredentials:_0x4e9ee0}=typedi_1[_0x5158fb(0xfd)][_0x5158fb(0xe4)](auth_settings_service_1[_0x5158fb(0x106)]),_0x43a4ef=_0x3a9bb3[_0x5158fb(0x10e)][_0x5158fb(0xe8)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x5158fb(0xe7)])(_0x3a9bb3[_0x5158fb(0x10e)])+_0x5158fb(0xe3)+_0x4e9ee0+'@'),_0x327f85=path_1['default'][_0x5158fb(0x108)](this[_0x5158fb(0xeb)],_0x3a9bb3[_0x5158fb(0x10a)]);Git[_0x5158fb(0x118)][_0x5158fb(0xd5)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x3a9bb3[_0x5158fb(0x10a)],_0x330e7d,_0x327f85,_0x43a4ef),await fs_internal_1['FS'][_0x5158fb(0xec)](_0x327f85),await fs_internal_1['FS'][_0x5158fb(0xf3)](_0x327f85);const _0x12fca0=new Git(_0x327f85);await shell_internal_1[_0x5158fb(0xef)][_0x5158fb(0xe2)]('cd\x20'+_0x12fca0[_0x5158fb(0x107)]+_0x5158fb(0x109))[_0x5158fb(0xff)](internal_utils_1['parseGitError']),await shell_internal_1[_0x5158fb(0xef)][_0x5158fb(0xe2)]('cd\x20'+_0x12fca0[_0x5158fb(0x107)]+_0x5158fb(0x117)+_0x43a4ef)[_0x5158fb(0xff)](internal_utils_1[_0x5158fb(0x101)]),await _0x12fca0[_0x5158fb(0x116)]('flosum-agent',_0x5158fb(0xf7)),await shell_internal_1['Shell']['exec']('cd\x20'+_0x12fca0[_0x5158fb(0x107)]+_0x5158fb(0xde)+_0x330e7d)['catch'](internal_utils_1[_0x5158fb(0x101)]),await shell_internal_1[_0x5158fb(0xef)]['exec'](_0x5158fb(0xd3)+_0x12fca0['baseDir']+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x54d7a6+_0x5158fb(0xdd))[_0x5158fb(0xff)](internal_utils_1['parseGitError']),await _0x12fca0[_0x5158fb(0x102)](_0x330e7d),Git['logger']['info']('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x5158fb(0xec)](_0x12fca0['baseDir']);}}exports['Git']=Git,Git['DEFAULT_CLONE_PATH']=path_1[a76_0x321408(0xfd)][a76_0x321408(0x108)](process[a76_0x321408(0xd8)](),a76_0x321408(0xf6),'git'),Git[a76_0x321408(0x118)]=new core_1[(a76_0x321408(0xfc))](Git[a76_0x321408(0x10a)]);function a76_0x4bc1(){const _0x25dc95=['exec','://','get','__importDefault','sha','getProtocol','replace','3161420FCAzip','1843926vAtJZX','DEFAULT_CLONE_PATH','removeDir','750520olEJst','400618QxWSsM','Shell','../shared/services/auth-settings.service','git\x20ls-remote\x20','status','makeDir','push\x20changes\x20to\x20%s','../shared/utils','.temp','agent@flosum.com','init\x20repository','path','./fs.internal','apply','Logger','default','720912jlDIEi','catch','__esModule','parseGitError','push','../../core','defineProperty','\x20&&\x20git\x20add\x20','AuthSettingsService','baseDir','join','\x20&&\x20git\x20init','name','toString','search','constructor','gitUrl','refs/heads/','2483732Coprfd','63SaTNoA','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','_repoPath','BranchDto','./internal.utils','setCredentials','\x20&&\x20git\x20remote\x20add\x20origin\x20','logger','(((.+)+)+)+$','cd\x20','commit\x20message\x20\x22%s\x22','info','Git','\x20&&\x20git\x20push\x20origin\x20','cwd','\x20&&\x20git\x20commit\x20-m\x20\x22','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','filter','\x20--single-branch\x20','\x22\x20--allow-empty','\x20&&\x20git\x20checkout\x20--orphan\x20','clone','split','7287whuXmY'];a76_0x4bc1=function(){return _0x25dc95;};return a76_0x4bc1();}