const a84_0x25e6d7=a84_0x3ba3;(function(_0x2d9135,_0x48983f){const _0x48657a=a84_0x3ba3,_0x519eb3=_0x2d9135();while(!![]){try{const _0x4da945=-parseInt(_0x48657a(0xa2))/0x1*(-parseInt(_0x48657a(0x85))/0x2)+parseInt(_0x48657a(0x89))/0x3*(parseInt(_0x48657a(0xd3))/0x4)+-parseInt(_0x48657a(0xcc))/0x5*(parseInt(_0x48657a(0xb7))/0x6)+parseInt(_0x48657a(0xc9))/0x7+-parseInt(_0x48657a(0xb0))/0x8+parseInt(_0x48657a(0xcd))/0x9+-parseInt(_0x48657a(0x8f))/0xa;if(_0x4da945===_0x48983f)break;else _0x519eb3['push'](_0x519eb3['shift']());}catch(_0x2be9a5){_0x519eb3['push'](_0x519eb3['shift']());}}}(a84_0x5794,0xe0240));function a84_0x5794(){const _0x76730a=['5MFIWcb','1358019BySiQm','./fs.internal','search','getProtocol','name','map','112yMAnMO','join','typedi','21592ItOFFh','constructor','replace','baseDir','67251Wlxtce','apply','sha','\x20--single-branch\x20','./shell.internal','\x22\x20--allow-empty','1682010wqLwyn','checkout','.temp','commit','AuthSettingsService','gitUrl','DEFAULT_CLONE_PATH','../../constants','status','match','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x20&&\x20git\x20checkout\x20--orphan\x20','push','git\x20clone\x20-b\x20','__esModule','test','git','removeDir','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','57MPBsUZ','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%Email:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','../shared/services/auth-settings.service','://','cd\x20','_repoPath','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','\x20--quiet','Git','set\x20credentials\x20%s\x20(%s)','\x20&&\x20git\x20rev-parse\x20HEAD','Shell','describe\x20commit\x20%s','extractAuthorFromCommitDescribe','8967056RxLMLC','default','refs/heads/','makeDir','log','../branches/dto/branch.dto','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','5192406VmRwRJ','\x20&&\x20git\x20status','clone','split','extractChangesFromCommitDescribe','describeCommit','(((.+)+)+)+$','__importDefault','setCredentials','getCurrentHash','\x20&&\x20git\x20commit\x20-m\x20\x22','cwd','createEmptyBranch','exec','logger','\x20&&\x20git\x20push\x20origin\x20','path','toString','11750375aDtHOE','commit\x20message\x20\x22%s\x22','init\x20repository'];a84_0x5794=function(){return _0x76730a;};return a84_0x5794();}const a84_0x231c80=function(){let _0x5a7558=!![];return function(_0x40d1fd,_0x4397e0){const _0x53dcc3=_0x5a7558?function(){const _0xc02f0e=a84_0x3ba3;if(_0x4397e0){const _0x3ce948=_0x4397e0[_0xc02f0e(0x8a)](_0x40d1fd,arguments);return _0x4397e0=null,_0x3ce948;}}:function(){};return _0x5a7558=![],_0x53dcc3;};}(),a84_0x1015a3=a84_0x231c80(this,function(){const _0x2f4592=a84_0x3ba3;return a84_0x1015a3[_0x2f4592(0xc8)]()[_0x2f4592(0xcf)](_0x2f4592(0xbd))[_0x2f4592(0xc8)]()[_0x2f4592(0x86)](a84_0x1015a3)[_0x2f4592(0xcf)](_0x2f4592(0xbd));});a84_0x1015a3();'use strict';var __importDefault=this&&this[a84_0x25e6d7(0xbe)]||function(_0x737f07){return _0x737f07&&_0x737f07['__esModule']?_0x737f07:{'default':_0x737f07};};Object['defineProperty'](exports,a84_0x25e6d7(0x9d),{'value':!![]}),exports[a84_0x25e6d7(0xaa)]=void 0x0;const constants_1=require(a84_0x25e6d7(0x96)),core_1=require('../../core'),path_1=__importDefault(require(a84_0x25e6d7(0xc7))),typedi_1=__importDefault(require(a84_0x25e6d7(0x84))),branch_dto_1=require(a84_0x25e6d7(0xb5)),auth_settings_service_1=require(a84_0x25e6d7(0xa4)),utils_1=require('../shared/utils'),fs_internal_1=require(a84_0x25e6d7(0xce)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a84_0x25e6d7(0x8d));class Git{constructor(_0x12a3f9){const _0x476fb3=a84_0x25e6d7;this[_0x476fb3(0xa7)]=_0x12a3f9;}get[a84_0x25e6d7(0x88)](){const _0x3e9afa=a84_0x25e6d7;return this[_0x3e9afa(0xa7)];}async[a84_0x25e6d7(0xbf)](_0x42f7ec,_0x37ad63){const _0x46f5c3=a84_0x25e6d7;Git[_0x46f5c3(0xc5)][_0x46f5c3(0xb4)](_0x46f5c3(0xab),_0x42f7ec,_0x37ad63),await shell_internal_1[_0x46f5c3(0xad)][_0x46f5c3(0xc4)](_0x46f5c3(0xa6)+this['_repoPath']+_0x46f5c3(0xa1)+_0x42f7ec+_0x46f5c3(0xa8)+_0x37ad63+'\x22');}async['add'](..._0x231aa9){const _0x26b0bf=a84_0x25e6d7;await shell_internal_1[_0x26b0bf(0xad)]['exec'](_0x26b0bf(0xa6)+this['_repoPath']+'\x20&&\x20git\x20add\x20'+_0x231aa9['join']('\x20'));}async[a84_0x25e6d7(0x97)](){const _0x3811a6=a84_0x25e6d7;return shell_internal_1[_0x3811a6(0xad)][_0x3811a6(0xc4)]('cd\x20'+this['_repoPath']+_0x3811a6(0xb8));}async[a84_0x25e6d7(0x92)](_0x33e2f4){const _0x5bfc62=a84_0x25e6d7;Git[_0x5bfc62(0xc5)]['log'](_0x5bfc62(0xca),_0x33e2f4),await shell_internal_1[_0x5bfc62(0xad)][_0x5bfc62(0xc4)](_0x5bfc62(0xa6)+this[_0x5bfc62(0xa7)]+_0x5bfc62(0xc1)+_0x33e2f4+'\x22');}async[a84_0x25e6d7(0x9b)](_0x198b46){const _0x25a24e=a84_0x25e6d7;Git[_0x25a24e(0xc5)]['log']('push\x20changes\x20to\x20%s',_0x198b46),await shell_internal_1[_0x25a24e(0xad)][_0x25a24e(0xc4)](_0x25a24e(0xa6)+this[_0x25a24e(0xa7)]+_0x25a24e(0xc6)+_0x198b46+_0x25a24e(0xa9));}async[a84_0x25e6d7(0x90)](_0x47626f){const _0xa87abe=a84_0x25e6d7;Git[_0xa87abe(0xc5)][_0xa87abe(0xb4)]('checkout\x20to\x20%s',_0x47626f),await shell_internal_1[_0xa87abe(0xad)]['exec'](_0xa87abe(0xa6)+this[_0xa87abe(0xa7)]+'\x20&&\x20git\x20checkout\x20'+_0x47626f);}async[a84_0x25e6d7(0xc0)](){const _0x5010b3=a84_0x25e6d7,_0x399da8=await shell_internal_1[_0x5010b3(0xad)]['exec'](_0x5010b3(0xa6)+this[_0x5010b3(0xa7)]+_0x5010b3(0xac));return _0x399da8[_0x5010b3(0x87)]('\x0a','');}async[a84_0x25e6d7(0xbc)](_0x537e22){const _0x18f75f=a84_0x25e6d7;Git[_0x18f75f(0xc5)][_0x18f75f(0xb4)](_0x18f75f(0xae),_0x537e22);const _0x5d4135=await shell_internal_1[_0x18f75f(0xad)]['exec'](_0x18f75f(0xa6)+this[_0x18f75f(0xa7)]+_0x18f75f(0xa3)+_0x537e22);return{'author':internal_utils_1[_0x18f75f(0xaf)](_0x5d4135),'email':internal_utils_1['extractEmailFromCommitDescribe'](_0x5d4135),'message':internal_utils_1['extractMessageFromCommitDescribe'](_0x5d4135),'changes':internal_utils_1[_0x18f75f(0xbb)](_0x5d4135)};}static async[a84_0x25e6d7(0xb9)](_0x54a985,_0x454449,_0x266bec){const _0x11a35d=a84_0x25e6d7,_0x16fb6c=path_1[_0x11a35d(0xb1)][_0x11a35d(0xd4)](this[_0x11a35d(0x95)],_0x454449),_0x568d4b=new Git(_0x16fb6c);return Git[_0x11a35d(0xc5)][_0x11a35d(0xb4)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x266bec,_0x54a985,_0x16fb6c),await fs_internal_1['FS'][_0x11a35d(0xa0)](_0x16fb6c),await shell_internal_1['Shell'][_0x11a35d(0xc4)](_0x11a35d(0x9c)+_0x266bec+_0x11a35d(0x8c)+_0x54a985+'\x20'+_0x16fb6c)['catch'](()=>void 0x0),_0x568d4b;}static async['getRepositoryBranches'](_0x44cb6c){const _0x1b3628=a84_0x25e6d7,_0x51a139=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x40a25e}=typedi_1[_0x1b3628(0xb1)]['get'](auth_settings_service_1[_0x1b3628(0x93)]),_0x164133=_0x44cb6c[_0x1b3628(0x94)][_0x1b3628(0x87)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x1b3628(0xd0)](_0x44cb6c[_0x1b3628(0x94)])+'://'+_0x40a25e+'@'),_0x341d04=await shell_internal_1[_0x1b3628(0xad)][_0x1b3628(0xc4)]('git\x20ls-remote\x20'+_0x164133),_0x6efd55=_0x341d04[_0x1b3628(0xba)]('\x0a')['filter'](_0x1d733b=>_0x51a139[_0x1b3628(0x9e)](_0x1d733b))[_0x1b3628(0xd2)](_0x5d973d=>{const _0x34b3e7=_0x1b3628,[,_0x37ed11,_0x162873]=_0x5d973d[_0x34b3e7(0x98)](_0x51a139),_0x555725=new branch_dto_1['BranchDto']();return _0x555725[_0x34b3e7(0x8b)]=_0x37ed11,_0x555725[_0x34b3e7(0xd1)]=_0x162873[_0x34b3e7(0x87)](_0x34b3e7(0xb2),''),_0x555725;});return _0x6efd55;}static async[a84_0x25e6d7(0xc3)](_0x4712aa,_0xdecc1c,_0x55ec4a=a84_0x25e6d7(0xcb)){const _0x3bbeb7=a84_0x25e6d7,{gitCredentials:_0x26509f}=typedi_1[_0x3bbeb7(0xb1)]['get'](auth_settings_service_1[_0x3bbeb7(0x93)]),_0x52bd31=_0x4712aa[_0x3bbeb7(0x94)][_0x3bbeb7(0x87)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x3bbeb7(0xd0)](_0x4712aa['gitUrl'])+_0x3bbeb7(0xa5)+_0x26509f+'@'),_0x287e60=path_1[_0x3bbeb7(0xb1)][_0x3bbeb7(0xd4)](this['DEFAULT_CLONE_PATH'],_0x4712aa['name']);Git[_0x3bbeb7(0xc5)][_0x3bbeb7(0xb4)](_0x3bbeb7(0xb6),_0x4712aa[_0x3bbeb7(0xd1)],_0xdecc1c,_0x287e60,_0x52bd31),await fs_internal_1['FS'][_0x3bbeb7(0xa0)](_0x287e60),await fs_internal_1['FS'][_0x3bbeb7(0xb3)](_0x287e60);const _0x32ea72=new Git(_0x287e60);await shell_internal_1[_0x3bbeb7(0xad)]['exec'](_0x3bbeb7(0xa6)+_0x32ea72['baseDir']+'\x20&&\x20git\x20init'),await shell_internal_1[_0x3bbeb7(0xad)][_0x3bbeb7(0xc4)](_0x3bbeb7(0xa6)+_0x32ea72[_0x3bbeb7(0x88)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x52bd31),await _0x32ea72[_0x3bbeb7(0xbf)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x3bbeb7(0xad)][_0x3bbeb7(0xc4)](_0x3bbeb7(0xa6)+_0x32ea72[_0x3bbeb7(0x88)]+_0x3bbeb7(0x9a)+_0xdecc1c),await shell_internal_1[_0x3bbeb7(0xad)][_0x3bbeb7(0xc4)](_0x3bbeb7(0xa6)+_0x32ea72['baseDir']+_0x3bbeb7(0xc1)+_0x55ec4a+_0x3bbeb7(0x8e)),await _0x32ea72[_0x3bbeb7(0x9b)](_0xdecc1c),Git[_0x3bbeb7(0xc5)][_0x3bbeb7(0xb4)](_0x3bbeb7(0x99)),await fs_internal_1['FS'][_0x3bbeb7(0xa0)](_0x32ea72[_0x3bbeb7(0x88)]);}}function a84_0x3ba3(_0x7c24c1,_0x539172){const _0x26d4a4=a84_0x5794();return a84_0x3ba3=function(_0x1015a3,_0x231c80){_0x1015a3=_0x1015a3-0x84;let _0x579401=_0x26d4a4[_0x1015a3];return _0x579401;},a84_0x3ba3(_0x7c24c1,_0x539172);}exports[a84_0x25e6d7(0xaa)]=Git,Git[a84_0x25e6d7(0x95)]=path_1[a84_0x25e6d7(0xb1)][a84_0x25e6d7(0xd4)](process[a84_0x25e6d7(0xc2)](),a84_0x25e6d7(0x91),a84_0x25e6d7(0x9f)),Git['logger']=new core_1['Logger'](Git['name']);