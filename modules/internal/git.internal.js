const a76_0xfe3768=a76_0x2de9;(function(_0x46bb83,_0x456396){const _0x4d045b=a76_0x2de9,_0x57c3ee=_0x46bb83();while(!![]){try{const _0x128ad2=-parseInt(_0x4d045b(0xdd))/0x1*(-parseInt(_0x4d045b(0xd2))/0x2)+-parseInt(_0x4d045b(0xec))/0x3*(-parseInt(_0x4d045b(0xfb))/0x4)+-parseInt(_0x4d045b(0xb7))/0x5+-parseInt(_0x4d045b(0x101))/0x6*(-parseInt(_0x4d045b(0xe4))/0x7)+parseInt(_0x4d045b(0xc0))/0x8*(parseInt(_0x4d045b(0xed))/0x9)+parseInt(_0x4d045b(0xe6))/0xa+-parseInt(_0x4d045b(0x105))/0xb*(parseInt(_0x4d045b(0xba))/0xc);if(_0x128ad2===_0x456396)break;else _0x57c3ee['push'](_0x57c3ee['shift']());}catch(_0x5ed0d3){_0x57c3ee['push'](_0x57c3ee['shift']());}}}(a76_0xdd0d,0xc0e15));function a76_0xdd0d(){const _0x229eac=['15054MUxDNP','cwd','refs/heads/','split','11XEljMq','../../core','get','getProtocol','7172015cYrhri','test','name','19965504jRXwWE','Git','./shell.internal','catch','logger','replace','5333968uQrFaI','\x20--single-branch\x20','cd\x20','set\x20credentials\x20%s\x20(%s)','BranchDto','agent@flosum.com','status','DEFAULT_CLONE_PATH','setCredentials','push\x20changes\x20to\x20%s','gitUrl','join','clone','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','git\x20ls-remote\x20','path','.temp','removeDir','82XASVkX','typedi','\x20&&\x20git\x20checkout\x20--orphan\x20','Logger','sha','\x20&&\x20git\x20commit\x20-m\x20\x22','git','Shell','info','init\x20repository','AuthSettingsService','4471qevLKe','parseGitError','(((.+)+)+)+$','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','./fs.internal','_repoPath','\x20&&\x20git\x20status','2947WrUeys','constructor','7719940zgnFEp','search','\x20--quiet','commit\x20message\x20\x22%s\x22','exec','../shared/utils','78906DEiHFb','9KWznef','__importDefault','default','commit','../shared/services/auth-settings.service','../branches/dto/branch.dto','\x20&&\x20git\x20add\x20','\x22\x20--allow-empty','__esModule','match','toString','defineProperty','://','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','184wgzFCV','push','baseDir','map','makeDir','\x20&&\x20git\x20remote\x20add\x20origin\x20'];a76_0xdd0d=function(){return _0x229eac;};return a76_0xdd0d();}const a76_0x36f384=function(){let _0x2731ff=!![];return function(_0x1cced4,_0x5f225a){const _0x464299=_0x2731ff?function(){if(_0x5f225a){const _0x509ca3=_0x5f225a['apply'](_0x1cced4,arguments);return _0x5f225a=null,_0x509ca3;}}:function(){};return _0x2731ff=![],_0x464299;};}(),a76_0x2a2601=a76_0x36f384(this,function(){const _0x21d962=a76_0x2de9;return a76_0x2a2601[_0x21d962(0xf7)]()[_0x21d962(0xe7)](_0x21d962(0xdf))[_0x21d962(0xf7)]()[_0x21d962(0xe5)](a76_0x2a2601)[_0x21d962(0xe7)](_0x21d962(0xdf));});a76_0x2a2601();'use strict';var __importDefault=this&&this[a76_0xfe3768(0xee)]||function(_0x8bbba7){const _0x27a0b9=a76_0xfe3768;return _0x8bbba7&&_0x8bbba7[_0x27a0b9(0xf5)]?_0x8bbba7:{'default':_0x8bbba7};};function a76_0x2de9(_0x164c3e,_0x5b9706){const _0x17de1c=a76_0xdd0d();return a76_0x2de9=function(_0x2a2601,_0x36f384){_0x2a2601=_0x2a2601-0xb7;let _0xdd0dea=_0x17de1c[_0x2a2601];return _0xdd0dea;},a76_0x2de9(_0x164c3e,_0x5b9706);}Object[a76_0xfe3768(0xf8)](exports,a76_0xfe3768(0xf5),{'value':!![]}),exports[a76_0xfe3768(0xbb)]=void 0x0;const core_1=require(a76_0xfe3768(0x106)),path_1=__importDefault(require(a76_0xfe3768(0xcf))),typedi_1=__importDefault(require(a76_0xfe3768(0xd3))),branch_dto_1=require(a76_0xfe3768(0xf2)),auth_settings_service_1=require(a76_0xfe3768(0xf1)),utils_1=require(a76_0xfe3768(0xeb)),fs_internal_1=require(a76_0xfe3768(0xe1)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a76_0xfe3768(0xbc));class Git{constructor(_0x12d554){const _0x3c8519=a76_0xfe3768;this[_0x3c8519(0xe2)]=_0x12d554;}get[a76_0xfe3768(0xfd)](){const _0x21c6da=a76_0xfe3768;return this[_0x21c6da(0xe2)];}async[a76_0xfe3768(0xc8)](_0x20a85c,_0x3f8dac){const _0x13bddb=a76_0xfe3768;Git[_0x13bddb(0xbe)]['info'](_0x13bddb(0xc3),_0x20a85c,_0x3f8dac),await shell_internal_1[_0x13bddb(0xd9)]['exec'](_0x13bddb(0xc2)+this['_repoPath']+_0x13bddb(0xe0)+_0x20a85c+_0x13bddb(0xfa)+_0x3f8dac+'\x22')['catch'](internal_utils_1[_0x13bddb(0xde)]);}async['add'](..._0x326b71){const _0xdd1c8a=a76_0xfe3768;await shell_internal_1['Shell'][_0xdd1c8a(0xea)](_0xdd1c8a(0xc2)+this[_0xdd1c8a(0xe2)]+_0xdd1c8a(0xf3)+_0x326b71['join']('\x20'))['catch'](internal_utils_1['parseGitError']);}async[a76_0xfe3768(0xc6)](){const _0x406b6f=a76_0xfe3768;return shell_internal_1[_0x406b6f(0xd9)][_0x406b6f(0xea)](_0x406b6f(0xc2)+this['_repoPath']+_0x406b6f(0xe3))[_0x406b6f(0xbd)](internal_utils_1[_0x406b6f(0xde)]);}async[a76_0xfe3768(0xf0)](_0x3109a2){const _0x55ca1b=a76_0xfe3768;Git[_0x55ca1b(0xbe)][_0x55ca1b(0xda)](_0x55ca1b(0xe9),_0x3109a2),await shell_internal_1['Shell']['exec'](_0x55ca1b(0xc2)+this[_0x55ca1b(0xe2)]+_0x55ca1b(0xd7)+_0x3109a2+'\x22')[_0x55ca1b(0xbd)](internal_utils_1[_0x55ca1b(0xde)]);}async['push'](_0x5cfb8d){const _0x20208b=a76_0xfe3768;Git[_0x20208b(0xbe)]['info'](_0x20208b(0xc9),_0x5cfb8d),await shell_internal_1['Shell']['exec'](_0x20208b(0xc2)+this['_repoPath']+'\x20&&\x20git\x20push\x20origin\x20'+_0x5cfb8d+_0x20208b(0xe8))[_0x20208b(0xbd)](internal_utils_1['parseGitError']);}static async[a76_0xfe3768(0xcc)](_0xeb7fba,_0x5965f1,_0x87b2d2){const _0x5d033a=a76_0xfe3768,_0x20825b=path_1[_0x5d033a(0xef)]['join'](this[_0x5d033a(0xc7)],_0x5965f1),_0x2e62c7=new Git(_0x20825b);return Git[_0x5d033a(0xbe)][_0x5d033a(0xda)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x87b2d2,_0xeb7fba,_0x20825b),await fs_internal_1['FS'][_0x5d033a(0xd1)](_0x20825b),await shell_internal_1[_0x5d033a(0xd9)]['exec']('git\x20clone\x20-b\x20'+_0x87b2d2+_0x5d033a(0xc1)+_0xeb7fba+'\x20'+_0x20825b)[_0x5d033a(0xbd)](()=>void 0x0),_0x2e62c7;}static async['getRepositoryBranches'](_0x3bee8f){const _0x32ec94=a76_0xfe3768,_0x3b1b91=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x2dbb26}=typedi_1[_0x32ec94(0xef)][_0x32ec94(0x107)](auth_settings_service_1[_0x32ec94(0xdc)]),_0x5e40e6=_0x3bee8f[_0x32ec94(0xca)][_0x32ec94(0xbf)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x32ec94(0x108)])(_0x3bee8f[_0x32ec94(0xca)])+_0x32ec94(0xf9)+_0x2dbb26+'@'),_0x11bd13=await shell_internal_1[_0x32ec94(0xd9)][_0x32ec94(0xea)](_0x32ec94(0xce)+_0x5e40e6),_0x5eea02=_0x11bd13[_0x32ec94(0x104)]('\x0a')['filter'](_0x3e26a8=>_0x3b1b91[_0x32ec94(0xb8)](_0x3e26a8))[_0x32ec94(0xfe)](_0x12334e=>{const _0x113e04=_0x32ec94,[,_0x3e05c3,_0x2bcae3]=_0x12334e[_0x113e04(0xf6)](_0x3b1b91),_0x256a70=new branch_dto_1[(_0x113e04(0xc4))]();return _0x256a70[_0x113e04(0xd6)]=_0x3e05c3,_0x256a70[_0x113e04(0xb9)]=_0x2bcae3[_0x113e04(0xbf)](_0x113e04(0x103),''),_0x256a70;});return _0x5eea02;}static async['createEmptyBranch'](_0x30ea10,_0x7926a1,_0x184c28=a76_0xfe3768(0xdb)){const _0x5d0099=a76_0xfe3768,{gitCredentials:_0x26d4da}=typedi_1[_0x5d0099(0xef)][_0x5d0099(0x107)](auth_settings_service_1[_0x5d0099(0xdc)]),_0x1e43e5=_0x30ea10[_0x5d0099(0xca)][_0x5d0099(0xbf)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x5d0099(0x108)])(_0x30ea10['gitUrl'])+_0x5d0099(0xf9)+_0x26d4da+'@'),_0x300af2=path_1[_0x5d0099(0xef)][_0x5d0099(0xcb)](this[_0x5d0099(0xc7)],_0x30ea10['name']);Git[_0x5d0099(0xbe)][_0x5d0099(0xda)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x30ea10[_0x5d0099(0xb9)],_0x7926a1,_0x300af2,_0x1e43e5),await fs_internal_1['FS'][_0x5d0099(0xd1)](_0x300af2),await fs_internal_1['FS'][_0x5d0099(0xff)](_0x300af2);const _0x25a4bf=new Git(_0x300af2);await shell_internal_1[_0x5d0099(0xd9)][_0x5d0099(0xea)](_0x5d0099(0xc2)+_0x25a4bf[_0x5d0099(0xfd)]+'\x20&&\x20git\x20init')[_0x5d0099(0xbd)](internal_utils_1[_0x5d0099(0xde)]),await shell_internal_1[_0x5d0099(0xd9)]['exec']('cd\x20'+_0x25a4bf[_0x5d0099(0xfd)]+_0x5d0099(0x100)+_0x1e43e5)['catch'](internal_utils_1[_0x5d0099(0xde)]),await _0x25a4bf['setCredentials']('flosum-agent',_0x5d0099(0xc5)),await shell_internal_1[_0x5d0099(0xd9)][_0x5d0099(0xea)](_0x5d0099(0xc2)+_0x25a4bf[_0x5d0099(0xfd)]+_0x5d0099(0xd4)+_0x7926a1)[_0x5d0099(0xbd)](internal_utils_1[_0x5d0099(0xde)]),await shell_internal_1['Shell'][_0x5d0099(0xea)]('cd\x20'+_0x25a4bf[_0x5d0099(0xfd)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x184c28+_0x5d0099(0xf4))[_0x5d0099(0xbd)](internal_utils_1[_0x5d0099(0xde)]),await _0x25a4bf[_0x5d0099(0xfc)](_0x7926a1),Git[_0x5d0099(0xbe)][_0x5d0099(0xda)](_0x5d0099(0xcd)),await fs_internal_1['FS'][_0x5d0099(0xd1)](_0x25a4bf[_0x5d0099(0xfd)]);}}exports[a76_0xfe3768(0xbb)]=Git,Git[a76_0xfe3768(0xc7)]=path_1[a76_0xfe3768(0xef)][a76_0xfe3768(0xcb)](process[a76_0xfe3768(0x102)](),a76_0xfe3768(0xd0),a76_0xfe3768(0xd8)),Git[a76_0xfe3768(0xbe)]=new core_1[(a76_0xfe3768(0xd5))](Git[a76_0xfe3768(0xb9)]);