const a75_0x11b1=['Git','291461GcUKSx','../../core','./internal.utils','defineProperty','gitUrl','setCredentials','status','./fs.internal','baseDir','3NULxJI','push','981987kwCdnm','__importDefault','exec','removeDir','DEFAULT_CLONE_PATH','AuthSettingsService','\x22\x20--allow-empty','cwd','__esModule','\x20--quiet','agent@flosum.com','default','info','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','createEmptyBranch','1ZOCMBQ','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','1741404YdIYZb','test','17TCSsGU','Shell','parseGitError','git\x20clone\x20-b\x20','\x20&&\x20git\x20checkout\x20--orphan\x20','../shared/services/auth-settings.service','14SNEPkc','join','init\x20repository','419rFcLbn','catch','45062voQtRQ','name','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','_repoPath','path','cd\x20','\x20&&\x20git\x20commit\x20-m\x20\x22','\x20&&\x20git\x20push\x20origin\x20','constructor','125035PQYsCe','2078gQYjoa','apply','git','58042SrsWrN','.temp','\x20--single-branch\x20','://','clone','\x20&&\x20git\x20add\x20'];const a75_0x5931c7=a75_0x5cbb;(function(_0x1a21d6,_0x5109e2){const _0x20d5cd=a75_0x5cbb;while(!![]){try{const _0x3e3088=parseInt(_0x20d5cd(0x1f4))+-parseInt(_0x20d5cd(0x226))*parseInt(_0x20d5cd(0x1f2))+-parseInt(_0x20d5cd(0x21f))*parseInt(_0x20d5cd(0x207))+-parseInt(_0x20d5cd(0x20d))*-parseInt(_0x20d5cd(0x212))+parseInt(_0x20d5cd(0x21c))*-parseInt(_0x20d5cd(0x210))+-parseInt(_0x20d5cd(0x21b))*parseInt(_0x20d5cd(0x203))+parseInt(_0x20d5cd(0x205));if(_0x3e3088===_0x5109e2)break;else _0x1a21d6['push'](_0x1a21d6['shift']());}catch(_0x902886){_0x1a21d6['push'](_0x1a21d6['shift']());}}}(a75_0x11b1,0x79725));const a75_0x5ab23d=function(){let _0x32fadd=!![];return function(_0x26d270,_0x52bee9){const _0xecf44f=_0x32fadd?function(){const _0x3a0fbe=a75_0x5cbb;if(_0x52bee9){const _0x5c45bb=_0x52bee9[_0x3a0fbe(0x21d)](_0x26d270,arguments);return _0x52bee9=null,_0x5c45bb;}}:function(){};return _0x32fadd=![],_0xecf44f;};}(),a75_0x3a17be=a75_0x5ab23d(this,function(){const _0x54bfc3=function(){const _0x53a640=a75_0x5cbb,_0x1be1e0=_0x54bfc3['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x53a640(0x21a)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x1be1e0[_0x53a640(0x206)](a75_0x3a17be);};return _0x54bfc3();});a75_0x3a17be();function a75_0x5cbb(_0x56eea4,_0x334aa9){return a75_0x5cbb=function(_0x34c406,_0x3a17be){_0x34c406=_0x34c406-0x1eb;let _0x5ab23d=a75_0x11b1[_0x34c406];return _0x5ab23d;},a75_0x5cbb(_0x56eea4,_0x334aa9);}'use strict';var __importDefault=this&&this[a75_0x5931c7(0x1f5)]||function(_0x1628ef){const _0x1d83bf=a75_0x5931c7;return _0x1628ef&&_0x1628ef[_0x1d83bf(0x1fc)]?_0x1628ef:{'default':_0x1628ef};};Object[a75_0x5931c7(0x1ec)](exports,a75_0x5931c7(0x1fc),{'value':!![]}),exports[a75_0x5931c7(0x225)]=void 0x0;const core_1=require(a75_0x5931c7(0x227)),path_1=__importDefault(require(a75_0x5931c7(0x216))),typedi_1=__importDefault(require('typedi')),auth_settings_service_1=require(a75_0x5931c7(0x20c)),utils_1=require('../shared/utils'),fs_internal_1=require(a75_0x5931c7(0x1f0)),internal_utils_1=require(a75_0x5931c7(0x1eb)),shell_internal_1=require('./shell.internal'),logger=new core_1['Logger'](a75_0x5931c7(0x21e));class Git{constructor(_0x396600){const _0x3d12a4=a75_0x5931c7;this[_0x3d12a4(0x215)]=_0x396600;}get[a75_0x5931c7(0x1f1)](){const _0x2a3029=a75_0x5931c7;return this[_0x2a3029(0x215)];}async[a75_0x5931c7(0x1ee)](_0x250d9c,_0x30fc21){const _0x5297bd=a75_0x5931c7;logger[_0x5297bd(0x200)]('set\x20credentials\x20%s\x20(%s)',_0x250d9c,_0x30fc21),await shell_internal_1[_0x5297bd(0x208)][_0x5297bd(0x1f6)](_0x5297bd(0x217)+this[_0x5297bd(0x215)]+_0x5297bd(0x201)+_0x250d9c+_0x5297bd(0x214)+_0x30fc21+'\x22')['catch'](internal_utils_1[_0x5297bd(0x209)]);}async['add'](..._0x4632cb){const _0x5d128f=a75_0x5931c7;await shell_internal_1[_0x5d128f(0x208)][_0x5d128f(0x1f6)](_0x5d128f(0x217)+this['_repoPath']+_0x5d128f(0x224)+_0x4632cb[_0x5d128f(0x20e)]('\x20'))[_0x5d128f(0x211)](internal_utils_1['parseGitError']);}async[a75_0x5931c7(0x1ef)](){const _0xdfeea9=a75_0x5931c7;return shell_internal_1[_0xdfeea9(0x208)]['exec'](_0xdfeea9(0x217)+this[_0xdfeea9(0x215)]+'\x20&&\x20git\x20status')['catch'](internal_utils_1[_0xdfeea9(0x209)]);}async['commit'](_0x21327e){const _0x5c826c=a75_0x5931c7;await shell_internal_1[_0x5c826c(0x208)]['exec']('cd\x20'+this[_0x5c826c(0x215)]+_0x5c826c(0x218)+_0x21327e+'\x22')[_0x5c826c(0x211)](internal_utils_1[_0x5c826c(0x209)]);}async['push'](_0x37b09c){const _0x540526=a75_0x5931c7;logger[_0x540526(0x200)]('push\x20changes\x20to\x20%s',_0x37b09c),await shell_internal_1[_0x540526(0x208)][_0x540526(0x1f6)](_0x540526(0x217)+this[_0x540526(0x215)]+_0x540526(0x219)+_0x37b09c+_0x540526(0x1fd))[_0x540526(0x211)](internal_utils_1[_0x540526(0x209)]);}static async[a75_0x5931c7(0x223)](_0x52edb0,_0x311bbf,_0x4cae35){const _0x2d4c80=a75_0x5931c7,_0x6d559f=path_1[_0x2d4c80(0x1ff)]['join'](this[_0x2d4c80(0x1f8)],_0x311bbf),_0x3fef26=new Git(_0x6d559f);return logger[_0x2d4c80(0x200)](_0x2d4c80(0x204),_0x4cae35,_0x52edb0,_0x6d559f),await fs_internal_1['FS'][_0x2d4c80(0x1f7)](_0x6d559f),await shell_internal_1[_0x2d4c80(0x208)][_0x2d4c80(0x1f6)](_0x2d4c80(0x20a)+_0x4cae35+_0x2d4c80(0x221)+_0x52edb0+'\x20'+_0x6d559f)[_0x2d4c80(0x211)](()=>void 0x0),_0x3fef26;}static async[a75_0x5931c7(0x202)](_0x799741,_0x5a7332,_0x1402ab=a75_0x5931c7(0x20f)){const _0x364359=a75_0x5931c7,{gitCredentials:_0x1bbb2e}=typedi_1[_0x364359(0x1ff)]['get'](auth_settings_service_1[_0x364359(0x1f9)]),_0x20396d=_0x799741[_0x364359(0x1ed)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x799741[_0x364359(0x1ed)])+_0x364359(0x222)+_0x1bbb2e+'@'),_0x153752=path_1[_0x364359(0x1ff)][_0x364359(0x20e)](this[_0x364359(0x1f8)],_0x799741[_0x364359(0x213)]);await fs_internal_1['FS']['removeDir'](_0x153752),await fs_internal_1['FS']['makeDir'](_0x153752);const _0x2a8bd9=new Git(_0x153752);await shell_internal_1['Shell'][_0x364359(0x1f6)](_0x364359(0x217)+_0x2a8bd9[_0x364359(0x1f1)]+'\x20&&\x20git\x20init')[_0x364359(0x211)](internal_utils_1['parseGitError']),await shell_internal_1['Shell'][_0x364359(0x1f6)](_0x364359(0x217)+_0x2a8bd9[_0x364359(0x1f1)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x20396d)[_0x364359(0x211)](internal_utils_1[_0x364359(0x209)]),await _0x2a8bd9[_0x364359(0x1ee)]('flosum-agent',_0x364359(0x1fe)),_0x5a7332&&(await shell_internal_1[_0x364359(0x208)][_0x364359(0x1f6)](_0x364359(0x217)+_0x2a8bd9[_0x364359(0x1f1)]+_0x364359(0x20b)+_0x5a7332)[_0x364359(0x211)](internal_utils_1[_0x364359(0x209)]),await shell_internal_1[_0x364359(0x208)][_0x364359(0x1f6)]('cd\x20'+_0x2a8bd9['baseDir']+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x1402ab+_0x364359(0x1fa))[_0x364359(0x211)](internal_utils_1['parseGitError']),await _0x2a8bd9[_0x364359(0x1f3)](_0x5a7332)),await fs_internal_1['FS'][_0x364359(0x1f7)](_0x2a8bd9[_0x364359(0x1f1)]);}}exports[a75_0x5931c7(0x225)]=Git,Git[a75_0x5931c7(0x1f8)]=path_1[a75_0x5931c7(0x1ff)][a75_0x5931c7(0x20e)](process[a75_0x5931c7(0x1fb)](),a75_0x5931c7(0x220),a75_0x5931c7(0x21e));