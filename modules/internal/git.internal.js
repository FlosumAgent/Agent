function a79_0x5ef2(_0x28a58f,_0x5901b9){const _0x32a965=a79_0x317d();return a79_0x5ef2=function(_0x806e00,_0x2d16e8){_0x806e00=_0x806e00-0x114;let _0x317d15=_0x32a965[_0x806e00];return _0x317d15;},a79_0x5ef2(_0x28a58f,_0x5901b9);}const a79_0x2e9e10=a79_0x5ef2;function a79_0x317d(){const _0x37f816=['apply','refs/heads/','2ImWTaY','\x20&&\x20git\x20checkout\x20--orphan\x20','exec','./internal.utils','\x20&&\x20git\x20rev-parse\x20HEAD','\x20&&\x20git\x20checkout\x20','AuthSettingsService','setCredentials','describe\x20commit\x20%s','\x20&&\x20git\x20push\x20origin\x20','name','\x22\x20--allow-empty','search','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','replace','get','../../core','makeDir','Logger','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nMessage:\x20%s\x22\x20--name-status\x20','./shell.internal','://','checkout','2568HnaEdk','git','\x20&&\x20git\x20remote\x20add\x20origin\x20','describeCommit','\x20&&\x20git\x20init','getCurrentHash','map','38045064DRVfSJ','DEFAULT_GIT_USER_EMAIL','getRepositoryBranches','init\x20repository','Git','checkout\x20to\x20%s','commit\x20message\x20\x22%s\x22','\x20&&\x20git\x20commit\x20-m\x20\x22','baseDir','DEFAULT_CLONE_PATH','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','catch','2977070yfgSft','619796UuQzeT','\x20--quiet','_repoPath','cwd','\x20--single-branch\x20','createEmptyBranch','logger','split','match','join','11iCrYPm','add','5hgYAwD','typedi','252165dEUrAT','59745PjhoUH','push\x20changes\x20to\x20%s','__esModule','status','removeDir','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','\x20&&\x20git\x20status','\x20&&\x20git\x20add\x20','Shell','gitUrl','462jdGhNY','DEFAULT_GIT_USER_NAME','26577entjxW','extractMessageFromCommitDescribe','823448pCAdTP','BranchDto','__importDefault','test','default','path','../shared/services/auth-settings.service','cd\x20','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','git\x20clone\x20-b\x20','log'];a79_0x317d=function(){return _0x37f816;};return a79_0x317d();}(function(_0x4ee903,_0x191698){const _0x3aa1f9=a79_0x5ef2,_0x441c36=_0x4ee903();while(!![]){try{const _0x16b4b1=-parseInt(_0x3aa1f9(0x136))/0x1*(parseInt(_0x3aa1f9(0x129))/0x2)+parseInt(_0x3aa1f9(0x11a))/0x3+parseInt(_0x3aa1f9(0x161))/0x4*(parseInt(_0x3aa1f9(0x118))/0x5)+parseInt(_0x3aa1f9(0x125))/0x6*(-parseInt(_0x3aa1f9(0x11b))/0x7)+parseInt(_0x3aa1f9(0x14d))/0x8*(-parseInt(_0x3aa1f9(0x127))/0x9)+-parseInt(_0x3aa1f9(0x160))/0xa*(parseInt(_0x3aa1f9(0x116))/0xb)+parseInt(_0x3aa1f9(0x154))/0xc;if(_0x16b4b1===_0x191698)break;else _0x441c36['push'](_0x441c36['shift']());}catch(_0x369b3a){_0x441c36['push'](_0x441c36['shift']());}}}(a79_0x317d,0xa6c9b));const a79_0x2d16e8=function(){let _0x575857=!![];return function(_0x2cbe3d,_0x14c62d){const _0x4e7ab9=_0x575857?function(){const _0x1b1d07=a79_0x5ef2;if(_0x14c62d){const _0x44961c=_0x14c62d[_0x1b1d07(0x134)](_0x2cbe3d,arguments);return _0x14c62d=null,_0x44961c;}}:function(){};return _0x575857=![],_0x4e7ab9;};}(),a79_0x806e00=a79_0x2d16e8(this,function(){const _0x14f43f=a79_0x5ef2;return a79_0x806e00['toString']()[_0x14f43f(0x142)]('(((.+)+)+)+$')['toString']()['constructor'](a79_0x806e00)[_0x14f43f(0x142)]('(((.+)+)+)+$');});a79_0x806e00();'use strict';var __importDefault=this&&this[a79_0x2e9e10(0x12b)]||function(_0x57a3b6){const _0x147157=a79_0x2e9e10;return _0x57a3b6&&_0x57a3b6[_0x147157(0x11d)]?_0x57a3b6:{'default':_0x57a3b6};};Object['defineProperty'](exports,a79_0x2e9e10(0x11d),{'value':!![]}),exports[a79_0x2e9e10(0x158)]=void 0x0;const constants_1=require('../../constants'),core_1=require(a79_0x2e9e10(0x146)),path_1=__importDefault(require(a79_0x2e9e10(0x12e))),typedi_1=__importDefault(require(a79_0x2e9e10(0x119))),branch_dto_1=require('../branches/dto/branch.dto'),auth_settings_service_1=require(a79_0x2e9e10(0x12f)),utils_1=require('../shared/utils'),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a79_0x2e9e10(0x139)),shell_internal_1=require(a79_0x2e9e10(0x14a));class Git{constructor(_0x49ce5f){const _0x59e28b=a79_0x2e9e10;this[_0x59e28b(0x163)]=_0x49ce5f;}get['baseDir'](){const _0x3c7f95=a79_0x2e9e10;return this[_0x3c7f95(0x163)];}async[a79_0x2e9e10(0x13d)](_0x1b6c4d,_0x13a66e){const _0x2114e7=a79_0x2e9e10;Git[_0x2114e7(0x167)][_0x2114e7(0x133)]('set\x20credentials\x20%s\x20(%s)',_0x1b6c4d,_0x13a66e),await shell_internal_1['Shell']['exec']('cd\x20'+this['_repoPath']+_0x2114e7(0x15e)+_0x1b6c4d+_0x2114e7(0x143)+_0x13a66e+'\x22');}async[a79_0x2e9e10(0x117)](..._0x197cee){const _0x139567=a79_0x2e9e10;await shell_internal_1['Shell'][_0x139567(0x138)](_0x139567(0x130)+this[_0x139567(0x163)]+_0x139567(0x122)+_0x197cee['join']('\x20'));}async[a79_0x2e9e10(0x11e)](){const _0x6a896f=a79_0x2e9e10;return shell_internal_1[_0x6a896f(0x123)][_0x6a896f(0x138)](_0x6a896f(0x130)+this[_0x6a896f(0x163)]+_0x6a896f(0x121));}async['commit'](_0x5ed094){const _0x1bf3cc=a79_0x2e9e10;Git['logger'][_0x1bf3cc(0x133)](_0x1bf3cc(0x15a),_0x5ed094),await shell_internal_1[_0x1bf3cc(0x123)]['exec'](_0x1bf3cc(0x130)+this[_0x1bf3cc(0x163)]+_0x1bf3cc(0x15b)+_0x5ed094+'\x22');}async['push'](_0x3ce305){const _0x4b4679=a79_0x2e9e10;Git[_0x4b4679(0x167)][_0x4b4679(0x133)](_0x4b4679(0x11c),_0x3ce305),await shell_internal_1[_0x4b4679(0x123)][_0x4b4679(0x138)](_0x4b4679(0x130)+this[_0x4b4679(0x163)]+_0x4b4679(0x13f)+_0x3ce305+_0x4b4679(0x162));}async[a79_0x2e9e10(0x14c)](_0x174e23){const _0x52dfb2=a79_0x2e9e10;Git[_0x52dfb2(0x167)][_0x52dfb2(0x133)](_0x52dfb2(0x159),_0x174e23),await shell_internal_1['Shell'][_0x52dfb2(0x138)](_0x52dfb2(0x130)+this[_0x52dfb2(0x163)]+_0x52dfb2(0x13b)+_0x174e23);}async[a79_0x2e9e10(0x152)](){const _0x2cb0bf=a79_0x2e9e10,_0x384f7e=await shell_internal_1[_0x2cb0bf(0x123)]['exec'](_0x2cb0bf(0x130)+this[_0x2cb0bf(0x163)]+_0x2cb0bf(0x13a));return _0x384f7e;}async[a79_0x2e9e10(0x150)](_0x12a8e){const _0x8921ad=a79_0x2e9e10;Git[_0x8921ad(0x167)]['log'](_0x8921ad(0x13e),_0x12a8e);const _0x11e524=await shell_internal_1[_0x8921ad(0x123)]['exec'](_0x8921ad(0x130)+this[_0x8921ad(0x163)]+_0x8921ad(0x149)+_0x12a8e);return{'author':internal_utils_1['extractAuthorFromCommitDescribe'](_0x11e524),'message':internal_utils_1[_0x8921ad(0x128)](_0x11e524),'changes':internal_utils_1['extractChangesFromCommitDescribe'](_0x11e524)};}static async['clone'](_0x59d7a6,_0x5da8de,_0x35a7d3){const _0x3213b1=a79_0x2e9e10,_0x44074c=path_1[_0x3213b1(0x12d)][_0x3213b1(0x115)](this[_0x3213b1(0x15d)],_0x5da8de),_0x4f90a3=new Git(_0x44074c);return Git[_0x3213b1(0x167)][_0x3213b1(0x133)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x35a7d3,_0x59d7a6,_0x44074c),await fs_internal_1['FS'][_0x3213b1(0x11f)](_0x44074c),await shell_internal_1['Shell']['exec'](_0x3213b1(0x132)+_0x35a7d3+_0x3213b1(0x165)+_0x59d7a6+'\x20'+_0x44074c)[_0x3213b1(0x15f)](()=>void 0x0),_0x4f90a3;}static async[a79_0x2e9e10(0x156)](_0x41ff1e){const _0x332304=a79_0x2e9e10,_0x40884d=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x360a76}=typedi_1[_0x332304(0x12d)][_0x332304(0x145)](auth_settings_service_1[_0x332304(0x13c)]),_0xb7a8dd=_0x41ff1e[_0x332304(0x124)][_0x332304(0x144)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x41ff1e[_0x332304(0x124)])+_0x332304(0x14b)+_0x360a76+'@'),_0xe66d32=await shell_internal_1[_0x332304(0x123)][_0x332304(0x138)]('git\x20ls-remote\x20'+_0xb7a8dd),_0x489c94=_0xe66d32[_0x332304(0x168)]('\x0a')['filter'](_0x3a8220=>_0x40884d[_0x332304(0x12c)](_0x3a8220))[_0x332304(0x153)](_0x50861e=>{const _0x33cd78=_0x332304,[,_0x42b8af,_0x3fc62b]=_0x50861e[_0x33cd78(0x114)](_0x40884d),_0x423780=new branch_dto_1[(_0x33cd78(0x12a))]();return _0x423780['sha']=_0x42b8af,_0x423780['name']=_0x3fc62b[_0x33cd78(0x144)](_0x33cd78(0x135),''),_0x423780;});return _0x489c94;}static async[a79_0x2e9e10(0x166)](_0x202528,_0x585c5e,_0x2d05b9=a79_0x2e9e10(0x157)){const _0x540932=a79_0x2e9e10,{gitCredentials:_0x499d13}=typedi_1[_0x540932(0x12d)][_0x540932(0x145)](auth_settings_service_1[_0x540932(0x13c)]),_0x2599c2=_0x202528['gitUrl'][_0x540932(0x144)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x202528[_0x540932(0x124)])+_0x540932(0x14b)+_0x499d13+'@'),_0x521635=path_1[_0x540932(0x12d)][_0x540932(0x115)](this[_0x540932(0x15d)],_0x202528[_0x540932(0x140)]);Git[_0x540932(0x167)]['log'](_0x540932(0x120),_0x202528[_0x540932(0x140)],_0x585c5e,_0x521635,_0x2599c2),await fs_internal_1['FS'][_0x540932(0x11f)](_0x521635),await fs_internal_1['FS'][_0x540932(0x147)](_0x521635);const _0x41300b=new Git(_0x521635);await shell_internal_1[_0x540932(0x123)][_0x540932(0x138)](_0x540932(0x130)+_0x41300b[_0x540932(0x15c)]+_0x540932(0x151)),await shell_internal_1['Shell']['exec'](_0x540932(0x130)+_0x41300b[_0x540932(0x15c)]+_0x540932(0x14f)+_0x2599c2),await _0x41300b[_0x540932(0x13d)](constants_1[_0x540932(0x126)],constants_1[_0x540932(0x155)]),await shell_internal_1['Shell'][_0x540932(0x138)](_0x540932(0x130)+_0x41300b[_0x540932(0x15c)]+_0x540932(0x137)+_0x585c5e),await shell_internal_1[_0x540932(0x123)]['exec'](_0x540932(0x130)+_0x41300b[_0x540932(0x15c)]+_0x540932(0x15b)+_0x2d05b9+_0x540932(0x141)),await _0x41300b['push'](_0x585c5e),Git['logger'][_0x540932(0x133)](_0x540932(0x131)),await fs_internal_1['FS'][_0x540932(0x11f)](_0x41300b[_0x540932(0x15c)]);}}exports[a79_0x2e9e10(0x158)]=Git,Git[a79_0x2e9e10(0x15d)]=path_1[a79_0x2e9e10(0x12d)]['join'](process[a79_0x2e9e10(0x164)](),'.temp',a79_0x2e9e10(0x14e)),Git[a79_0x2e9e10(0x167)]=new core_1[(a79_0x2e9e10(0x148))](Git[a79_0x2e9e10(0x140)]);