function a76_0x522d(){const _0x47d348=['\x20&&\x20git\x20commit\x20-m\x20\x22','://','push','exec','removeDir','./fs.internal','path','gitUrl','Shell','replace','typedi','1758nbbkkm','getRepositoryBranches','logger','baseDir','385953EgHjlU','\x20&&\x20git\x20add\x20','(((.+)+)+)+$','agent@flosum.com','status','28QptgVQ','../shared/services/auth-settings.service','join','getProtocol','\x20--quiet','catch','info','4930244GarpFu','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','match','439866eoxEXK','Logger','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','65176nnohIj','cwd','\x20&&\x20git\x20checkout\x20--orphan\x20','createEmptyBranch','.temp','165245icFUtQ','init\x20repository','Git','AuthSettingsService','search','\x20--single-branch\x20','cd\x20','DEFAULT_CLONE_PATH','push\x20changes\x20to\x20%s','refs/heads/','_repoPath','../shared/utils','10EbIgQl','70kyPUuF','apply','name','filter','constructor','\x22\x20--allow-empty','setCredentials','clone','commit\x20message\x20\x22%s\x22','map','flosum-agent','git','BranchDto','./shell.internal','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','default','parseGitError','\x20&&\x20git\x20init','get','153186bODnJU','24CyOjeG'];a76_0x522d=function(){return _0x47d348;};return a76_0x522d();}function a76_0x3bfe(_0x2670b0,_0xe91b1c){const _0x14be98=a76_0x522d();return a76_0x3bfe=function(_0x3c9df3,_0x2f36fa){_0x3c9df3=_0x3c9df3-0x16c;let _0x522dff=_0x14be98[_0x3c9df3];return _0x522dff;},a76_0x3bfe(_0x2670b0,_0xe91b1c);}const a76_0x5d9eff=a76_0x3bfe;(function(_0x55b74c,_0x3a8ffd){const _0x2ae0a4=a76_0x3bfe,_0x43c5c3=_0x55b74c();while(!![]){try{const _0x431f5f=parseInt(_0x2ae0a4(0x16e))/0x1+parseInt(_0x2ae0a4(0x192))/0x2*(parseInt(_0x2ae0a4(0x1b2))/0x3)+-parseInt(_0x2ae0a4(0x1a6))/0x4*(-parseInt(_0x2ae0a4(0x185))/0x5)+parseInt(_0x2ae0a4(0x1a5))/0x6+parseInt(_0x2ae0a4(0x173))/0x7*(-parseInt(_0x2ae0a4(0x180))/0x8)+parseInt(_0x2ae0a4(0x17d))/0x9+-parseInt(_0x2ae0a4(0x191))/0xa*(parseInt(_0x2ae0a4(0x17a))/0xb);if(_0x431f5f===_0x3a8ffd)break;else _0x43c5c3['push'](_0x43c5c3['shift']());}catch(_0x4c49cd){_0x43c5c3['push'](_0x43c5c3['shift']());}}}(a76_0x522d,0x306e2));const a76_0x2f36fa=function(){let _0x5640ad=!![];return function(_0xc6c12e,_0x49d6eb){const _0x25d9dc=_0x5640ad?function(){const _0x12ee24=a76_0x3bfe;if(_0x49d6eb){const _0x351d65=_0x49d6eb[_0x12ee24(0x193)](_0xc6c12e,arguments);return _0x49d6eb=null,_0x351d65;}}:function(){};return _0x5640ad=![],_0x25d9dc;};}(),a76_0x3c9df3=a76_0x2f36fa(this,function(){const _0x4dd32c=a76_0x3bfe;return a76_0x3c9df3['toString']()[_0x4dd32c(0x189)](_0x4dd32c(0x170))['toString']()[_0x4dd32c(0x196)](a76_0x3c9df3)[_0x4dd32c(0x189)](_0x4dd32c(0x170));});a76_0x3c9df3();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5888c5){return _0x5888c5&&_0x5888c5['__esModule']?_0x5888c5:{'default':_0x5888c5};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a76_0x5d9eff(0x187)]=void 0x0;const core_1=require('../../core'),path_1=__importDefault(require(a76_0x5d9eff(0x1ad))),typedi_1=__importDefault(require(a76_0x5d9eff(0x1b1))),branch_dto_1=require('../branches/dto/branch.dto'),auth_settings_service_1=require(a76_0x5d9eff(0x174)),utils_1=require(a76_0x5d9eff(0x190)),fs_internal_1=require(a76_0x5d9eff(0x1ac)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a76_0x5d9eff(0x19f));class Git{constructor(_0x4b8740){const _0x11d6db=a76_0x5d9eff;this[_0x11d6db(0x18f)]=_0x4b8740;}get[a76_0x5d9eff(0x16d)](){const _0x1a3ec7=a76_0x5d9eff;return this[_0x1a3ec7(0x18f)];}async[a76_0x5d9eff(0x198)](_0x342c1e,_0x2d2ca9){const _0x3e4bbe=a76_0x5d9eff;Git['logger'][_0x3e4bbe(0x179)]('set\x20credentials\x20%s\x20(%s)',_0x342c1e,_0x2d2ca9),await shell_internal_1[_0x3e4bbe(0x1af)]['exec'](_0x3e4bbe(0x18b)+this[_0x3e4bbe(0x18f)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x342c1e+_0x3e4bbe(0x17b)+_0x2d2ca9+'\x22')[_0x3e4bbe(0x178)](internal_utils_1[_0x3e4bbe(0x1a2)]);}async['add'](..._0xc0d6f6){const _0x4c767d=a76_0x5d9eff;await shell_internal_1[_0x4c767d(0x1af)]['exec']('cd\x20'+this[_0x4c767d(0x18f)]+_0x4c767d(0x16f)+_0xc0d6f6[_0x4c767d(0x175)]('\x20'))[_0x4c767d(0x178)](internal_utils_1[_0x4c767d(0x1a2)]);}async[a76_0x5d9eff(0x172)](){const _0x3f5396=a76_0x5d9eff;return shell_internal_1[_0x3f5396(0x1af)][_0x3f5396(0x1aa)](_0x3f5396(0x18b)+this[_0x3f5396(0x18f)]+'\x20&&\x20git\x20status')[_0x3f5396(0x178)](internal_utils_1['parseGitError']);}async['commit'](_0x4ec848){const _0x4d89fc=a76_0x5d9eff;Git[_0x4d89fc(0x16c)][_0x4d89fc(0x179)](_0x4d89fc(0x19a),_0x4ec848),await shell_internal_1['Shell']['exec'](_0x4d89fc(0x18b)+this[_0x4d89fc(0x18f)]+_0x4d89fc(0x1a7)+_0x4ec848+'\x22')[_0x4d89fc(0x178)](internal_utils_1[_0x4d89fc(0x1a2)]);}async[a76_0x5d9eff(0x1a9)](_0x4adfb1){const _0xe17f32=a76_0x5d9eff;Git[_0xe17f32(0x16c)][_0xe17f32(0x179)](_0xe17f32(0x18d),_0x4adfb1),await shell_internal_1[_0xe17f32(0x1af)]['exec']('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20push\x20origin\x20'+_0x4adfb1+_0xe17f32(0x177))[_0xe17f32(0x178)](internal_utils_1['parseGitError']);}static async[a76_0x5d9eff(0x199)](_0x253f3a,_0x58c4fe,_0x4e8f5b){const _0x2e0797=a76_0x5d9eff,_0x277e95=path_1[_0x2e0797(0x1a1)][_0x2e0797(0x175)](this['DEFAULT_CLONE_PATH'],_0x58c4fe),_0x3628e7=new Git(_0x277e95);return Git[_0x2e0797(0x16c)][_0x2e0797(0x179)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x4e8f5b,_0x253f3a,_0x277e95),await fs_internal_1['FS'][_0x2e0797(0x1ab)](_0x277e95),await shell_internal_1[_0x2e0797(0x1af)][_0x2e0797(0x1aa)]('git\x20clone\x20-b\x20'+_0x4e8f5b+_0x2e0797(0x18a)+_0x253f3a+'\x20'+_0x277e95)[_0x2e0797(0x178)](()=>void 0x0),_0x3628e7;}static async[a76_0x5d9eff(0x1b3)](_0x1c9a17){const _0x1c6e90=a76_0x5d9eff,_0x12c2cf=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x462650}=typedi_1[_0x1c6e90(0x1a1)][_0x1c6e90(0x1a4)](auth_settings_service_1[_0x1c6e90(0x188)]),_0x43b780=_0x1c9a17[_0x1c6e90(0x1ae)][_0x1c6e90(0x1b0)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x1c6e90(0x176)])(_0x1c9a17[_0x1c6e90(0x1ae)])+'://'+_0x462650+'@'),_0x58025b=await shell_internal_1[_0x1c6e90(0x1af)][_0x1c6e90(0x1aa)]('git\x20ls-remote\x20'+_0x43b780),_0x156a54=_0x58025b['split']('\x0a')[_0x1c6e90(0x195)](_0x173032=>_0x12c2cf['test'](_0x173032))[_0x1c6e90(0x19b)](_0x4e6a76=>{const _0x57a9f0=_0x1c6e90,[,_0x25bdff,_0x387c0c]=_0x4e6a76[_0x57a9f0(0x17c)](_0x12c2cf),_0xfb36e1=new branch_dto_1[(_0x57a9f0(0x19e))]();return _0xfb36e1['sha']=_0x25bdff,_0xfb36e1['name']=_0x387c0c[_0x57a9f0(0x1b0)](_0x57a9f0(0x18e),''),_0xfb36e1;});return _0x156a54;}static async[a76_0x5d9eff(0x183)](_0x4d804d,_0x516fc0,_0x6c1242=a76_0x5d9eff(0x186)){const _0x4f82a4=a76_0x5d9eff,{gitCredentials:_0xae9c61}=typedi_1[_0x4f82a4(0x1a1)][_0x4f82a4(0x1a4)](auth_settings_service_1[_0x4f82a4(0x188)]),_0x3b2ae8=_0x4d804d[_0x4f82a4(0x1ae)]['replace'](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x4f82a4(0x176)])(_0x4d804d[_0x4f82a4(0x1ae)])+_0x4f82a4(0x1a8)+_0xae9c61+'@'),_0x45156f=path_1['default']['join'](this[_0x4f82a4(0x18c)],_0x4d804d['name']);Git[_0x4f82a4(0x16c)]['info'](_0x4f82a4(0x17f),_0x4d804d[_0x4f82a4(0x194)],_0x516fc0,_0x45156f,_0x3b2ae8),await fs_internal_1['FS'][_0x4f82a4(0x1ab)](_0x45156f),await fs_internal_1['FS']['makeDir'](_0x45156f);const _0x2e802f=new Git(_0x45156f);await shell_internal_1['Shell'][_0x4f82a4(0x1aa)](_0x4f82a4(0x18b)+_0x2e802f[_0x4f82a4(0x16d)]+_0x4f82a4(0x1a3))[_0x4f82a4(0x178)](internal_utils_1[_0x4f82a4(0x1a2)]),await shell_internal_1['Shell']['exec'](_0x4f82a4(0x18b)+_0x2e802f['baseDir']+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x3b2ae8)[_0x4f82a4(0x178)](internal_utils_1['parseGitError']),await _0x2e802f['setCredentials'](_0x4f82a4(0x19c),_0x4f82a4(0x171)),await shell_internal_1[_0x4f82a4(0x1af)]['exec'](_0x4f82a4(0x18b)+_0x2e802f['baseDir']+_0x4f82a4(0x182)+_0x516fc0)[_0x4f82a4(0x178)](internal_utils_1['parseGitError']),await shell_internal_1[_0x4f82a4(0x1af)][_0x4f82a4(0x1aa)](_0x4f82a4(0x18b)+_0x2e802f[_0x4f82a4(0x16d)]+_0x4f82a4(0x1a7)+_0x6c1242+_0x4f82a4(0x197))[_0x4f82a4(0x178)](internal_utils_1['parseGitError']),await _0x2e802f[_0x4f82a4(0x1a9)](_0x516fc0),Git[_0x4f82a4(0x16c)][_0x4f82a4(0x179)](_0x4f82a4(0x1a0)),await fs_internal_1['FS']['removeDir'](_0x2e802f[_0x4f82a4(0x16d)]);}}exports[a76_0x5d9eff(0x187)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a76_0x5d9eff(0x1a1)][a76_0x5d9eff(0x175)](process[a76_0x5d9eff(0x181)](),a76_0x5d9eff(0x184),a76_0x5d9eff(0x19d)),Git[a76_0x5d9eff(0x16c)]=new core_1[(a76_0x5d9eff(0x17e))](Git[a76_0x5d9eff(0x194)]);