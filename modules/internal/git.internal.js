const a75_0x2a75=['./fs.internal','__esModule','\x22\x20--allow-empty','git','DEFAULT_CLONE_PATH','default','__importDefault','defineProperty','\x20&&\x20git\x20add\x20','baseDir','\x20--quiet','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','set\x20credentials\x20%s\x20(%s)','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','./shell.internal','\x20&&\x20git\x20push\x20origin\x20','38MFWYzt','setCredentials','\x20&&\x20git\x20checkout\x20--orphan\x20','commit','constructor','_repoPath','127711hSObXk','createEmptyBranch','Shell','init\x20repository','return\x20/\x22\x20+\x20this\x20+\x20\x22/','63637LidPIt','cd\x20','typedi','parseGitError','../../core','push','\x20&&\x20git\x20init','info','1UVXHIp','58180lHBEsz','317183vSzmZr','396VBcESX','get','cwd','removeDir','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','1LTtIFw','3pDdlqx','\x20&&\x20git\x20commit\x20-m\x20\x22','makeDir','name','logger','463858jiyglh','join','4JAruAs','exec','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','Git','\x20&&\x20git\x20remote\x20add\x20origin\x20','420116tCKHqr','./internal.utils','gitUrl','Logger','flosum-agent','replace','catch','../shared/services/auth-settings.service'];const a75_0x50ca20=a75_0x22dd;(function(_0x5741ac,_0x3f6d89){const _0x407902=a75_0x22dd;while(!![]){try{const _0x496ed0=parseInt(_0x407902(0x13e))*-parseInt(_0x407902(0x13f))+parseInt(_0x407902(0x136))*parseInt(_0x407902(0x14e))+parseInt(_0x407902(0x146))*-parseInt(_0x407902(0x140))+parseInt(_0x407902(0x113))+-parseInt(_0x407902(0x12b))*-parseInt(_0x407902(0x141))+-parseInt(_0x407902(0x14c))+-parseInt(_0x407902(0x147))*-parseInt(_0x407902(0x131));if(_0x496ed0===_0x3f6d89)break;else _0x5741ac['push'](_0x5741ac['shift']());}catch(_0x1580b6){_0x5741ac['push'](_0x5741ac['shift']());}}}(a75_0x2a75,0x39098));const a75_0x5a77c1=function(){let _0x19cb8d=!![];return function(_0x6cf1bb,_0xcb95ce){const _0x132e1b=_0x19cb8d?function(){if(_0xcb95ce){const _0x2ea234=_0xcb95ce['apply'](_0x6cf1bb,arguments);return _0xcb95ce=null,_0x2ea234;}}:function(){};return _0x19cb8d=![],_0x132e1b;};}(),a75_0x6bbe4a=a75_0x5a77c1(this,function(){const _0x1aad53=function(){const _0x2152ad=a75_0x22dd,_0x5dc4db=_0x1aad53[_0x2152ad(0x12f)](_0x2152ad(0x135))()[_0x2152ad(0x12f)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5dc4db['test'](a75_0x6bbe4a);};return _0x1aad53();});a75_0x6bbe4a();function a75_0x22dd(_0xccfd81,_0x4fd8bd){return a75_0x22dd=function(_0x4cbf27,_0x6bbe4a){_0x4cbf27=_0x4cbf27-0x10f;let _0x5a77c1=a75_0x2a75[_0x4cbf27];return _0x5a77c1;},a75_0x22dd(_0xccfd81,_0x4fd8bd);}'use strict';var __importDefault=this&&this[a75_0x50ca20(0x121)]||function(_0x227331){const _0x3c4d7e=a75_0x50ca20;return _0x227331&&_0x227331[_0x3c4d7e(0x11c)]?_0x227331:{'default':_0x227331};};Object[a75_0x50ca20(0x122)](exports,a75_0x50ca20(0x11c),{'value':!![]}),exports['Git']=void 0x0;const core_1=require(a75_0x50ca20(0x13a)),path_1=__importDefault(require('path')),typedi_1=__importDefault(require(a75_0x50ca20(0x138))),auth_settings_service_1=require(a75_0x50ca20(0x11a)),utils_1=require('../shared/utils'),fs_internal_1=require(a75_0x50ca20(0x11b)),internal_utils_1=require(a75_0x50ca20(0x114)),shell_internal_1=require(a75_0x50ca20(0x129));class Git{constructor(_0x565bef){this['_repoPath']=_0x565bef;}get[a75_0x50ca20(0x124)](){const _0x37b290=a75_0x50ca20;return this[_0x37b290(0x130)];}async[a75_0x50ca20(0x12c)](_0x151561,_0x4b865b){const _0x41c650=a75_0x50ca20;Git[_0x41c650(0x14b)][_0x41c650(0x13d)](_0x41c650(0x127),_0x151561,_0x4b865b),await shell_internal_1[_0x41c650(0x133)]['exec']('cd\x20'+this[_0x41c650(0x130)]+_0x41c650(0x128)+_0x151561+_0x41c650(0x110)+_0x4b865b+'\x22')[_0x41c650(0x119)](internal_utils_1[_0x41c650(0x139)]);}async['add'](..._0x4c4942){const _0x184e2c=a75_0x50ca20;await shell_internal_1[_0x184e2c(0x133)][_0x184e2c(0x14f)](_0x184e2c(0x137)+this['_repoPath']+_0x184e2c(0x123)+_0x4c4942[_0x184e2c(0x14d)]('\x20'))[_0x184e2c(0x119)](internal_utils_1[_0x184e2c(0x139)]);}async['status'](){const _0xd5331c=a75_0x50ca20;return shell_internal_1[_0xd5331c(0x133)][_0xd5331c(0x14f)](_0xd5331c(0x137)+this['_repoPath']+'\x20&&\x20git\x20status')[_0xd5331c(0x119)](internal_utils_1['parseGitError']);}async[a75_0x50ca20(0x12e)](_0x3fb560){const _0x2f1ffa=a75_0x50ca20;Git[_0x2f1ffa(0x14b)][_0x2f1ffa(0x13d)]('commit\x20message\x20\x22%s\x22',_0x3fb560),await shell_internal_1[_0x2f1ffa(0x133)]['exec'](_0x2f1ffa(0x137)+this['_repoPath']+_0x2f1ffa(0x148)+_0x3fb560+'\x22')[_0x2f1ffa(0x119)](internal_utils_1[_0x2f1ffa(0x139)]);}async[a75_0x50ca20(0x13b)](_0x17f98c){const _0x35583a=a75_0x50ca20;Git[_0x35583a(0x14b)][_0x35583a(0x13d)]('push\x20changes\x20to\x20%s',_0x17f98c),await shell_internal_1['Shell']['exec'](_0x35583a(0x137)+this[_0x35583a(0x130)]+_0x35583a(0x12a)+_0x17f98c+_0x35583a(0x125))[_0x35583a(0x119)](internal_utils_1[_0x35583a(0x139)]);}static async['clone'](_0x372d24,_0x5652d9,_0x29ea72){const _0x34473d=a75_0x50ca20,_0x42b2f2=path_1[_0x34473d(0x120)][_0x34473d(0x14d)](this[_0x34473d(0x11f)],_0x5652d9),_0x2917b1=new Git(_0x42b2f2);return Git['logger'][_0x34473d(0x13d)](_0x34473d(0x126),_0x29ea72,_0x372d24,_0x42b2f2),await fs_internal_1['FS'][_0x34473d(0x144)](_0x42b2f2),await shell_internal_1['Shell']['exec']('git\x20clone\x20-b\x20'+_0x29ea72+'\x20--single-branch\x20'+_0x372d24+'\x20'+_0x42b2f2)['catch'](()=>void 0x0),_0x2917b1;}static async[a75_0x50ca20(0x132)](_0x248f47,_0x5c7c12,_0x530aea=a75_0x50ca20(0x134)){const _0x34a222=a75_0x50ca20,{gitCredentials:_0x52b67a}=typedi_1[_0x34a222(0x120)][_0x34a222(0x142)](auth_settings_service_1['AuthSettingsService']),_0x11e5f3=_0x248f47[_0x34a222(0x115)][_0x34a222(0x118)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x248f47[_0x34a222(0x115)])+'://'+_0x52b67a+'@'),_0x367551=path_1['default'][_0x34a222(0x14d)](this[_0x34a222(0x11f)],_0x248f47[_0x34a222(0x14a)]);Git[_0x34a222(0x14b)][_0x34a222(0x13d)](_0x34a222(0x145),_0x248f47[_0x34a222(0x14a)],_0x5c7c12,_0x367551,_0x11e5f3),await fs_internal_1['FS'][_0x34a222(0x144)](_0x367551),await fs_internal_1['FS'][_0x34a222(0x149)](_0x367551);const _0x5d7ffa=new Git(_0x367551);await shell_internal_1['Shell']['exec']('cd\x20'+_0x5d7ffa[_0x34a222(0x124)]+_0x34a222(0x13c))['catch'](internal_utils_1[_0x34a222(0x139)]),await shell_internal_1[_0x34a222(0x133)][_0x34a222(0x14f)](_0x34a222(0x137)+_0x5d7ffa[_0x34a222(0x124)]+_0x34a222(0x112)+_0x11e5f3)[_0x34a222(0x119)](internal_utils_1[_0x34a222(0x139)]),await _0x5d7ffa[_0x34a222(0x12c)](_0x34a222(0x117),'agent@flosum.com'),_0x5c7c12&&(await shell_internal_1['Shell'][_0x34a222(0x14f)]('cd\x20'+_0x5d7ffa[_0x34a222(0x124)]+_0x34a222(0x12d)+_0x5c7c12)[_0x34a222(0x119)](internal_utils_1[_0x34a222(0x139)]),await shell_internal_1['Shell'][_0x34a222(0x14f)](_0x34a222(0x137)+_0x5d7ffa[_0x34a222(0x124)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x530aea+_0x34a222(0x11d))['catch'](internal_utils_1[_0x34a222(0x139)]),await _0x5d7ffa[_0x34a222(0x13b)](_0x5c7c12)),Git['logger'][_0x34a222(0x13d)](_0x34a222(0x10f)),await fs_internal_1['FS']['removeDir'](_0x5d7ffa['baseDir']);}}exports[a75_0x50ca20(0x111)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a75_0x50ca20(0x120)][a75_0x50ca20(0x14d)](process[a75_0x50ca20(0x143)](),'.temp',a75_0x50ca20(0x11e)),Git['logger']=new core_1[(a75_0x50ca20(0x116))](Git[a75_0x50ca20(0x14a)]);