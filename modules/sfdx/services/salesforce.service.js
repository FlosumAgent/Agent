const a83_0x4548=['717532BwQvPj','Connection','settings','../../../core/errors/unauthorized.error','log','19464CdHCRc','1RFaJOM','SalesforceService','12013NPEOTl','oauth2','retrieve','147403EnILrH','../../shared/services/salesforce-settings.service','apply','decorate','create\x20new\x20oauth\x20connection\x20from\x20given\x20credentials','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','update','3oTCldJ','function','1LGGTis','../../../constants/errors','post','typedi','salesforseSettings','../../../core','metadata','977923bjCVSz','2BPXDjf','return\x20/\x22\x20+\x20this\x20+\x20\x22/','default','salesforce-service','defineProperty','hasAuthorizedCredentials','connect','connection','object','255443AWnzCs','10CVgryh','__decorate','test','SalesforceSettingsService','1186248dmIevS','apex','constructor','refreshToken','__metadata','ERR_MISSING_SALEFORCE_CONFIGURATION','trying\x20to\x20establish\x20connection\x20to\x20salesforce','design:paramtypes'];const a83_0x1317de=a83_0x1a3e;(function(_0x2a2415,_0x25eeea){const _0x18fa78=a83_0x1a3e;while(!![]){try{const _0xb99025=parseInt(_0x18fa78(0xbb))*-parseInt(_0x18fa78(0xdc))+-parseInt(_0x18fa78(0xc8))*parseInt(_0x18fa78(0xbe))+-parseInt(_0x18fa78(0xc1))*parseInt(_0x18fa78(0xca))+-parseInt(_0x18fa78(0xe0))+parseInt(_0x18fa78(0xb6))+parseInt(_0x18fa78(0xd2))*parseInt(_0x18fa78(0xdb))+parseInt(_0x18fa78(0xbc))*parseInt(_0x18fa78(0xd1));if(_0xb99025===_0x25eeea)break;else _0x2a2415['push'](_0x2a2415['shift']());}catch(_0x1d54ab){_0x2a2415['push'](_0x2a2415['shift']());}}}(a83_0x4548,0x9cbdb));const a83_0xa544a9=function(){let _0x15c9a5=!![];return function(_0x2cad3e,_0x11806e){const _0x4e2dac=_0x15c9a5?function(){const _0x4098de=a83_0x1a3e;if(_0x11806e){const _0x1dbcac=_0x11806e[_0x4098de(0xc3)](_0x2cad3e,arguments);return _0x11806e=null,_0x1dbcac;}}:function(){};return _0x15c9a5=![],_0x4e2dac;};}(),a83_0x436d35=a83_0xa544a9(this,function(){const _0xfba717=function(){const _0x24c82e=a83_0x1a3e,_0x2f888e=_0xfba717[_0x24c82e(0xb0)](_0x24c82e(0xd3))()[_0x24c82e(0xb0)](_0x24c82e(0xc6));return!_0x2f888e[_0x24c82e(0xde)](a83_0x436d35);};return _0xfba717();});a83_0x436d35();'use strict';var __decorate=this&&this[a83_0x1317de(0xdd)]||function(_0x4afb60,_0x289421,_0x3c88e9,_0x262783){const _0x4a3af9=a83_0x1317de;var _0x56e570=arguments['length'],_0x2f6a32=_0x56e570<0x3?_0x289421:_0x262783===null?_0x262783=Object['getOwnPropertyDescriptor'](_0x289421,_0x3c88e9):_0x262783,_0xeb1228;if(typeof Reflect===_0x4a3af9(0xda)&&typeof Reflect['decorate']===_0x4a3af9(0xc9))_0x2f6a32=Reflect[_0x4a3af9(0xc4)](_0x4afb60,_0x289421,_0x3c88e9,_0x262783);else{for(var _0x338b61=_0x4afb60['length']-0x1;_0x338b61>=0x0;_0x338b61--)if(_0xeb1228=_0x4afb60[_0x338b61])_0x2f6a32=(_0x56e570<0x3?_0xeb1228(_0x2f6a32):_0x56e570>0x3?_0xeb1228(_0x289421,_0x3c88e9,_0x2f6a32):_0xeb1228(_0x289421,_0x3c88e9))||_0x2f6a32;}return _0x56e570>0x3&&_0x2f6a32&&Object[_0x4a3af9(0xd6)](_0x289421,_0x3c88e9,_0x2f6a32),_0x2f6a32;},__metadata=this&&this[a83_0x1317de(0xb2)]||function(_0x13b358,_0x35ea74){const _0x63bc32=a83_0x1317de;if(typeof Reflect===_0x63bc32(0xda)&&typeof Reflect[_0x63bc32(0xd0)]===_0x63bc32(0xc9))return Reflect['metadata'](_0x13b358,_0x35ea74);},__importDefault=this&&this['__importDefault']||function(_0x5dd6d7){return _0x5dd6d7&&_0x5dd6d7['__esModule']?_0x5dd6d7:{'default':_0x5dd6d7};};function a83_0x1a3e(_0xdbe6ee,_0x43eba4){return a83_0x1a3e=function(_0x128b3c,_0x436d35){_0x128b3c=_0x128b3c-0xaf;let _0xa544a9=a83_0x4548[_0x128b3c];return _0xa544a9;},a83_0x1a3e(_0xdbe6ee,_0x43eba4);}Object[a83_0x1317de(0xd6)](exports,'__esModule',{'value':!![]}),exports[a83_0x1317de(0xbd)]=void 0x0;const typedi_1=require(a83_0x1317de(0xcd)),jsforce_1=__importDefault(require('jsforce')),unauthorized_error_1=require(a83_0x1317de(0xb9)),errors_1=require(a83_0x1317de(0xcb)),core_1=require(a83_0x1317de(0xcf)),salesforce_settings_service_1=require(a83_0x1317de(0xc2)),logger=new core_1['Logger'](a83_0x1317de(0xd5));let SalesforceService=class SalesforceService{constructor(_0x183f5c){const _0x15bf39=a83_0x1317de;this[_0x15bf39(0xce)]=_0x183f5c;}get[a83_0x1317de(0xb8)](){const _0x3aa0bd=a83_0x1317de;return this[_0x3aa0bd(0xce)][_0x3aa0bd(0xb8)];}async[a83_0x1317de(0xd8)](){const _0x4bb16d=a83_0x1317de;logger['log'](_0x4bb16d(0xb4));if(!this[_0x4bb16d(0xce)]['hasCredentials'])throw new unauthorized_error_1['UnauthorizedError'](errors_1[_0x4bb16d(0xb3)]);const {clientId:_0x2aedba,clientSecret:_0x4116b7,refreshToken:_0x4f115c}=this[_0x4bb16d(0xb8)],_0x52a74f={'clientId':_0x2aedba,'clientSecret':_0x4116b7,'loginUrl':this[_0x4bb16d(0xce)]['loginUrl']};if(!this[_0x4bb16d(0xce)][_0x4bb16d(0xd7)]){logger[_0x4bb16d(0xba)](_0x4bb16d(0xc5));const _0x5a9494=new jsforce_1[(_0x4bb16d(0xd4))][(_0x4bb16d(0xb7))](_0x52a74f),{access_token:_0x300e27,instance_url:_0x11c900}=await _0x5a9494[_0x4bb16d(0xbf)][_0x4bb16d(0xb1)](_0x4f115c);await this[_0x4bb16d(0xce)][_0x4bb16d(0xc7)]({'accessToken':_0x300e27,'instanceUrl':_0x11c900});}const {accessToken:_0x573c5d,instanceUrl:_0x5a70fb}=this[_0x4bb16d(0xb8)];this[_0x4bb16d(0xd9)]=new jsforce_1[(_0x4bb16d(0xd4))]['Connection']({'oauth2':_0x52a74f,'refreshToken':_0x4f115c,'accessToken':_0x573c5d,'instanceUrl':_0x5a70fb}),logger[_0x4bb16d(0xba)]('salesforce\x20connection\x20established');}async[a83_0x1317de(0xc0)](_0x5bcedc){const _0x128614=a83_0x1317de;return logger['log']('retrieve\x20%d\x20components',_0x5bcedc['length']),this[_0x128614(0xd9)][_0x128614(0xaf)][_0x128614(0xcc)]('/attachments',{'componentIds':_0x5bcedc});}};SalesforceService=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a83_0x1317de(0xb5),[salesforce_settings_service_1[a83_0x1317de(0xdf)]])],SalesforceService),exports[a83_0x1317de(0xbd)]=SalesforceService;