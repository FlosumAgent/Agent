const a87_0x2af8=['component','parse\x20%s\x20as\x20CustomLabel\x20component','default','body','Unknown\x20','Zip','forceExtension','fileType','isParent','__esModule','SFDXFileConverter','hasChild','/force-app/main/default/','fileName','parseStringPromise','info','655986pZKRbg','xml2js','from','parseAsChild','files','Builder','extension','parse\x20%s\x20as\x20child\x20component','test','replace','85070VAUcGD','meta','extract\x20%s','defineProperty','parseAsNormal','../data/files-meta','replaceExtension','return\x20/\x22\x20+\x20this\x20+\x20\x22/','BASE_SFDX_FOLDER','isChild','281YIvmpK','1380037jBYZHc','../../../core','string','parse\x20%s\x20as\x20normal\x20component','1wHhAka','values','find','apply','Invalid\x20child\x20file\x20structure','8743EllxPB','push','4337GJzODa','parent','nodebuffer','Unknown\x20force\x20type\x20attachment\x20[','./zip','attachment','193722QaAffy','307RwADlq','parseAsParent','getFile','1HLDkyX','log','pop','unzip','async','77424YOzoRH','folder','forceType','path','CustomLabel','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}'];const a87_0x5bf2a3=a87_0x5aa6;(function(_0x54acff,_0x602790){const _0x3a3250=a87_0x5aa6;while(!![]){try{const _0x592cd5=-parseInt(_0x3a3250(0x10c))+-parseInt(_0x3a3250(0xec))+-parseInt(_0x3a3250(0x102))*-parseInt(_0x3a3250(0xd6))+parseInt(_0x3a3250(0xe3))+parseInt(_0x3a3250(0xd2))*-parseInt(_0x3a3250(0xe7))+parseInt(_0x3a3250(0xd1))*-parseInt(_0x3a3250(0xdd))+parseInt(_0x3a3250(0xdb))*parseInt(_0x3a3250(0xe4));if(_0x592cd5===_0x602790)break;else _0x54acff['push'](_0x54acff['shift']());}catch(_0xf8eb){_0x54acff['push'](_0x54acff['shift']());}}}(a87_0x2af8,0xbc9e5));const a87_0x5610f8=function(){let _0x2263b5=!![];return function(_0x378e2c,_0x2fe917){const _0xd9a1bf=_0x2263b5?function(){const _0x3fb938=a87_0x5aa6;if(_0x2fe917){const _0x34c186=_0x2fe917[_0x3fb938(0xd9)](_0x378e2c,arguments);return _0x2fe917=null,_0x34c186;}}:function(){};return _0x2263b5=![],_0xd9a1bf;};}(),a87_0x199ba5=a87_0x5610f8(this,function(){const _0x44050d=function(){const _0x3635d8=a87_0x5aa6,_0x6a3ea0=_0x44050d['constructor'](_0x3635d8(0xce))()['constructor'](_0x3635d8(0xf1));return!_0x6a3ea0[_0x3635d8(0x10a)](a87_0x199ba5);};return _0x44050d();});a87_0x199ba5();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4e68f0){const _0x5c785=a87_0x5aa6;return _0x4e68f0&&_0x4e68f0[_0x5c785(0xfb)]?_0x4e68f0:{'default':_0x4e68f0};};Object[a87_0x5bf2a3(0xca)](exports,a87_0x5bf2a3(0xfb),{'value':!![]}),exports[a87_0x5bf2a3(0xfc)]=void 0x0;const files_meta_1=__importDefault(require(a87_0x5bf2a3(0xcc))),zip_1=require(a87_0x5bf2a3(0xe1)),xml2js_1=require(a87_0x5bf2a3(0x103)),core_1=require(a87_0x5bf2a3(0xd3)),logger=new core_1['Logger']('sfdx-file-converter');function a87_0x5aa6(_0x5e3450,_0x21088c){return a87_0x5aa6=function(_0x427f98,_0x199ba5){_0x427f98=_0x427f98-0xca;let _0x5610f8=a87_0x2af8[_0x427f98];return _0x5610f8;},a87_0x5aa6(_0x5e3450,_0x21088c);}class SFDXFileConverter{constructor(_0x83bc43){const _0x358a3e=a87_0x5bf2a3;this[_0x358a3e(0xf2)]=_0x83bc43,this[_0x358a3e(0xcf)]=_0x358a3e(0xfe),this['meta']=files_meta_1[_0x358a3e(0xf4)][_0x358a3e(0xd8)](_0x1c0700=>_0x1c0700[_0x358a3e(0xee)]===this[_0x358a3e(0xf2)][_0x358a3e(0xf9)]),this[_0x358a3e(0xe2)]=zip_1[_0x358a3e(0xf7)][_0x358a3e(0xea)](this[_0x358a3e(0xf2)][_0x358a3e(0xf5)]),this[_0x358a3e(0x106)]=[];if(!this[_0x358a3e(0x10d)])throw new Error(_0x358a3e(0xe0)+_0x83bc43[_0x358a3e(0xf9)]+']\x20'+_0x83bc43[_0x358a3e(0xff)]);logger['log']('instanciate\x20%s\x20fileType\x20[fileName:\x20%s]',_0x83bc43[_0x358a3e(0xf9)],_0x83bc43[_0x358a3e(0xff)]);}get['isChild'](){const _0x35e90e=a87_0x5bf2a3;var _0x1a77ea;return!!((_0x1a77ea=this[_0x35e90e(0x10d)])===null||_0x1a77ea===void 0x0?void 0x0:_0x1a77ea[_0x35e90e(0xde)]);}get[a87_0x5bf2a3(0xfa)](){const _0xb5e444=a87_0x5bf2a3;return!!this[_0xb5e444(0x10d)][_0xb5e444(0xfd)];}get[a87_0x5bf2a3(0x108)](){const _0x4c72b9=a87_0x5bf2a3;var _0x11bf83;return(_0x11bf83=this[_0x4c72b9(0x10d)])===null||_0x11bf83===void 0x0?void 0x0:_0x11bf83['extensions'][0x0];}[a87_0x5bf2a3(0xcd)](_0x275222){const _0x359343=a87_0x5bf2a3;var _0x423129;return _0x275222[_0x359343(0x10b)](new RegExp(((_0x423129=this['meta'])===null||_0x423129===void 0x0?void 0x0:_0x423129[_0x359343(0xf8)])+'$'),'.'+this[_0x359343(0x108)]);}async[a87_0x5bf2a3(0xe6)](_0x44bdfa){const _0xb74f83=a87_0x5bf2a3,_0x59a245=(await this[_0xb74f83(0xe2)])['file'](_0x44bdfa);if(!_0x59a245)throw new Error(_0xb74f83(0xf6)+_0x44bdfa);return _0x59a245;}async[a87_0x5bf2a3(0x105)](_0x29136b){const _0x41130f=a87_0x5bf2a3,_0x100db5=await this['getFile'](_0x29136b),{folder:_0x3f7181,parent:_0x1d0fac}=this[_0x41130f(0x10d)],[_0x427f2e,_0x5e0cba]=this[_0x41130f(0xf2)][_0x41130f(0xff)]['split']('.'),_0x52043d=await _0x100db5[_0x41130f(0xeb)](_0x41130f(0xd4)),_0x25c3ab=await xml2js_1[_0x41130f(0x100)](_0x52043d),_0x1476f2=Object[_0x41130f(0xd7)](_0x25c3ab)[_0x41130f(0xe9)]();if(!_0x1476f2)throw new Error(_0x41130f(0xda));const _0x671858=new xml2js_1[(_0x41130f(0x107))]({'xmldec':{'encoding':'UTF-8'}})['buildObject']({[this[_0x41130f(0x10d)]['forceType']]:{'$':_0x1476f2['$'],..._0x1476f2[_0x3f7181][_0x41130f(0xe9)]()}});return logger[_0x41130f(0x101)](_0x41130f(0x109),_0x29136b),{'path':_0x1d0fac+'/'+_0x427f2e+'/'+_0x3f7181+'/'+_0x5e0cba+'.'+this[_0x41130f(0x108)],'data':Buffer[_0x41130f(0x104)](_0x671858)};}async[a87_0x5bf2a3(0xe5)](_0x115ddc){const _0x4dc701=a87_0x5bf2a3;return logger[_0x4dc701(0x101)]('parse\x20%s\x20as\x20parent\x20component',_0x115ddc),{'path':this[_0x4dc701(0xcd)](_0x115ddc[_0x4dc701(0x10b)]('/','/'+this['component'][_0x4dc701(0xff)]+'/')),'data':await this[_0x4dc701(0xe6)](_0x115ddc)['then'](_0x19a85c=>_0x19a85c['async'](_0x4dc701(0xdf)))};}async[a87_0x5bf2a3(0xcb)](_0x2deda1){const _0x4bf4ac=a87_0x5bf2a3;var _0x462ac9;const _0x471f4e=await this[_0x4bf4ac(0xe6)](_0x2deda1);let _0x3a9f2b='';return((_0x462ac9=this[_0x4bf4ac(0x10d)])===null||_0x462ac9===void 0x0?void 0x0:_0x462ac9['forceType'])===_0x4bf4ac(0xf0)?(logger['info'](_0x4bf4ac(0xf3),_0x2deda1),_0x3a9f2b=this[_0x4bf4ac(0x10d)][_0x4bf4ac(0xed)]+'/'+this[_0x4bf4ac(0xf2)][_0x4bf4ac(0xff)]+'.'+this[_0x4bf4ac(0x108)]):(logger[_0x4bf4ac(0x101)](_0x4bf4ac(0xd5),_0x2deda1),_0x3a9f2b=this[_0x4bf4ac(0xcd)](_0x2deda1)),{'path':_0x3a9f2b,'data':await _0x471f4e[_0x4bf4ac(0xeb)](_0x4bf4ac(0xdf))};}async['parse'](){const _0x51ca4f=a87_0x5bf2a3,_0x1e0271=(await this[_0x51ca4f(0xe2)])['files'];let _0x6f4da9=null;for(const _0x273c93 in _0x1e0271){logger[_0x51ca4f(0xe8)](_0x51ca4f(0x10e),_0x273c93);if(this[_0x51ca4f(0xd0)])_0x6f4da9=await this[_0x51ca4f(0x105)](_0x273c93);else this[_0x51ca4f(0xfa)]?_0x6f4da9=await this[_0x51ca4f(0xe5)](_0x273c93):_0x6f4da9=await this[_0x51ca4f(0xcb)](_0x273c93);_0x6f4da9&&(_0x6f4da9[_0x51ca4f(0xef)]=''+this['BASE_SFDX_FOLDER']+_0x6f4da9['path'],this[_0x51ca4f(0x106)][_0x51ca4f(0xdc)](_0x6f4da9));}}}exports[a87_0x5bf2a3(0xfc)]=SFDXFileConverter;