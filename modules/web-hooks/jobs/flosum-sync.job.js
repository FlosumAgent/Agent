const a144_0x57a5=['apply',']\x20due\x20error\x20-\x20','salesforceService','convertToSFDX','getOwnPropertyDescriptor','__importStar','15TKFoyh','branchId','repositoryName','__metadata','../../../core','../../salesforce/errors/salesforce.error','32RnxkKh','1532348WSOAPl','getBranchRecords','542722osoPgX','all','__esModule','return\x20/\x22\x20+\x20this\x20+\x20\x22/','19wlelUZ','../../salesforce/services/salesforce.service','default','log','call','catch','[INFO]\x20Start\x20sync\x20job','./sync.job','1080315AsNHoY','logger','run','flosumSync','getRepositoryRecords','defineProperty','__decorate','error','decorate','setLoggerId','87415FSgUlV','../../salesforce/services/salesforce-sync.service','get','Service','134758biwExp','Logger','send','setStatus','SalesforceError','handleRecordSyncError','object','flosum-sync-job','Error','constructor','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','177372jDcPak','SalesforceSyncService','FlosumSyncJob','design:paramtypes','__setModuleDefault','function','metadata','typedi','syncing\x20%s[%s]\x20repository\x20%s[%s]\x20branch','length','branchName','14879PAdyET'];const a144_0x3c74e8=a144_0x50e9;(function(_0x15e3f1,_0xa9a118){const _0x41b27d=a144_0x50e9;while(!![]){try{const _0x2f35f9=parseInt(_0x41b27d(0x1a7))+parseInt(_0x41b27d(0x1a0))*parseInt(_0x41b27d(0x199))+parseInt(_0x41b27d(0x1b5))+parseInt(_0x41b27d(0x18e))+-parseInt(_0x41b27d(0x1ad))*-parseInt(_0x41b27d(0x1bf))+parseInt(_0x41b27d(0x1a9))+-parseInt(_0x41b27d(0x1c3))*parseInt(_0x41b27d(0x1a6));if(_0x2f35f9===_0xa9a118)break;else _0x15e3f1['push'](_0x15e3f1['shift']());}catch(_0x218d00){_0x15e3f1['push'](_0x15e3f1['shift']());}}}(a144_0x57a5,0xdcd7b));const a144_0x1e0be4=function(){let _0x422a91=!![];return function(_0x5718e5,_0x1a58d5){const _0x712686=_0x422a91?function(){const _0x53c570=a144_0x50e9;if(_0x1a58d5){const _0x42f8ef=_0x1a58d5[_0x53c570(0x19a)](_0x5718e5,arguments);return _0x1a58d5=null,_0x42f8ef;}}:function(){};return _0x422a91=![],_0x712686;};}(),a144_0x13bfb9=a144_0x1e0be4(this,function(){const _0x2cf18c=function(){const _0x48f716=a144_0x50e9,_0x297b27=_0x2cf18c[_0x48f716(0x18c)](_0x48f716(0x1ac))()['constructor'](_0x48f716(0x18d));return!_0x297b27['test'](a144_0x13bfb9);};return _0x2cf18c();});a144_0x13bfb9();'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x131fc0,_0x1c7d87,_0x9f94c1,_0x5e44fd){const _0xc58735=a144_0x50e9;if(_0x5e44fd===undefined)_0x5e44fd=_0x9f94c1;Object[_0xc58735(0x1ba)](_0x131fc0,_0x5e44fd,{'enumerable':!![],'get':function(){return _0x1c7d87[_0x9f94c1];}});}:function(_0xbc1a91,_0x25bd43,_0x3f69e3,_0x5eb075){if(_0x5eb075===undefined)_0x5eb075=_0x3f69e3;_0xbc1a91[_0x5eb075]=_0x25bd43[_0x3f69e3];}),__setModuleDefault=this&&this[a144_0x3c74e8(0x192)]||(Object['create']?function(_0x1253b2,_0x583a21){const _0x183da4=a144_0x3c74e8;Object['defineProperty'](_0x1253b2,_0x183da4(0x1af),{'enumerable':!![],'value':_0x583a21});}:function(_0x4f0a52,_0x4798d1){const _0x29cef9=a144_0x3c74e8;_0x4f0a52[_0x29cef9(0x1af)]=_0x4798d1;}),__decorate=this&&this[a144_0x3c74e8(0x1bb)]||function(_0x2ff1de,_0x3cdb18,_0x1730db,_0x2d2450){const _0x500125=a144_0x3c74e8;var _0x1b3367=arguments[_0x500125(0x197)],_0x1bfb1b=_0x1b3367<0x3?_0x3cdb18:_0x2d2450===null?_0x2d2450=Object[_0x500125(0x19e)](_0x3cdb18,_0x1730db):_0x2d2450,_0xadf3b8;if(typeof Reflect===_0x500125(0x189)&&typeof Reflect['decorate']===_0x500125(0x193))_0x1bfb1b=Reflect[_0x500125(0x1bd)](_0x2ff1de,_0x3cdb18,_0x1730db,_0x2d2450);else{for(var _0x47fe0b=_0x2ff1de['length']-0x1;_0x47fe0b>=0x0;_0x47fe0b--)if(_0xadf3b8=_0x2ff1de[_0x47fe0b])_0x1bfb1b=(_0x1b3367<0x3?_0xadf3b8(_0x1bfb1b):_0x1b3367>0x3?_0xadf3b8(_0x3cdb18,_0x1730db,_0x1bfb1b):_0xadf3b8(_0x3cdb18,_0x1730db))||_0x1bfb1b;}return _0x1b3367>0x3&&_0x1bfb1b&&Object[_0x500125(0x1ba)](_0x3cdb18,_0x1730db,_0x1bfb1b),_0x1bfb1b;},__importStar=this&&this[a144_0x3c74e8(0x19f)]||function(_0x48066c){const _0x4cc62f=a144_0x3c74e8;if(_0x48066c&&_0x48066c[_0x4cc62f(0x1ab)])return _0x48066c;var _0x35a8a8={};if(_0x48066c!=null){for(var _0x193f97 in _0x48066c)if(_0x193f97!=='default'&&Object['prototype']['hasOwnProperty'][_0x4cc62f(0x1b1)](_0x48066c,_0x193f97))__createBinding(_0x35a8a8,_0x48066c,_0x193f97);}return __setModuleDefault(_0x35a8a8,_0x48066c),_0x35a8a8;},__metadata=this&&this[a144_0x3c74e8(0x1a3)]||function(_0x2ac3b6,_0xffefbc){const _0x306323=a144_0x3c74e8;if(typeof Reflect===_0x306323(0x189)&&typeof Reflect[_0x306323(0x194)]===_0x306323(0x193))return Reflect[_0x306323(0x194)](_0x2ac3b6,_0xffefbc);};Object[a144_0x3c74e8(0x1ba)](exports,a144_0x3c74e8(0x1ab),{'value':!![]}),exports[a144_0x3c74e8(0x190)]=void 0x0;const typedi_1=__importStar(require(a144_0x3c74e8(0x195))),core_1=require(a144_0x3c74e8(0x1a4)),salesforce_error_1=require(a144_0x3c74e8(0x1a5)),salesforce_sync_service_1=require(a144_0x3c74e8(0x1c0)),salesforce_service_1=require(a144_0x3c74e8(0x1ae)),sync_job_1=require(a144_0x3c74e8(0x1b4)),logger=new core_1[(a144_0x3c74e8(0x1c4))](a144_0x3c74e8(0x18a));function a144_0x50e9(_0x29f533,_0x5e9f0b){return a144_0x50e9=function(_0x4c7c23,_0x13bfb9){_0x4c7c23=_0x4c7c23-0x185;let _0x1e0be4=a144_0x57a5[_0x4c7c23];return _0x1e0be4;},a144_0x50e9(_0x29f533,_0x5e9f0b);}let FlosumSyncJob=class FlosumSyncJob{constructor(_0x575cf8,_0x1e54a6){const _0x164f36=a144_0x3c74e8;this[_0x164f36(0x19c)]=_0x575cf8,this['flosumSync']=_0x1e54a6;}async[a144_0x3c74e8(0x188)](_0x54ea21,_0x1c5bbb){const _0x3e0387=a144_0x3c74e8;try{this['logger']['log']('[ERROR]\x20Stop\x20sync\x20job\x20for\x20'+_0x54ea21[_0x3e0387(0x1a2)]+'\x20['+_0x54ea21['branchName']+_0x3e0387(0x19b)+_0x1c5bbb),await this['logger'][_0x3e0387(0x185)](),await this[_0x3e0387(0x1b8)][_0x3e0387(0x186)](_0x54ea21,_0x3e0387(0x18b));}catch(_0x27f189){logger[_0x3e0387(0x1bc)](_0x27f189);if(_0x27f189 instanceof salesforce_error_1[_0x3e0387(0x187)])throw _0x27f189;}}async[a144_0x3c74e8(0x1b7)](_0x348d3,_0x4a9baa){const _0x21dd87=a144_0x3c74e8;this[_0x21dd87(0x19c)][_0x21dd87(0x1be)](_0x4a9baa),this[_0x21dd87(0x1b6)]=this['salesforceService']['getLogger']();try{this[_0x21dd87(0x1b6)][_0x21dd87(0x1b0)](_0x21dd87(0x1b3)),await this['logger'][_0x21dd87(0x185)]();const [_0x4ed512,_0x278187]=await Promise[_0x21dd87(0x1aa)]([this[_0x21dd87(0x1b8)][_0x21dd87(0x1a8)](),this[_0x21dd87(0x1b8)][_0x21dd87(0x1b9)]()]),_0x169b69=[..._0x278187,..._0x4ed512];logger[_0x21dd87(0x1b0)]('have\x20to\x20synchronize\x20%d\x20branches',_0x169b69[_0x21dd87(0x197)]);for(const _0x442fe8 of _0x169b69){const _0x1b63ac=typedi_1[_0x21dd87(0x1af)][_0x21dd87(0x1c1)](sync_job_1['SyncJob']);logger[_0x21dd87(0x1b0)](_0x21dd87(0x196),_0x442fe8[_0x21dd87(0x1a2)],_0x442fe8['repositoryId'],_0x442fe8[_0x21dd87(0x198)],_0x442fe8[_0x21dd87(0x1a1)]),await _0x1b63ac[_0x21dd87(0x1b7)](_0x442fe8,_0x4a9baa,_0x348d3[_0x21dd87(0x19d)])[_0x21dd87(0x1b2)](_0x38d8fd=>this[_0x21dd87(0x188)](_0x442fe8,_0x38d8fd));}}catch(_0x3dbe57){logger['error'](_0x3dbe57),this[_0x21dd87(0x1b6)][_0x21dd87(0x1b0)]('[ERROR]\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20'+_0x3dbe57),await this[_0x21dd87(0x1b6)][_0x21dd87(0x185)]()[_0x21dd87(0x1b2)](()=>void 0x0);return;}this['logger'][_0x21dd87(0x1b0)]('[INFO]\x20Sync\x20job\x20done.'),await this[_0x21dd87(0x1b6)][_0x21dd87(0x185)](),await this[_0x21dd87(0x1b8)]['disableSync'](_0x348d3['syncID']);}};FlosumSyncJob=__decorate([typedi_1[a144_0x3c74e8(0x1c2)]({'transient':!![]}),__metadata(a144_0x3c74e8(0x191),[salesforce_service_1['SalesforceService'],salesforce_sync_service_1[a144_0x3c74e8(0x18f)]])],FlosumSyncJob),exports[a144_0x3c74e8(0x190)]=FlosumSyncJob;