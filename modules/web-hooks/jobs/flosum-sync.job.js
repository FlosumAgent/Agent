const a138_0x299d=['./sync.job','log','prototype','typedi','FlosumSyncJob','all','sfLogger','getRepositoryRecords','../../salesforce/services/salesforce.service','458557bBaezR','flosumSync','decorate','[SYNC]\x20[MAIN]\x20','Logger','__decorate','1463555Yejeid','222793TDjbhu','repositoryName','run','1692222ffkybI','design:paramtypes','function','SalesforceService','salesforceService','length','__createBinding','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../salesforce/services/salesforce-sync.service','SyncJob','__esModule','setLoggerId','defineProperty','1kmnZhD','create','3402097lBHogq','constructor','default','[INFO]\x20Sync\x20job\x20done.','branchName','object','disableSync','test','1593928ZwXMJn','3rQNMBF','Service','1103871SxJEeF','hasOwnProperty','repositoryId','syncID','metadata','__setModuleDefault'];function a138_0x10c5(_0x1523ed,_0x30de74){return a138_0x10c5=function(_0x62bd67,_0x3e9692){_0x62bd67=_0x62bd67-0xa2;let _0xac957c=a138_0x299d[_0x62bd67];return _0xac957c;},a138_0x10c5(_0x1523ed,_0x30de74);}const a138_0x1f83f=a138_0x10c5;(function(_0xee994,_0x49c204){const _0x28eb8d=a138_0x10c5;while(!![]){try{const _0x560a25=parseInt(_0x28eb8d(0xc3))*parseInt(_0x28eb8d(0xa8))+-parseInt(_0x28eb8d(0xab))+-parseInt(_0x28eb8d(0xc2))+-parseInt(_0x28eb8d(0xa7))+parseInt(_0x28eb8d(0xd4))+parseInt(_0x28eb8d(0xb8))*parseInt(_0x28eb8d(0xc5))+parseInt(_0x28eb8d(0xba));if(_0x560a25===_0x49c204)break;else _0xee994['push'](_0xee994['shift']());}catch(_0x389319){_0xee994['push'](_0xee994['shift']());}}}(a138_0x299d,0xd79ff));const a138_0xac957c=function(){let _0x5a733e=!![];return function(_0x3946e0,_0x117436){const _0x456de7=_0x5a733e?function(){if(_0x117436){const _0x1f24b3=_0x117436['apply'](_0x3946e0,arguments);return _0x117436=null,_0x1f24b3;}}:function(){};return _0x5a733e=![],_0x456de7;};}(),a138_0x3e9692=a138_0xac957c(this,function(){const _0xa3d430=function(){const _0x4ae792=a138_0x10c5,_0x3279eb=_0xa3d430[_0x4ae792(0xbb)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x4ae792(0xbb)](_0x4ae792(0xb2));return!_0x3279eb[_0x4ae792(0xc1)](a138_0x3e9692);};return _0xa3d430();});a138_0x3e9692();'use strict';var __createBinding=this&&this[a138_0x1f83f(0xb1)]||(Object[a138_0x1f83f(0xb9)]?function(_0x57c85d,_0xfd466a,_0x4e611e,_0x403bf8){const _0x2ee376=a138_0x1f83f;if(_0x403bf8===undefined)_0x403bf8=_0x4e611e;Object[_0x2ee376(0xb7)](_0x57c85d,_0x403bf8,{'enumerable':!![],'get':function(){return _0xfd466a[_0x4e611e];}});}:function(_0x595472,_0x16962c,_0x8516dd,_0x5c0c23){if(_0x5c0c23===undefined)_0x5c0c23=_0x8516dd;_0x595472[_0x5c0c23]=_0x16962c[_0x8516dd];}),__setModuleDefault=this&&this[a138_0x1f83f(0xca)]||(Object['create']?function(_0x2681a8,_0x5362b8){const _0x18c9b8=a138_0x1f83f;Object[_0x18c9b8(0xb7)](_0x2681a8,_0x18c9b8(0xbc),{'enumerable':!![],'value':_0x5362b8});}:function(_0x449c00,_0x7f20b6){_0x449c00['default']=_0x7f20b6;}),__decorate=this&&this[a138_0x1f83f(0xa6)]||function(_0x3ab067,_0x58122a,_0x5f3158,_0x43e6ed){const _0x2d52c=a138_0x1f83f;var _0x2cfa0f=arguments[_0x2d52c(0xb0)],_0x2bb159=_0x2cfa0f<0x3?_0x58122a:_0x43e6ed===null?_0x43e6ed=Object['getOwnPropertyDescriptor'](_0x58122a,_0x5f3158):_0x43e6ed,_0x56a9bd;if(typeof Reflect===_0x2d52c(0xbf)&&typeof Reflect[_0x2d52c(0xa3)]===_0x2d52c(0xad))_0x2bb159=Reflect['decorate'](_0x3ab067,_0x58122a,_0x5f3158,_0x43e6ed);else{for(var _0x43e5bb=_0x3ab067['length']-0x1;_0x43e5bb>=0x0;_0x43e5bb--)if(_0x56a9bd=_0x3ab067[_0x43e5bb])_0x2bb159=(_0x2cfa0f<0x3?_0x56a9bd(_0x2bb159):_0x2cfa0f>0x3?_0x56a9bd(_0x58122a,_0x5f3158,_0x2bb159):_0x56a9bd(_0x58122a,_0x5f3158))||_0x2bb159;}return _0x2cfa0f>0x3&&_0x2bb159&&Object['defineProperty'](_0x58122a,_0x5f3158,_0x2bb159),_0x2bb159;},__importStar=this&&this['__importStar']||function(_0x5f2ac6){const _0x2f88db=a138_0x1f83f;if(_0x5f2ac6&&_0x5f2ac6[_0x2f88db(0xb5)])return _0x5f2ac6;var _0x5ef262={};if(_0x5f2ac6!=null){for(var _0x4fe944 in _0x5f2ac6)if(_0x4fe944!==_0x2f88db(0xbc)&&Object[_0x2f88db(0xcd)][_0x2f88db(0xc6)]['call'](_0x5f2ac6,_0x4fe944))__createBinding(_0x5ef262,_0x5f2ac6,_0x4fe944);}return __setModuleDefault(_0x5ef262,_0x5f2ac6),_0x5ef262;},__metadata=this&&this['__metadata']||function(_0x2e7f66,_0x143293){const _0x493cca=a138_0x1f83f;if(typeof Reflect===_0x493cca(0xbf)&&typeof Reflect[_0x493cca(0xc9)]==='function')return Reflect[_0x493cca(0xc9)](_0x2e7f66,_0x143293);};Object[a138_0x1f83f(0xb7)](exports,a138_0x1f83f(0xb5),{'value':!![]}),exports['FlosumSyncJob']=void 0x0;const typedi_1=__importStar(require(a138_0x1f83f(0xce))),core_1=require('../../../core'),salesforce_sync_service_1=require(a138_0x1f83f(0xb3)),salesforce_service_1=require(a138_0x1f83f(0xd3)),sync_job_1=require(a138_0x1f83f(0xcb)),logger=new core_1[(a138_0x1f83f(0xa5))]('flosum-sync-job');let FlosumSyncJob=class FlosumSyncJob{constructor(_0x1083b3,_0x53ffc6){const _0x45b05a=a138_0x1f83f;this['salesforceService']=_0x1083b3,this[_0x45b05a(0xa2)]=_0x53ffc6;}async[a138_0x1f83f(0xd1)](_0x2abd85){const _0x3c52a2=a138_0x1f83f;return this['salesforceService']['sendLog'](_0x3c52a2(0xa4)+_0x2abd85);}async[a138_0x1f83f(0xaa)](_0x24db3b,_0x2c6381){const _0xda3c31=a138_0x1f83f;this[_0xda3c31(0xaf)][_0xda3c31(0xb6)](_0x2c6381);try{await this[_0xda3c31(0xd1)]('[INFO]\x20Start\x20sync\x20job');const [_0x1e58fe,_0x2df6fb]=await Promise[_0xda3c31(0xd0)]([this['flosumSync']['getBranchRecords'](),this['flosumSync'][_0xda3c31(0xd2)]()]),_0x2b602a=[..._0x2df6fb,..._0x1e58fe];for(const _0x464e12 of _0x2b602a){const _0x45d7b6=typedi_1[_0xda3c31(0xbc)]['get'](sync_job_1[_0xda3c31(0xb4)]);logger[_0xda3c31(0xcc)]('syncing\x20%s[%s]\x20repository\x20%s[%s]\x20branch',_0x464e12[_0xda3c31(0xa9)],_0x464e12[_0xda3c31(0xc7)],_0x464e12[_0xda3c31(0xbe)],_0x464e12['branchId']),await _0x45d7b6['run'](_0x464e12,_0x2c6381,_0x24db3b['convertToSFDX']);}}catch(_0x79390b){await this[_0xda3c31(0xd1)]('[ERROR]\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20'+(_0x79390b['message']||_0x79390b));return;}await this[_0xda3c31(0xd1)](_0xda3c31(0xbd)),await this['flosumSync'][_0xda3c31(0xc0)](_0x24db3b[_0xda3c31(0xc8)]);}};FlosumSyncJob=__decorate([typedi_1[a138_0x1f83f(0xc4)]({'transient':!![]}),__metadata(a138_0x1f83f(0xac),[salesforce_service_1[a138_0x1f83f(0xae)],salesforce_sync_service_1['SalesforceSyncService']])],FlosumSyncJob),exports[a138_0x1f83f(0xcf)]=FlosumSyncJob;