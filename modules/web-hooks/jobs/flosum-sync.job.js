function a175_0x568c(){const _0x5975e3=['24HHTJgx','CommitComponentsDto','function','../../salesforce/services/salesforce-logger-v2.service','createBranchIfNotExists','6026090vSumMZ','getComponents','repositoryName','send','parse','__esModule','syncData','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','toString','branches','__metadata','SalesforceLogger2','SalesforceSyncService','\x20[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','__decorate','Sync\x20repository','lastCommit','1183094IYHHIh','defineProperty','provider','../dto/commit-components.dto','branch','design:paramtypes','decorate','updateLastCommit','sha','setStatus','catch','./commit-components.job','checkSyncStatus','[INFO]\x20Sync\x20job\x20done.','gitUrl','salesforceService','Logger','../../../core','28WVHGbl','In\x20Progress','sfLogger','log','17328751lytxxE','DEFAULT_GIT_USER_NAME','create','force','CommitComponentsJob','constructor','typedi','FlosumSyncJob','[INFO]\x20Branch\x20synchronized.\x20Skip','535065Eaneaq','../../salesforce/services/salesforce-retriever.service','repository','getLoggerId','length','branchName','updateRemoteState','Service','metadata','search','117VFQYUT','salesforceSync','getPrefix','getCommitDto','repo','SalesforceService','name',']\x20[Branch:\x20','retrieveAttachment','components','(((.+)+)+)+$','Completed','DEFAULT_GIT_USER_EMAIL','584602YHvaPa','524024wTZrMQ','message','getOne','run','commitJob','../../salesforce/services/salesforce.service','apply','39148jwMIfd','getBranchComponents','branchId','9ZexxJl','repositoryId','string'];a175_0x568c=function(){return _0x5975e3;};return a175_0x568c();}const a175_0x2ea09f=a175_0x4420;(function(_0x2ff961,_0x4f2e8f){const _0x4b9717=a175_0x4420,_0x4d646d=_0x2ff961();while(!![]){try{const _0xa7bac4=-parseInt(_0x4b9717(0x85))/0x1+-parseInt(_0x4b9717(0xa9))/0x2+-parseInt(_0x4b9717(0x78))/0x3*(-parseInt(_0x4b9717(0x8d))/0x4)+-parseInt(_0x4b9717(0xc8))/0x5*(-parseInt(_0x4b9717(0x93))/0x6)+-parseInt(_0x4b9717(0xbb))/0x7*(parseInt(_0x4b9717(0x86))/0x8)+-parseInt(_0x4b9717(0x90))/0x9*(parseInt(_0x4b9717(0x98))/0xa)+parseInt(_0x4b9717(0xbf))/0xb;if(_0xa7bac4===_0x4f2e8f)break;else _0x4d646d['push'](_0x4d646d['shift']());}catch(_0x4ac6ff){_0x4d646d['push'](_0x4d646d['shift']());}}}(a175_0x568c,0x540fc));const a175_0x3007ce=function(){let _0x31f817=!![];return function(_0x5721ef,_0x5bd0f2){const _0x4c28cd=_0x31f817?function(){const _0x5c1621=a175_0x4420;if(_0x5bd0f2){const _0x3c0018=_0x5bd0f2[_0x5c1621(0x8c)](_0x5721ef,arguments);return _0x5bd0f2=null,_0x3c0018;}}:function(){};return _0x31f817=![],_0x4c28cd;};}(),a175_0x17c021=a175_0x3007ce(this,function(){const _0x14be64=a175_0x4420;return a175_0x17c021[_0x14be64(0xa0)]()[_0x14be64(0x77)](_0x14be64(0x82))['toString']()[_0x14be64(0xc4)](a175_0x17c021)['search']('(((.+)+)+)+$');});function a175_0x4420(_0xada98a,_0x419a86){const _0xcf01bb=a175_0x568c();return a175_0x4420=function(_0x17c021,_0x3007ce){_0x17c021=_0x17c021-0x74;let _0x568c32=_0xcf01bb[_0x17c021];return _0x568c32;},a175_0x4420(_0xada98a,_0x419a86);}a175_0x17c021();'use strict';var __decorate=this&&this[a175_0x2ea09f(0xa6)]||function(_0x1b76af,_0x3d1dce,_0x225ba3,_0x4b74c0){const _0x37ed97=a175_0x2ea09f;var _0x7185a6=arguments[_0x37ed97(0xcc)],_0x22275e=_0x7185a6<0x3?_0x3d1dce:_0x4b74c0===null?_0x4b74c0=Object['getOwnPropertyDescriptor'](_0x3d1dce,_0x225ba3):_0x4b74c0,_0x27d034;if(typeof Reflect==='object'&&typeof Reflect[_0x37ed97(0xaf)]===_0x37ed97(0x95))_0x22275e=Reflect[_0x37ed97(0xaf)](_0x1b76af,_0x3d1dce,_0x225ba3,_0x4b74c0);else{for(var _0x523958=_0x1b76af[_0x37ed97(0xcc)]-0x1;_0x523958>=0x0;_0x523958--)if(_0x27d034=_0x1b76af[_0x523958])_0x22275e=(_0x7185a6<0x3?_0x27d034(_0x22275e):_0x7185a6>0x3?_0x27d034(_0x3d1dce,_0x225ba3,_0x22275e):_0x27d034(_0x3d1dce,_0x225ba3))||_0x22275e;}return _0x7185a6>0x3&&_0x22275e&&Object[_0x37ed97(0xaa)](_0x3d1dce,_0x225ba3,_0x22275e),_0x22275e;},__metadata=this&&this[a175_0x2ea09f(0xa2)]||function(_0x4e32c7,_0x19f182){const _0x3f3346=a175_0x2ea09f;if(typeof Reflect==='object'&&typeof Reflect[_0x3f3346(0x76)]===_0x3f3346(0x95))return Reflect[_0x3f3346(0x76)](_0x4e32c7,_0x19f182);},FlosumSyncJob_1;Object[a175_0x2ea09f(0xaa)](exports,a175_0x2ea09f(0x9d),{'value':!![]}),exports[a175_0x2ea09f(0xc6)]=void 0x0;const core_1=require(a175_0x2ea09f(0xba)),salesforce_logger_v2_service_1=require(a175_0x2ea09f(0x96)),typedi_1=require(a175_0x2ea09f(0xc5)),constants_1=require('../../../constants'),salesforce_retriever_service_1=require(a175_0x2ea09f(0xc9)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a175_0x2ea09f(0x8b)),commit_components_dto_1=require(a175_0x2ea09f(0xac)),commit_components_job_1=require(a175_0x2ea09f(0xb4));let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0x10fa46,_0x416842,_0x1c59c3){const _0x28beb6=a175_0x2ea09f;this[_0x28beb6(0x79)]=_0x10fa46,this[_0x28beb6(0xb8)]=_0x416842,this[_0x28beb6(0x8a)]=_0x1c59c3,this['logger']=new core_1[(_0x28beb6(0xb9))](FlosumSyncJob_1[_0x28beb6(0x7e)]);}[a175_0x2ea09f(0xbe)](_0x50c7f9){const _0x192c88=a175_0x2ea09f;return this['sfLogger'][_0x192c88(0xbe)](_0x192c88(0x9f)+this['syncData'][_0x192c88(0x9a)]+_0x192c88(0x7f)+this['syncData'][_0x192c88(0xcd)]+']\x20'+_0x50c7f9);}async[a175_0x2ea09f(0x97)](){const _0x3184c9=a175_0x2ea09f;let _0x4154ac=await this[_0x3184c9(0xca)]['branches'][_0x3184c9(0x88)](this[_0x3184c9(0x9e)][_0x3184c9(0xcd)])[_0x3184c9(0xb3)](()=>null);!_0x4154ac&&(_0x4154ac=await this['repository'][_0x3184c9(0xa1)][_0x3184c9(0xc1)]({'name':this[_0x3184c9(0x9e)][_0x3184c9(0xcd)]})),this[_0x3184c9(0xad)]=_0x4154ac;}async['getComponentIds'](){const _0x4d1f43=a175_0x2ea09f;return this[_0x4d1f43(0x9e)][_0x4d1f43(0x91)]?this[_0x4d1f43(0x79)]['getComponentsFromRepository'](this[_0x4d1f43(0x9e)]['repositoryId']):this[_0x4d1f43(0x79)][_0x4d1f43(0x8e)](this[_0x4d1f43(0x9e)][_0x4d1f43(0x8f)]);}async['getComponents'](){const _0x81c1be=await this['getComponentIds'](),_0x5a7fb3=new salesforce_retriever_service_1['SalesforceRetrieverService'](this['salesforceService']),_0x2dbf01=await _0x5a7fb3['run'](_0x81c1be);return _0x2dbf01;}async[a175_0x2ea09f(0x7b)](_0x283838){const _0x54deae=a175_0x2ea09f,_0xe9ef9f=new commit_components_dto_1[(_0x54deae(0x94))]();return _0xe9ef9f[_0x54deae(0x87)]=_0x54deae(0xa7),_0xe9ef9f['user']={'name':constants_1[_0x54deae(0xc0)],'email':constants_1[_0x54deae(0x84)]},_0xe9ef9f[_0x54deae(0x81)]={'writed':await this[_0x54deae(0x99)]()},_0xe9ef9f['convertToSFDX']=_0x283838,_0xe9ef9f[_0x54deae(0x7c)]=this[_0x54deae(0xca)],_0xe9ef9f[_0x54deae(0xad)]=this[_0x54deae(0xad)],_0xe9ef9f[_0x54deae(0xc2)]=!![],_0xe9ef9f[_0x54deae(0xab)]=this[_0x54deae(0xab)],_0xe9ef9f;}async[a175_0x2ea09f(0xb5)](){const _0x21eb54=a175_0x2ea09f,_0x22992e=await this[_0x21eb54(0x79)]['getRemoteStateAttachmentId'](this[_0x21eb54(0x9e)]),_0x853b28=await this[_0x21eb54(0xb8)][_0x21eb54(0x80)](_0x22992e)['then'](_0x3fad0f=>typeof _0x3fad0f===_0x21eb54(0x92)?JSON[_0x21eb54(0x9c)](_0x3fad0f):_0x3fad0f)[_0x21eb54(0xb3)](()=>({}));if(_0x853b28[this[_0x21eb54(0xca)][_0x21eb54(0xb7)]]){if(_0x853b28[this[_0x21eb54(0xca)][_0x21eb54(0xb7)]][_0x21eb54(0xa8)]===this['branch'][_0x21eb54(0xb1)])return!![];}return![];}async[a175_0x2ea09f(0xb0)](){const _0x4cb2d9=a175_0x2ea09f,_0x44ef8b=await this[_0x4cb2d9(0xca)]['branches']['getOne'](this[_0x4cb2d9(0xad)][_0x4cb2d9(0x7e)]);await this['log']('[INFO]\x20Update\x20remote\x20state.');const _0x591a63={[this['repository']['gitUrl']]:{'lastCommit':_0x44ef8b[_0x4cb2d9(0xb1)]}};await this[_0x4cb2d9(0x79)][_0x4cb2d9(0x74)](this[_0x4cb2d9(0x9e)],_0x591a63);}async[a175_0x2ea09f(0x89)]({syncRecord:_0x35b6d8,repository:_0x5f1476,logger:_0x3fe177,convertToSFDX:_0x2d199b,provider:_0x4dc171}){const _0x124688=a175_0x2ea09f;this[_0x124688(0x9e)]=_0x35b6d8,this[_0x124688(0xab)]=_0x4dc171,this[_0x124688(0xca)]=_0x5f1476,this['sfLogger']=new salesforce_logger_v2_service_1[(_0x124688(0xa3))](_0x3fe177[_0x124688(0xcb)](),_0x3fe177[_0x124688(0x7a)]()+_0x124688(0xa5)+this[_0x124688(0x9e)][_0x124688(0x9a)]+_0x124688(0x7f)+this['syncData'][_0x124688(0xcd)]+']');try{await this[_0x124688(0x79)][_0x124688(0xb2)](this[_0x124688(0x9e)],_0x124688(0xbc)),await this[_0x124688(0xbe)]('[INFO]\x20Start\x20sync\x20job'),await this[_0x124688(0x97)]();const _0x1aab8f=await this[_0x124688(0xb5)]();if(_0x1aab8f){await this[_0x124688(0x79)][_0x124688(0xb2)](this[_0x124688(0x9e)],'Completed'),await this[_0x124688(0xbe)](_0x124688(0xc7))[_0x124688(0x9b)]();return;}const _0x361149=await this[_0x124688(0x7b)](_0x2d199b);await this[_0x124688(0x8a)][_0x124688(0x89)](_0x361149,this[_0x124688(0xbd)]),await this[_0x124688(0x79)][_0x124688(0xb2)](this[_0x124688(0x9e)],_0x124688(0x83)),await this[_0x124688(0xb0)](),await this[_0x124688(0xbe)](_0x124688(0xb6));}catch(_0x3399f7){throw _0x3399f7;}finally{await this['sfLogger'][_0x124688(0x9b)]();}}};FlosumSyncJob=FlosumSyncJob_1=__decorate([typedi_1[a175_0x2ea09f(0x75)]({'transient':!![]}),__metadata(a175_0x2ea09f(0xae),[salesforce_sync_service_1[a175_0x2ea09f(0xa4)],salesforce_service_1[a175_0x2ea09f(0x7d)],commit_components_job_1[a175_0x2ea09f(0xc3)]])],FlosumSyncJob),exports[a175_0x2ea09f(0xc6)]=FlosumSyncJob;