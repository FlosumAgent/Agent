const a146_0x5714=['encodeBase64','57809HZQtXT','branchName','62681mFfojn','catch','./sync.job','setStatus','create','repositoryId',']\x20due\x20error\x20-\x20','get','hasOwnProperty','call','stringify','disableSync','metadata','Service','object','syncing\x20%s[%s]\x20repository\x20%s[%s]\x20branch','salesforceService','[INFO]\x20Start\x20sync\x20job','362496sKxKzi','SalesforceSyncService','[INFO]\x20Sync\x20job\x20done.','flosum-sync-job','patchObject','syncID','__decorate','SalesforceService','__importStar','getOwnPropertyDescriptor','../../salesforce/errors/salesforce.error','error','return\x20/\x22\x20+\x20this\x20+\x20\x22/','send','__esModule','61VTlBnp','193293mfQrLU','constructor','23YvmlJf','setLoggerId','1koFtQk','test','apply','Error','getLogger','../../../core','getAttachmentId','function','968466qyxizE','getRepositoryRecords','../../shared/utils','prototype','have\x20to\x20synchronize\x20%d\x20branches','SalesforceError','12567KMlUWt','defineProperty','__metadata','SyncJob','salesforceSync','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','42043bkiJsS','log','all','design:paramtypes','run','getBranchRecords','decorate','8QUwCBj','branchId','FlosumSyncJob','logger'];const a146_0x1ecba5=a146_0x5177;(function(_0x1e4e30,_0x4b5591){const _0x5cb40e=a146_0x5177;while(!![]){try{const _0x42ae2e=-parseInt(_0x5cb40e(0xf9))+-parseInt(_0x5cb40e(0x10c))*parseInt(_0x5cb40e(0x113))+parseInt(_0x5cb40e(0x134))*parseInt(_0x5cb40e(0xff))+-parseInt(_0x5cb40e(0x111))*-parseInt(_0x5cb40e(0x139))+parseInt(_0x5cb40e(0x125))+parseInt(_0x5cb40e(0x105))*parseInt(_0x5cb40e(0x137))+-parseInt(_0x5cb40e(0x135));if(_0x42ae2e===_0x4b5591)break;else _0x1e4e30['push'](_0x1e4e30['shift']());}catch(_0x363317){_0x1e4e30['push'](_0x1e4e30['shift']());}}}(a146_0x5714,0x77cb2));function a146_0x5177(_0xa5032f,_0x3bec54){return a146_0x5177=function(_0x11026b,_0x153952){_0x11026b=_0x11026b-0xf8;let _0x17b40e=a146_0x5714[_0x11026b];return _0x17b40e;},a146_0x5177(_0xa5032f,_0x3bec54);}const a146_0x17b40e=function(){let _0x14f2fb=!![];return function(_0x1f473a,_0xc8851){const _0x49ccc4=_0x14f2fb?function(){const _0x239c41=a146_0x5177;if(_0xc8851){const _0x144545=_0xc8851[_0x239c41(0x13b)](_0x1f473a,arguments);return _0xc8851=null,_0x144545;}}:function(){};return _0x14f2fb=![],_0x49ccc4;};}(),a146_0x153952=a146_0x17b40e(this,function(){const _0x3284a9=function(){const _0x4c8a23=a146_0x5177,_0x4859df=_0x3284a9[_0x4c8a23(0x136)](_0x4c8a23(0x131))()[_0x4c8a23(0x136)](_0x4c8a23(0x104));return!_0x4859df[_0x4c8a23(0x13a)](a146_0x153952);};return _0x3284a9();});a146_0x153952();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a146_0x1ecba5(0x117)]?function(_0x2ca432,_0x26ec37,_0x169630,_0x576494){const _0x3f80b7=a146_0x1ecba5;if(_0x576494===undefined)_0x576494=_0x169630;Object[_0x3f80b7(0x100)](_0x2ca432,_0x576494,{'enumerable':!![],'get':function(){return _0x26ec37[_0x169630];}});}:function(_0x188389,_0x3e642c,_0x176908,_0x15da5d){if(_0x15da5d===undefined)_0x15da5d=_0x176908;_0x188389[_0x15da5d]=_0x3e642c[_0x176908];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a146_0x1ecba5(0x117)]?function(_0x27e2a3,_0x5d4946){const _0x1d00a3=a146_0x1ecba5;Object[_0x1d00a3(0x100)](_0x27e2a3,'default',{'enumerable':!![],'value':_0x5d4946});}:function(_0x2d43f3,_0x4e55bd){_0x2d43f3['default']=_0x4e55bd;}),__decorate=this&&this[a146_0x1ecba5(0x12b)]||function(_0x13e475,_0x45e3b8,_0x5682b8,_0xcccbc9){const _0xce3fd5=a146_0x1ecba5;var _0x99f2ad=arguments['length'],_0xf30491=_0x99f2ad<0x3?_0x45e3b8:_0xcccbc9===null?_0xcccbc9=Object[_0xce3fd5(0x12e)](_0x45e3b8,_0x5682b8):_0xcccbc9,_0x2af50b;if(typeof Reflect===_0xce3fd5(0x121)&&typeof Reflect[_0xce3fd5(0x10b)]===_0xce3fd5(0xf8))_0xf30491=Reflect[_0xce3fd5(0x10b)](_0x13e475,_0x45e3b8,_0x5682b8,_0xcccbc9);else{for(var _0x2618f8=_0x13e475['length']-0x1;_0x2618f8>=0x0;_0x2618f8--)if(_0x2af50b=_0x13e475[_0x2618f8])_0xf30491=(_0x99f2ad<0x3?_0x2af50b(_0xf30491):_0x99f2ad>0x3?_0x2af50b(_0x45e3b8,_0x5682b8,_0xf30491):_0x2af50b(_0x45e3b8,_0x5682b8))||_0xf30491;}return _0x99f2ad>0x3&&_0xf30491&&Object[_0xce3fd5(0x100)](_0x45e3b8,_0x5682b8,_0xf30491),_0xf30491;},__importStar=this&&this[a146_0x1ecba5(0x12d)]||function(_0x30a37c){const _0x4ea2b7=a146_0x1ecba5;if(_0x30a37c&&_0x30a37c['__esModule'])return _0x30a37c;var _0x556d53={};if(_0x30a37c!=null){for(var _0x42b1e1 in _0x30a37c)if(_0x42b1e1!=='default'&&Object[_0x4ea2b7(0xfc)][_0x4ea2b7(0x11b)][_0x4ea2b7(0x11c)](_0x30a37c,_0x42b1e1))__createBinding(_0x556d53,_0x30a37c,_0x42b1e1);}return __setModuleDefault(_0x556d53,_0x30a37c),_0x556d53;},__metadata=this&&this[a146_0x1ecba5(0x101)]||function(_0xe3e61c,_0xe7af27){const _0xe4415e=a146_0x1ecba5;if(typeof Reflect==='object'&&typeof Reflect[_0xe4415e(0x11f)]===_0xe4415e(0xf8))return Reflect[_0xe4415e(0x11f)](_0xe3e61c,_0xe7af27);};Object[a146_0x1ecba5(0x100)](exports,a146_0x1ecba5(0x133),{'value':!![]}),exports['FlosumSyncJob']=void 0x0;const typedi_1=__importStar(require('typedi')),core_1=require(a146_0x1ecba5(0x13e)),salesforce_error_1=require(a146_0x1ecba5(0x12f)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require('../../salesforce/services/salesforce.service'),utils_1=require(a146_0x1ecba5(0xfb)),sync_job_1=require(a146_0x1ecba5(0x115)),logger=new core_1['Logger'](a146_0x1ecba5(0x128));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x5c82a0,_0x1ebaf4){const _0x5d54ba=a146_0x1ecba5;this[_0x5d54ba(0x123)]=_0x5c82a0,this['salesforceSync']=_0x1ebaf4;}async['handleRecordSyncError'](_0x3c1374,_0x18f703){const _0x33f252=a146_0x1ecba5;try{const _0x5672d2=await this[_0x33f252(0x103)][_0x33f252(0x13f)](_0x3c1374);this[_0x33f252(0x10f)]['log']('[ERROR]\x20Stop\x20sync\x20job\x20for\x20'+_0x3c1374['repositoryName']+'\x20['+_0x3c1374[_0x33f252(0x112)]+_0x33f252(0x119)+_0x18f703),await this['logger'][_0x33f252(0x132)](),await this['salesforceService'][_0x33f252(0x129)]('Attachment',_0x5672d2,{'Body':utils_1[_0x33f252(0x110)](JSON[_0x33f252(0x11d)]({}))}),await this['salesforceSync'][_0x33f252(0x116)](_0x3c1374,_0x33f252(0x13c));}catch(_0x246cfd){logger[_0x33f252(0x130)](_0x246cfd);if(_0x246cfd instanceof salesforce_error_1[_0x33f252(0xfe)])throw _0x246cfd;}}async[a146_0x1ecba5(0x109)](_0x4a7d0a,_0x2e0ee7){const _0x4e1bea=a146_0x1ecba5;this[_0x4e1bea(0x123)][_0x4e1bea(0x138)](_0x2e0ee7),this['logger']=this[_0x4e1bea(0x123)][_0x4e1bea(0x13d)]();try{this['logger'][_0x4e1bea(0x106)](_0x4e1bea(0x124)),await this[_0x4e1bea(0x10f)][_0x4e1bea(0x132)]();const [_0x2da7b8,_0xdc1a50]=await Promise[_0x4e1bea(0x107)]([this[_0x4e1bea(0x103)][_0x4e1bea(0x10a)](),this[_0x4e1bea(0x103)][_0x4e1bea(0xfa)]()]),_0x55d6bc=[..._0xdc1a50,..._0x2da7b8];logger[_0x4e1bea(0x106)](_0x4e1bea(0xfd),_0x55d6bc['length']);for(const _0x1a8304 of _0x55d6bc){const _0x2b1f72=typedi_1['default'][_0x4e1bea(0x11a)](sync_job_1[_0x4e1bea(0x102)]);logger[_0x4e1bea(0x106)](_0x4e1bea(0x122),_0x1a8304['repositoryName'],_0x1a8304[_0x4e1bea(0x118)],_0x1a8304[_0x4e1bea(0x112)],_0x1a8304[_0x4e1bea(0x10d)]),await _0x2b1f72[_0x4e1bea(0x109)](_0x1a8304,_0x2e0ee7,_0x4a7d0a['convertToSFDX'])[_0x4e1bea(0x114)](_0x575f6d=>this['handleRecordSyncError'](_0x1a8304,_0x575f6d));}}catch(_0x586165){logger['error'](_0x586165),this[_0x4e1bea(0x10f)][_0x4e1bea(0x106)]('[ERROR]\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20'+_0x586165),await this[_0x4e1bea(0x10f)]['send']()[_0x4e1bea(0x114)](()=>void 0x0);return;}this['logger'][_0x4e1bea(0x106)](_0x4e1bea(0x127)),await this['logger'][_0x4e1bea(0x132)](),await this[_0x4e1bea(0x103)][_0x4e1bea(0x11e)](_0x4a7d0a[_0x4e1bea(0x12a)]);}};FlosumSyncJob=__decorate([typedi_1[a146_0x1ecba5(0x120)]({'transient':!![]}),__metadata(a146_0x1ecba5(0x108),[salesforce_service_1[a146_0x1ecba5(0x12c)],salesforce_sync_service_1[a146_0x1ecba5(0x126)]])],FlosumSyncJob),exports[a146_0x1ecba5(0x10e)]=FlosumSyncJob;