const a146_0x2265=['../../salesforce/services/salesforce-sync.service','syncID','repositoryName','249869QDdtZW','__importStar','getRepositoryRecords','[INFO]\x20Sync\x20job\x20done.','Service','log','__setModuleDefault','6977PgTzsd','handleRecordSyncError','apply','getOwnPropertyDescriptor','have\x20to\x20synchronize\x20%d\x20branches','__metadata','catch','[ERROR]\x20Stop\x20sync\x20job\x20for\x20','object','1NyFPCp','../../../core','repositoryId','encodeBase64','stringify','return\x20/\x22\x20+\x20this\x20+\x20\x22/','function','1VeHJtn','metadata','SalesforceSyncService','390611ZorZAj','../../salesforce/errors/salesforce.error','getLogger','get','convertToSFDX','send','SalesforceError','hasOwnProperty','getBranchRecords','../../salesforce/services/salesforce.service','843043GhigLl','FlosumSyncJob','1xQuRgz','branchName','SyncJob','./sync.job','call','logger','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','length','flosum-sync-job','1580089cWzuvO','test','Logger','177LGTano','constructor','1618230RzMNwB','decorate','disableSync','__decorate','__createBinding','run','[INFO]\x20Start\x20sync\x20job','create','getAttachmentId','salesforceSync','defineProperty','../../shared/utils','salesforceService','__esModule','default','959480vFVNLt'];const a146_0x15dbb4=a146_0x5530;(function(_0x19a2c4,_0x16a08c){const _0x237011=a146_0x5530;while(!![]){try{const _0x52cace=parseInt(_0x237011(0x1ab))+-parseInt(_0x237011(0x1bb))*-parseInt(_0x237011(0x1cf))+-parseInt(_0x237011(0x1a7))+parseInt(_0x237011(0x196))*parseInt(_0x237011(0x1b2))+parseInt(_0x237011(0x1c2))*parseInt(_0x237011(0x193))+-parseInt(_0x237011(0x198))+-parseInt(_0x237011(0x1d1))*parseInt(_0x237011(0x1c5));if(_0x52cace===_0x16a08c)break;else _0x19a2c4['push'](_0x19a2c4['shift']());}catch(_0xa29333){_0x19a2c4['push'](_0x19a2c4['shift']());}}}(a146_0x2265,0xe5659));const a146_0x59cb12=function(){let _0x45deae=!![];return function(_0x176b05,_0x1f2365){const _0x4c3fc9=_0x45deae?function(){const _0x5bbd44=a146_0x5530;if(_0x1f2365){const _0x200dbf=_0x1f2365[_0x5bbd44(0x1b4)](_0x176b05,arguments);return _0x1f2365=null,_0x200dbf;}}:function(){};return _0x45deae=![],_0x4c3fc9;};}(),a146_0x29a5fe=a146_0x59cb12(this,function(){const _0x490828=function(){const _0x200ca1=a146_0x5530,_0x432913=_0x490828[_0x200ca1(0x197)](_0x200ca1(0x1c0))()[_0x200ca1(0x197)](_0x200ca1(0x1d7));return!_0x432913[_0x200ca1(0x194)](a146_0x29a5fe);};return _0x490828();});a146_0x29a5fe();'use strict';var __createBinding=this&&this[a146_0x15dbb4(0x19c)]||(Object['create']?function(_0x4be26b,_0x1fa5d0,_0x1ade5c,_0x5da59f){const _0x45be4f=a146_0x15dbb4;if(_0x5da59f===undefined)_0x5da59f=_0x1ade5c;Object[_0x45be4f(0x1a2)](_0x4be26b,_0x5da59f,{'enumerable':!![],'get':function(){return _0x1fa5d0[_0x1ade5c];}});}:function(_0x53c597,_0xb93805,_0x2f6e1c,_0x284f42){if(_0x284f42===undefined)_0x284f42=_0x2f6e1c;_0x53c597[_0x284f42]=_0xb93805[_0x2f6e1c];}),__setModuleDefault=this&&this[a146_0x15dbb4(0x1b1)]||(Object[a146_0x15dbb4(0x19f)]?function(_0x1e9a22,_0x1507a1){const _0x2c942f=a146_0x15dbb4;Object[_0x2c942f(0x1a2)](_0x1e9a22,_0x2c942f(0x1a6),{'enumerable':!![],'value':_0x1507a1});}:function(_0x3161e6,_0x19a3bf){const _0x56ece0=a146_0x15dbb4;_0x3161e6[_0x56ece0(0x1a6)]=_0x19a3bf;}),__decorate=this&&this[a146_0x15dbb4(0x19b)]||function(_0x5265aa,_0x32b443,_0x45382a,_0x338896){const _0x108d76=a146_0x15dbb4;var _0x292219=arguments[_0x108d76(0x191)],_0x1d80a3=_0x292219<0x3?_0x32b443:_0x338896===null?_0x338896=Object[_0x108d76(0x1b5)](_0x32b443,_0x45382a):_0x338896,_0x3885c3;if(typeof Reflect==='object'&&typeof Reflect[_0x108d76(0x199)]===_0x108d76(0x1c1))_0x1d80a3=Reflect[_0x108d76(0x199)](_0x5265aa,_0x32b443,_0x45382a,_0x338896);else{for(var _0x56a301=_0x5265aa[_0x108d76(0x191)]-0x1;_0x56a301>=0x0;_0x56a301--)if(_0x3885c3=_0x5265aa[_0x56a301])_0x1d80a3=(_0x292219<0x3?_0x3885c3(_0x1d80a3):_0x292219>0x3?_0x3885c3(_0x32b443,_0x45382a,_0x1d80a3):_0x3885c3(_0x32b443,_0x45382a))||_0x1d80a3;}return _0x292219>0x3&&_0x1d80a3&&Object[_0x108d76(0x1a2)](_0x32b443,_0x45382a,_0x1d80a3),_0x1d80a3;},__importStar=this&&this[a146_0x15dbb4(0x1ac)]||function(_0x3e3a72){const _0x598079=a146_0x15dbb4;if(_0x3e3a72&&_0x3e3a72[_0x598079(0x1a5)])return _0x3e3a72;var _0x2c7b23={};if(_0x3e3a72!=null){for(var _0x21cb6e in _0x3e3a72)if(_0x21cb6e!==_0x598079(0x1a6)&&Object['prototype'][_0x598079(0x1cc)][_0x598079(0x1d5)](_0x3e3a72,_0x21cb6e))__createBinding(_0x2c7b23,_0x3e3a72,_0x21cb6e);}return __setModuleDefault(_0x2c7b23,_0x3e3a72),_0x2c7b23;},__metadata=this&&this[a146_0x15dbb4(0x1b7)]||function(_0x3a5a60,_0x388320){const _0x249ab2=a146_0x15dbb4;if(typeof Reflect===_0x249ab2(0x1ba)&&typeof Reflect[_0x249ab2(0x1c3)]===_0x249ab2(0x1c1))return Reflect[_0x249ab2(0x1c3)](_0x3a5a60,_0x388320);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a146_0x15dbb4(0x1d0)]=void 0x0;function a146_0x5530(_0x256495,_0x552b98){return a146_0x5530=function(_0x23ff1d,_0x29a5fe){_0x23ff1d=_0x23ff1d-0x191;let _0x59cb12=a146_0x2265[_0x23ff1d];return _0x59cb12;},a146_0x5530(_0x256495,_0x552b98);}const typedi_1=__importStar(require('typedi')),core_1=require(a146_0x15dbb4(0x1bc)),salesforce_error_1=require(a146_0x15dbb4(0x1c6)),salesforce_sync_service_1=require(a146_0x15dbb4(0x1a8)),salesforce_service_1=require(a146_0x15dbb4(0x1ce)),utils_1=require(a146_0x15dbb4(0x1a3)),sync_job_1=require(a146_0x15dbb4(0x1d4)),logger=new core_1[(a146_0x15dbb4(0x195))](a146_0x15dbb4(0x192));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x2dcec6,_0x27979a){const _0x3301f9=a146_0x15dbb4;this[_0x3301f9(0x1a4)]=_0x2dcec6,this[_0x3301f9(0x1a1)]=_0x27979a;}async[a146_0x15dbb4(0x1b3)](_0x5a786c,_0x18b5a7){const _0x2173ac=a146_0x15dbb4;try{const _0x9bb231=await this['salesforceSync'][_0x2173ac(0x1a0)](_0x5a786c);this[_0x2173ac(0x1d6)]['log'](_0x2173ac(0x1b9)+_0x5a786c[_0x2173ac(0x1aa)]+'\x20['+_0x5a786c[_0x2173ac(0x1d2)]+']\x20due\x20error\x20-\x20'+_0x18b5a7),await this[_0x2173ac(0x1d6)][_0x2173ac(0x1ca)](),await this[_0x2173ac(0x1a4)]['patchObject']('Attachment',_0x9bb231,{'Body':utils_1[_0x2173ac(0x1be)](JSON[_0x2173ac(0x1bf)]({}))}),await this[_0x2173ac(0x1a1)]['setStatus'](_0x5a786c,'Error');}catch(_0xa54415){logger['error'](_0xa54415);if(_0xa54415 instanceof salesforce_error_1[_0x2173ac(0x1cb)])throw _0xa54415;}}async['run'](_0x19de02,_0x38c2c9){const _0x3cee44=a146_0x15dbb4;this['salesforceService']['setLoggerId'](_0x38c2c9),this[_0x3cee44(0x1d6)]=this[_0x3cee44(0x1a4)][_0x3cee44(0x1c7)]();try{this['logger'][_0x3cee44(0x1b0)](_0x3cee44(0x19e)),await this[_0x3cee44(0x1d6)][_0x3cee44(0x1ca)]();const [_0x5a7ed6,_0x328228]=await Promise['all']([this[_0x3cee44(0x1a1)][_0x3cee44(0x1cd)](),this[_0x3cee44(0x1a1)][_0x3cee44(0x1ad)]()]),_0x4d4163=[..._0x328228,..._0x5a7ed6];logger[_0x3cee44(0x1b0)](_0x3cee44(0x1b6),_0x4d4163[_0x3cee44(0x191)]);for(const _0x1fc93d of _0x4d4163){const _0x2af979=typedi_1['default'][_0x3cee44(0x1c8)](sync_job_1[_0x3cee44(0x1d3)]);logger[_0x3cee44(0x1b0)]('syncing\x20%s[%s]\x20repository\x20%s[%s]\x20branch',_0x1fc93d[_0x3cee44(0x1aa)],_0x1fc93d[_0x3cee44(0x1bd)],_0x1fc93d[_0x3cee44(0x1d2)],_0x1fc93d['branchId']),await _0x2af979[_0x3cee44(0x19d)](_0x1fc93d,_0x38c2c9,_0x19de02[_0x3cee44(0x1c9)])[_0x3cee44(0x1b8)](_0x3cb56a=>this[_0x3cee44(0x1b3)](_0x1fc93d,_0x3cb56a));}}catch(_0x2c4832){logger['error'](_0x2c4832),this[_0x3cee44(0x1d6)]['log']('[ERROR]\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20'+_0x2c4832),await this[_0x3cee44(0x1d6)][_0x3cee44(0x1ca)]()[_0x3cee44(0x1b8)](()=>void 0x0);return;}this[_0x3cee44(0x1d6)][_0x3cee44(0x1b0)](_0x3cee44(0x1ae)),await this[_0x3cee44(0x1d6)][_0x3cee44(0x1ca)](),await this[_0x3cee44(0x1a1)][_0x3cee44(0x19a)](_0x19de02[_0x3cee44(0x1a9)]);}};FlosumSyncJob=__decorate([typedi_1[a146_0x15dbb4(0x1af)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_service_1['SalesforceService'],salesforce_sync_service_1[a146_0x15dbb4(0x1c4)]])],FlosumSyncJob),exports['FlosumSyncJob']=FlosumSyncJob;