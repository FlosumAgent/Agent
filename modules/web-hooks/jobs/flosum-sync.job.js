function a178_0x1f9c(){const _0x12c5f2=['force','string','\x20[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','defineProperty','name','getPrefix',']\x20[Branch:\x20','repositoryId','design:paramtypes','sha','search','2tzZvJt','branch','Service','SalesforceRetrieverService','salesforceSync','[INFO]\x20Sync\x20job\x20done.','__esModule','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','getOne','provider','commitJob','user','[INFO]\x20Start\x20sync\x20job','DEFAULT_GIT_USER_EMAIL','SalesforceSyncService','updateRemoteState','branchId','SalesforceLogger2','checkSyncStatus','Sync\x20repository','8445930NyxBqG','17631306CtyOpE','getLoggerId','1035189PYthSa','gitUrl','syncData','repo','2556904pJQXMy','[INFO]\x20Update\x20remote\x20state.','In\x20Progress','../dto/commit-components.dto','../../../core','components','__decorate','setStatus','toString','getComponentsFromRepository','convertToSFDX','Completed','2590kANIGy','repository','sfLogger','catch','salesforceService','decorate','branches','length','5sFAJIt','SalesforceService','18AWLnMB','213292qPgSiH','object','parse','then','create','../../salesforce/services/salesforce-retriever.service','./commit-components.job','apply','log','getComponents','[INFO]\x20Branch\x20synchronized.\x20Skip','getCommitDto','send','getComponentIds','branchName','FlosumSyncJob','11196fSkXCZ','metadata','getOwnPropertyDescriptor','DEFAULT_GIT_USER_NAME','function','../../salesforce/services/salesforce-sync.service','__metadata','createBranchIfNotExists','3301084oXaCOJ'];a178_0x1f9c=function(){return _0x12c5f2;};return a178_0x1f9c();}const a178_0x182ba4=a178_0x24b2;(function(_0x2ae77e,_0x1933b0){const _0x1564dc=a178_0x24b2,_0x32f691=_0x2ae77e();while(!![]){try{const _0x348577=parseInt(_0x1564dc(0x14e))/0x1+parseInt(_0x1564dc(0x172))/0x2*(parseInt(_0x1564dc(0x189))/0x3)+parseInt(_0x1564dc(0x166))/0x4*(parseInt(_0x1564dc(0x1a1))/0x5)+-parseInt(_0x1564dc(0x15e))/0x6*(parseInt(_0x1564dc(0x199))/0x7)+-parseInt(_0x1564dc(0x18d))/0x8*(-parseInt(_0x1564dc(0x14d))/0x9)+parseInt(_0x1564dc(0x186))/0xa+-parseInt(_0x1564dc(0x187))/0xb;if(_0x348577===_0x1933b0)break;else _0x32f691['push'](_0x32f691['shift']());}catch(_0x46d9cf){_0x32f691['push'](_0x32f691['shift']());}}}(a178_0x1f9c,0x8c2e3));const a178_0x5d5d19=function(){let _0x544aa0=!![];return function(_0x3f371a,_0x17b02e){const _0x323a32=_0x544aa0?function(){const _0x53e948=a178_0x24b2;if(_0x17b02e){const _0x309aa1=_0x17b02e[_0x53e948(0x155)](_0x3f371a,arguments);return _0x17b02e=null,_0x309aa1;}}:function(){};return _0x544aa0=![],_0x323a32;};}(),a178_0x2d0476=a178_0x5d5d19(this,function(){const _0x28d40f=a178_0x24b2;return a178_0x2d0476[_0x28d40f(0x195)]()[_0x28d40f(0x171)]('(((.+)+)+)+$')['toString']()['constructor'](a178_0x2d0476)[_0x28d40f(0x171)]('(((.+)+)+)+$');});a178_0x2d0476();'use strict';var __decorate=this&&this[a178_0x182ba4(0x193)]||function(_0x4181ad,_0x483e7c,_0x54d8e7,_0x39c0ad){const _0xec7872=a178_0x182ba4;var _0x20bf2e=arguments[_0xec7872(0x1a0)],_0x8a38aa=_0x20bf2e<0x3?_0x483e7c:_0x39c0ad===null?_0x39c0ad=Object[_0xec7872(0x160)](_0x483e7c,_0x54d8e7):_0x39c0ad,_0x4270f2;if(typeof Reflect===_0xec7872(0x14f)&&typeof Reflect[_0xec7872(0x19e)]===_0xec7872(0x162))_0x8a38aa=Reflect['decorate'](_0x4181ad,_0x483e7c,_0x54d8e7,_0x39c0ad);else{for(var _0x56200d=_0x4181ad[_0xec7872(0x1a0)]-0x1;_0x56200d>=0x0;_0x56200d--)if(_0x4270f2=_0x4181ad[_0x56200d])_0x8a38aa=(_0x20bf2e<0x3?_0x4270f2(_0x8a38aa):_0x20bf2e>0x3?_0x4270f2(_0x483e7c,_0x54d8e7,_0x8a38aa):_0x4270f2(_0x483e7c,_0x54d8e7))||_0x8a38aa;}return _0x20bf2e>0x3&&_0x8a38aa&&Object[_0xec7872(0x16a)](_0x483e7c,_0x54d8e7,_0x8a38aa),_0x8a38aa;},__metadata=this&&this[a178_0x182ba4(0x164)]||function(_0x4c045a,_0x182189){const _0x4f2754=a178_0x182ba4;if(typeof Reflect===_0x4f2754(0x14f)&&typeof Reflect['metadata']===_0x4f2754(0x162))return Reflect[_0x4f2754(0x15f)](_0x4c045a,_0x182189);},FlosumSyncJob_1;function a178_0x24b2(_0x199f75,_0x3b2b33){const _0x3e5e30=a178_0x1f9c();return a178_0x24b2=function(_0x2d0476,_0x5d5d19){_0x2d0476=_0x2d0476-0x14d;let _0x1f9cfb=_0x3e5e30[_0x2d0476];return _0x1f9cfb;},a178_0x24b2(_0x199f75,_0x3b2b33);}Object[a178_0x182ba4(0x16a)](exports,a178_0x182ba4(0x178),{'value':!![]}),exports[a178_0x182ba4(0x15d)]=void 0x0;const core_1=require(a178_0x182ba4(0x191)),salesforce_logger_v2_service_1=require('../../salesforce/services/salesforce-logger-v2.service'),typedi_1=require('typedi'),constants_1=require('../../../constants'),salesforce_retriever_service_1=require(a178_0x182ba4(0x153)),salesforce_sync_service_1=require(a178_0x182ba4(0x163)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),commit_components_dto_1=require(a178_0x182ba4(0x190)),commit_components_job_1=require(a178_0x182ba4(0x154));let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0x16c5e0,_0x488bb8,_0x4f1e07){const _0x1b7514=a178_0x182ba4;this[_0x1b7514(0x176)]=_0x16c5e0,this[_0x1b7514(0x19d)]=_0x488bb8,this['commitJob']=_0x4f1e07,this['logger']=new core_1['Logger'](FlosumSyncJob_1[_0x1b7514(0x16b)]);}[a178_0x182ba4(0x156)](_0x344268){const _0x21596d=a178_0x182ba4;return this[_0x21596d(0x19b)][_0x21596d(0x156)](_0x21596d(0x179)+this[_0x21596d(0x18b)]['repositoryName']+_0x21596d(0x16d)+this['syncData']['branchName']+']\x20'+_0x344268);}async[a178_0x182ba4(0x165)](){const _0x5bcc61=a178_0x182ba4;let _0x4773a9=await this['repository'][_0x5bcc61(0x19f)][_0x5bcc61(0x17a)](this['syncData']['branchName'])[_0x5bcc61(0x19c)](()=>null);!_0x4773a9&&(_0x4773a9=await this[_0x5bcc61(0x19a)][_0x5bcc61(0x19f)][_0x5bcc61(0x152)]({'name':this[_0x5bcc61(0x18b)][_0x5bcc61(0x15c)]})),this[_0x5bcc61(0x173)]=_0x4773a9;}async[a178_0x182ba4(0x15b)](){const _0x49652e=a178_0x182ba4;return this[_0x49652e(0x18b)]['repositoryId']?this[_0x49652e(0x176)][_0x49652e(0x196)](this[_0x49652e(0x18b)][_0x49652e(0x16e)]):this[_0x49652e(0x176)]['getBranchComponents'](this[_0x49652e(0x18b)][_0x49652e(0x182)]);}async[a178_0x182ba4(0x157)](){const _0x10d2f5=a178_0x182ba4,_0x454760=await this['getComponentIds'](),_0x18cbe5=new salesforce_retriever_service_1[(_0x10d2f5(0x175))](this['salesforceService']),_0x16203c=await _0x18cbe5['run'](_0x454760);return _0x16203c;}async[a178_0x182ba4(0x159)](_0x3003eb){const _0x4cc758=a178_0x182ba4,_0x250c05=new commit_components_dto_1['CommitComponentsDto']();return _0x250c05['message']=_0x4cc758(0x185),_0x250c05[_0x4cc758(0x17d)]={'name':constants_1[_0x4cc758(0x161)],'email':constants_1[_0x4cc758(0x17f)]},_0x250c05[_0x4cc758(0x192)]={'writed':await this[_0x4cc758(0x157)]()},_0x250c05[_0x4cc758(0x197)]=_0x3003eb,_0x250c05[_0x4cc758(0x18c)]=this[_0x4cc758(0x19a)],_0x250c05[_0x4cc758(0x173)]=this[_0x4cc758(0x173)],_0x250c05[_0x4cc758(0x167)]=!![],_0x250c05[_0x4cc758(0x17b)]=this[_0x4cc758(0x17b)],_0x250c05;}async[a178_0x182ba4(0x184)](){const _0x46246b=a178_0x182ba4,_0x2dbd6c=await this[_0x46246b(0x176)]['getRemoteStateAttachmentId'](this[_0x46246b(0x18b)]),_0x147f65=await this[_0x46246b(0x19d)]['retrieveAttachment'](_0x2dbd6c)[_0x46246b(0x151)](_0x35255a=>typeof _0x35255a===_0x46246b(0x168)?JSON[_0x46246b(0x150)](_0x35255a):_0x35255a)['catch'](()=>({}));if(_0x147f65[this[_0x46246b(0x19a)]['gitUrl']]){if(_0x147f65[this['repository'][_0x46246b(0x18a)]]['lastCommit']===this[_0x46246b(0x173)][_0x46246b(0x170)])return!![];}return![];}async['updateLastCommit'](){const _0x2acd7a=a178_0x182ba4,_0x4755e7=await this[_0x2acd7a(0x19a)][_0x2acd7a(0x19f)][_0x2acd7a(0x17a)](this[_0x2acd7a(0x173)]['name']);await this[_0x2acd7a(0x156)](_0x2acd7a(0x18e));const _0x35d9ec={[this['repository'][_0x2acd7a(0x18a)]]:{'lastCommit':_0x4755e7[_0x2acd7a(0x170)]}};await this[_0x2acd7a(0x176)][_0x2acd7a(0x181)](this[_0x2acd7a(0x18b)],_0x35d9ec);}async['run']({syncRecord:_0x378774,repository:_0x374da9,logger:_0x66d32f,convertToSFDX:_0x511ac1,provider:_0x20553b}){const _0x196ee9=a178_0x182ba4;this[_0x196ee9(0x18b)]=_0x378774,this['provider']=_0x20553b,this[_0x196ee9(0x19a)]=_0x374da9,this[_0x196ee9(0x19b)]=new salesforce_logger_v2_service_1[(_0x196ee9(0x183))](_0x66d32f[_0x196ee9(0x188)](),_0x66d32f[_0x196ee9(0x16c)]()+_0x196ee9(0x169)+this[_0x196ee9(0x18b)]['repositoryName']+']\x20[Branch:\x20'+this[_0x196ee9(0x18b)][_0x196ee9(0x15c)]+']');try{await this[_0x196ee9(0x176)]['setStatus'](this[_0x196ee9(0x18b)],_0x196ee9(0x18f)),await this['log'](_0x196ee9(0x17e)),await this[_0x196ee9(0x165)]();const _0x17370e=await this[_0x196ee9(0x184)]();if(_0x17370e){await this[_0x196ee9(0x176)]['setStatus'](this[_0x196ee9(0x18b)],_0x196ee9(0x198)),await this[_0x196ee9(0x156)](_0x196ee9(0x158))[_0x196ee9(0x15a)]();return;}const _0x51b36d=await this[_0x196ee9(0x159)](_0x511ac1);await this[_0x196ee9(0x17c)]['run'](_0x51b36d,this[_0x196ee9(0x19b)]),await this['salesforceSync'][_0x196ee9(0x194)](this['syncData'],_0x196ee9(0x198)),await this['updateLastCommit'](),await this[_0x196ee9(0x156)](_0x196ee9(0x177));}catch(_0x2d3e9d){throw _0x2d3e9d;}finally{await this[_0x196ee9(0x19b)][_0x196ee9(0x15a)]();}}};FlosumSyncJob=FlosumSyncJob_1=__decorate([typedi_1[a178_0x182ba4(0x174)]({'transient':!![]}),__metadata(a178_0x182ba4(0x16f),[salesforce_sync_service_1[a178_0x182ba4(0x180)],salesforce_service_1[a178_0x182ba4(0x1a2)],commit_components_job_1['CommitComponentsJob']])],FlosumSyncJob),exports[a178_0x182ba4(0x15d)]=FlosumSyncJob;