const a144_0x329a=['flosum-sync-job','length','run','Logger','516888seDfcM','getRepositoryRecords','SalesforceService','prototype','call','log','default','defineProperty','../../salesforce/services/salesforce.service','object','logger','create','constructor','SalesforceSyncService','flosumSync','branchId','hasOwnProperty','__decorate','disableSync','__importStar','have\x20to\x20synchronize\x20%d\x20branches','return\x20/\x22\x20+\x20this\x20+\x20\x22/','setStatus','design:paramtypes','__esModule','syncID','get','__setModuleDefault','decorate','__metadata','syncing\x20%s[%s]\x20repository\x20%s[%s]\x20branch','getLogger','922573ozWJTw','Service','375084pToKGY','function','apply','429592aqWxGR','FlosumSyncJob','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','544351dLGcwo','salesforceService','1bxgRyD','../../../core','216863peRpIt','repositoryName','branchName','[INFO]\x20Sync\x20job\x20done.','120816abrzzH','metadata','send','../../salesforce/services/salesforce-sync.service'];const a144_0x129702=a144_0x5e5f;(function(_0x23165d,_0x25da13){const _0x4c4eec=a144_0x5e5f;while(!![]){try{const _0x373540=-parseInt(_0x4c4eec(0x1ad))+parseInt(_0x4c4eec(0x195))+-parseInt(_0x4c4eec(0x19d))*-parseInt(_0x4c4eec(0x19f))+parseInt(_0x4c4eec(0x1a1))+parseInt(_0x4c4eec(0x1a5))+-parseInt(_0x4c4eec(0x19a))+-parseInt(_0x4c4eec(0x197));if(_0x373540===_0x25da13)break;else _0x23165d['push'](_0x23165d['shift']());}catch(_0x4a9779){_0x23165d['push'](_0x23165d['shift']());}}}(a144_0x329a,0x75edf));const a144_0x360b5d=function(){let _0x5c10ef=!![];return function(_0x147e5a,_0xf75ab1){const _0x56b202=_0x5c10ef?function(){const _0x54cb33=a144_0x5e5f;if(_0xf75ab1){const _0x5e3daa=_0xf75ab1[_0x54cb33(0x199)](_0x147e5a,arguments);return _0xf75ab1=null,_0x5e3daa;}}:function(){};return _0x5c10ef=![],_0x56b202;};}(),a144_0x3c7b55=a144_0x360b5d(this,function(){const _0x12b535=function(){const _0x5d176f=a144_0x5e5f,_0x4c0bb2=_0x12b535[_0x5d176f(0x181)](_0x5d176f(0x18a))()[_0x5d176f(0x181)](_0x5d176f(0x19c));return!_0x4c0bb2['test'](a144_0x3c7b55);};return _0x12b535();});a144_0x3c7b55();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a144_0x129702(0x180)]?function(_0x2a53d1,_0x3db966,_0x270370,_0x4ab92f){const _0x32f656=a144_0x129702;if(_0x4ab92f===undefined)_0x4ab92f=_0x270370;Object[_0x32f656(0x1b4)](_0x2a53d1,_0x4ab92f,{'enumerable':!![],'get':function(){return _0x3db966[_0x270370];}});}:function(_0x2be998,_0x43228a,_0x38d6c6,_0x452d1c){if(_0x452d1c===undefined)_0x452d1c=_0x38d6c6;_0x2be998[_0x452d1c]=_0x43228a[_0x38d6c6];}),__setModuleDefault=this&&this[a144_0x129702(0x190)]||(Object['create']?function(_0x4268cd,_0x2f0a21){const _0x4855cf=a144_0x129702;Object[_0x4855cf(0x1b4)](_0x4268cd,'default',{'enumerable':!![],'value':_0x2f0a21});}:function(_0x5c6b98,_0x333b2c){const _0x4c9af2=a144_0x129702;_0x5c6b98[_0x4c9af2(0x1b3)]=_0x333b2c;}),__decorate=this&&this[a144_0x129702(0x186)]||function(_0x4c6048,_0x39cce5,_0x33eb9a,_0x48da4b){const _0x39d526=a144_0x129702;var _0x428e67=arguments['length'],_0x48682d=_0x428e67<0x3?_0x39cce5:_0x48da4b===null?_0x48da4b=Object['getOwnPropertyDescriptor'](_0x39cce5,_0x33eb9a):_0x48da4b,_0x4ebbda;if(typeof Reflect===_0x39d526(0x1b6)&&typeof Reflect[_0x39d526(0x191)]===_0x39d526(0x198))_0x48682d=Reflect[_0x39d526(0x191)](_0x4c6048,_0x39cce5,_0x33eb9a,_0x48da4b);else{for(var _0x1c179c=_0x4c6048[_0x39d526(0x1aa)]-0x1;_0x1c179c>=0x0;_0x1c179c--)if(_0x4ebbda=_0x4c6048[_0x1c179c])_0x48682d=(_0x428e67<0x3?_0x4ebbda(_0x48682d):_0x428e67>0x3?_0x4ebbda(_0x39cce5,_0x33eb9a,_0x48682d):_0x4ebbda(_0x39cce5,_0x33eb9a))||_0x48682d;}return _0x428e67>0x3&&_0x48682d&&Object[_0x39d526(0x1b4)](_0x39cce5,_0x33eb9a,_0x48682d),_0x48682d;},__importStar=this&&this[a144_0x129702(0x188)]||function(_0x22daf5){const _0x204435=a144_0x129702;if(_0x22daf5&&_0x22daf5[_0x204435(0x18d)])return _0x22daf5;var _0x1a612d={};if(_0x22daf5!=null){for(var _0x219765 in _0x22daf5)if(_0x219765!==_0x204435(0x1b3)&&Object[_0x204435(0x1b0)][_0x204435(0x185)][_0x204435(0x1b1)](_0x22daf5,_0x219765))__createBinding(_0x1a612d,_0x22daf5,_0x219765);}return __setModuleDefault(_0x1a612d,_0x22daf5),_0x1a612d;},__metadata=this&&this[a144_0x129702(0x192)]||function(_0x54d298,_0x2cb35e){const _0x3727ce=a144_0x129702;if(typeof Reflect==='object'&&typeof Reflect[_0x3727ce(0x1a6)]==='function')return Reflect[_0x3727ce(0x1a6)](_0x54d298,_0x2cb35e);};Object[a144_0x129702(0x1b4)](exports,'__esModule',{'value':!![]}),exports['FlosumSyncJob']=void 0x0;function a144_0x5e5f(_0x331ab5,_0x1e38d8){return a144_0x5e5f=function(_0x5ea8ca,_0x3c7b55){_0x5ea8ca=_0x5ea8ca-0x180;let _0x360b5d=a144_0x329a[_0x5ea8ca];return _0x360b5d;},a144_0x5e5f(_0x331ab5,_0x1e38d8);}const typedi_1=__importStar(require('typedi')),core_1=require(a144_0x129702(0x1a0)),salesforce_sync_service_1=require(a144_0x129702(0x1a8)),salesforce_service_1=require(a144_0x129702(0x1b5)),sync_job_1=require('./sync.job'),logger=new core_1[(a144_0x129702(0x1ac))](a144_0x129702(0x1a9));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x5c9046,_0x359a20){const _0xe7fd31=a144_0x129702;this[_0xe7fd31(0x19e)]=_0x5c9046,this['flosumSync']=_0x359a20;}async[a144_0x129702(0x1ab)](_0x120bc0,_0x45495a){const _0x119d73=a144_0x129702;this['salesforceService']['setLoggerId'](_0x45495a),this['logger']=this[_0x119d73(0x19e)][_0x119d73(0x194)]();let _0x522699=null;try{this[_0x119d73(0x1b7)][_0x119d73(0x1b2)]('[INFO]\x20Start\x20sync\x20job'),await this[_0x119d73(0x1b7)][_0x119d73(0x1a7)]();const [_0x2e854e,_0x2be808]=await Promise['all']([this[_0x119d73(0x183)]['getBranchRecords'](),this[_0x119d73(0x183)][_0x119d73(0x1ae)]()]),_0x45c71a=[..._0x2be808,..._0x2e854e];logger[_0x119d73(0x1b2)](_0x119d73(0x189),_0x45c71a[_0x119d73(0x1aa)]);for(const _0x5b15e7 of _0x45c71a){_0x522699=_0x5b15e7;const _0x9351c9=typedi_1[_0x119d73(0x1b3)][_0x119d73(0x18f)](sync_job_1['SyncJob']);logger[_0x119d73(0x1b2)](_0x119d73(0x193),_0x5b15e7[_0x119d73(0x1a2)],_0x5b15e7['repositoryId'],_0x5b15e7[_0x119d73(0x1a3)],_0x5b15e7[_0x119d73(0x184)]),await _0x9351c9[_0x119d73(0x1ab)](_0x5b15e7,_0x45495a,_0x120bc0['convertToSFDX']);}}catch(_0x38be28){this[_0x119d73(0x1b7)][_0x119d73(0x1b2)]('[ERROR]\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20'+_0x38be28),await this[_0x119d73(0x1b7)][_0x119d73(0x1a7)]();_0x522699&&await this[_0x119d73(0x183)][_0x119d73(0x18b)](_0x522699,'Error');return;}this[_0x119d73(0x1b7)][_0x119d73(0x1b2)](_0x119d73(0x1a4)),await this[_0x119d73(0x1b7)][_0x119d73(0x1a7)](),await this[_0x119d73(0x183)][_0x119d73(0x187)](_0x120bc0[_0x119d73(0x18e)]);}};FlosumSyncJob=__decorate([typedi_1[a144_0x129702(0x196)]({'transient':!![]}),__metadata(a144_0x129702(0x18c),[salesforce_service_1[a144_0x129702(0x1af)],salesforce_sync_service_1[a144_0x129702(0x182)]])],FlosumSyncJob),exports[a144_0x129702(0x19b)]=FlosumSyncJob;