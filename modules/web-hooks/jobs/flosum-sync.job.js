function a148_0x5671(_0x1429bd,_0x521a61){const _0x90a0ec=a148_0x4bfd();return a148_0x5671=function(_0x3c5b3b,_0x504250){_0x3c5b3b=_0x3c5b3b-0x15a;let _0x4bfdc9=_0x90a0ec[_0x3c5b3b];return _0x4bfdc9;},a148_0x5671(_0x1429bd,_0x521a61);}const a148_0x3325e4=a148_0x5671;(function(_0x5d5c4,_0x4a8884){const _0x528384=a148_0x5671,_0x2e0957=_0x5d5c4();while(!![]){try{const _0x11df9c=-parseInt(_0x528384(0x168))/0x1*(parseInt(_0x528384(0x17f))/0x2)+-parseInt(_0x528384(0x1b3))/0x3+-parseInt(_0x528384(0x160))/0x4*(-parseInt(_0x528384(0x1a2))/0x5)+-parseInt(_0x528384(0x17e))/0x6+parseInt(_0x528384(0x1a9))/0x7*(parseInt(_0x528384(0x190))/0x8)+-parseInt(_0x528384(0x16b))/0x9+parseInt(_0x528384(0x165))/0xa*(parseInt(_0x528384(0x19f))/0xb);if(_0x11df9c===_0x4a8884)break;else _0x2e0957['push'](_0x2e0957['shift']());}catch(_0x17bb5b){_0x2e0957['push'](_0x2e0957['shift']());}}}(a148_0x4bfd,0x384d5));const a148_0x504250=function(){let _0x4d9e75=!![];return function(_0x92b19b,_0x18b291){const _0x4217e2=_0x4d9e75?function(){const _0x48e8c7=a148_0x5671;if(_0x18b291){const _0x294cfe=_0x18b291[_0x48e8c7(0x179)](_0x92b19b,arguments);return _0x18b291=null,_0x294cfe;}}:function(){};return _0x4d9e75=![],_0x4217e2;};}(),a148_0x3c5b3b=a148_0x504250(this,function(){const _0x346df3=a148_0x5671;return a148_0x3c5b3b[_0x346df3(0x1a8)]()[_0x346df3(0x174)](_0x346df3(0x18f))[_0x346df3(0x1a8)]()[_0x346df3(0x19a)](a148_0x3c5b3b)[_0x346df3(0x174)](_0x346df3(0x18f));});function a148_0x4bfd(){const _0x1a1464=['Unable\x20to\x20synchronize\x20repository\x20\x27','../../shared/utils','[INFO]\x20Sync\x20job\x20done.','sleep','checkValidNaming','\x27\x20in\x20repository\x20\x27','search','__esModule','../../../core/errors/too-many-requests.error','../../salesforce/services/salesforce.service','syncing\x20%s[%s]\x20repository\x20%s[%s]\x20branch','apply','syncID','test','[INFO]\x20Start\x20sync\x20job','getRepoService','973374qwhTZt','65034vxunwR','[ERROR]\x20Could\x20not\x20find/create\x20repository.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Possible\x20error\x20reasons:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20Git\x20service\x20is\x20unavailable\x20for\x20the\x20moment.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20Repository\x20with\x20this\x20name\x20already\x20created\x20in\x20git,\x20but\x20with\x20another\x20lettercase\x20(repository\x20names\x20are\x20case-sensitive\x20and\x20should\x20be\x20identical).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20The\x20agent\x20could\x20not\x20recieve\x20all\x20repositories\x20from\x20git\x20service\x20due\x20permissions\x20that\x20you\x20provided.\x20(See\x20guide\x20how\x20to\x20setup\x20environment\x20variables\x20for\x20this\x20service).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Original\x20error:\x20','find','getBranchRecords','SalesforceSyncService','push','isIntersects','\x27\x20[','error','salesforceSync','salesforceService','\x27\x20due\x20repository\x20name\x20does\x20not\x20meet\x20the\x20naming\x20requirements.','branchId','../../../constants','TooManyRequests','getRepositoryRecords','(((.+)+)+)+$','961728FxqYUx','repositoryName','\x27\x20due\x20it\x20intersects\x20with\x20another\x20repository\x20by\x20repository\x20key\x20\x27','send','\x27\x20-\x20\x27','length','default','get','getOwnPropertyDescriptor','GitProviderManager','constructor','metadata','design:paramtypes','defineProperty','updateRemoteState','3274249wSTSYH','typedi','repoList','2155355WnYqEa','__createBinding','Waiting','logger','__decorate','name','toString','21agzMvl','repositoriesIntersections','run','create','../../../core','Unable\x20to\x20synchronize\x20branch\x20\x27','toLowerCase','object','flosum-sync-job','__setModuleDefault','1331433nmbXxa','REPOSITORY_NAME_REGEXP','SalesforceError','__importStar','__metadata','getOrCreateRepo','catch','gitManager','branchName','prototype','Error','handleRecordSyncError','setStatus','all','../../salesforce/services/salesforce-sync.service','getLogger','setLoggerId','log','[ERROR]\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20','4RXeywE','decorate','[PAUSE]\x20Pause\x20sync\x20job\x20due\x20error\x20-\x20Rate\x20limit\x20quota\x20for\x20git\x20service\x20exceeded.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Paused\x20for\x201h\x20to\x20refill\x20limit\x20quota\x20continue.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20This\x20kind\x20of\x20error\x20is\x20not\x20critical\x20just\x20need\x20to\x20wait\x20until\x20we\x20can\x20continue\x20work\x20with\x20git\x20service.','repoService','BRANCH_NAME_REGEXP','10AnJBBN','function','FlosumSyncJob','3DTQQTn','SalesforceService','../../salesforce/errors/salesforce.error','1396566QaVNXX','Logger','hasOwnProperty'];a148_0x4bfd=function(){return _0x1a1464;};return a148_0x4bfd();}a148_0x3c5b3b();'use strict';var __createBinding=this&&this[a148_0x3325e4(0x1a3)]||(Object['create']?function(_0x27e9b7,_0x467e85,_0x100019,_0x379abd){const _0x4d2285=a148_0x3325e4;if(_0x379abd===undefined)_0x379abd=_0x100019;Object[_0x4d2285(0x19d)](_0x27e9b7,_0x379abd,{'enumerable':!![],'get':function(){return _0x467e85[_0x100019];}});}:function(_0x5b2386,_0x347c62,_0x16d0ac,_0x2912f8){if(_0x2912f8===undefined)_0x2912f8=_0x16d0ac;_0x5b2386[_0x2912f8]=_0x347c62[_0x16d0ac];}),__setModuleDefault=this&&this[a148_0x3325e4(0x1b2)]||(Object[a148_0x3325e4(0x1ac)]?function(_0x23b912,_0x48a933){const _0x110986=a148_0x3325e4;Object[_0x110986(0x19d)](_0x23b912,_0x110986(0x196),{'enumerable':!![],'value':_0x48a933});}:function(_0xb3fa5e,_0x5785ee){const _0x1c17a8=a148_0x3325e4;_0xb3fa5e[_0x1c17a8(0x196)]=_0x5785ee;}),__decorate=this&&this[a148_0x3325e4(0x1a6)]||function(_0x420e00,_0x48f444,_0x1ebd1e,_0xbb542e){const _0x57a5ee=a148_0x3325e4;var _0x5860c2=arguments[_0x57a5ee(0x195)],_0x54c8f8=_0x5860c2<0x3?_0x48f444:_0xbb542e===null?_0xbb542e=Object[_0x57a5ee(0x198)](_0x48f444,_0x1ebd1e):_0xbb542e,_0x51619d;if(typeof Reflect===_0x57a5ee(0x1b0)&&typeof Reflect[_0x57a5ee(0x161)]===_0x57a5ee(0x166))_0x54c8f8=Reflect[_0x57a5ee(0x161)](_0x420e00,_0x48f444,_0x1ebd1e,_0xbb542e);else{for(var _0x2e5625=_0x420e00['length']-0x1;_0x2e5625>=0x0;_0x2e5625--)if(_0x51619d=_0x420e00[_0x2e5625])_0x54c8f8=(_0x5860c2<0x3?_0x51619d(_0x54c8f8):_0x5860c2>0x3?_0x51619d(_0x48f444,_0x1ebd1e,_0x54c8f8):_0x51619d(_0x48f444,_0x1ebd1e))||_0x54c8f8;}return _0x5860c2>0x3&&_0x54c8f8&&Object[_0x57a5ee(0x19d)](_0x48f444,_0x1ebd1e,_0x54c8f8),_0x54c8f8;},__importStar=this&&this[a148_0x3325e4(0x1b6)]||function(_0x1e8edc){const _0x2a8fb2=a148_0x3325e4;if(_0x1e8edc&&_0x1e8edc[_0x2a8fb2(0x175)])return _0x1e8edc;var _0x25436b={};if(_0x1e8edc!=null){for(var _0x9268e3 in _0x1e8edc)if(_0x9268e3!==_0x2a8fb2(0x196)&&Object[_0x2a8fb2(0x1bc)][_0x2a8fb2(0x16d)]['call'](_0x1e8edc,_0x9268e3))__createBinding(_0x25436b,_0x1e8edc,_0x9268e3);}return __setModuleDefault(_0x25436b,_0x1e8edc),_0x25436b;},__metadata=this&&this[a148_0x3325e4(0x1b7)]||function(_0x59b240,_0x2149ee){const _0x4e7f04=a148_0x3325e4;if(typeof Reflect===_0x4e7f04(0x1b0)&&typeof Reflect[_0x4e7f04(0x19b)]===_0x4e7f04(0x166))return Reflect['metadata'](_0x59b240,_0x2149ee);},FlosumSyncJob_1;Object[a148_0x3325e4(0x19d)](exports,'__esModule',{'value':!![]}),exports['FlosumSyncJob']=void 0x0;const constants_1=require(a148_0x3325e4(0x18c)),typedi_1=__importStar(require(a148_0x3325e4(0x1a0))),core_1=require(a148_0x3325e4(0x1ad)),too_many_requests_error_1=require(a148_0x3325e4(0x176)),salesforce_error_1=require(a148_0x3325e4(0x16a)),salesforce_sync_service_1=require(a148_0x3325e4(0x15b)),salesforce_service_1=require(a148_0x3325e4(0x177)),git_provider_manager_1=require('../../shared/git-provider.manager'),utils_1=require(a148_0x3325e4(0x16f)),sync_job_1=require('./sync.job'),logger=new core_1[(a148_0x3325e4(0x16c))](a148_0x3325e4(0x1b1));let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0x48ffa6,_0x3c107a,_0xb74898){const _0x561786=a148_0x3325e4;this['salesforceService']=_0x48ffa6,this[_0x561786(0x188)]=_0x3c107a,this['gitManager']=_0xb74898,this['repoService']=this[_0x561786(0x1ba)][_0x561786(0x17d)](),this[_0x561786(0x1aa)]={},this[_0x561786(0x1a1)]=[];}async[a148_0x3325e4(0x1be)](_0x579a55,_0x1e969a){const _0x5be5f8=a148_0x3325e4;if(_0x1e969a instanceof too_many_requests_error_1[_0x5be5f8(0x18d)]){await this['salesforceSync'][_0x5be5f8(0x1bf)](_0x579a55,_0x5be5f8(0x1a4));throw _0x1e969a;}try{this[_0x5be5f8(0x1a5)][_0x5be5f8(0x15e)]('[ERROR]\x20Stop\x20sync\x20job\x20for\x20\x27'+_0x579a55[_0x5be5f8(0x191)]+_0x5be5f8(0x186)+_0x579a55['branchName']+']\x20due\x20error\x20-\x20'+_0x1e969a),await this[_0x5be5f8(0x1a5)]['send'](),await this[_0x5be5f8(0x188)][_0x5be5f8(0x19e)](_0x579a55,{}),await this[_0x5be5f8(0x188)][_0x5be5f8(0x1bf)](_0x579a55,_0x5be5f8(0x1bd));}catch(_0x582685){if(_0x582685 instanceof salesforce_error_1[_0x5be5f8(0x1b5)])throw _0x582685;}}async['isIntersects'](_0x1afccc){const _0x3a4353=a148_0x3325e4;if(_0x1afccc['repositoryId']){const _0x21c370=_0x1afccc[_0x3a4353(0x191)][_0x3a4353(0x1af)](),_0x428769=this[_0x3a4353(0x1aa)][_0x21c370];if(!_0x428769)this[_0x3a4353(0x1aa)][_0x21c370]=_0x1afccc[_0x3a4353(0x191)];else{if(_0x428769&&_0x428769!==_0x1afccc[_0x3a4353(0x191)])return await this[_0x3a4353(0x1be)](_0x1afccc,new Error(_0x3a4353(0x16e)+_0x1afccc[_0x3a4353(0x191)]+_0x3a4353(0x192)+_0x21c370+_0x3a4353(0x194)+_0x428769+'\x27')),!![];}}return![];}async[a148_0x3325e4(0x172)](_0x157f6d){const _0xa3e3c6=a148_0x3325e4;if(!constants_1[_0xa3e3c6(0x1b4)][_0xa3e3c6(0x17b)](_0x157f6d[_0xa3e3c6(0x191)]))return await this[_0xa3e3c6(0x1be)](_0x157f6d,new Error(_0xa3e3c6(0x16e)+_0x157f6d[_0xa3e3c6(0x191)]+_0xa3e3c6(0x18a))),![];if(!constants_1[_0xa3e3c6(0x164)][_0xa3e3c6(0x17b)](_0x157f6d[_0xa3e3c6(0x1bb)]))return await this[_0xa3e3c6(0x1be)](_0x157f6d,new Error(_0xa3e3c6(0x1ae)+_0x157f6d[_0xa3e3c6(0x1bb)]+_0xa3e3c6(0x173)+_0x157f6d[_0xa3e3c6(0x191)]+'\x27\x20due\x20branch\x20name\x20does\x20not\x20meet\x20the\x20naming\x20requirements.')),![];return!![];}async[a148_0x3325e4(0x1b8)](_0x492a58){const _0x4a8246=a148_0x3325e4,_0x46bc0b=this[_0x4a8246(0x1a1)][_0x4a8246(0x181)](_0x52c1a1=>_0x492a58[_0x4a8246(0x191)]===_0x52c1a1[_0x4a8246(0x1a7)]);if(_0x46bc0b)return _0x46bc0b;const _0x1f13c8=await this[_0x4a8246(0x163)][_0x4a8246(0x1ac)]({'name':_0x492a58['repositoryName'],'autoInit':!![],'defaultBranch':_0x492a58[_0x4a8246(0x1bb)],'private':!![]});return this[_0x4a8246(0x1a1)][_0x4a8246(0x184)](_0x1f13c8),_0x1f13c8;}async[a148_0x3325e4(0x1ab)](_0x170c33,_0x53378c){const _0xbde38e=a148_0x3325e4;this['salesforceService'][_0xbde38e(0x15d)](_0x53378c),this[_0xbde38e(0x1a5)]=this[_0xbde38e(0x189)][_0xbde38e(0x15c)]();try{this[_0xbde38e(0x1a5)][_0xbde38e(0x15e)](_0xbde38e(0x17c)),await this[_0xbde38e(0x1a5)][_0xbde38e(0x193)]();const [_0x28e4d6,_0x5f261c]=await Promise[_0xbde38e(0x15a)]([this[_0xbde38e(0x188)][_0xbde38e(0x182)](),this['salesforceSync'][_0xbde38e(0x18e)]()]);this['repoList']=await this['repoService']['getAll']();const _0x5b1998=[..._0x5f261c,..._0x28e4d6];logger['log']('have\x20to\x20synchronize\x20%d\x20branches',_0x5b1998[_0xbde38e(0x195)]);for(const _0x45eac5 of _0x5b1998){const _0x11abb6=typedi_1[_0xbde38e(0x196)][_0xbde38e(0x197)](sync_job_1['SyncJob']);logger[_0xbde38e(0x15e)](_0xbde38e(0x178),_0x45eac5[_0xbde38e(0x191)],_0x45eac5['repositoryId'],_0x45eac5['branchName'],_0x45eac5[_0xbde38e(0x18b)]);const _0x44ab68=await this[_0xbde38e(0x172)](_0x45eac5);if(!_0x44ab68)continue;const _0x22ffc9=await this[_0xbde38e(0x185)](_0x45eac5);if(_0x22ffc9)continue;let _0x21a7f8;try{_0x21a7f8=await this[_0xbde38e(0x1b8)](_0x45eac5);}catch(_0x5a2a1f){await this[_0xbde38e(0x1be)](_0x45eac5,_0x5a2a1f instanceof too_many_requests_error_1[_0xbde38e(0x18d)]?_0x5a2a1f:new Error(_0xbde38e(0x180)+_0x5a2a1f));continue;}await _0x11abb6[_0xbde38e(0x1ab)]({'repository':_0x21a7f8,'convertToSFDX':_0x170c33['convertToSFDX'],'loggerId':_0x53378c,'syncRecord':_0x45eac5})[_0xbde38e(0x1b9)](_0x38454f=>this[_0xbde38e(0x1be)](_0x45eac5,_0x38454f));}}catch(_0xa52d75){logger[_0xbde38e(0x187)](_0xa52d75);if(_0xa52d75 instanceof too_many_requests_error_1[_0xbde38e(0x18d)]){this[_0xbde38e(0x1a5)][_0xbde38e(0x15e)](_0xbde38e(0x162)),await this[_0xbde38e(0x1a5)]['send']()[_0xbde38e(0x1b9)](()=>void 0x0),await(0x0,utils_1[_0xbde38e(0x171)])(0x3c*0x3c*0x3e8);const _0x4f0e7a=typedi_1[_0xbde38e(0x196)][_0xbde38e(0x197)](FlosumSyncJob_1);_0x4f0e7a[_0xbde38e(0x1ab)](_0x170c33,_0x53378c);}else this['logger']['log'](_0xbde38e(0x15f)+_0xa52d75),await this['logger'][_0xbde38e(0x193)]()[_0xbde38e(0x1b9)](()=>void 0x0);return;}this[_0xbde38e(0x1a5)][_0xbde38e(0x15e)](_0xbde38e(0x170)),await this['logger'][_0xbde38e(0x193)](),await this['salesforceSync']['disableSync'](_0x170c33[_0xbde38e(0x17a)])[_0xbde38e(0x1b9)](()=>null);}};FlosumSyncJob=FlosumSyncJob_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a148_0x3325e4(0x19c),[salesforce_service_1[a148_0x3325e4(0x169)],salesforce_sync_service_1[a148_0x3325e4(0x183)],git_provider_manager_1[a148_0x3325e4(0x199)]])],FlosumSyncJob),exports[a148_0x3325e4(0x167)]=FlosumSyncJob;