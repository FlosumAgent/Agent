function a147_0xcf21(){const _0x5e738f=['../../../core','SalesforceService','setLoggerId','getAll','[ERROR]\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20','typedi','3SWtVkG','setStatus','Logger','send','__setModuleDefault','49RqQOWa','call','design:paramtypes','disableSync','Unable\x20to\x20synchronize\x20branch\x20\x27','catch','TooManyRequests','3409468QAQXOq','BRANCH_NAME_REGEXP','checkValidNaming','salesforceService','handleRecordSyncError','length','18CPctba','apply','1107608nplWfR','../../../core/errors/too-many-requests.error',']\x20due\x20error\x20-\x20','Waiting','function','\x27\x20due\x20repository\x20name\x20does\x20not\x20meet\x20the\x20naming\x20requirements.','REPOSITORY_NAME_REGEXP','FlosumSyncJob','9831624ppeqMb','1345980yIjiYu','18GGULNp','repositoryName','hasOwnProperty','convertToSFDX','find','\x27\x20[','updateRemoteState','101330BfiSUA','\x27\x20due\x20branch\x20name\x20does\x20not\x20meet\x20the\x20naming\x20requirements.','./sync.job','default','search','../../salesforce/services/salesforce.service','../../salesforce/errors/salesforce.error','logger','test','get','Service','error','../../shared/git-provider.manager','have\x20to\x20synchronize\x20%d\x20branches','constructor','object','log','[INFO]\x20Start\x20sync\x20job','create','defineProperty','3890538TWHogz','name','../../shared/utils','decorate','toString','SyncJob','isIntersects','run','8627443dZrhhm','__importStar','repositoriesIntersections','[ERROR]\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20Rate\x20limit\x20quota\x20for\x20git\x20service\x20exceeded.\x20Wait\x20for\x201h\x20to\x20continue;','repositoryId','salesforceSync','[ERROR]\x20Stop\x20sync\x20job\x20for\x20\x27','getRepoService','Unable\x20to\x20synchronize\x20repository\x20\x27','(((.+)+)+)+$','sleep','metadata','SalesforceSyncService','getBranchRecords','branchName','flosum-sync-job','repoService','__esModule','5nLOkzN','branchId','getRepositoryRecords','getOwnPropertyDescriptor','\x27\x20due\x20it\x20intersects\x20with\x20another\x20repository\x20by\x20repository\x20key\x20\x27','gitManager','../../../constants'];a147_0xcf21=function(){return _0x5e738f;};return a147_0xcf21();}const a147_0x277890=a147_0x1e8b;(function(_0x33803f,_0x49ffbc){const _0x5ed44f=a147_0x1e8b,_0x3fbbd3=_0x33803f();while(!![]){try{const _0x4d33eb=parseInt(_0x5ed44f(0x145))/0x1*(-parseInt(_0x5ed44f(0x132))/0x2)+parseInt(_0x5ed44f(0x120))/0x3*(parseInt(_0x5ed44f(0x12c))/0x4)+-parseInt(_0x5ed44f(0x113))/0x5*(parseInt(_0x5ed44f(0xf9))/0x6)+parseInt(_0x5ed44f(0x125))/0x7*(parseInt(_0x5ed44f(0x134))/0x8)+-parseInt(_0x5ed44f(0x13e))/0x9*(-parseInt(_0x5ed44f(0x13d))/0xa)+parseInt(_0x5ed44f(0x101))/0xb+-parseInt(_0x5ed44f(0x13c))/0xc;if(_0x4d33eb===_0x49ffbc)break;else _0x3fbbd3['push'](_0x3fbbd3['shift']());}catch(_0x3baf0f){_0x3fbbd3['push'](_0x3fbbd3['shift']());}}}(a147_0xcf21,0x78eea));const a147_0x38c6ef=function(){let _0x37fec6=!![];return function(_0x58f5a0,_0x1b067b){const _0x5d2803=_0x37fec6?function(){const _0x4c6dfa=a147_0x1e8b;if(_0x1b067b){const _0x2ff5c5=_0x1b067b[_0x4c6dfa(0x133)](_0x58f5a0,arguments);return _0x1b067b=null,_0x2ff5c5;}}:function(){};return _0x37fec6=![],_0x5d2803;};}(),a147_0x2410ba=a147_0x38c6ef(this,function(){const _0x114fcc=a147_0x1e8b;return a147_0x2410ba[_0x114fcc(0xfd)]()[_0x114fcc(0x149)]('(((.+)+)+)+$')[_0x114fcc(0xfd)]()[_0x114fcc(0x153)](a147_0x2410ba)[_0x114fcc(0x149)](_0x114fcc(0x10a));});a147_0x2410ba();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a147_0x277890(0xf7)]?function(_0xefd81e,_0x5e12d7,_0x206789,_0x105e07){const _0x2580c3=a147_0x277890;if(_0x105e07===undefined)_0x105e07=_0x206789;Object[_0x2580c3(0xf8)](_0xefd81e,_0x105e07,{'enumerable':!![],'get':function(){return _0x5e12d7[_0x206789];}});}:function(_0x44903b,_0x3f5a4d,_0xf44180,_0x246b55){if(_0x246b55===undefined)_0x246b55=_0xf44180;_0x44903b[_0x246b55]=_0x3f5a4d[_0xf44180];}),__setModuleDefault=this&&this[a147_0x277890(0x124)]||(Object['create']?function(_0x22b4a2,_0x57c1e9){const _0x1e9b03=a147_0x277890;Object[_0x1e9b03(0xf8)](_0x22b4a2,_0x1e9b03(0x148),{'enumerable':!![],'value':_0x57c1e9});}:function(_0x4b4201,_0xa82ad9){_0x4b4201['default']=_0xa82ad9;}),__decorate=this&&this['__decorate']||function(_0x5157c1,_0x1e9bda,_0x3835e4,_0x470ad1){const _0x21011d=a147_0x277890;var _0x1ec475=arguments[_0x21011d(0x131)],_0x4a7cab=_0x1ec475<0x3?_0x1e9bda:_0x470ad1===null?_0x470ad1=Object[_0x21011d(0x116)](_0x1e9bda,_0x3835e4):_0x470ad1,_0x51dd23;if(typeof Reflect===_0x21011d(0x154)&&typeof Reflect['decorate']===_0x21011d(0x138))_0x4a7cab=Reflect[_0x21011d(0xfc)](_0x5157c1,_0x1e9bda,_0x3835e4,_0x470ad1);else{for(var _0x149d26=_0x5157c1[_0x21011d(0x131)]-0x1;_0x149d26>=0x0;_0x149d26--)if(_0x51dd23=_0x5157c1[_0x149d26])_0x4a7cab=(_0x1ec475<0x3?_0x51dd23(_0x4a7cab):_0x1ec475>0x3?_0x51dd23(_0x1e9bda,_0x3835e4,_0x4a7cab):_0x51dd23(_0x1e9bda,_0x3835e4))||_0x4a7cab;}return _0x1ec475>0x3&&_0x4a7cab&&Object['defineProperty'](_0x1e9bda,_0x3835e4,_0x4a7cab),_0x4a7cab;},__importStar=this&&this[a147_0x277890(0x102)]||function(_0x4dca75){const _0x2b1383=a147_0x277890;if(_0x4dca75&&_0x4dca75[_0x2b1383(0x112)])return _0x4dca75;var _0x2e7736={};if(_0x4dca75!=null){for(var _0x1c50d2 in _0x4dca75)if(_0x1c50d2!==_0x2b1383(0x148)&&Object['prototype'][_0x2b1383(0x140)][_0x2b1383(0x126)](_0x4dca75,_0x1c50d2))__createBinding(_0x2e7736,_0x4dca75,_0x1c50d2);}return __setModuleDefault(_0x2e7736,_0x4dca75),_0x2e7736;},__metadata=this&&this['__metadata']||function(_0x208ac3,_0x58965e){const _0x2572c5=a147_0x277890;if(typeof Reflect===_0x2572c5(0x154)&&typeof Reflect[_0x2572c5(0x10c)]===_0x2572c5(0x138))return Reflect[_0x2572c5(0x10c)](_0x208ac3,_0x58965e);},FlosumSyncJob_1;Object[a147_0x277890(0xf8)](exports,a147_0x277890(0x112),{'value':!![]}),exports[a147_0x277890(0x13b)]=void 0x0;const constants_1=require(a147_0x277890(0x119)),typedi_1=__importStar(require(a147_0x277890(0x11f))),core_1=require(a147_0x277890(0x11a)),too_many_requests_error_1=require(a147_0x277890(0x135)),salesforce_error_1=require(a147_0x277890(0x14b)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a147_0x277890(0x14a)),git_provider_manager_1=require(a147_0x277890(0x151)),utils_1=require(a147_0x277890(0xfb)),sync_job_1=require(a147_0x277890(0x147)),logger=new core_1[(a147_0x277890(0x122))](a147_0x277890(0x110));let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0x2dc472,_0x5cb120,_0x375a8d){const _0x481b99=a147_0x277890;this[_0x481b99(0x12f)]=_0x2dc472,this[_0x481b99(0x106)]=_0x5cb120,this[_0x481b99(0x118)]=_0x375a8d,this[_0x481b99(0x111)]=this[_0x481b99(0x118)][_0x481b99(0x108)](),this[_0x481b99(0x103)]={};}async[a147_0x277890(0x130)](_0x14b7d,_0x166b3c){const _0x227a81=a147_0x277890;if(_0x166b3c instanceof too_many_requests_error_1[_0x227a81(0x12b)]){await this[_0x227a81(0x106)][_0x227a81(0x121)](_0x14b7d,_0x227a81(0x137));throw _0x166b3c;}try{this['logger'][_0x227a81(0x155)](_0x227a81(0x107)+_0x14b7d[_0x227a81(0x13f)]+_0x227a81(0x143)+_0x14b7d[_0x227a81(0x10f)]+_0x227a81(0x136)+_0x166b3c),await this[_0x227a81(0x14c)]['send'](),await this[_0x227a81(0x106)][_0x227a81(0x144)](_0x14b7d,{}),await this[_0x227a81(0x106)]['setStatus'](_0x14b7d,'Error');}catch(_0x20a3b8){if(_0x20a3b8 instanceof salesforce_error_1['SalesforceError'])throw _0x20a3b8;}}async[a147_0x277890(0xff)](_0x19678a){const _0x1d3d41=a147_0x277890;if(_0x19678a[_0x1d3d41(0x105)]){const _0x3f9119=_0x19678a[_0x1d3d41(0x13f)]['toLowerCase'](),_0x2f2270=this[_0x1d3d41(0x103)][_0x3f9119];if(!_0x2f2270)this[_0x1d3d41(0x103)][_0x3f9119]=_0x19678a[_0x1d3d41(0x13f)];else{if(_0x2f2270&&_0x2f2270!==_0x19678a[_0x1d3d41(0x13f)])return await this[_0x1d3d41(0x130)](_0x19678a,new Error(_0x1d3d41(0x109)+_0x19678a[_0x1d3d41(0x13f)]+_0x1d3d41(0x117)+_0x3f9119+'\x27\x20-\x20\x27'+_0x2f2270+'\x27')),!![];}}return![];}async[a147_0x277890(0x12e)](_0x225fe5){const _0x350a99=a147_0x277890;if(!constants_1[_0x350a99(0x13a)][_0x350a99(0x14d)](_0x225fe5[_0x350a99(0x13f)]))return await this[_0x350a99(0x130)](_0x225fe5,new Error(_0x350a99(0x109)+_0x225fe5['repositoryName']+_0x350a99(0x139))),![];if(!constants_1[_0x350a99(0x12d)][_0x350a99(0x14d)](_0x225fe5[_0x350a99(0x10f)]))return await this['handleRecordSyncError'](_0x225fe5,new Error(_0x350a99(0x129)+_0x225fe5[_0x350a99(0x10f)]+'\x27\x20in\x20repository\x20\x27'+_0x225fe5[_0x350a99(0x13f)]+_0x350a99(0x146))),![];return!![];}async[a147_0x277890(0x100)](_0x5d854a,_0x2ec40d){const _0x2cf16e=a147_0x277890;this['salesforceService'][_0x2cf16e(0x11c)](_0x2ec40d),this[_0x2cf16e(0x14c)]=this[_0x2cf16e(0x12f)]['getLogger']();try{this['logger'][_0x2cf16e(0x155)](_0x2cf16e(0x156)),await this['logger'][_0x2cf16e(0x123)]();const [_0x3d43bd,_0x5371e4]=await Promise['all']([this[_0x2cf16e(0x106)][_0x2cf16e(0x10e)](),this[_0x2cf16e(0x106)][_0x2cf16e(0x115)]()]),_0x497653=await this[_0x2cf16e(0x111)][_0x2cf16e(0x11d)](),_0x36c59f=[..._0x5371e4,..._0x3d43bd];logger['log'](_0x2cf16e(0x152),_0x36c59f[_0x2cf16e(0x131)]);for(const _0x2f1a28 of _0x36c59f){const _0x2f43eb=typedi_1[_0x2cf16e(0x148)][_0x2cf16e(0x14e)](sync_job_1[_0x2cf16e(0xfe)]);logger[_0x2cf16e(0x155)]('syncing\x20%s[%s]\x20repository\x20%s[%s]\x20branch',_0x2f1a28[_0x2cf16e(0x13f)],_0x2f1a28['repositoryId'],_0x2f1a28['branchName'],_0x2f1a28[_0x2cf16e(0x114)]);const _0x1ddc77=await this[_0x2cf16e(0x12e)](_0x2f1a28);if(!_0x1ddc77)continue;const _0x5cf9db=await this[_0x2cf16e(0xff)](_0x2f1a28);if(_0x5cf9db)continue;const _0x2baa2a=_0x497653[_0x2cf16e(0x142)](_0x1c7f79=>_0x1c7f79[_0x2cf16e(0xfa)]===_0x2f1a28[_0x2cf16e(0x13f)]);await _0x2f43eb['run']({'repository':_0x2baa2a,'convertToSFDX':_0x5d854a[_0x2cf16e(0x141)],'loggerId':_0x2ec40d,'syncRecord':_0x2f1a28})['catch'](_0x53775e=>this['handleRecordSyncError'](_0x2f1a28,_0x53775e));}}catch(_0x1adc43){logger[_0x2cf16e(0x150)](_0x1adc43);if(_0x1adc43 instanceof too_many_requests_error_1[_0x2cf16e(0x12b)]){this[_0x2cf16e(0x14c)]['log'](_0x2cf16e(0x104)),await this[_0x2cf16e(0x14c)][_0x2cf16e(0x123)]()[_0x2cf16e(0x12a)](()=>void 0x0),await(0x0,utils_1[_0x2cf16e(0x10b)])(0x3c*0x3c*0x3e8);const _0x23e2eb=typedi_1[_0x2cf16e(0x148)][_0x2cf16e(0x14e)](FlosumSyncJob_1);_0x23e2eb['run'](_0x5d854a,_0x2ec40d);}else this[_0x2cf16e(0x14c)]['log'](_0x2cf16e(0x11e)+_0x1adc43),await this[_0x2cf16e(0x14c)]['send']()[_0x2cf16e(0x12a)](()=>void 0x0);return;}this[_0x2cf16e(0x14c)]['log']('[INFO]\x20Sync\x20job\x20done.'),await this[_0x2cf16e(0x14c)][_0x2cf16e(0x123)](),await this['salesforceSync'][_0x2cf16e(0x128)](_0x5d854a['syncID'])['catch'](()=>null);}};function a147_0x1e8b(_0x330fcd,_0xd3f6bb){const _0x4042bd=a147_0xcf21();return a147_0x1e8b=function(_0x2410ba,_0x38c6ef){_0x2410ba=_0x2410ba-0xf7;let _0xcf2171=_0x4042bd[_0x2410ba];return _0xcf2171;},a147_0x1e8b(_0x330fcd,_0xd3f6bb);}FlosumSyncJob=FlosumSyncJob_1=__decorate([(0x0,typedi_1[a147_0x277890(0x14f)])({'transient':!![]}),__metadata(a147_0x277890(0x127),[salesforce_service_1[a147_0x277890(0x11b)],salesforce_sync_service_1[a147_0x277890(0x10d)],git_provider_manager_1['GitProviderManager']])],FlosumSyncJob),exports[a147_0x277890(0x13b)]=FlosumSyncJob;