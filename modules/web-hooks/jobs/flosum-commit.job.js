const a137_0x2075=['design:paramtypes','object','call','salesforceService','default','./commit-components.job','getRepoService','575982RhtDAB','CommitComponentsJob','SalesforceService','split','1ndGZSP','return\x20/\x22\x20+\x20this\x20+\x20\x22/','prepareCommitDto','getOne','__importStar','__metadata','../../salesforce/services/salesforce.service','../../shared/git-provider.manager','205927IAzhvy','setLoggerId','length','38523LxWAwE','branches','convertToSFDX','[ERROR]\x20','67328ogVOVa','test','4217AxkkWp','repo','componentsIds','log','FlosumCommitJob','__setModuleDefault','create','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','11fxmOiW','sfLogger','195428voVLKm','run','getOwnPropertyDescriptor','user','GitProviderManager','map','__createBinding','catch','get','59779okyTpe','trim','exec','constructor','__esModule','commitId','197QOOuIS','2SDmkzU','commit','metadata','defineProperty','branch','retrieveAttachment','[COMMIT]\x20[Repository:\x20','[INFO]\x20Commit\x20job\x20done','message','then','Service','attachmentId','decorate','__decorate'];const a137_0x70591a=a137_0x3f05;(function(_0x132032,_0x363b86){const _0x36a0de=a137_0x3f05;while(!![]){try{const _0x4390d0=-parseInt(_0x36a0de(0xed))*parseInt(_0x36a0de(0xe2))+-parseInt(_0x36a0de(0xde))+parseInt(_0x36a0de(0xf1))+-parseInt(_0x36a0de(0xfd))+-parseInt(_0x36a0de(0x10d))*parseInt(_0x36a0de(0xea))+parseInt(_0x36a0de(0x106))*parseInt(_0x36a0de(0xfb))+parseInt(_0x36a0de(0xf3))*parseInt(_0x36a0de(0x10c));if(_0x4390d0===_0x363b86)break;else _0x132032['push'](_0x132032['shift']());}catch(_0x942fbb){_0x132032['push'](_0x132032['shift']());}}}(a137_0x2075,0x51823));const a137_0x1093f9=function(){let _0x3cc426=!![];return function(_0x5f46c4,_0x4d8659){const _0x44999d=_0x3cc426?function(){if(_0x4d8659){const _0xe6c76=_0x4d8659['apply'](_0x5f46c4,arguments);return _0x4d8659=null,_0xe6c76;}}:function(){};return _0x3cc426=![],_0x44999d;};}(),a137_0x518774=a137_0x1093f9(this,function(){const _0x571d24=function(){const _0x402627=a137_0x3f05,_0xa0a39c=_0x571d24[_0x402627(0x109)](_0x402627(0xe3))()['constructor'](_0x402627(0xfa));return!_0xa0a39c[_0x402627(0xf2)](a137_0x518774);};return _0x571d24();});a137_0x518774();'use strict';var __createBinding=this&&this[a137_0x70591a(0x103)]||(Object[a137_0x70591a(0xf9)]?function(_0x207c3c,_0x4f545c,_0x586c9a,_0x110502){const _0x59c5e2=a137_0x70591a;if(_0x110502===undefined)_0x110502=_0x586c9a;Object[_0x59c5e2(0x110)](_0x207c3c,_0x110502,{'enumerable':!![],'get':function(){return _0x4f545c[_0x586c9a];}});}:function(_0xe6fe2b,_0x220201,_0x1d179e,_0x7f5d7d){if(_0x7f5d7d===undefined)_0x7f5d7d=_0x1d179e;_0xe6fe2b[_0x7f5d7d]=_0x220201[_0x1d179e];}),__setModuleDefault=this&&this[a137_0x70591a(0xf8)]||(Object[a137_0x70591a(0xf9)]?function(_0x12830c,_0xdb056b){const _0x1ba7a9=a137_0x70591a;Object['defineProperty'](_0x12830c,_0x1ba7a9(0xdb),{'enumerable':!![],'value':_0xdb056b});}:function(_0x39f466,_0x2e9fbb){const _0x11cd5b=a137_0x70591a;_0x39f466[_0x11cd5b(0xdb)]=_0x2e9fbb;}),__decorate=this&&this[a137_0x70591a(0xd6)]||function(_0x277f82,_0xf0ed07,_0x513c87,_0x5418ba){const _0x352e8f=a137_0x70591a;var _0x2712fe=arguments[_0x352e8f(0xec)],_0x17e9d1=_0x2712fe<0x3?_0xf0ed07:_0x5418ba===null?_0x5418ba=Object[_0x352e8f(0xff)](_0xf0ed07,_0x513c87):_0x5418ba,_0x5d8336;if(typeof Reflect===_0x352e8f(0xd8)&&typeof Reflect[_0x352e8f(0xd5)]==='function')_0x17e9d1=Reflect[_0x352e8f(0xd5)](_0x277f82,_0xf0ed07,_0x513c87,_0x5418ba);else{for(var _0x5e72d2=_0x277f82[_0x352e8f(0xec)]-0x1;_0x5e72d2>=0x0;_0x5e72d2--)if(_0x5d8336=_0x277f82[_0x5e72d2])_0x17e9d1=(_0x2712fe<0x3?_0x5d8336(_0x17e9d1):_0x2712fe>0x3?_0x5d8336(_0xf0ed07,_0x513c87,_0x17e9d1):_0x5d8336(_0xf0ed07,_0x513c87))||_0x17e9d1;}return _0x2712fe>0x3&&_0x17e9d1&&Object[_0x352e8f(0x110)](_0xf0ed07,_0x513c87,_0x17e9d1),_0x17e9d1;},__importStar=this&&this[a137_0x70591a(0xe6)]||function(_0x518f5b){const _0x2f28a5=a137_0x70591a;if(_0x518f5b&&_0x518f5b['__esModule'])return _0x518f5b;var _0x136b80={};if(_0x518f5b!=null){for(var _0x11b1b5 in _0x518f5b)if(_0x11b1b5!==_0x2f28a5(0xdb)&&Object['prototype']['hasOwnProperty'][_0x2f28a5(0xd9)](_0x518f5b,_0x11b1b5))__createBinding(_0x136b80,_0x518f5b,_0x11b1b5);}return __setModuleDefault(_0x136b80,_0x518f5b),_0x136b80;},__metadata=this&&this[a137_0x70591a(0xe7)]||function(_0xfb1eb9,_0x17a79e){const _0x2c9b91=a137_0x70591a;if(typeof Reflect===_0x2c9b91(0xd8)&&typeof Reflect[_0x2c9b91(0x10f)]==='function')return Reflect[_0x2c9b91(0x10f)](_0xfb1eb9,_0x17a79e);};Object[a137_0x70591a(0x110)](exports,a137_0x70591a(0x10a),{'value':!![]}),exports[a137_0x70591a(0xf7)]=void 0x0;function a137_0x3f05(_0x189e88,_0x5de1dd){return a137_0x3f05=function(_0x7e1637,_0x518774){_0x7e1637=_0x7e1637-0xce;let _0x1093f9=a137_0x2075[_0x7e1637];return _0x1093f9;},a137_0x3f05(_0x189e88,_0x5de1dd);}const salesforce_service_1=require(a137_0x70591a(0xe8)),git_provider_manager_1=require(a137_0x70591a(0xe9)),typedi_1=__importStar(require('typedi')),commit_components_dto_1=require('../dto/commit-components.dto'),commit_components_job_1=require(a137_0x70591a(0xdc));let FlosumCommitJob=class FlosumCommitJob{constructor(_0x5e1494,_0x39d1ca){const _0x19758e=a137_0x70591a;this['salesforceService']=_0x5e1494,this['commitJob']=_0x39d1ca,_0x39d1ca['on'](_0x19758e(0xf6),_0x13799e=>this[_0x19758e(0xfc)](_0x13799e));}get['commitId'](){const _0x37cc69=a137_0x70591a;return this[_0x37cc69(0x10e)][_0x37cc69(0x10b)];}async[a137_0x70591a(0xfc)](_0xdf89ae){const _0x217e96=a137_0x70591a;return this[_0x217e96(0xda)]['sendLog'](_0x217e96(0xcf)+this['commit'][_0x217e96(0xf4)]+']\x20[Branch:\x20'+this[_0x217e96(0x10e)][_0x217e96(0x111)]+']\x20'+_0xdf89ae);}async[a137_0x70591a(0xe4)](){const _0x5a7784=a137_0x70591a,_0x5187f9=typedi_1[_0x5a7784(0xdb)][_0x5a7784(0x105)](git_provider_manager_1[_0x5a7784(0x101)])[_0x5a7784(0xdd)](),_0x52e3a4=await _0x5187f9[_0x5a7784(0xe5)](this[_0x5a7784(0x10e)][_0x5a7784(0xf4)]);await _0x52e3a4[_0x5a7784(0xee)][_0x5a7784(0xe5)](this[_0x5a7784(0x10e)][_0x5a7784(0x111)]);const _0x270f5f=new commit_components_dto_1['CommitComponentsDto']();return _0x270f5f[_0x5a7784(0xf4)]=_0x52e3a4,_0x270f5f[_0x5a7784(0x111)]=this['commit'][_0x5a7784(0x111)],_0x270f5f[_0x5a7784(0xef)]=this[_0x5a7784(0x10e)][_0x5a7784(0xef)],_0x270f5f[_0x5a7784(0xd1)]=this[_0x5a7784(0x10e)]['message'],_0x270f5f[_0x5a7784(0x100)]=this[_0x5a7784(0x10e)][_0x5a7784(0x100)],_0x270f5f;}async['exec'](_0x141543){const _0x4ac759=a137_0x70591a,_0x591163=await this[_0x4ac759(0xda)][_0x4ac759(0xce)](this[_0x4ac759(0x10e)][_0x4ac759(0xd4)]);_0x141543[_0x4ac759(0xf5)]=_0x591163[_0x4ac759(0xe1)]('\x20')[_0x4ac759(0x102)](_0x2fd36b=>_0x2fd36b[_0x4ac759(0x107)]()),this['commitJob'][_0x4ac759(0xfe)](_0x141543)[_0x4ac759(0xd2)](()=>this[_0x4ac759(0xfc)](_0x4ac759(0xd0)))[_0x4ac759(0x104)](_0x25bc21=>this[_0x4ac759(0xfc)](_0x4ac759(0xf0)+(_0x25bc21[_0x4ac759(0xd1)]||_0x25bc21)));}async[a137_0x70591a(0xfe)](_0x37405d,_0x1bd228){const _0x2b990b=a137_0x70591a;try{this[_0x2b990b(0x10e)]=_0x37405d,this[_0x2b990b(0xda)][_0x2b990b(0xeb)](_0x1bd228),await this['sfLogger']('[INFO]\x20Start\x20commit\x20job');const _0x4891fe=await this[_0x2b990b(0xe4)]();this[_0x2b990b(0x108)](_0x4891fe);}catch(_0x1bc126){this['commit']=undefined;throw _0x1bc126;}}};FlosumCommitJob=__decorate([typedi_1[a137_0x70591a(0xd3)]({'transient':!![]}),__metadata(a137_0x70591a(0xd7),[salesforce_service_1[a137_0x70591a(0xe0)],commit_components_job_1[a137_0x70591a(0xdf)]])],FlosumCommitJob),exports[a137_0x70591a(0xf7)]=FlosumCommitJob;