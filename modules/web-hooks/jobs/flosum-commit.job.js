const a123_0x13b0=['trim','Logger','defineProperty','exec','COMPONENTS_PER_TICK','1BKyBdP','constructor','__esModule','design:paramtypes','fileType','flosum-commit-job','function','sfLogger','length','commit\x20%s\x20took\x20%dms\x20to\x20proceed\x20%d\x20components','gitCredentials','4eKAUnr','credentials','writeFlosumComponents','hasOwnProperty','run','splice','../utils/git.utils','retriever','createProjectFrom','FlosumCommitJob','__importDefault','__setModuleDefault','authSettings','clone','getRepoService','../utils/sfdx.utils','MDApiUtils','branch','GitProviderManager','salesforceService','../utils/mdapi.utils','commitId','log','metadata','../../parsers/mdapi/child-types','551974vhkmCD','Push\x20commit\x20to\x20branch','call','GitUtils','includes','SFDXUtils','removeDir','1gJVKTz','connect','create','deleteCommit','200917nsZXFA','[ERROR]\x20','../../shared/utils','apply','[INFO]\x20commit\x20','gitUrl','getOwnPropertyDescriptor','gitUtils','replace','\x20components','getOne','786314YxyfvL','Start\x20retrieve\x20components\x20job','../../shared/services/auth-settings.service','Service','data','getProtocol','mdapiUtils','writeComponents','BadRequestError','decorate','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','copyMdapiTo','793109GVDGFD','name','Done\x20','Recieved\x20commit\x20to\x20proceed.\x20Branch\x20-\x20','Clonning\x20repository','dir','now','prepareMdapi','sfdxUtils','714164uUneLY','2245663gpvFJt','currentJob','repo','./job','../../../core/errors/bad-request.error','default','retrieveAttachment','copyProjectTo','://','commitAndPush','prototype','AuthSettingsService','1dRCBIG','SalesforceService','140015sKDodA','split'];const a123_0x14492d=a123_0xb7fe;(function(_0x150177,_0x1b19d3){const _0x2a5add=a123_0xb7fe;while(!![]){try{const _0x321769=-parseInt(_0x2a5add(0x122))+-parseInt(_0x2a5add(0x14c))*parseInt(_0x2a5add(0x13a))+-parseInt(_0x2a5add(0x10b))*-parseInt(_0x2a5add(0x107))+parseInt(_0x2a5add(0x12b))+parseInt(_0x2a5add(0x138))*-parseInt(_0x2a5add(0x116))+-parseInt(_0x2a5add(0x100))*parseInt(_0x2a5add(0x141))+parseInt(_0x2a5add(0x12c));if(_0x321769===_0x1b19d3)break;else _0x150177['push'](_0x150177['shift']());}catch(_0x68e6dd){_0x150177['push'](_0x150177['shift']());}}}(a123_0x13b0,0x72927));const a123_0xbfe12c=function(){let _0x49c00e=!![];return function(_0x209bab,_0x91851e){const _0x5121ba=_0x49c00e?function(){const _0xe01caa=a123_0xb7fe;if(_0x91851e){const _0x5a4bb4=_0x91851e[_0xe01caa(0x10e)](_0x209bab,arguments);return _0x91851e=null,_0x5a4bb4;}}:function(){};return _0x49c00e=![],_0x5121ba;};}(),a123_0x3bd14d=a123_0xbfe12c(this,function(){const _0x6a4361=function(){const _0x320a08=a123_0xb7fe,_0x3a76e6=_0x6a4361['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x320a08(0x142)](_0x320a08(0x120));return!_0x3a76e6['test'](a123_0x3bd14d);};return _0x6a4361();});a123_0x3bd14d();function a123_0xb7fe(_0x413804,_0x3fdd57){return a123_0xb7fe=function(_0x463e8f,_0x3bd14d){_0x463e8f=_0x463e8f-0xfe;let _0xbfe12c=a123_0x13b0[_0x463e8f];return _0xbfe12c;},a123_0xb7fe(_0x413804,_0x3fdd57);}'use strict';var __createBinding=this&&this['__createBinding']||(Object[a123_0x14492d(0x109)]?function(_0x5abf14,_0x5667a4,_0x276974,_0x215cba){const _0x2d0e37=a123_0x14492d;if(_0x215cba===undefined)_0x215cba=_0x276974;Object[_0x2d0e37(0x13e)](_0x5abf14,_0x215cba,{'enumerable':!![],'get':function(){return _0x5667a4[_0x276974];}});}:function(_0x11fe0e,_0x1103d4,_0x5abf3c,_0x4adffb){if(_0x4adffb===undefined)_0x4adffb=_0x5abf3c;_0x11fe0e[_0x4adffb]=_0x1103d4[_0x5abf3c];}),__setModuleDefault=this&&this[a123_0x14492d(0x157)]||(Object[a123_0x14492d(0x109)]?function(_0x58f08c,_0x46d242){Object['defineProperty'](_0x58f08c,'default',{'enumerable':!![],'value':_0x46d242});}:function(_0x2759bb,_0x2268de){const _0x28dbe6=a123_0x14492d;_0x2759bb[_0x28dbe6(0x131)]=_0x2268de;}),__decorate=this&&this['__decorate']||function(_0x1632b5,_0x1b47f6,_0x198e6a,_0x2bff97){const _0x5cc6c0=a123_0x14492d;var _0x3da8ff=arguments[_0x5cc6c0(0x149)],_0x23d8ab=_0x3da8ff<0x3?_0x1b47f6:_0x2bff97===null?_0x2bff97=Object[_0x5cc6c0(0x111)](_0x1b47f6,_0x198e6a):_0x2bff97,_0x24d9c0;if(typeof Reflect==='object'&&typeof Reflect[_0x5cc6c0(0x11f)]==='function')_0x23d8ab=Reflect['decorate'](_0x1632b5,_0x1b47f6,_0x198e6a,_0x2bff97);else{for(var _0x55fb91=_0x1632b5[_0x5cc6c0(0x149)]-0x1;_0x55fb91>=0x0;_0x55fb91--)if(_0x24d9c0=_0x1632b5[_0x55fb91])_0x23d8ab=(_0x3da8ff<0x3?_0x24d9c0(_0x23d8ab):_0x3da8ff>0x3?_0x24d9c0(_0x1b47f6,_0x198e6a,_0x23d8ab):_0x24d9c0(_0x1b47f6,_0x198e6a))||_0x23d8ab;}return _0x3da8ff>0x3&&_0x23d8ab&&Object[_0x5cc6c0(0x13e)](_0x1b47f6,_0x198e6a,_0x23d8ab),_0x23d8ab;},__importStar=this&&this['__importStar']||function(_0x185d07){const _0x517c1a=a123_0x14492d;if(_0x185d07&&_0x185d07[_0x517c1a(0x143)])return _0x185d07;var _0x422bfd={};if(_0x185d07!=null){for(var _0x5a7732 in _0x185d07)if(_0x5a7732!==_0x517c1a(0x131)&&Object[_0x517c1a(0x136)][_0x517c1a(0x14f)][_0x517c1a(0x102)](_0x185d07,_0x5a7732))__createBinding(_0x422bfd,_0x185d07,_0x5a7732);}return __setModuleDefault(_0x422bfd,_0x185d07),_0x422bfd;},__metadata=this&&this['__metadata']||function(_0x18e364,_0x2af4ce){const _0x13acb3=a123_0x14492d;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x13acb3(0x147))return Reflect[_0x13acb3(0xfe)](_0x18e364,_0x2af4ce);},__importDefault=this&&this[a123_0x14492d(0x156)]||function(_0x36c6c6){const _0x3dfa64=a123_0x14492d;return _0x36c6c6&&_0x36c6c6[_0x3dfa64(0x143)]?_0x36c6c6:{'default':_0x36c6c6};};Object[a123_0x14492d(0x13e)](exports,a123_0x14492d(0x143),{'value':!![]}),exports[a123_0x14492d(0x155)]=void 0x0;const errors_1=require('../../../constants/errors'),core_1=require('../../../core'),bad_request_error_1=require(a123_0x14492d(0x130)),salesforce_service_1=require('../../sfdx/services/salesforce.service'),git_provider_manager_1=require('../../shared/git-provider.manager'),auth_settings_service_1=require(a123_0x14492d(0x118)),typedi_1=__importStar(require('typedi')),child_types_1=__importDefault(require(a123_0x14492d(0xff))),flosum_retriever_service_1=require('../../sfdx/services/flosum-retriever.service'),utils_1=require(a123_0x14492d(0x10d)),git_utils_1=require(a123_0x14492d(0x152)),mdapi_utils_1=require(a123_0x14492d(0x160)),sfdx_utils_1=require(a123_0x14492d(0x15b)),job_1=require(a123_0x14492d(0x12f)),logger=new core_1[(a123_0x14492d(0x13d))](a123_0x14492d(0x146));let FlosumCommitJob=class FlosumCommitJob extends job_1['Job']{constructor(_0x2f7ee4,_0x280db2,_0x2ace58){const _0x2d9255=a123_0x14492d;super(),this[_0x2d9255(0x158)]=_0x2f7ee4,this['salesforceService']=_0x280db2,this[_0x2d9255(0x153)]=_0x2ace58,this[_0x2d9255(0x140)]=0x3e8;}get[a123_0x14492d(0x14d)](){const _0x7cca0=a123_0x14492d;return this[_0x7cca0(0x158)][_0x7cca0(0x14b)];}get[a123_0x14492d(0x161)](){const _0x323678=a123_0x14492d;var _0x5b7f1c;return(_0x5b7f1c=this[_0x323678(0x12d)])===null||_0x5b7f1c===void 0x0?void 0x0:_0x5b7f1c['id'];}async[a123_0x14492d(0x148)](_0x266409){const _0xc341e=a123_0x14492d;return this[_0xc341e(0x15f)][_0xc341e(0x162)]('[CID:\x20'+this[_0xc341e(0x161)]+']\x20'+_0x266409);}async[a123_0x14492d(0x11d)](_0x3f89b6){const _0x4fa865=a123_0x14492d;this['sfLogger'](_0x4fa865(0x117));const _0x28c702=await this[_0x4fa865(0x153)][_0x4fa865(0x150)](_0x3f89b6);_0x28c702['sort'](_0x475359=>child_types_1[_0x4fa865(0x131)][_0x4fa865(0x104)](_0x475359[_0x4fa865(0x145)])?0x1:-0x1);let _0x502a4a=0x0;while(_0x28c702[_0x4fa865(0x149)]){const _0x46c2fe=_0x28c702[_0x4fa865(0x151)](0x0,this[_0x4fa865(0x140)]);await this[_0x4fa865(0x11c)][_0x4fa865(0x14e)](_0x46c2fe),_0x502a4a+=_0x46c2fe['length'],logger[_0x4fa865(0x162)]('Done\x20'+_0x502a4a+'/'+_0x3f89b6[_0x4fa865(0x149)]+'\x20components'),this['sfLogger'](_0x4fa865(0x124)+_0x502a4a+'/'+_0x3f89b6[_0x4fa865(0x149)]+_0x4fa865(0x114));}}async[a123_0x14492d(0x13f)](_0x2bdac3){const _0x1dc557=a123_0x14492d,_0x408a9c=_0x2bdac3['gitUrl'][_0x1dc557(0x113)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x1dc557(0x11b)](_0x2bdac3[_0x1dc557(0x110)])+_0x1dc557(0x134)+this[_0x1dc557(0x14d)]+'@');this[_0x1dc557(0x11c)]=new mdapi_utils_1['MDApiUtils'](_0x2bdac3['name']),this[_0x1dc557(0x112)]=new git_utils_1[(_0x1dc557(0x103))](_0x408a9c),this[_0x1dc557(0x12a)]=new sfdx_utils_1[(_0x1dc557(0x105))](_0x2bdac3[_0x1dc557(0x123)]);const _0x1a82d9=Date['now'](),{repo:_0x13f628,commitId:_0x3506f4,branch:_0x4f75af,attachmentId:_0x270e1f,message:_0x403876,convertToSFDX:_0x10ad93,user:_0x40235e}=this[_0x1dc557(0x12d)][_0x1dc557(0x11a)];await this[_0x1dc557(0x15f)][_0x1dc557(0x108)](),this[_0x1dc557(0x148)](_0x1dc557(0x125)+_0x4f75af);let _0x1edcf8=[];try{const _0x40e4a0=await this[_0x1dc557(0x15f)][_0x1dc557(0x132)](_0x270e1f);_0x1edcf8=_0x40e4a0[_0x1dc557(0x13b)]('\x20')['map'](_0x4447cd=>_0x4447cd[_0x1dc557(0x13c)]()),this[_0x1dc557(0x148)](_0x1dc557(0x126)),await this[_0x1dc557(0x112)][_0x1dc557(0x159)](_0x4f75af,_0x2bdac3[_0x1dc557(0x123)]);const _0x37c714=new mdapi_utils_1[(_0x1dc557(0x15c))](_0x13f628);await _0x37c714[_0x1dc557(0x129)](this[_0x1dc557(0x112)][_0x1dc557(0x127)]),await this[_0x1dc557(0x11d)](_0x1edcf8),await this[_0x1dc557(0x112)]['clearDir'](),_0x10ad93?(await this[_0x1dc557(0x12a)][_0x1dc557(0x154)](this['mdapiUtils']['dir']),await this[_0x1dc557(0x12a)][_0x1dc557(0x133)](this[_0x1dc557(0x112)][_0x1dc557(0x127)]),await this['sfdxUtils'][_0x1dc557(0x106)]()):await this[_0x1dc557(0x11c)][_0x1dc557(0x121)](this['gitUtils'][_0x1dc557(0x127)]),this[_0x1dc557(0x148)](_0x1dc557(0x101)),await this[_0x1dc557(0x112)][_0x1dc557(0x135)](_0x403876,_0x40235e,_0x4f75af),await this[_0x1dc557(0x15f)][_0x1dc557(0x10a)](_0x3506f4),await this[_0x1dc557(0x112)][_0x1dc557(0x106)](),await this[_0x1dc557(0x11c)][_0x1dc557(0x106)](),logger['info'](_0x1dc557(0x14a),_0x3506f4,Date[_0x1dc557(0x128)]()-_0x1a82d9,_0x1edcf8[_0x1dc557(0x149)]),this['sfLogger'](_0x1dc557(0x10f)+_0x3506f4+'\x20took\x20'+(Date[_0x1dc557(0x128)]()-_0x1a82d9)+'ms\x20to\x20proceed\x20'+_0x1edcf8[_0x1dc557(0x149)]+_0x1dc557(0x114));}catch(_0x554645){this[_0x1dc557(0x148)](_0x1dc557(0x10c)+(_0x554645['message']||_0x554645)),console['log']({'error':_0x554645});}finally{this[_0x1dc557(0x12d)]=undefined;}}async[a123_0x14492d(0x150)](_0x411fb3){const _0x2d6ce0=a123_0x14492d;if(this[_0x2d6ce0(0x12d)])throw new bad_request_error_1[(_0x2d6ce0(0x11e))](errors_1['ERR_JOB_IS_NOT_DONE']);try{this[_0x2d6ce0(0x12d)]=_0x411fb3;const _0x1619f7=typedi_1[_0x2d6ce0(0x131)]['get'](git_provider_manager_1[_0x2d6ce0(0x15e)])[_0x2d6ce0(0x15a)](),_0x41ec76=await _0x1619f7[_0x2d6ce0(0x115)](_0x411fb3[_0x2d6ce0(0x11a)][_0x2d6ce0(0x12e)]);await _0x41ec76['branches']['getOne'](_0x411fb3[_0x2d6ce0(0x11a)][_0x2d6ce0(0x15d)]),this['exec'](_0x41ec76);}catch(_0x49d9ea){this[_0x2d6ce0(0x12d)]=undefined;throw _0x49d9ea;}}};FlosumCommitJob=__decorate([typedi_1[a123_0x14492d(0x119)](),__metadata(a123_0x14492d(0x144),[auth_settings_service_1[a123_0x14492d(0x137)],salesforce_service_1[a123_0x14492d(0x139)],flosum_retriever_service_1['FlosumRetrieverService']])],FlosumCommitJob),exports['FlosumCommitJob']=FlosumCommitJob;