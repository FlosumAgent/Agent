const a142_0x5cd9=['[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','force','copyMdapiTo','3208989OBrLtl','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','[INFO]\x20Start\x20converting\x20to\x20SFDX','../../parsers/mdapi/child-types','sort','constructor','[INFO]\x20Prepare\x20mdapi\x20files','typedi','../utils/git.utils','\x20components','ms.\x20Commited\x20components\x20-\x20','commitData','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','GitUtils','344DiVpfS','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','://','133500IJpUrO','groupComponentsByFileName','6lEEoqN','reduce','[INFO]\x20Preparing\x20to\x20delete\x20components','deleted','splice','[INFO]\x20Preparing\x20to\x20write\x20components','test','defineProperty','../../shared/utils','CommitComponentsJob','gitUrl','components','logger','createProjectFrom','function','run','923854UhRLCG','authSettings','3085HdMOaA','fileName','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','values','mdapiUtils','name','getOwnPropertyDescriptor','__esModule','dir','COMPONENTS_PER_TICK','AuthSettingsService','[INFO]\x20Start\x20clonning\x20repository','componentsToDelete','../utils/sfdx.utils','[INFO]\x20Writed\x20','componentsToWrite','length','object','design:paramtypes','exec','gitUtils','send','MDApiUtils','default','writeComponents','[INFO]\x20Deleted\x20','copyProjectTo','randomString','Service','prepareMdapi','removeDir','push','removeComponents','fileType','decorate','clone','[ERROR]\x20','now','writed','log','441041RDKedh','return\x20/\x22\x20+\x20this\x20+\x20\x22/','1415358LOpUGj','sfdxUtils','remote','commitAndPush','startTime','metadata','1333482uTvrnn'];const a142_0x366063=a142_0x5adc;(function(_0x5b8d08,_0x5cd710){const _0x2c9bc6=a142_0x5adc;while(!![]){try{const _0x28528e=parseInt(_0x2c9bc6(0x147))+-parseInt(_0x2c9bc6(0x174))+parseInt(_0x2c9bc6(0x15f))*-parseInt(_0x2c9bc6(0x176))+-parseInt(_0x2c9bc6(0x14d))+-parseInt(_0x2c9bc6(0x162))*parseInt(_0x2c9bc6(0x164))+parseInt(_0x2c9bc6(0x145))+parseInt(_0x2c9bc6(0x151));if(_0x28528e===_0x5cd710)break;else _0x5b8d08['push'](_0x5b8d08['shift']());}catch(_0x3d3ed7){_0x5b8d08['push'](_0x5b8d08['shift']());}}}(a142_0x5cd9,0xe6e94));const a142_0x2af6db=function(){let _0x50d54a=!![];return function(_0x43389d,_0x50f627){const _0x2905cf=_0x50d54a?function(){if(_0x50f627){const _0x3c67cd=_0x50f627['apply'](_0x43389d,arguments);return _0x50f627=null,_0x3c67cd;}}:function(){};return _0x50d54a=![],_0x2905cf;};}(),a142_0x32ead7=a142_0x2af6db(this,function(){const _0x3494ef=function(){const _0x4f19c4=a142_0x5adc,_0x441624=_0x3494ef['constructor'](_0x4f19c4(0x146))()[_0x4f19c4(0x156)](_0x4f19c4(0x160));return!_0x441624[_0x4f19c4(0x16a)](a142_0x32ead7);};return _0x3494ef();});a142_0x32ead7();'use strict';var __decorate=this&&this['__decorate']||function(_0x286b13,_0xba67c4,_0x4c7375,_0x20fa98){const _0x198326=a142_0x5adc;var _0x596b7b=arguments[_0x198326(0x186)],_0x147d17=_0x596b7b<0x3?_0xba67c4:_0x20fa98===null?_0x20fa98=Object[_0x198326(0x17c)](_0xba67c4,_0x4c7375):_0x20fa98,_0x3bd6f2;if(typeof Reflect===_0x198326(0x187)&&typeof Reflect[_0x198326(0x198)]===_0x198326(0x172))_0x147d17=Reflect['decorate'](_0x286b13,_0xba67c4,_0x4c7375,_0x20fa98);else{for(var _0x7d30a8=_0x286b13[_0x198326(0x186)]-0x1;_0x7d30a8>=0x0;_0x7d30a8--)if(_0x3bd6f2=_0x286b13[_0x7d30a8])_0x147d17=(_0x596b7b<0x3?_0x3bd6f2(_0x147d17):_0x596b7b>0x3?_0x3bd6f2(_0xba67c4,_0x4c7375,_0x147d17):_0x3bd6f2(_0xba67c4,_0x4c7375))||_0x147d17;}return _0x596b7b>0x3&&_0x147d17&&Object[_0x198326(0x16b)](_0xba67c4,_0x4c7375,_0x147d17),_0x147d17;},__metadata=this&&this['__metadata']||function(_0x352e2b,_0x43a1f4){const _0x378d4e=a142_0x5adc;if(typeof Reflect===_0x378d4e(0x187)&&typeof Reflect[_0x378d4e(0x14c)]===_0x378d4e(0x172))return Reflect[_0x378d4e(0x14c)](_0x352e2b,_0x43a1f4);},__importDefault=this&&this['__importDefault']||function(_0x5b5b78){const _0x1c5ab6=a142_0x5adc;return _0x5b5b78&&_0x5b5b78[_0x1c5ab6(0x17d)]?_0x5b5b78:{'default':_0x5b5b78};};Object[a142_0x366063(0x16b)](exports,a142_0x366063(0x17d),{'value':!![]}),exports['CommitComponentsJob']=void 0x0;const events_1=__importDefault(require('events')),typedi_1=require(a142_0x366063(0x158)),child_types_1=__importDefault(require(a142_0x366063(0x154))),auth_settings_service_1=require('../../shared/services/auth-settings.service'),utils_1=require(a142_0x366063(0x16c)),git_utils_1=require(a142_0x366063(0x159)),mdapi_utils_1=require('../utils/mdapi.utils'),sfdx_utils_1=require(a142_0x366063(0x183));function a142_0x5adc(_0x5f3911,_0x20f213){return a142_0x5adc=function(_0x536e87,_0x32ead7){_0x536e87=_0x536e87-0x142;let _0x2af6db=a142_0x5cd9[_0x536e87];return _0x2af6db;},a142_0x5adc(_0x5f3911,_0x20f213);}let CommitComponentsJob=class CommitComponentsJob extends events_1[a142_0x366063(0x18d)]{constructor(_0x5c15ec){const _0x4c85e6=a142_0x366063;super(),this[_0x4c85e6(0x175)]=_0x5c15ec,this[_0x4c85e6(0x17f)]=0x3e8,this[_0x4c85e6(0x185)]=0x0,this[_0x4c85e6(0x182)]=0x0,this['startTime']=Date['now']();}get[a142_0x366063(0x149)](){const _0x3b1ebe=a142_0x366063,{repo:_0xceca66}=this[_0x3b1ebe(0x15c)],{gitCredentials:_0x30f232}=this[_0x3b1ebe(0x175)];return _0xceca66[_0x3b1ebe(0x16e)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0xceca66[_0x3b1ebe(0x16e)])+_0x3b1ebe(0x161)+_0x30f232+'@');}['groupComponentsByFileName'](_0x1940ba){const _0x18f97d=a142_0x366063;var _0x50987e;_0x1940ba[_0x18f97d(0x155)](_0x444646=>child_types_1[_0x18f97d(0x18d)]['includes'](_0x444646[_0x18f97d(0x197)])?0x1:-0x1);const _0x4774cb={};for(const _0x16ed48 of _0x1940ba){_0x4774cb[_0x50987e=_0x16ed48['fileName']]||(_0x4774cb[_0x50987e]=[]),_0x4774cb[_0x16ed48[_0x18f97d(0x177)]][_0x18f97d(0x195)](_0x16ed48);}return Object[_0x18f97d(0x179)](_0x4774cb)[_0x18f97d(0x165)]((_0x57f5ff,_0x5ee414)=>[..._0x57f5ff,..._0x5ee414],[]);}async[a142_0x366063(0x18e)](_0x22fcae){const _0x1ea915=a142_0x366063;_0x22fcae=this[_0x1ea915(0x163)](_0x22fcae);let _0x4dab45=0x0;while(_0x22fcae[_0x1ea915(0x186)]){const _0x39efdf=_0x22fcae['splice'](0x0,this[_0x1ea915(0x17f)]);await this[_0x1ea915(0x17a)]['writeFlosumComponents'](_0x39efdf),_0x4dab45+=_0x39efdf['length'],this['logger'][_0x1ea915(0x144)](_0x1ea915(0x184)+_0x4dab45+'/'+this['componentsToWrite']+_0x1ea915(0x15a)),await this[_0x1ea915(0x170)][_0x1ea915(0x18b)]();}}async[a142_0x366063(0x196)](_0x154d46){const _0x3d6efe=a142_0x366063;let _0x545fac=0x0;while(_0x154d46[_0x3d6efe(0x186)]){const _0x4a05e0=_0x154d46[_0x3d6efe(0x168)](0x0,this[_0x3d6efe(0x17f)]);await this['mdapiUtils']['removeComponents'](_0x4a05e0),_0x545fac+=_0x4a05e0[_0x3d6efe(0x186)],this[_0x3d6efe(0x170)][_0x3d6efe(0x144)](_0x3d6efe(0x18f)+_0x545fac+'/'+this[_0x3d6efe(0x182)]+_0x3d6efe(0x15a)),await this[_0x3d6efe(0x170)][_0x3d6efe(0x18b)]();}}async[a142_0x366063(0x189)](){const _0x372810=a142_0x366063,{repo:_0x4022f0,branch:_0x53373a,components:_0xfd9ef4,convertToSFDX:_0x45218c,message:_0x45bb01,user:_0x2916e8}=this[_0x372810(0x15c)];this[_0x372810(0x17a)]=new mdapi_utils_1[(_0x372810(0x18c))](_0x4022f0['name'],_0x53373a['name']),this['gitUtils']=new git_utils_1[(_0x372810(0x15e))](this[_0x372810(0x149)]),this[_0x372810(0x148)]=new sfdx_utils_1['SFDXUtils'](_0x4022f0[_0x372810(0x17b)],_0x53373a['name']);try{this[_0x372810(0x170)][_0x372810(0x144)](_0x372810(0x181)),await this[_0x372810(0x18a)][_0x372810(0x199)](_0x53373a[_0x372810(0x17b)],_0x4022f0[_0x372810(0x17b)],utils_1[_0x372810(0x191)]());!this[_0x372810(0x15c)][_0x372810(0x14f)]?(this[_0x372810(0x170)][_0x372810(0x144)](_0x372810(0x157)),await this[_0x372810(0x17a)][_0x372810(0x193)](this[_0x372810(0x18a)][_0x372810(0x17e)])):this['logger'][_0x372810(0x144)](_0x372810(0x15d));_0xfd9ef4[_0x372810(0x143)]&&(this[_0x372810(0x170)][_0x372810(0x144)](_0x372810(0x169)),this['componentsToWrite']=_0xfd9ef4[_0x372810(0x143)][_0x372810(0x186)],await this['writeComponents'](_0xfd9ef4[_0x372810(0x143)]));_0xfd9ef4['deleted']&&(this['logger'][_0x372810(0x144)](_0x372810(0x166)),this[_0x372810(0x182)]=_0xfd9ef4[_0x372810(0x167)][_0x372810(0x186)],await this[_0x372810(0x196)](_0xfd9ef4['deleted']));await this['gitUtils']['clearDir'](),await this[_0x372810(0x170)][_0x372810(0x18b)]();_0x45218c?(this[_0x372810(0x170)]['log'](_0x372810(0x153)),await this[_0x372810(0x148)][_0x372810(0x171)](this['mdapiUtils'][_0x372810(0x17e)]),await this['sfdxUtils'][_0x372810(0x190)](this['gitUtils'][_0x372810(0x17e)]),await this['sfdxUtils'][_0x372810(0x194)](),await this[_0x372810(0x170)][_0x372810(0x18b)]()):(this[_0x372810(0x170)][_0x372810(0x144)](_0x372810(0x178)),await this[_0x372810(0x17a)][_0x372810(0x150)](this['gitUtils'][_0x372810(0x17e)]));this[_0x372810(0x170)][_0x372810(0x144)](_0x372810(0x14e)),await this[_0x372810(0x18a)][_0x372810(0x14a)](_0x45bb01,{'email':_0x2916e8['email'],'name':_0x2916e8[_0x372810(0x17b)]},_0x53373a[_0x372810(0x17b)]),await this[_0x372810(0x18a)]['removeDir'](),await this[_0x372810(0x17a)]['removeDir']();const _0xdfbe0a=this[_0x372810(0x185)]+this[_0x372810(0x182)];this[_0x372810(0x170)][_0x372810(0x144)]('[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20'+(Date[_0x372810(0x142)]()-this[_0x372810(0x14b)])+_0x372810(0x15b)+_0xdfbe0a),await this['logger'][_0x372810(0x18b)]();}catch(_0x199f90){this['logger']['log'](_0x372810(0x19a)+(_0x199f90['message']||_0x199f90)),await this[_0x372810(0x170)][_0x372810(0x18b)]();throw _0x199f90;}}async[a142_0x366063(0x173)](_0x15964f){const _0x56b1e6=a142_0x366063;var _0x549f1e,_0x1267fc,_0x54fc4a,_0x2374f4;const _0x3e5f8f=!!((_0x1267fc=(_0x549f1e=_0x15964f[_0x56b1e6(0x16f)])===null||_0x549f1e===void 0x0?void 0x0:_0x549f1e[_0x56b1e6(0x143)])===null||_0x1267fc===void 0x0?void 0x0:_0x1267fc[_0x56b1e6(0x186)])||!!((_0x2374f4=(_0x54fc4a=_0x15964f['components'])===null||_0x54fc4a===void 0x0?void 0x0:_0x54fc4a[_0x56b1e6(0x167)])===null||_0x2374f4===void 0x0?void 0x0:_0x2374f4['length']);if(!_0x3e5f8f){this['logger'][_0x56b1e6(0x144)](_0x56b1e6(0x152)),await this['logger'][_0x56b1e6(0x18b)]();return;}this['commitData']=_0x15964f,await this[_0x56b1e6(0x189)]();}};CommitComponentsJob=__decorate([typedi_1[a142_0x366063(0x192)]({'transient':!![]}),__metadata(a142_0x366063(0x188),[auth_settings_service_1[a142_0x366063(0x180)]])],CommitComponentsJob),exports[a142_0x366063(0x16d)]=CommitComponentsJob;