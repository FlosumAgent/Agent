const a142_0x16cd=['return\x20/\x22\x20+\x20this\x20+\x20\x22/','__decorate','1MOOnLR','groupComponentsByFileName','copyProjectTo','defineProperty','name','[INFO]\x20Preparing\x20to\x20write\x20components','writeFlosumComponents','585119zKFISK','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','dir','[INFO]\x20Prepare\x20mdapi\x20files','../utils/mdapi.utils','default','sort','prepareMdapi','6445rMuSaD','decorate','metadata','startTime','logger','commitData','__importDefault','object','../../parsers/mdapi/child-types','getProtocol','__esModule','[INFO]\x20Deleted\x20','components','gitUrl','log','replace','864099EfeUvW','GitUtils','\x20components','COMPONENTS_PER_TICK','../utils/git.utils','[INFO]\x20Writed\x20','CommitComponentsJob','componentsToWrite','clone','2lgMwXX','gitUtils','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','cleanUp','../utils/sfdx.utils','send','run','deleted','AuthSettingsService','[INFO]\x20Start\x20clonning\x20repository','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','41pknqBF','commitAndPush','mdapiUtils','207329utojNp','includes','218461iHJjoR','568809EOpmrv','fileType','../../shared/utils','reduce','catch','://','now','removeDir','createProjectFrom','clearDir','splice','copyMdapiTo','function','writeComponents','componentsToDelete','MDApiUtils','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','[ERROR]\x20','../../shared/services/auth-settings.service','466014ldmXRu','length','getOwnPropertyDescriptor','push','sfdxUtils','[INFO]\x20Start\x20converting\x20to\x20SFDX','authSettings','fileName','Service','remote','force','events','writed'];const a142_0x729941=a142_0x38a6;(function(_0x2cd3cd,_0x160b90){const _0x29e11b=a142_0x38a6;while(!![]){try{const _0x914c56=parseInt(_0x29e11b(0x1c8))+-parseInt(_0x29e11b(0x1f6))+parseInt(_0x29e11b(0x1ff))*parseInt(_0x29e11b(0x20e))+-parseInt(_0x29e11b(0x1d7))*parseInt(_0x29e11b(0x1de))+parseInt(_0x29e11b(0x210))+parseInt(_0x29e11b(0x211))+parseInt(_0x29e11b(0x1e6))*parseInt(_0x29e11b(0x20b));if(_0x914c56===_0x160b90)break;else _0x2cd3cd['push'](_0x2cd3cd['shift']());}catch(_0x2c68cd){_0x2cd3cd['push'](_0x2cd3cd['shift']());}}}(a142_0x16cd,0x75e99));const a142_0x401152=function(){let _0x203529=!![];return function(_0x528fd2,_0x29fc13){const _0x2b30f4=_0x203529?function(){if(_0x29fc13){const _0x50eca5=_0x29fc13['apply'](_0x528fd2,arguments);return _0x29fc13=null,_0x50eca5;}}:function(){};return _0x203529=![],_0x2b30f4;};}(),a142_0x3d92a8=a142_0x401152(this,function(){const _0xbc1d32=function(){const _0x48643=a142_0x38a6,_0x3e9864=_0xbc1d32['constructor'](_0x48643(0x1d5))()['constructor'](_0x48643(0x201));return!_0x3e9864['test'](a142_0x3d92a8);};return _0xbc1d32();});a142_0x3d92a8();'use strict';var __decorate=this&&this[a142_0x729941(0x1d6)]||function(_0x2ee6be,_0xdc8fb6,_0x475222,_0x2d1a90){const _0x40f2e8=a142_0x729941;var _0x56205a=arguments['length'],_0x240ae4=_0x56205a<0x3?_0xdc8fb6:_0x2d1a90===null?_0x2d1a90=Object[_0x40f2e8(0x1ca)](_0xdc8fb6,_0x475222):_0x2d1a90,_0x5cbd3c;if(typeof Reflect===_0x40f2e8(0x1ed)&&typeof Reflect[_0x40f2e8(0x1e7)]===_0x40f2e8(0x1c1))_0x240ae4=Reflect[_0x40f2e8(0x1e7)](_0x2ee6be,_0xdc8fb6,_0x475222,_0x2d1a90);else{for(var _0x212d52=_0x2ee6be[_0x40f2e8(0x1c9)]-0x1;_0x212d52>=0x0;_0x212d52--)if(_0x5cbd3c=_0x2ee6be[_0x212d52])_0x240ae4=(_0x56205a<0x3?_0x5cbd3c(_0x240ae4):_0x56205a>0x3?_0x5cbd3c(_0xdc8fb6,_0x475222,_0x240ae4):_0x5cbd3c(_0xdc8fb6,_0x475222))||_0x240ae4;}return _0x56205a>0x3&&_0x240ae4&&Object['defineProperty'](_0xdc8fb6,_0x475222,_0x240ae4),_0x240ae4;},__metadata=this&&this['__metadata']||function(_0x146fa0,_0x267770){const _0x15d9dd=a142_0x729941;if(typeof Reflect===_0x15d9dd(0x1ed)&&typeof Reflect[_0x15d9dd(0x1e8)]===_0x15d9dd(0x1c1))return Reflect['metadata'](_0x146fa0,_0x267770);},__importDefault=this&&this[a142_0x729941(0x1ec)]||function(_0x4904c4){const _0x110e0e=a142_0x729941;return _0x4904c4&&_0x4904c4[_0x110e0e(0x1f0)]?_0x4904c4:{'default':_0x4904c4};};function a142_0x38a6(_0x2078c7,_0x594252){return a142_0x38a6=function(_0x1565df,_0x3d92a8){_0x1565df=_0x1565df-0x1c0;let _0x401152=a142_0x16cd[_0x1565df];return _0x401152;},a142_0x38a6(_0x2078c7,_0x594252);}Object[a142_0x729941(0x1da)](exports,a142_0x729941(0x1f0),{'value':!![]}),exports[a142_0x729941(0x1fc)]=void 0x0;const events_1=__importDefault(require(a142_0x729941(0x1d3))),typedi_1=require('typedi'),child_types_1=__importDefault(require(a142_0x729941(0x1ee))),auth_settings_service_1=require(a142_0x729941(0x1c7)),utils_1=require(a142_0x729941(0x213)),git_utils_1=require(a142_0x729941(0x1fa)),mdapi_utils_1=require(a142_0x729941(0x1e2)),sfdx_utils_1=require(a142_0x729941(0x204));let CommitComponentsJob=class CommitComponentsJob extends events_1[a142_0x729941(0x1e3)]{constructor(_0x19ba22){const _0x4b32b7=a142_0x729941;super(),this[_0x4b32b7(0x1ce)]=_0x19ba22,this['COMPONENTS_PER_TICK']=0x3e8,this[_0x4b32b7(0x1fd)]=0x0,this[_0x4b32b7(0x1c3)]=0x0,this[_0x4b32b7(0x1e9)]=Date[_0x4b32b7(0x217)]();}get['remote'](){const _0x9414b0=a142_0x729941,{repo:_0x2d7eb0}=this['commitData'],{gitCredentials:_0x2c1315}=this[_0x9414b0(0x1ce)];return _0x2d7eb0[_0x9414b0(0x1f3)][_0x9414b0(0x1f5)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x9414b0(0x1ef)](_0x2d7eb0[_0x9414b0(0x1f3)])+_0x9414b0(0x216)+_0x2c1315+'@');}[a142_0x729941(0x1d8)](_0x40707c){const _0x4b3e72=a142_0x729941;var _0x509c34;_0x40707c[_0x4b3e72(0x1e4)](_0x511498=>child_types_1[_0x4b3e72(0x1e3)][_0x4b3e72(0x20f)](_0x511498[_0x4b3e72(0x212)])?0x1:-0x1);const _0x57c7e1={};for(const _0x1ebb47 of _0x40707c){_0x57c7e1[_0x509c34=_0x1ebb47[_0x4b3e72(0x1cf)]]||(_0x57c7e1[_0x509c34]=[]),_0x57c7e1[_0x1ebb47[_0x4b3e72(0x1cf)]][_0x4b3e72(0x1cb)](_0x1ebb47);}return Object['values'](_0x57c7e1)[_0x4b3e72(0x214)]((_0x112015,_0x34c670)=>[..._0x112015,..._0x34c670],[]);}async[a142_0x729941(0x1c2)](_0x3f46d4){const _0x7c9fa6=a142_0x729941;_0x3f46d4=this[_0x7c9fa6(0x1d8)](_0x3f46d4);let _0x4d253b=0x0;while(_0x3f46d4[_0x7c9fa6(0x1c9)]){const _0x539157=_0x3f46d4[_0x7c9fa6(0x21b)](0x0,this[_0x7c9fa6(0x1f9)]);await this[_0x7c9fa6(0x20d)][_0x7c9fa6(0x1dd)](_0x539157),_0x4d253b+=_0x539157['length'],this[_0x7c9fa6(0x1ea)][_0x7c9fa6(0x1f4)](_0x7c9fa6(0x1fb)+_0x4d253b+'/'+this['componentsToWrite']+_0x7c9fa6(0x1f8)),await this[_0x7c9fa6(0x1ea)][_0x7c9fa6(0x205)]();}}async['removeComponents'](_0x3ab93f){const _0x174e4f=a142_0x729941;let _0x3da77c=0x0;while(_0x3ab93f['length']){const _0x3646a6=_0x3ab93f[_0x174e4f(0x21b)](0x0,this[_0x174e4f(0x1f9)]);await this['mdapiUtils']['removeComponents'](_0x3646a6),_0x3da77c+=_0x3646a6['length'],this[_0x174e4f(0x1ea)][_0x174e4f(0x1f4)](_0x174e4f(0x1f1)+_0x3da77c+'/'+this[_0x174e4f(0x1c3)]+'\x20components'),await this['logger'][_0x174e4f(0x205)]();}}async['cleanUp'](){const _0x2e2c05=a142_0x729941;this[_0x2e2c05(0x200)]&&await this[_0x2e2c05(0x200)][_0x2e2c05(0x218)]()[_0x2e2c05(0x215)](()=>void 0x0),this[_0x2e2c05(0x20d)]&&await this[_0x2e2c05(0x20d)]['removeDir']()[_0x2e2c05(0x215)](()=>void 0x0),this[_0x2e2c05(0x1cc)]&&await this['sfdxUtils'][_0x2e2c05(0x218)]()[_0x2e2c05(0x215)](()=>void 0x0);}async['exec'](){const _0x5731f4=a142_0x729941,{repo:_0x13a0aa,branch:_0x3442f,components:_0x2dffd4,convertToSFDX:_0x5b4d8c,message:_0xe48887,user:_0xfca9ed}=this[_0x5731f4(0x1eb)];this['mdapiUtils']=new mdapi_utils_1[(_0x5731f4(0x1c4))](_0x13a0aa['name'],_0x3442f[_0x5731f4(0x1db)]),this[_0x5731f4(0x200)]=new git_utils_1[(_0x5731f4(0x1f7))](this[_0x5731f4(0x1d1)]),this['sfdxUtils']=new sfdx_utils_1['SFDXUtils'](_0x13a0aa['name'],_0x3442f[_0x5731f4(0x1db)]);try{this['logger'][_0x5731f4(0x1f4)](_0x5731f4(0x209)),await this[_0x5731f4(0x200)][_0x5731f4(0x1fe)](_0x3442f[_0x5731f4(0x1db)],_0x13a0aa[_0x5731f4(0x1db)]);!this[_0x5731f4(0x1eb)][_0x5731f4(0x1d2)]?(this[_0x5731f4(0x1ea)][_0x5731f4(0x1f4)](_0x5731f4(0x1e1)),await this[_0x5731f4(0x20d)][_0x5731f4(0x1e5)](this[_0x5731f4(0x200)][_0x5731f4(0x1e0)])):this[_0x5731f4(0x1ea)][_0x5731f4(0x1f4)](_0x5731f4(0x20a));_0x2dffd4['writed']&&(this['logger']['log'](_0x5731f4(0x1dc)),this['componentsToWrite']=_0x2dffd4[_0x5731f4(0x1d4)][_0x5731f4(0x1c9)],await this['writeComponents'](_0x2dffd4['writed']));_0x2dffd4['deleted']&&(this[_0x5731f4(0x1ea)][_0x5731f4(0x1f4)]('[INFO]\x20Preparing\x20to\x20delete\x20components'),this[_0x5731f4(0x1c3)]=_0x2dffd4['deleted'][_0x5731f4(0x1c9)],await this['removeComponents'](_0x2dffd4['deleted']));await this['gitUtils'][_0x5731f4(0x21a)](),await this[_0x5731f4(0x1ea)][_0x5731f4(0x205)]();_0x5b4d8c?(this['logger'][_0x5731f4(0x1f4)](_0x5731f4(0x1cd)),await this['sfdxUtils'][_0x5731f4(0x219)](this[_0x5731f4(0x20d)][_0x5731f4(0x1e0)]),await this[_0x5731f4(0x1cc)][_0x5731f4(0x1d9)](this[_0x5731f4(0x200)][_0x5731f4(0x1e0)]),await this[_0x5731f4(0x1cc)][_0x5731f4(0x218)](),await this[_0x5731f4(0x1ea)][_0x5731f4(0x205)]()):(this['logger'][_0x5731f4(0x1f4)](_0x5731f4(0x1c5)),await this[_0x5731f4(0x20d)][_0x5731f4(0x1c0)](this[_0x5731f4(0x200)][_0x5731f4(0x1e0)]));this[_0x5731f4(0x1ea)][_0x5731f4(0x1f4)](_0x5731f4(0x1df)),await this[_0x5731f4(0x200)][_0x5731f4(0x20c)](_0xe48887,{'email':_0xfca9ed['email'],'name':_0xfca9ed[_0x5731f4(0x1db)]},_0x3442f['name']),await this[_0x5731f4(0x200)]['removeDir'](),await this['mdapiUtils'][_0x5731f4(0x218)]();const _0x3d8a7c=this[_0x5731f4(0x1fd)]+this[_0x5731f4(0x1c3)];this[_0x5731f4(0x1ea)]['log'](_0x5731f4(0x202)+(Date[_0x5731f4(0x217)]()-this[_0x5731f4(0x1e9)])+'ms.\x20Commited\x20components\x20-\x20'+_0x3d8a7c),await this[_0x5731f4(0x1ea)][_0x5731f4(0x205)]();}catch(_0x1e724d){await this[_0x5731f4(0x203)](),this[_0x5731f4(0x1ea)][_0x5731f4(0x1f4)](_0x5731f4(0x1c6)+_0x1e724d),await this[_0x5731f4(0x1ea)][_0x5731f4(0x205)]();throw _0x1e724d;}}async[a142_0x729941(0x206)](_0x51f960){const _0xd37bc2=a142_0x729941;var _0x372137,_0x5a7f50,_0x3ba105,_0x332d9f;const _0x5132fc=!!((_0x5a7f50=(_0x372137=_0x51f960[_0xd37bc2(0x1f2)])===null||_0x372137===void 0x0?void 0x0:_0x372137[_0xd37bc2(0x1d4)])===null||_0x5a7f50===void 0x0?void 0x0:_0x5a7f50['length'])||!!((_0x332d9f=(_0x3ba105=_0x51f960['components'])===null||_0x3ba105===void 0x0?void 0x0:_0x3ba105[_0xd37bc2(0x207)])===null||_0x332d9f===void 0x0?void 0x0:_0x332d9f['length']);if(!_0x5132fc){this[_0xd37bc2(0x1ea)]['log']('[INFO]\x20Nothing\x20to\x20commit.\x20Skip.'),await this['logger']['send']();return;}this['commitData']=_0x51f960,await this['exec']();}};CommitComponentsJob=__decorate([typedi_1[a142_0x729941(0x1d0)]({'transient':!![]}),__metadata('design:paramtypes',[auth_settings_service_1[a142_0x729941(0x208)]])],CommitComponentsJob),exports[a142_0x729941(0x1fc)]=CommitComponentsJob;