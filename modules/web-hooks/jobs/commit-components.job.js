const a136_0x2163=['name','../../shared/utils','clone','removeDir','MDApiUtils','1512593VTWJBe','sort','commitData','1fSQlYK','dir','../utils/git.utils','1289221HHcfKU','gitUrl','events','now','38SReNdx','design:paramtypes','\x20components','../utils/mdapi.utils','__importDefault','__decorate','1494598IRAGQz','1466123ONsjio','../../parsers/mdapi/child-types','function','default','message','COMPONENTS_PER_TICK','[INFO]\x20Start\x20clonning\x20repository','[ERROR]\x20','replace','[INFO]\x20Done\x20','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','1KKnxBW','272887NUrQaK','1TXIzwK','constructor','__esModule','retriever','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','startTime','decorate','return\x20/\x22\x20+\x20this\x20+\x20\x22/','log','run','test','object','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','metadata','writeFlosumComponents','../../shared/services/auth-settings.service','mdapiUtils','://','GitUtils','getOwnPropertyDescriptor','getProtocol','typedi','gitUtils','commitAndPush','length','../utils/sfdx.utils','SFDXUtils','componentsIds','Service','[INFO]\x20Prepare\x20mdapi\x20files','prepareMdapi','sfdxUtils','includes','1fhdmuj','emit','1183320hRGoJB','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','writeComponents','clearDir','132745hMlfbK','SalesforceRetrieverService','defineProperty','createProjectFrom','exec','__metadata','splice','authSettings'];const a136_0x4bc8d9=a136_0x13ff;(function(_0x1532cd,_0x134dfc){const _0x60083a=a136_0x13ff;while(!![]){try{const _0x441113=-parseInt(_0x60083a(0x128))+-parseInt(_0x60083a(0x136))*parseInt(_0x60083a(0x135))+-parseInt(_0x60083a(0x105))*parseInt(_0x60083a(0x118))+-parseInt(_0x60083a(0x107))+parseInt(_0x60083a(0x11e))*-parseInt(_0x60083a(0x11b))+-parseInt(_0x60083a(0x129))*-parseInt(_0x60083a(0x134))+-parseInt(_0x60083a(0x10b))*-parseInt(_0x60083a(0x122));if(_0x441113===_0x134dfc)break;else _0x1532cd['push'](_0x1532cd['shift']());}catch(_0x402a37){_0x1532cd['push'](_0x1532cd['shift']());}}}(a136_0x2163,0xb9036));const a136_0xee7de7=function(){let _0x47b3a5=!![];return function(_0x5d81d7,_0x1ffe37){const _0x18cfb6=_0x47b3a5?function(){if(_0x1ffe37){const _0x30c1da=_0x1ffe37['apply'](_0x5d81d7,arguments);return _0x1ffe37=null,_0x30c1da;}}:function(){};return _0x47b3a5=![],_0x18cfb6;};}(),a136_0x139a57=a136_0xee7de7(this,function(){const _0x284c02=function(){const _0x386368=a136_0x13ff,_0x5d6469=_0x284c02[_0x386368(0x137)](_0x386368(0x13d))()[_0x386368(0x137)](_0x386368(0x13a));return!_0x5d6469[_0x386368(0xee)](a136_0x139a57);};return _0x284c02();});a136_0x139a57();'use strict';function a136_0x13ff(_0x1b3cca,_0x454c71){return a136_0x13ff=function(_0x5c9ea7,_0x139a57){_0x5c9ea7=_0x5c9ea7-0xec;let _0xee7de7=a136_0x2163[_0x5c9ea7];return _0xee7de7;},a136_0x13ff(_0x1b3cca,_0x454c71);}var __decorate=this&&this[a136_0x4bc8d9(0x127)]||function(_0x3e3b91,_0x19dbea,_0xed248c,_0x5a3120){const _0xaf1126=a136_0x4bc8d9;var _0x4547fa=arguments[_0xaf1126(0xfc)],_0x442883=_0x4547fa<0x3?_0x19dbea:_0x5a3120===null?_0x5a3120=Object[_0xaf1126(0xf7)](_0x19dbea,_0xed248c):_0x5a3120,_0x17b713;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0xaf1126(0x12b))_0x442883=Reflect[_0xaf1126(0x13c)](_0x3e3b91,_0x19dbea,_0xed248c,_0x5a3120);else{for(var _0x48311b=_0x3e3b91[_0xaf1126(0xfc)]-0x1;_0x48311b>=0x0;_0x48311b--)if(_0x17b713=_0x3e3b91[_0x48311b])_0x442883=(_0x4547fa<0x3?_0x17b713(_0x442883):_0x4547fa>0x3?_0x17b713(_0x19dbea,_0xed248c,_0x442883):_0x17b713(_0x19dbea,_0xed248c))||_0x442883;}return _0x4547fa>0x3&&_0x442883&&Object[_0xaf1126(0x10d)](_0x19dbea,_0xed248c,_0x442883),_0x442883;},__metadata=this&&this[a136_0x4bc8d9(0x110)]||function(_0x43a321,_0x5a97aa){const _0x16cc35=a136_0x4bc8d9;if(typeof Reflect===_0x16cc35(0xef)&&typeof Reflect[_0x16cc35(0xf1)]==='function')return Reflect[_0x16cc35(0xf1)](_0x43a321,_0x5a97aa);},__importDefault=this&&this[a136_0x4bc8d9(0x126)]||function(_0x16957e){const _0x331e7f=a136_0x4bc8d9;return _0x16957e&&_0x16957e[_0x331e7f(0x138)]?_0x16957e:{'default':_0x16957e};};Object[a136_0x4bc8d9(0x10d)](exports,a136_0x4bc8d9(0x138),{'value':!![]}),exports['CommitComponentsJob']=void 0x0;const events_1=__importDefault(require(a136_0x4bc8d9(0x120))),typedi_1=require(a136_0x4bc8d9(0xf9)),child_types_1=__importDefault(require(a136_0x4bc8d9(0x12a))),salesforce_retriever_service_1=require('../../salesforce/services/salesforce-retriever.service'),auth_settings_service_1=require(a136_0x4bc8d9(0xf3)),utils_1=require(a136_0x4bc8d9(0x114)),git_utils_1=require(a136_0x4bc8d9(0x11d)),mdapi_utils_1=require(a136_0x4bc8d9(0x125)),sfdx_utils_1=require(a136_0x4bc8d9(0xfd));let CommitComponentsJob=class CommitComponentsJob extends events_1[a136_0x4bc8d9(0x12c)]{constructor(_0x533d49,_0x532a15){const _0x1afb36=a136_0x4bc8d9;super(),this['authSettings']=_0x533d49,this[_0x1afb36(0x139)]=_0x532a15,this[_0x1afb36(0x12e)]=0xbb8,this[_0x1afb36(0x13b)]=Date[_0x1afb36(0x121)]();}get['remote'](){const _0x102469=a136_0x4bc8d9,{repo:_0x568fcf}=this[_0x102469(0x11a)],{gitCredentials:_0x22e174}=this[_0x102469(0x112)];return _0x568fcf[_0x102469(0x11f)][_0x102469(0x131)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x102469(0xf8)](_0x568fcf[_0x102469(0x11f)])+_0x102469(0xf5)+_0x22e174+'@');}['log'](_0x4fc88b){const _0x1cbe20=a136_0x4bc8d9;this[_0x1cbe20(0x106)](_0x1cbe20(0xec),_0x4fc88b);}async[a136_0x4bc8d9(0x109)](_0x4e9fb4){const _0x55ba1d=a136_0x4bc8d9,_0x1ba20f=await this['retriever'][_0x55ba1d(0xed)](_0x4e9fb4);_0x1ba20f[_0x55ba1d(0x119)](_0x47dad8=>child_types_1['default'][_0x55ba1d(0x104)](_0x47dad8['fileType'])?0x1:-0x1);let _0xbd7169=0x0;while(_0x1ba20f['length']){const _0x2fcb7f=_0x1ba20f[_0x55ba1d(0x111)](0x0,this[_0x55ba1d(0x12e)]);await this[_0x55ba1d(0xf4)][_0x55ba1d(0xf2)](_0x2fcb7f),_0xbd7169+=_0x2fcb7f[_0x55ba1d(0xfc)],this[_0x55ba1d(0xec)](_0x55ba1d(0x132)+_0xbd7169+'/'+_0x4e9fb4[_0x55ba1d(0xfc)]+_0x55ba1d(0x124));}}async[a136_0x4bc8d9(0x10f)](){const _0xc89b2a=a136_0x4bc8d9,{repo:_0x1427d0,branch:_0x2742fd,componentsIds:_0x5da438,convertToSFDX:_0x526257,message:_0x58f62e,user:_0x3135e6}=this['commitData'];this[_0xc89b2a(0xf4)]=new mdapi_utils_1[(_0xc89b2a(0x117))](_0x1427d0[_0xc89b2a(0x113)],_0x2742fd[_0xc89b2a(0x113)]),this['gitUtils']=new git_utils_1[(_0xc89b2a(0xf6))](this['remote']),this[_0xc89b2a(0x103)]=new sfdx_utils_1[(_0xc89b2a(0xfe))](_0x1427d0[_0xc89b2a(0x113)],_0x2742fd[_0xc89b2a(0x113)]);try{this[_0xc89b2a(0xec)](_0xc89b2a(0x12f)),await this[_0xc89b2a(0xfa)][_0xc89b2a(0x115)](_0x2742fd[_0xc89b2a(0x113)],_0x1427d0['name']),this[_0xc89b2a(0xec)](_0xc89b2a(0x101)),await this['mdapiUtils'][_0xc89b2a(0x102)](this[_0xc89b2a(0xfa)][_0xc89b2a(0x11c)]),await this[_0xc89b2a(0x109)](_0x5da438),await this[_0xc89b2a(0xfa)][_0xc89b2a(0x10a)](),_0x526257?(this[_0xc89b2a(0xec)]('[INFO]\x20Start\x20converting\x20to\x20SFDX'),await this[_0xc89b2a(0x103)][_0xc89b2a(0x10e)](this[_0xc89b2a(0xf4)][_0xc89b2a(0x11c)]),await this[_0xc89b2a(0x103)]['copyProjectTo'](this[_0xc89b2a(0xfa)]['dir']),await this[_0xc89b2a(0x103)][_0xc89b2a(0x116)]()):(this[_0xc89b2a(0xec)](_0xc89b2a(0x133)),await this['mdapiUtils']['copyMdapiTo'](this['gitUtils'][_0xc89b2a(0x11c)])),this[_0xc89b2a(0xec)](_0xc89b2a(0xf0)),await this['gitUtils'][_0xc89b2a(0xfb)](_0x58f62e,{'email':_0x3135e6['email'],'name':_0x3135e6[_0xc89b2a(0x113)]},_0x2742fd[_0xc89b2a(0x113)]),await this[_0xc89b2a(0xfa)]['removeDir'](),await this[_0xc89b2a(0xf4)][_0xc89b2a(0x116)](),this[_0xc89b2a(0xec)]('[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20'+(Date['now']()-this[_0xc89b2a(0x13b)])+'ms.\x20Commited\x20components\x20-\x20'+_0x5da438[_0xc89b2a(0xfc)]);}catch(_0x30210f){this['log'](_0xc89b2a(0x130)+(_0x30210f[_0xc89b2a(0x12d)]||_0x30210f));throw _0x30210f;}}async['run'](_0x55744a){const _0x5e343c=a136_0x4bc8d9;if(!_0x55744a['componentsIds']||!_0x55744a[_0x5e343c(0xff)][_0x5e343c(0xfc)]){this[_0x5e343c(0xec)](_0x5e343c(0x108));return;}this[_0x5e343c(0x11a)]=_0x55744a,await this[_0x5e343c(0x10f)]();}};CommitComponentsJob=__decorate([typedi_1[a136_0x4bc8d9(0x100)]({'transient':!![]}),__metadata(a136_0x4bc8d9(0x123),[auth_settings_service_1['AuthSettingsService'],salesforce_retriever_service_1[a136_0x4bc8d9(0x10c)]])],CommitComponentsJob),exports['CommitComponentsJob']=CommitComponentsJob;