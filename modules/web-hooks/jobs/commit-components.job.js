const a139_0x113de8=a139_0x3661;(function(_0x39442e,_0x4396ec){const _0xe8e417=a139_0x3661,_0x1ab18f=_0x39442e();while(!![]){try{const _0x2872e2=parseInt(_0xe8e417(0x223))/0x1+-parseInt(_0xe8e417(0x1e1))/0x2+parseInt(_0xe8e417(0x1ec))/0x3*(parseInt(_0xe8e417(0x1f9))/0x4)+-parseInt(_0xe8e417(0x1f0))/0x5+-parseInt(_0xe8e417(0x209))/0x6*(-parseInt(_0xe8e417(0x228))/0x7)+parseInt(_0xe8e417(0x1ff))/0x8*(parseInt(_0xe8e417(0x205))/0x9)+parseInt(_0xe8e417(0x226))/0xa*(-parseInt(_0xe8e417(0x224))/0xb);if(_0x2872e2===_0x4396ec)break;else _0x1ab18f['push'](_0x1ab18f['shift']());}catch(_0x229f88){_0x1ab18f['push'](_0x1ab18f['shift']());}}}(a139_0x1fa7,0x707cd));const a139_0x59bc71=function(){let _0x22d55f=!![];return function(_0x233ac0,_0x5c0b98){const _0x517bb3=_0x22d55f?function(){const _0x46faa3=a139_0x3661;if(_0x5c0b98){const _0x314379=_0x5c0b98[_0x46faa3(0x1e9)](_0x233ac0,arguments);return _0x5c0b98=null,_0x314379;}}:function(){};return _0x22d55f=![],_0x517bb3;};}(),a139_0x37b075=a139_0x59bc71(this,function(){const _0x5ddaf5=a139_0x3661;return a139_0x37b075['toString']()[_0x5ddaf5(0x215)](_0x5ddaf5(0x217))[_0x5ddaf5(0x219)]()[_0x5ddaf5(0x1db)](a139_0x37b075)[_0x5ddaf5(0x215)](_0x5ddaf5(0x217));});function a139_0x1fa7(){const _0x184a07=['2055057fqwViQ','message','decorate','now','1739160nxfBws','commitAndPush','groupComponentsByFileName','AuthSettingsService','mdapiUtils','SFDXUtils','prepareMdapi','length','commitData','4AoKTOx','copyMdapiTo','../../shared/services/auth-settings.service','[INFO]\x20Done\x20','componentsIds','replace','1648APqrez','send','__esModule','reduce','clone','dir','16164jKJAGy','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','run','../../parsers/mdapi/child-types','204306PHbLzg','GitUtils','://','[ERROR]\x20','design:paramtypes','object','writeComponents','gitUtils','[INFO]\x20Prepare\x20mdapi\x20files','gitUrl','[INFO]\x20Start\x20converting\x20to\x20SFDX','logger','search','writeFlosumComponents','(((.+)+)+)+$','Service','toString','MDApiUtils','CommitComponentsJob','sort','push','fileName','COMPONENTS_PER_TICK','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','sfdxUtils','458709STTVku','253KgMtva','copyProjectTo','317140qpdhke','__metadata','42mBWeRp','__importDefault','removeDir','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','name','constructor','function','values','log','getOwnPropertyDescriptor','splice','360014DvSPxs','exec','metadata','getProtocol','../utils/sfdx.utils','remote','defineProperty','\x20components','apply','[INFO]\x20Start\x20clonning\x20repository','typedi'];a139_0x1fa7=function(){return _0x184a07;};return a139_0x1fa7();}a139_0x37b075();'use strict';function a139_0x3661(_0x35fd9b,_0x45effa){const _0x4465d1=a139_0x1fa7();return a139_0x3661=function(_0x37b075,_0x59bc71){_0x37b075=_0x37b075-0x1d8;let _0x1fa75b=_0x4465d1[_0x37b075];return _0x1fa75b;},a139_0x3661(_0x35fd9b,_0x45effa);}var __decorate=this&&this['__decorate']||function(_0x5259bd,_0x4731bf,_0x481e34,_0x52471b){const _0x110d70=a139_0x3661;var _0x8a5468=arguments['length'],_0x2111fd=_0x8a5468<0x3?_0x4731bf:_0x52471b===null?_0x52471b=Object[_0x110d70(0x1df)](_0x4731bf,_0x481e34):_0x52471b,_0x1cb654;if(typeof Reflect===_0x110d70(0x20e)&&typeof Reflect[_0x110d70(0x1ee)]===_0x110d70(0x1dc))_0x2111fd=Reflect[_0x110d70(0x1ee)](_0x5259bd,_0x4731bf,_0x481e34,_0x52471b);else{for(var _0x9d81e9=_0x5259bd[_0x110d70(0x1f7)]-0x1;_0x9d81e9>=0x0;_0x9d81e9--)if(_0x1cb654=_0x5259bd[_0x9d81e9])_0x2111fd=(_0x8a5468<0x3?_0x1cb654(_0x2111fd):_0x8a5468>0x3?_0x1cb654(_0x4731bf,_0x481e34,_0x2111fd):_0x1cb654(_0x4731bf,_0x481e34))||_0x2111fd;}return _0x8a5468>0x3&&_0x2111fd&&Object[_0x110d70(0x1e7)](_0x4731bf,_0x481e34,_0x2111fd),_0x2111fd;},__metadata=this&&this[a139_0x113de8(0x227)]||function(_0x5de9c1,_0x3886fa){const _0x1179df=a139_0x113de8;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x1179df(0x1dc))return Reflect[_0x1179df(0x1e3)](_0x5de9c1,_0x3886fa);},__importDefault=this&&this[a139_0x113de8(0x229)]||function(_0x330596){const _0x3b8790=a139_0x113de8;return _0x330596&&_0x330596[_0x3b8790(0x201)]?_0x330596:{'default':_0x330596};};Object[a139_0x113de8(0x1e7)](exports,a139_0x113de8(0x201),{'value':!![]}),exports[a139_0x113de8(0x21b)]=void 0x0;const events_1=__importDefault(require('events')),typedi_1=require(a139_0x113de8(0x1eb)),child_types_1=__importDefault(require(a139_0x113de8(0x208))),auth_settings_service_1=require(a139_0x113de8(0x1fb)),utils_1=require('../../shared/utils'),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require('../utils/mdapi.utils'),sfdx_utils_1=require(a139_0x113de8(0x1e5));let CommitComponentsJob=class CommitComponentsJob extends events_1['default']{constructor(_0x30b632){const _0x5f226d=a139_0x113de8;super(),this['authSettings']=_0x30b632,this['COMPONENTS_PER_TICK']=0x3e8,this['startTime']=Date[_0x5f226d(0x1ef)]();}get[a139_0x113de8(0x1e6)](){const _0xaf32b=a139_0x113de8,{repo:_0x4e5f7d}=this['commitData'],{gitCredentials:_0x3d1ca2}=this['authSettings'];return _0x4e5f7d['gitUrl'][_0xaf32b(0x1fe)](/http(s)?\:\/\/(.+@)?/,utils_1[_0xaf32b(0x1e4)](_0x4e5f7d[_0xaf32b(0x212)])+_0xaf32b(0x20b)+_0x3d1ca2+'@');}[a139_0x113de8(0x1f2)](_0x8812b5){const _0x224b38=a139_0x113de8;var _0x2e6bb2;const _0x3b2138={};for(const _0x364e54 of _0x8812b5){_0x3b2138[_0x2e6bb2=_0x364e54[_0x224b38(0x21e)]]||(_0x3b2138[_0x2e6bb2]=[]),_0x3b2138[_0x364e54[_0x224b38(0x21e)]][_0x224b38(0x21d)](_0x364e54);}return Object[_0x224b38(0x1dd)](_0x3b2138)[_0x224b38(0x202)]((_0x3518bd,_0x528dc5)=>[..._0x3518bd,..._0x528dc5],[]);}async[a139_0x113de8(0x20f)](_0x5aa478){const _0x251c48=a139_0x113de8;let _0x3c2905=await this['retriever'][_0x251c48(0x207)](_0x5aa478);_0x3c2905[_0x251c48(0x21c)](_0x48b57b=>child_types_1['default']['includes'](_0x48b57b['fileType'])?0x1:-0x1),_0x3c2905=this['groupComponentsByFileName'](_0x3c2905);let _0x43fa23=0x0;while(_0x3c2905[_0x251c48(0x1f7)]){const _0x4315d1=_0x3c2905[_0x251c48(0x1e0)](0x0,this[_0x251c48(0x21f)]);await this[_0x251c48(0x1f4)][_0x251c48(0x216)](_0x4315d1),_0x43fa23+=_0x4315d1[_0x251c48(0x1f7)],this['logger'][_0x251c48(0x1de)](_0x251c48(0x1fc)+_0x43fa23+'/'+_0x5aa478[_0x251c48(0x1f7)]+_0x251c48(0x1e8)),await this['logger']['send']();}}async[a139_0x113de8(0x1e2)](){const _0x457d82=a139_0x113de8,{repo:_0x31dbb1,branch:_0x34a9bb,componentsIds:_0x32feae,convertToSFDX:_0x1a42af,message:_0x5ee0c1,user:_0x49f4f0}=this[_0x457d82(0x1f8)];this['mdapiUtils']=new mdapi_utils_1[(_0x457d82(0x21a))](_0x31dbb1[_0x457d82(0x1da)],_0x34a9bb[_0x457d82(0x1da)]),this['gitUtils']=new git_utils_1[(_0x457d82(0x20a))](this[_0x457d82(0x1e6)]),this[_0x457d82(0x222)]=new sfdx_utils_1[(_0x457d82(0x1f5))](_0x31dbb1[_0x457d82(0x1da)],_0x34a9bb[_0x457d82(0x1da)]);try{this[_0x457d82(0x214)][_0x457d82(0x1de)](_0x457d82(0x1ea)),await this[_0x457d82(0x210)][_0x457d82(0x203)](_0x34a9bb[_0x457d82(0x1da)],_0x31dbb1[_0x457d82(0x1da)]),!this['commitData']['force']?(this['logger'][_0x457d82(0x1de)](_0x457d82(0x211)),await this['mdapiUtils'][_0x457d82(0x1f6)](this[_0x457d82(0x210)]['dir'])):this['logger'][_0x457d82(0x1de)](_0x457d82(0x1d9)),await this['writeComponents'](_0x32feae),await this[_0x457d82(0x210)]['clearDir'](),await this[_0x457d82(0x214)][_0x457d82(0x200)](),_0x1a42af?(this[_0x457d82(0x214)]['log'](_0x457d82(0x213)),await this['sfdxUtils']['createProjectFrom'](this[_0x457d82(0x1f4)][_0x457d82(0x204)]),await this[_0x457d82(0x222)][_0x457d82(0x225)](this[_0x457d82(0x210)][_0x457d82(0x204)]),await this[_0x457d82(0x222)][_0x457d82(0x1d8)](),await this[_0x457d82(0x214)][_0x457d82(0x200)]()):(this['logger']['log']('[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder'),await this[_0x457d82(0x1f4)][_0x457d82(0x1fa)](this[_0x457d82(0x210)][_0x457d82(0x204)])),this['logger']['log'](_0x457d82(0x221)),await this[_0x457d82(0x210)][_0x457d82(0x1f1)](_0x5ee0c1,{'email':_0x49f4f0['email'],'name':_0x49f4f0[_0x457d82(0x1da)]},_0x34a9bb[_0x457d82(0x1da)]),await this[_0x457d82(0x210)]['removeDir'](),await this[_0x457d82(0x1f4)]['removeDir'](),this['logger'][_0x457d82(0x1de)](_0x457d82(0x220)+(Date[_0x457d82(0x1ef)]()-this['startTime'])+'ms.\x20Commited\x20components\x20-\x20'+_0x32feae['length']),await this['logger'][_0x457d82(0x200)]();}catch(_0x37dcf3){this['logger']['log'](_0x457d82(0x20c)+(_0x37dcf3[_0x457d82(0x1ed)]||_0x37dcf3)),await this[_0x457d82(0x214)][_0x457d82(0x200)]();throw _0x37dcf3;}}async[a139_0x113de8(0x207)](_0x59879c){const _0x3eaad2=a139_0x113de8;if(!_0x59879c[_0x3eaad2(0x1fd)]||!_0x59879c[_0x3eaad2(0x1fd)][_0x3eaad2(0x1f7)]){this[_0x3eaad2(0x214)]['log'](_0x3eaad2(0x206)),await this[_0x3eaad2(0x214)][_0x3eaad2(0x200)]();return;}this['commitData']=_0x59879c,await this['exec']();}};CommitComponentsJob=__decorate([typedi_1[a139_0x113de8(0x218)]({'transient':!![]}),__metadata(a139_0x113de8(0x20d),[auth_settings_service_1[a139_0x113de8(0x1f3)]])],CommitComponentsJob),exports[a139_0x113de8(0x21b)]=CommitComponentsJob;