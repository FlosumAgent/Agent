const a144_0x1f5d=['replace','mdapiUtils','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','force','length','metadata','default','remote','test','splice','CommitComponentsJob','__decorate','[INFO]\x20Writed\x20','../utils/sfdx.utils','log','../../shared/services/auth-settings.service','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','removeComponents','function','copyProjectTo','createProjectFrom','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','AuthSettingsService','deleted','catch','1338389sdbedy','../utils/mdapi.utils','dir','990187nNcuhX','[INFO]\x20Start\x20converting\x20to\x20SFDX','decorate','logger','exec','1oGJOoY','../../shared/utils','[INFO]\x20Prepare\x20mdapi\x20files','1356481TMLyPT','writeFlosumComponents','sfdxUtils','[INFO]\x20Start\x20clonning\x20repository','../utils/git.utils','GitUtils','1vBlHkZ','getOwnPropertyDescriptor','object','name','clearDir','components','89477zAebDF','[ERROR]\x20','659833EPsjsD','commitData','writed','now','__esModule','defineProperty','prepareMdapi','Service','apply','includes','MDApiUtils','fileType','COMPONENTS_PER_TICK','send','copyMdapiTo','email','fileName','ms.\x20Commited\x20components\x20-\x20','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','getProtocol','1nAtgyP','componentsToWrite','values','writeComponents','1ORtqmo','return\x20/\x22\x20+\x20this\x20+\x20\x22/','typedi','gitUrl','authSettings','\x20components','removeDir','gitUtils','componentsToDelete','../../parsers/mdapi/child-types','SFDXUtils','[INFO]\x20Preparing\x20to\x20write\x20components','4302925TtoAcC','reduce','1546189ngSrNq','push','[INFO]\x20Preparing\x20to\x20delete\x20components','sort'];const a144_0x5c93d9=a144_0x3a18;(function(_0x2fcc6d,_0x40120b){const _0xfd0a01=a144_0x3a18;while(!![]){try{const _0x528107=-parseInt(_0xfd0a01(0x158))+-parseInt(_0xfd0a01(0x18d))*parseInt(_0xfd0a01(0x17b))+parseInt(_0xfd0a01(0x166))*-parseInt(_0xfd0a01(0x15e))+-parseInt(_0xfd0a01(0x150))+-parseInt(_0xfd0a01(0x17f))*parseInt(_0xfd0a01(0x164))+-parseInt(_0xfd0a01(0x14d))*-parseInt(_0xfd0a01(0x155))+parseInt(_0xfd0a01(0x18b));if(_0x528107===_0x40120b)break;else _0x2fcc6d['push'](_0x2fcc6d['shift']());}catch(_0xe9fbeb){_0x2fcc6d['push'](_0x2fcc6d['shift']());}}}(a144_0x1f5d,0xf3eeb));const a144_0x512099=function(){let _0x3f856e=!![];return function(_0x3c58ae,_0x571126){const _0x35f966=_0x3f856e?function(){const _0x2a903d=a144_0x3a18;if(_0x571126){const _0x4867e2=_0x571126[_0x2a903d(0x16e)](_0x3c58ae,arguments);return _0x571126=null,_0x4867e2;}}:function(){};return _0x3f856e=![],_0x35f966;};}(),a144_0x1fa1ef=a144_0x512099(this,function(){const _0x2e1769=function(){const _0x42262f=a144_0x3a18,_0x38bc29=_0x2e1769['constructor'](_0x42262f(0x180))()['constructor'](_0x42262f(0x193));return!_0x38bc29[_0x42262f(0x199)](a144_0x1fa1ef);};return _0x2e1769();});a144_0x1fa1ef();'use strict';var __decorate=this&&this[a144_0x5c93d9(0x19c)]||function(_0x533a2b,_0x17e5b5,_0x54c7ad,_0x49cade){const _0x156ab4=a144_0x5c93d9;var _0x3c6c5a=arguments['length'],_0x50dfe1=_0x3c6c5a<0x3?_0x17e5b5:_0x49cade===null?_0x49cade=Object[_0x156ab4(0x15f)](_0x17e5b5,_0x54c7ad):_0x49cade,_0x4d7ab4;if(typeof Reflect===_0x156ab4(0x160)&&typeof Reflect[_0x156ab4(0x152)]==='function')_0x50dfe1=Reflect['decorate'](_0x533a2b,_0x17e5b5,_0x54c7ad,_0x49cade);else{for(var _0x10efa5=_0x533a2b[_0x156ab4(0x195)]-0x1;_0x10efa5>=0x0;_0x10efa5--)if(_0x4d7ab4=_0x533a2b[_0x10efa5])_0x50dfe1=(_0x3c6c5a<0x3?_0x4d7ab4(_0x50dfe1):_0x3c6c5a>0x3?_0x4d7ab4(_0x17e5b5,_0x54c7ad,_0x50dfe1):_0x4d7ab4(_0x17e5b5,_0x54c7ad))||_0x50dfe1;}return _0x3c6c5a>0x3&&_0x50dfe1&&Object[_0x156ab4(0x16b)](_0x17e5b5,_0x54c7ad,_0x50dfe1),_0x50dfe1;},__metadata=this&&this['__metadata']||function(_0x2b28d5,_0x40af6c){const _0x4d937b=a144_0x5c93d9;if(typeof Reflect===_0x4d937b(0x160)&&typeof Reflect[_0x4d937b(0x196)]===_0x4d937b(0x1a3))return Reflect[_0x4d937b(0x196)](_0x2b28d5,_0x40af6c);},__importDefault=this&&this['__importDefault']||function(_0xc00a42){return _0xc00a42&&_0xc00a42['__esModule']?_0xc00a42:{'default':_0xc00a42};};function a144_0x3a18(_0x10c205,_0x13f77f){return a144_0x3a18=function(_0x2a507c,_0x1fa1ef){_0x2a507c=_0x2a507c-0x14a;let _0x512099=a144_0x1f5d[_0x2a507c];return _0x512099;},a144_0x3a18(_0x10c205,_0x13f77f);}Object[a144_0x5c93d9(0x16b)](exports,a144_0x5c93d9(0x16a),{'value':!![]}),exports[a144_0x5c93d9(0x19b)]=void 0x0;const events_1=__importDefault(require('events')),typedi_1=require(a144_0x5c93d9(0x181)),child_types_1=__importDefault(require(a144_0x5c93d9(0x188))),auth_settings_service_1=require(a144_0x5c93d9(0x1a0)),utils_1=require(a144_0x5c93d9(0x156)),git_utils_1=require(a144_0x5c93d9(0x15c)),mdapi_utils_1=require(a144_0x5c93d9(0x14e)),sfdx_utils_1=require(a144_0x5c93d9(0x19e));let CommitComponentsJob=class CommitComponentsJob extends events_1[a144_0x5c93d9(0x197)]{constructor(_0x2b6218){const _0x47d268=a144_0x5c93d9;super(),this[_0x47d268(0x183)]=_0x2b6218,this[_0x47d268(0x172)]=0x3e8,this[_0x47d268(0x17c)]=0x0,this[_0x47d268(0x187)]=0x0,this['startTime']=Date[_0x47d268(0x169)]();}get[a144_0x5c93d9(0x198)](){const _0x17e7dc=a144_0x5c93d9,{repo:_0x3b5a3d}=this[_0x17e7dc(0x167)],{gitCredentials:_0x4bf12a}=this[_0x17e7dc(0x183)];return _0x3b5a3d[_0x17e7dc(0x182)][_0x17e7dc(0x191)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x17e7dc(0x17a)](_0x3b5a3d[_0x17e7dc(0x182)])+'://'+_0x4bf12a+'@');}['groupComponentsByFileName'](_0x1a7a39){const _0x51661a=a144_0x5c93d9;var _0xe3d0a7;_0x1a7a39[_0x51661a(0x190)](_0x21fc49=>child_types_1[_0x51661a(0x197)][_0x51661a(0x16f)](_0x21fc49[_0x51661a(0x171)])?0x1:-0x1);const _0x3867e3={};for(const _0x12e93d of _0x1a7a39){_0x3867e3[_0xe3d0a7=_0x12e93d[_0x51661a(0x176)]]||(_0x3867e3[_0xe3d0a7]=[]),_0x3867e3[_0x12e93d[_0x51661a(0x176)]][_0x51661a(0x18e)](_0x12e93d);}return Object[_0x51661a(0x17d)](_0x3867e3)[_0x51661a(0x18c)]((_0x44cac7,_0x5868b3)=>[..._0x44cac7,..._0x5868b3],[]);}async['writeComponents'](_0x2b363e){const _0x7dd65a=a144_0x5c93d9;_0x2b363e=this['groupComponentsByFileName'](_0x2b363e);let _0x193cc7=0x0;while(_0x2b363e[_0x7dd65a(0x195)]){const _0x2fa41c=_0x2b363e[_0x7dd65a(0x19a)](0x0,this[_0x7dd65a(0x172)]);await this['mdapiUtils'][_0x7dd65a(0x159)](_0x2fa41c),_0x193cc7+=_0x2fa41c[_0x7dd65a(0x195)],this[_0x7dd65a(0x153)][_0x7dd65a(0x19f)](_0x7dd65a(0x19d)+_0x193cc7+'/'+this[_0x7dd65a(0x17c)]+_0x7dd65a(0x184)),await this['logger'][_0x7dd65a(0x173)]();}}async[a144_0x5c93d9(0x1a2)](_0x3570fc){const _0x578f40=a144_0x5c93d9;let _0x912f76=0x0;while(_0x3570fc[_0x578f40(0x195)]){const _0x4f7ce8=_0x3570fc['splice'](0x0,this[_0x578f40(0x172)]);await this['mdapiUtils']['removeComponents'](_0x4f7ce8),_0x912f76+=_0x4f7ce8['length'],this[_0x578f40(0x153)]['log']('[INFO]\x20Deleted\x20'+_0x912f76+'/'+this[_0x578f40(0x187)]+_0x578f40(0x184)),await this['logger'][_0x578f40(0x173)]();}}async['cleanUp'](){const _0xce2047=a144_0x5c93d9;this['gitUtils']&&await this[_0xce2047(0x186)][_0xce2047(0x185)]()[_0xce2047(0x14c)](()=>void 0x0),this[_0xce2047(0x192)]&&await this[_0xce2047(0x192)][_0xce2047(0x185)]()[_0xce2047(0x14c)](()=>void 0x0),this[_0xce2047(0x15a)]&&await this[_0xce2047(0x15a)][_0xce2047(0x185)]()[_0xce2047(0x14c)](()=>void 0x0);}async[a144_0x5c93d9(0x154)](){const _0x1a02b8=a144_0x5c93d9,{repo:_0x1b16f3,branch:_0xa2e132,components:_0x25db81,convertToSFDX:_0x4677ad,message:_0x46b926,user:_0x4fa499}=this[_0x1a02b8(0x167)];this[_0x1a02b8(0x192)]=new mdapi_utils_1[(_0x1a02b8(0x170))](_0x1b16f3[_0x1a02b8(0x161)],_0xa2e132[_0x1a02b8(0x161)]),this['gitUtils']=new git_utils_1[(_0x1a02b8(0x15d))](this[_0x1a02b8(0x198)]),this[_0x1a02b8(0x15a)]=new sfdx_utils_1[(_0x1a02b8(0x189))](_0x1b16f3['name'],_0xa2e132[_0x1a02b8(0x161)]);try{this['logger'][_0x1a02b8(0x19f)](_0x1a02b8(0x15b)),await this[_0x1a02b8(0x186)]['clone'](_0xa2e132['name'],_0x1b16f3['name']);!this[_0x1a02b8(0x167)][_0x1a02b8(0x194)]?(this['logger'][_0x1a02b8(0x19f)](_0x1a02b8(0x157)),await this[_0x1a02b8(0x192)][_0x1a02b8(0x16c)](this[_0x1a02b8(0x186)][_0x1a02b8(0x14f)])):this[_0x1a02b8(0x153)][_0x1a02b8(0x19f)](_0x1a02b8(0x1a1));_0x25db81[_0x1a02b8(0x168)]&&(this[_0x1a02b8(0x153)]['log'](_0x1a02b8(0x18a)),this['componentsToWrite']=_0x25db81[_0x1a02b8(0x168)][_0x1a02b8(0x195)],await this[_0x1a02b8(0x17e)](_0x25db81[_0x1a02b8(0x168)]));_0x25db81[_0x1a02b8(0x14b)]&&(this[_0x1a02b8(0x153)]['log'](_0x1a02b8(0x18f)),this['componentsToDelete']=_0x25db81[_0x1a02b8(0x14b)][_0x1a02b8(0x195)],await this['removeComponents'](_0x25db81[_0x1a02b8(0x14b)]));await this[_0x1a02b8(0x186)][_0x1a02b8(0x162)](),await this[_0x1a02b8(0x153)][_0x1a02b8(0x173)]();_0x4677ad?(this[_0x1a02b8(0x153)][_0x1a02b8(0x19f)](_0x1a02b8(0x151)),await this['sfdxUtils'][_0x1a02b8(0x1a5)](this[_0x1a02b8(0x192)]['dir']),await this[_0x1a02b8(0x15a)][_0x1a02b8(0x1a4)](this['gitUtils'][_0x1a02b8(0x14f)]),await this['sfdxUtils']['removeDir'](),await this[_0x1a02b8(0x153)][_0x1a02b8(0x173)]()):(this[_0x1a02b8(0x153)][_0x1a02b8(0x19f)]('[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder'),await this[_0x1a02b8(0x192)][_0x1a02b8(0x174)](this[_0x1a02b8(0x186)][_0x1a02b8(0x14f)]));this[_0x1a02b8(0x153)][_0x1a02b8(0x19f)](_0x1a02b8(0x178)),await this[_0x1a02b8(0x186)]['commitAndPush'](_0x46b926,{'email':_0x4fa499[_0x1a02b8(0x175)],'name':_0x4fa499[_0x1a02b8(0x161)]},_0xa2e132[_0x1a02b8(0x161)]),await this[_0x1a02b8(0x186)][_0x1a02b8(0x185)](),await this['mdapiUtils'][_0x1a02b8(0x185)]();const _0x20d0ba=this[_0x1a02b8(0x17c)]+this[_0x1a02b8(0x187)];this[_0x1a02b8(0x153)][_0x1a02b8(0x19f)](_0x1a02b8(0x179)+(Date['now']()-this['startTime'])+_0x1a02b8(0x177)+_0x20d0ba),await this[_0x1a02b8(0x153)][_0x1a02b8(0x173)]();}catch(_0x18d4e9){await this['cleanUp'](),this[_0x1a02b8(0x153)][_0x1a02b8(0x19f)](_0x1a02b8(0x165)+_0x18d4e9),await this[_0x1a02b8(0x153)][_0x1a02b8(0x173)]();throw _0x18d4e9;}}async['run'](_0x2f9ac2){const _0x23bcfb=a144_0x5c93d9;var _0x42a36e,_0xc80bce,_0x193d86,_0x4b1e46;const _0x27f316=!!((_0xc80bce=(_0x42a36e=_0x2f9ac2['components'])===null||_0x42a36e===void 0x0?void 0x0:_0x42a36e[_0x23bcfb(0x168)])===null||_0xc80bce===void 0x0?void 0x0:_0xc80bce[_0x23bcfb(0x195)])||!!((_0x4b1e46=(_0x193d86=_0x2f9ac2[_0x23bcfb(0x163)])===null||_0x193d86===void 0x0?void 0x0:_0x193d86['deleted'])===null||_0x4b1e46===void 0x0?void 0x0:_0x4b1e46[_0x23bcfb(0x195)]);if(!_0x27f316){this[_0x23bcfb(0x153)][_0x23bcfb(0x19f)](_0x23bcfb(0x1a6)),await this['logger'][_0x23bcfb(0x173)]();return;}this[_0x23bcfb(0x167)]=_0x2f9ac2,await this[_0x23bcfb(0x154)]();}};CommitComponentsJob=__decorate([typedi_1[a144_0x5c93d9(0x16d)]({'transient':!![]}),__metadata('design:paramtypes',[auth_settings_service_1[a144_0x5c93d9(0x14a)]])],CommitComponentsJob),exports[a144_0x5c93d9(0x19b)]=CommitComponentsJob;