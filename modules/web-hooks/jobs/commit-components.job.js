const a144_0x30c7=['../../shared/services/auth-settings.service','\x20components','function','remote','COMPONENTS_PER_TICK','getOwnPropertyDescriptor','__metadata','events','gitUrl','catch','type','logger','sort','122654XsRqXp','componentsToWrite','removeDir','dir','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','__importDefault','[INFO]\x20Prepare\x20mdapi\x20files','prepareMdapi','984965jnTYtY','../../shared/utils','commitData','return\x20/\x22\x20+\x20this\x20+\x20\x22/','metadata','splice','decorate','[INFO]\x20Preparing\x20to\x20delete\x20components','defineProperty','mdapiUtils','default','writeComponents','MDApiUtils','../utils/mdapi.utils','../utils/git.utils','replace','://','fileType','length','includes','writeFlosumComponents','constructor','createProjectFrom','writed','send','startTime','[INFO]\x20Start\x20converting\x20to\x20SFDX','removeComponents','sfdxUtils','../../parsers/mdapi/child-types','gitUtils','[ERROR]\x20','deleted','cleanUp','__esModule','email','SFDXUtils','1092598nUIaIs','force','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','fileName','log','components','ms.\x20Commited\x20components\x20-\x20','groupComponentsByFileName','223027DTYVgg','now','reduce','push','CommitComponentsJob','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','GitUtils','apply','[INFO]\x20Deleted\x20','authSettings','object','copyProjectTo','717040FwORcR','exec','name','typedi','componentsToDelete','111655amppwZ','206043MxuYBV','[INFO]\x20Start\x20clonning\x20repository'];const a144_0x6a4eb0=a144_0x47c8;(function(_0x21d574,_0x46af1b){const _0x2c6f41=a144_0x47c8;while(!![]){try{const _0x1c5067=-parseInt(_0x2c6f41(0x1e7))+parseInt(_0x2c6f41(0x1a8))+-parseInt(_0x2c6f41(0x1e2))+-parseInt(_0x2c6f41(0x1d6))+-parseInt(_0x2c6f41(0x1a0))+parseInt(_0x2c6f41(0x1cd))+-parseInt(_0x2c6f41(0x1e8));if(_0x1c5067===_0x46af1b)break;else _0x21d574['push'](_0x21d574['shift']());}catch(_0x510ae2){_0x21d574['push'](_0x21d574['shift']());}}}(a144_0x30c7,0xaa338));const a144_0x29d151=function(){let _0x3d3309=!![];return function(_0x54365d,_0x2c7fcf){const _0x18018f=_0x3d3309?function(){const _0x5f3986=a144_0x47c8;if(_0x2c7fcf){const _0xfd7aff=_0x2c7fcf[_0x5f3986(0x1dd)](_0x54365d,arguments);return _0x2c7fcf=null,_0xfd7aff;}}:function(){};return _0x3d3309=![],_0x18018f;};}(),a144_0x450455=a144_0x29d151(this,function(){const _0x6ed3d2=function(){const _0x4f838e=a144_0x47c8,_0x2ddf27=_0x6ed3d2[_0x4f838e(0x1bd)](_0x4f838e(0x1ab))()[_0x4f838e(0x1bd)](_0x4f838e(0x1a4));return!_0x2ddf27['test'](a144_0x450455);};return _0x6ed3d2();});a144_0x450455();'use strict';var __decorate=this&&this['__decorate']||function(_0x3f7b53,_0xc263b4,_0x552a9b,_0x3a303e){const _0x1d52a8=a144_0x47c8;var _0xc1829=arguments[_0x1d52a8(0x1ba)],_0x590c06=_0xc1829<0x3?_0xc263b4:_0x3a303e===null?_0x3a303e=Object[_0x1d52a8(0x1ef)](_0xc263b4,_0x552a9b):_0x3a303e,_0x399248;if(typeof Reflect===_0x1d52a8(0x1e0)&&typeof Reflect[_0x1d52a8(0x1ae)]===_0x1d52a8(0x1ec))_0x590c06=Reflect[_0x1d52a8(0x1ae)](_0x3f7b53,_0xc263b4,_0x552a9b,_0x3a303e);else{for(var _0x423282=_0x3f7b53[_0x1d52a8(0x1ba)]-0x1;_0x423282>=0x0;_0x423282--)if(_0x399248=_0x3f7b53[_0x423282])_0x590c06=(_0xc1829<0x3?_0x399248(_0x590c06):_0xc1829>0x3?_0x399248(_0xc263b4,_0x552a9b,_0x590c06):_0x399248(_0xc263b4,_0x552a9b))||_0x590c06;}return _0xc1829>0x3&&_0x590c06&&Object[_0x1d52a8(0x1b0)](_0xc263b4,_0x552a9b,_0x590c06),_0x590c06;},__metadata=this&&this[a144_0x6a4eb0(0x199)]||function(_0x53024f,_0x34a837){const _0x520ab1=a144_0x6a4eb0;if(typeof Reflect===_0x520ab1(0x1e0)&&typeof Reflect[_0x520ab1(0x1ac)]===_0x520ab1(0x1ec))return Reflect[_0x520ab1(0x1ac)](_0x53024f,_0x34a837);},__importDefault=this&&this[a144_0x6a4eb0(0x1a5)]||function(_0x2129b8){const _0xd856f=a144_0x6a4eb0;return _0x2129b8&&_0x2129b8[_0xd856f(0x1ca)]?_0x2129b8:{'default':_0x2129b8};};Object[a144_0x6a4eb0(0x1b0)](exports,a144_0x6a4eb0(0x1ca),{'value':!![]}),exports['CommitComponentsJob']=void 0x0;const auth_settings_service_1=require(a144_0x6a4eb0(0x1ea)),events_1=__importDefault(require(a144_0x6a4eb0(0x19a))),git_utils_1=require(a144_0x6a4eb0(0x1b6)),mdapi_utils_1=require(a144_0x6a4eb0(0x1b5)),sfdx_utils_1=require('../utils/sfdx.utils'),typedi_1=require(a144_0x6a4eb0(0x1e5)),child_types_1=__importDefault(require(a144_0x6a4eb0(0x1c5))),utils_1=require(a144_0x6a4eb0(0x1a9));function a144_0x47c8(_0x1185e4,_0x2af8de){return a144_0x47c8=function(_0x1b3617,_0x450455){_0x1b3617=_0x1b3617-0x199;let _0x29d151=a144_0x30c7[_0x1b3617];return _0x29d151;},a144_0x47c8(_0x1185e4,_0x2af8de);}let CommitComponentsJob=class CommitComponentsJob extends events_1[a144_0x6a4eb0(0x1b2)]{constructor(_0xacc983){const _0x55f282=a144_0x6a4eb0;super(),this[_0x55f282(0x1df)]=_0xacc983,this[_0x55f282(0x1ee)]=0x3e8,this[_0x55f282(0x1a1)]=0x0,this['componentsToDelete']=0x0,this['startTime']=Date[_0x55f282(0x1d7)]();}get[a144_0x6a4eb0(0x1ed)](){const _0x16d287=a144_0x6a4eb0,{repo:_0x3dbf9f}=this['commitData'],{gitCredentials:_0x337237}=this[_0x16d287(0x1df)];return _0x3dbf9f[_0x16d287(0x19b)][_0x16d287(0x1b7)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x3dbf9f[_0x16d287(0x19b)])+_0x16d287(0x1b8)+_0x337237+'@');}['groupComponentsByFileName'](_0x507d75){const _0x5174e6=a144_0x6a4eb0;var _0x5d61dd;_0x507d75[_0x5174e6(0x19f)](_0x1a6d08=>child_types_1[_0x5174e6(0x1b2)][_0x5174e6(0x1bb)](_0x1a6d08[_0x5174e6(0x1b9)])?0x1:-0x1);const _0xb347d8={};for(const _0x4c9c3c of _0x507d75){_0xb347d8[_0x5d61dd=_0x4c9c3c[_0x5174e6(0x1d1)]]||(_0xb347d8[_0x5d61dd]=[]),_0xb347d8[_0x4c9c3c[_0x5174e6(0x1d1)]][_0x5174e6(0x1d9)](_0x4c9c3c);}return Object['values'](_0xb347d8)[_0x5174e6(0x1d8)]((_0x294254,_0x1f51e8)=>[..._0x294254,..._0x1f51e8],[]);}async[a144_0x6a4eb0(0x1b3)](_0x37ec20){const _0x4265b4=a144_0x6a4eb0;_0x37ec20=this[_0x4265b4(0x1d5)](_0x37ec20);let _0xb2167f=0x0;while(_0x37ec20[_0x4265b4(0x1ba)]){const _0x38cd98=_0x37ec20[_0x4265b4(0x1ad)](0x0,this[_0x4265b4(0x1ee)]);await this[_0x4265b4(0x1b1)][_0x4265b4(0x1bc)](_0x38cd98),_0xb2167f+=_0x38cd98[_0x4265b4(0x1ba)],this[_0x4265b4(0x19e)][_0x4265b4(0x1d2)]('[INFO]\x20Writed\x20'+_0xb2167f+'/'+this[_0x4265b4(0x1a1)]+'\x20components'),await this[_0x4265b4(0x19e)]['send']();}}async[a144_0x6a4eb0(0x1c3)](_0x4f2c31){const _0x5e4e4c=a144_0x6a4eb0;_0x4f2c31[_0x5e4e4c(0x19f)](_0x8bc5b=>child_types_1[_0x5e4e4c(0x1b2)]['includes'](_0x8bc5b[_0x5e4e4c(0x19d)])?-0x1:0x1);let _0x29e755=0x0;while(_0x4f2c31[_0x5e4e4c(0x1ba)]){const _0x15556b=_0x4f2c31[_0x5e4e4c(0x1ad)](0x0,this['COMPONENTS_PER_TICK']);await this[_0x5e4e4c(0x1b1)][_0x5e4e4c(0x1c3)](_0x15556b),_0x29e755+=_0x15556b[_0x5e4e4c(0x1ba)],this[_0x5e4e4c(0x19e)]['log'](_0x5e4e4c(0x1de)+_0x29e755+'/'+this[_0x5e4e4c(0x1e6)]+_0x5e4e4c(0x1eb)),await this['logger']['send']();}}async[a144_0x6a4eb0(0x1c9)](){const _0x59d0d4=a144_0x6a4eb0;this[_0x59d0d4(0x1c6)]&&await this[_0x59d0d4(0x1c6)]['removeDir']()['catch'](()=>void 0x0),this[_0x59d0d4(0x1b1)]&&await this[_0x59d0d4(0x1b1)]['removeDir']()[_0x59d0d4(0x19c)](()=>void 0x0),this[_0x59d0d4(0x1c4)]&&await this[_0x59d0d4(0x1c4)][_0x59d0d4(0x1a2)]()[_0x59d0d4(0x19c)](()=>void 0x0);}async[a144_0x6a4eb0(0x1e3)](){const _0x36edaa=a144_0x6a4eb0,{repo:_0x55a384,branch:_0x4c1fd1,components:_0x5a96f6,convertToSFDX:_0x31d600,message:_0x132ae1,user:_0x2da838}=this[_0x36edaa(0x1aa)];this[_0x36edaa(0x1b1)]=new mdapi_utils_1[(_0x36edaa(0x1b4))](_0x55a384[_0x36edaa(0x1e4)],_0x4c1fd1[_0x36edaa(0x1e4)]),this['gitUtils']=new git_utils_1[(_0x36edaa(0x1dc))](this['remote']),this[_0x36edaa(0x1c4)]=new sfdx_utils_1[(_0x36edaa(0x1cc))](_0x55a384[_0x36edaa(0x1e4)],_0x4c1fd1['name']);try{this[_0x36edaa(0x19e)][_0x36edaa(0x1d2)](_0x36edaa(0x1e9)),await this[_0x36edaa(0x1c6)]['clone'](_0x4c1fd1[_0x36edaa(0x1e4)],_0x55a384[_0x36edaa(0x1e4)]);!this[_0x36edaa(0x1aa)][_0x36edaa(0x1ce)]?(this[_0x36edaa(0x19e)][_0x36edaa(0x1d2)](_0x36edaa(0x1a6)),await this['mdapiUtils'][_0x36edaa(0x1a7)](this[_0x36edaa(0x1c6)][_0x36edaa(0x1a3)])):this[_0x36edaa(0x19e)][_0x36edaa(0x1d2)]('[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.');_0x5a96f6[_0x36edaa(0x1bf)]&&(this['logger'][_0x36edaa(0x1d2)]('[INFO]\x20Preparing\x20to\x20write\x20components'),this[_0x36edaa(0x1a1)]=_0x5a96f6[_0x36edaa(0x1bf)][_0x36edaa(0x1ba)],await this['writeComponents'](_0x5a96f6[_0x36edaa(0x1bf)]));_0x5a96f6[_0x36edaa(0x1c8)]&&(this['logger'][_0x36edaa(0x1d2)](_0x36edaa(0x1af)),this['componentsToDelete']=_0x5a96f6[_0x36edaa(0x1c8)][_0x36edaa(0x1ba)],await this[_0x36edaa(0x1c3)](_0x5a96f6['deleted']));await this['gitUtils']['clearDir'](),await this[_0x36edaa(0x19e)][_0x36edaa(0x1c0)]();_0x31d600?(this[_0x36edaa(0x19e)]['log'](_0x36edaa(0x1c2)),await this[_0x36edaa(0x1c4)][_0x36edaa(0x1be)](this[_0x36edaa(0x1b1)][_0x36edaa(0x1a3)]),await this[_0x36edaa(0x1c4)][_0x36edaa(0x1e1)](this[_0x36edaa(0x1c6)][_0x36edaa(0x1a3)]),await this[_0x36edaa(0x1c4)][_0x36edaa(0x1a2)](),await this[_0x36edaa(0x19e)][_0x36edaa(0x1c0)]()):(this['logger'][_0x36edaa(0x1d2)]('[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder'),await this[_0x36edaa(0x1b1)]['copyMdapiTo'](this[_0x36edaa(0x1c6)][_0x36edaa(0x1a3)]));this[_0x36edaa(0x19e)][_0x36edaa(0x1d2)](_0x36edaa(0x1d0)),await this[_0x36edaa(0x1c6)]['commitAndPush'](_0x132ae1,{'email':_0x2da838[_0x36edaa(0x1cb)],'name':_0x2da838[_0x36edaa(0x1e4)]},_0x4c1fd1['name']),await this[_0x36edaa(0x1c6)][_0x36edaa(0x1a2)](),await this[_0x36edaa(0x1b1)][_0x36edaa(0x1a2)]();const _0x150344=this[_0x36edaa(0x1a1)]+this[_0x36edaa(0x1e6)];this[_0x36edaa(0x19e)][_0x36edaa(0x1d2)](_0x36edaa(0x1db)+(Date[_0x36edaa(0x1d7)]()-this[_0x36edaa(0x1c1)])+_0x36edaa(0x1d4)+_0x150344),await this[_0x36edaa(0x19e)][_0x36edaa(0x1c0)]();}catch(_0x16e55c){await this['cleanUp'](),this[_0x36edaa(0x19e)]['log'](_0x36edaa(0x1c7)+_0x16e55c),await this[_0x36edaa(0x19e)][_0x36edaa(0x1c0)]();throw _0x16e55c;}}async['run'](_0x3abbf3){const _0x86430a=a144_0x6a4eb0;var _0x424157,_0x3b2829,_0x892f8c,_0x4c80fd;const _0x24a538=!!((_0x3b2829=(_0x424157=_0x3abbf3[_0x86430a(0x1d3)])===null||_0x424157===void 0x0?void 0x0:_0x424157[_0x86430a(0x1bf)])===null||_0x3b2829===void 0x0?void 0x0:_0x3b2829[_0x86430a(0x1ba)])||!!((_0x4c80fd=(_0x892f8c=_0x3abbf3['components'])===null||_0x892f8c===void 0x0?void 0x0:_0x892f8c[_0x86430a(0x1c8)])===null||_0x4c80fd===void 0x0?void 0x0:_0x4c80fd['length']);if(!_0x24a538){this[_0x86430a(0x19e)][_0x86430a(0x1d2)](_0x86430a(0x1cf)),await this['logger']['send']();return;}this[_0x86430a(0x1aa)]=_0x3abbf3,await this[_0x86430a(0x1e3)]();}};CommitComponentsJob=__decorate([typedi_1['Service']({'transient':!![]}),__metadata('design:paramtypes',[auth_settings_service_1['AuthSettingsService']])],CommitComponentsJob),exports[a144_0x6a4eb0(0x1da)]=CommitComponentsJob;