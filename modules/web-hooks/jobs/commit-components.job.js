const a142_0x1a88=['__importDefault','length','catch','exec','reduce','force','__metadata','SFDXUtils','1831677HMMyFK','../../shared/services/auth-settings.service','5wIaBIW','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','GitUtils','logger','copyMdapiTo','componentsToWrite','../utils/mdapi.utils','replace','gitUtils','defineProperty','authSettings','test','typedi','[INFO]\x20Start\x20converting\x20to\x20SFDX','1890730pVDnZP','gitUrl','fileType','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','[INFO]\x20Writed\x20','default','constructor','events','[INFO]\x20Deleted\x20','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','48549QSadfV','decorate','[INFO]\x20Prepare\x20mdapi\x20files','includes','commitData','__esModule','fileName','writeComponents','://','cleanUp','return\x20/\x22\x20+\x20this\x20+\x20\x22/','527911rplTrc','dir','clearDir','object','writed','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','CommitComponentsJob','463290jrlhQr','getOwnPropertyDescriptor','1ppAxON','remote','email','createProjectFrom','../utils/git.utils','writeFlosumComponents','mdapiUtils','COMPONENTS_PER_TICK','removeDir','push','../utils/sfdx.utils','971006EcdtSn','clone','[INFO]\x20Preparing\x20to\x20delete\x20components','commitAndPush','552927VDuPgU','design:paramtypes','send','prepareMdapi','name','Service','splice','log','deleted','../../parsers/mdapi/child-types','removeComponents','componentsToDelete','metadata','ms.\x20Commited\x20components\x20-\x20','MDApiUtils','sfdxUtils','[ERROR]\x20','now'];const a142_0x2eb162=a142_0x89a5;(function(_0x6de0fd,_0x12f650){const _0x129893=a142_0x89a5;while(!![]){try{const _0x24b3af=-parseInt(_0x129893(0x1ce))+-parseInt(_0x129893(0x1b6))*parseInt(_0x129893(0x1bf))+parseInt(_0x129893(0x193))*-parseInt(_0x129893(0x1ab))+parseInt(_0x129893(0x191))+parseInt(_0x129893(0x1a1))+-parseInt(_0x129893(0x1ca))+-parseInt(_0x129893(0x1bd));if(_0x24b3af===_0x12f650)break;else _0x6de0fd['push'](_0x6de0fd['shift']());}catch(_0x65fc9c){_0x6de0fd['push'](_0x6de0fd['shift']());}}}(a142_0x1a88,0xeb7b0));function a142_0x89a5(_0x52a1e,_0x1810d4){return a142_0x89a5=function(_0x5790f6,_0xb2dfed){_0x5790f6=_0x5790f6-0x178;let _0x178390=a142_0x1a88[_0x5790f6];return _0x178390;},a142_0x89a5(_0x52a1e,_0x1810d4);}const a142_0x178390=function(){let _0x68f746=!![];return function(_0x5daf3a,_0xed3b52){const _0xb1afd5=_0x68f746?function(){if(_0xed3b52){const _0xdc112e=_0xed3b52['apply'](_0x5daf3a,arguments);return _0xed3b52=null,_0xdc112e;}}:function(){};return _0x68f746=![],_0xb1afd5;};}(),a142_0xb2dfed=a142_0x178390(this,function(){const _0x542c3a=function(){const _0x5e2630=a142_0x89a5,_0x115848=_0x542c3a[_0x5e2630(0x1a7)](_0x5e2630(0x1b5))()[_0x5e2630(0x1a7)](_0x5e2630(0x1a4));return!_0x115848[_0x5e2630(0x19e)](a142_0xb2dfed);};return _0x542c3a();});a142_0xb2dfed();'use strict';var __decorate=this&&this['__decorate']||function(_0x4ffb6e,_0xa979ff,_0x372070,_0x1cd965){const _0x464ceb=a142_0x89a5;var _0x36bd23=arguments[_0x464ceb(0x18a)],_0x4ca35f=_0x36bd23<0x3?_0xa979ff:_0x1cd965===null?_0x1cd965=Object[_0x464ceb(0x1be)](_0xa979ff,_0x372070):_0x1cd965,_0x1c15ba;if(typeof Reflect===_0x464ceb(0x1b9)&&typeof Reflect[_0x464ceb(0x1ac)]==='function')_0x4ca35f=Reflect[_0x464ceb(0x1ac)](_0x4ffb6e,_0xa979ff,_0x372070,_0x1cd965);else{for(var _0x124d87=_0x4ffb6e['length']-0x1;_0x124d87>=0x0;_0x124d87--)if(_0x1c15ba=_0x4ffb6e[_0x124d87])_0x4ca35f=(_0x36bd23<0x3?_0x1c15ba(_0x4ca35f):_0x36bd23>0x3?_0x1c15ba(_0xa979ff,_0x372070,_0x4ca35f):_0x1c15ba(_0xa979ff,_0x372070))||_0x4ca35f;}return _0x36bd23>0x3&&_0x4ca35f&&Object[_0x464ceb(0x19c)](_0xa979ff,_0x372070,_0x4ca35f),_0x4ca35f;},__metadata=this&&this[a142_0x2eb162(0x18f)]||function(_0x203a9b,_0x5d43ad){const _0x5a2782=a142_0x2eb162;if(typeof Reflect===_0x5a2782(0x1b9)&&typeof Reflect[_0x5a2782(0x183)]==='function')return Reflect[_0x5a2782(0x183)](_0x203a9b,_0x5d43ad);},__importDefault=this&&this[a142_0x2eb162(0x189)]||function(_0xdb78b2){const _0x43434e=a142_0x2eb162;return _0xdb78b2&&_0xdb78b2[_0x43434e(0x1b0)]?_0xdb78b2:{'default':_0xdb78b2};};Object[a142_0x2eb162(0x19c)](exports,a142_0x2eb162(0x1b0),{'value':!![]}),exports[a142_0x2eb162(0x1bc)]=void 0x0;const events_1=__importDefault(require(a142_0x2eb162(0x1a8))),typedi_1=require(a142_0x2eb162(0x19f)),child_types_1=__importDefault(require(a142_0x2eb162(0x180))),auth_settings_service_1=require(a142_0x2eb162(0x192)),utils_1=require('../../shared/utils'),git_utils_1=require(a142_0x2eb162(0x1c3)),mdapi_utils_1=require(a142_0x2eb162(0x199)),sfdx_utils_1=require(a142_0x2eb162(0x1c9));let CommitComponentsJob=class CommitComponentsJob extends events_1[a142_0x2eb162(0x1a6)]{constructor(_0x46b288){const _0x1b3155=a142_0x2eb162;super(),this[_0x1b3155(0x19d)]=_0x46b288,this[_0x1b3155(0x1c6)]=0x3e8,this[_0x1b3155(0x198)]=0x0,this[_0x1b3155(0x182)]=0x0,this['startTime']=Date[_0x1b3155(0x188)]();}get[a142_0x2eb162(0x1c0)](){const _0x31ed23=a142_0x2eb162,{repo:_0x17c468}=this['commitData'],{gitCredentials:_0x13e7a9}=this[_0x31ed23(0x19d)];return _0x17c468['gitUrl'][_0x31ed23(0x19a)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x17c468[_0x31ed23(0x1a2)])+_0x31ed23(0x1b3)+_0x13e7a9+'@');}['groupComponentsByFileName'](_0x42df62){const _0x1f4d73=a142_0x2eb162;var _0x57fb81;_0x42df62['sort'](_0x10346d=>child_types_1[_0x1f4d73(0x1a6)][_0x1f4d73(0x1ae)](_0x10346d[_0x1f4d73(0x1a3)])?0x1:-0x1);const _0x58f84b={};for(const _0x4fa26f of _0x42df62){_0x58f84b[_0x57fb81=_0x4fa26f['fileName']]||(_0x58f84b[_0x57fb81]=[]),_0x58f84b[_0x4fa26f[_0x1f4d73(0x1b1)]][_0x1f4d73(0x1c8)](_0x4fa26f);}return Object['values'](_0x58f84b)[_0x1f4d73(0x18d)]((_0x43f51f,_0x4a6193)=>[..._0x43f51f,..._0x4a6193],[]);}async[a142_0x2eb162(0x1b2)](_0x2324a7){const _0x373bb8=a142_0x2eb162;_0x2324a7=this['groupComponentsByFileName'](_0x2324a7);let _0x396277=0x0;while(_0x2324a7['length']){const _0x514e92=_0x2324a7[_0x373bb8(0x17d)](0x0,this[_0x373bb8(0x1c6)]);await this[_0x373bb8(0x1c5)][_0x373bb8(0x1c4)](_0x514e92),_0x396277+=_0x514e92['length'],this[_0x373bb8(0x196)][_0x373bb8(0x17e)](_0x373bb8(0x1a5)+_0x396277+'/'+this[_0x373bb8(0x198)]+'\x20components'),await this['logger'][_0x373bb8(0x179)]();}}async[a142_0x2eb162(0x181)](_0x468db2){const _0x6cf350=a142_0x2eb162;let _0x30bcf1=0x0;while(_0x468db2[_0x6cf350(0x18a)]){const _0x226ab3=_0x468db2['splice'](0x0,this['COMPONENTS_PER_TICK']);await this['mdapiUtils'][_0x6cf350(0x181)](_0x226ab3),_0x30bcf1+=_0x226ab3[_0x6cf350(0x18a)],this['logger'][_0x6cf350(0x17e)](_0x6cf350(0x1a9)+_0x30bcf1+'/'+this[_0x6cf350(0x182)]+'\x20components'),await this[_0x6cf350(0x196)][_0x6cf350(0x179)]();}}async[a142_0x2eb162(0x1b4)](){const _0x2f41a0=a142_0x2eb162;this[_0x2f41a0(0x19b)]&&await this['gitUtils'][_0x2f41a0(0x1c7)]()[_0x2f41a0(0x18b)](()=>void 0x0),this['mdapiUtils']&&await this[_0x2f41a0(0x1c5)][_0x2f41a0(0x1c7)]()[_0x2f41a0(0x18b)](()=>void 0x0),this[_0x2f41a0(0x186)]&&await this['sfdxUtils'][_0x2f41a0(0x1c7)]()['catch'](()=>void 0x0);}async['exec'](){const _0x2cc9b1=a142_0x2eb162,{repo:_0x49f858,branch:_0x10e3aa,components:_0x438ffc,convertToSFDX:_0x483ee4,message:_0x1e5b54,user:_0x2369c6}=this[_0x2cc9b1(0x1af)];this['mdapiUtils']=new mdapi_utils_1[(_0x2cc9b1(0x185))](_0x49f858[_0x2cc9b1(0x17b)],_0x10e3aa[_0x2cc9b1(0x17b)]),this[_0x2cc9b1(0x19b)]=new git_utils_1[(_0x2cc9b1(0x195))](this['remote']),this[_0x2cc9b1(0x186)]=new sfdx_utils_1[(_0x2cc9b1(0x190))](_0x49f858[_0x2cc9b1(0x17b)],_0x10e3aa['name']);try{this[_0x2cc9b1(0x196)][_0x2cc9b1(0x17e)]('[INFO]\x20Start\x20clonning\x20repository'),await this[_0x2cc9b1(0x19b)][_0x2cc9b1(0x1cb)](_0x10e3aa[_0x2cc9b1(0x17b)],_0x49f858['name']);!this[_0x2cc9b1(0x1af)][_0x2cc9b1(0x18e)]?(this[_0x2cc9b1(0x196)][_0x2cc9b1(0x17e)](_0x2cc9b1(0x1ad)),await this[_0x2cc9b1(0x1c5)][_0x2cc9b1(0x17a)](this[_0x2cc9b1(0x19b)][_0x2cc9b1(0x1b7)])):this[_0x2cc9b1(0x196)]['log'](_0x2cc9b1(0x1bb));_0x438ffc[_0x2cc9b1(0x1ba)]&&(this[_0x2cc9b1(0x196)][_0x2cc9b1(0x17e)]('[INFO]\x20Preparing\x20to\x20write\x20components'),this['componentsToWrite']=_0x438ffc[_0x2cc9b1(0x1ba)]['length'],await this['writeComponents'](_0x438ffc[_0x2cc9b1(0x1ba)]));_0x438ffc[_0x2cc9b1(0x17f)]&&(this['logger'][_0x2cc9b1(0x17e)](_0x2cc9b1(0x1cc)),this[_0x2cc9b1(0x182)]=_0x438ffc[_0x2cc9b1(0x17f)][_0x2cc9b1(0x18a)],await this[_0x2cc9b1(0x181)](_0x438ffc[_0x2cc9b1(0x17f)]));await this[_0x2cc9b1(0x19b)][_0x2cc9b1(0x1b8)](),await this[_0x2cc9b1(0x196)][_0x2cc9b1(0x179)]();_0x483ee4?(this[_0x2cc9b1(0x196)][_0x2cc9b1(0x17e)](_0x2cc9b1(0x1a0)),await this[_0x2cc9b1(0x186)][_0x2cc9b1(0x1c2)](this[_0x2cc9b1(0x1c5)]['dir']),await this['sfdxUtils']['copyProjectTo'](this[_0x2cc9b1(0x19b)]['dir']),await this[_0x2cc9b1(0x186)][_0x2cc9b1(0x1c7)](),await this[_0x2cc9b1(0x196)][_0x2cc9b1(0x179)]()):(this[_0x2cc9b1(0x196)][_0x2cc9b1(0x17e)]('[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder'),await this[_0x2cc9b1(0x1c5)][_0x2cc9b1(0x197)](this['gitUtils'][_0x2cc9b1(0x1b7)]));this[_0x2cc9b1(0x196)][_0x2cc9b1(0x17e)]('[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git'),await this[_0x2cc9b1(0x19b)][_0x2cc9b1(0x1cd)](_0x1e5b54,{'email':_0x2369c6[_0x2cc9b1(0x1c1)],'name':_0x2369c6[_0x2cc9b1(0x17b)]},_0x10e3aa[_0x2cc9b1(0x17b)]),await this[_0x2cc9b1(0x19b)][_0x2cc9b1(0x1c7)](),await this[_0x2cc9b1(0x1c5)]['removeDir']();const _0x463ec0=this['componentsToWrite']+this[_0x2cc9b1(0x182)];this['logger']['log'](_0x2cc9b1(0x194)+(Date[_0x2cc9b1(0x188)]()-this['startTime'])+_0x2cc9b1(0x184)+_0x463ec0),await this[_0x2cc9b1(0x196)]['send']();}catch(_0xbbff4d){await this[_0x2cc9b1(0x1b4)](),this[_0x2cc9b1(0x196)]['log'](_0x2cc9b1(0x187)+_0xbbff4d),await this[_0x2cc9b1(0x196)][_0x2cc9b1(0x179)]();throw _0xbbff4d;}}async['run'](_0x102801){const _0x32f2b4=a142_0x2eb162;var _0x2aafc5,_0x14010a,_0x3b72e9,_0x534776;const _0xf60a77=!!((_0x14010a=(_0x2aafc5=_0x102801['components'])===null||_0x2aafc5===void 0x0?void 0x0:_0x2aafc5[_0x32f2b4(0x1ba)])===null||_0x14010a===void 0x0?void 0x0:_0x14010a[_0x32f2b4(0x18a)])||!!((_0x534776=(_0x3b72e9=_0x102801['components'])===null||_0x3b72e9===void 0x0?void 0x0:_0x3b72e9[_0x32f2b4(0x17f)])===null||_0x534776===void 0x0?void 0x0:_0x534776[_0x32f2b4(0x18a)]);if(!_0xf60a77){this['logger']['log'](_0x32f2b4(0x1aa)),await this[_0x32f2b4(0x196)][_0x32f2b4(0x179)]();return;}this[_0x32f2b4(0x1af)]=_0x102801,await this[_0x32f2b4(0x18c)]();}};CommitComponentsJob=__decorate([typedi_1[a142_0x2eb162(0x17c)]({'transient':!![]}),__metadata(a142_0x2eb162(0x178),[auth_settings_service_1['AuthSettingsService']])],CommitComponentsJob),exports[a142_0x2eb162(0x1bc)]=CommitComponentsJob;