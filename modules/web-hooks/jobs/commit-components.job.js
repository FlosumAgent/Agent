function a146_0x3e27(_0x24332c,_0x1c9db8){const _0x3e2787=a146_0x5b9f();return a146_0x3e27=function(_0x579b57,_0x5777b2){_0x579b57=_0x579b57-0xfe;let _0x5b9f02=_0x3e2787[_0x579b57];return _0x5b9f02;},a146_0x3e27(_0x24332c,_0x1c9db8);}const a146_0x1076af=a146_0x3e27;(function(_0x3dd49e,_0x6b03fa){const _0x736de8=a146_0x3e27,_0x7d78a3=_0x3dd49e();while(!![]){try{const _0x881079=parseInt(_0x736de8(0x123))/0x1+-parseInt(_0x736de8(0x158))/0x2*(-parseInt(_0x736de8(0x121))/0x3)+parseInt(_0x736de8(0x109))/0x4+-parseInt(_0x736de8(0x115))/0x5*(-parseInt(_0x736de8(0x104))/0x6)+parseInt(_0x736de8(0x13c))/0x7+parseInt(_0x736de8(0x139))/0x8+-parseInt(_0x736de8(0x12b))/0x9*(parseInt(_0x736de8(0x10c))/0xa);if(_0x881079===_0x6b03fa)break;else _0x7d78a3['push'](_0x7d78a3['shift']());}catch(_0x40a944){_0x7d78a3['push'](_0x7d78a3['shift']());}}}(a146_0x5b9f,0x873c3));const a146_0x5777b2=function(){let _0xf107d1=!![];return function(_0x374458,_0xc14b16){const _0x4c7193=_0xf107d1?function(){if(_0xc14b16){const _0x2e053b=_0xc14b16['apply'](_0x374458,arguments);return _0xc14b16=null,_0x2e053b;}}:function(){};return _0xf107d1=![],_0x4c7193;};}(),a146_0x579b57=a146_0x5777b2(this,function(){const _0x107fc0=a146_0x3e27;return a146_0x579b57['toString']()[_0x107fc0(0x157)](_0x107fc0(0x135))[_0x107fc0(0x126)]()[_0x107fc0(0x106)](a146_0x579b57)['search']('(((.+)+)+)+$');});a146_0x579b57();'use strict';var __decorate=this&&this['__decorate']||function(_0x501425,_0x4f148c,_0x3fb538,_0x537242){const _0x5376f9=a146_0x3e27;var _0x3e90b4=arguments[_0x5376f9(0x14b)],_0x19d61e=_0x3e90b4<0x3?_0x4f148c:_0x537242===null?_0x537242=Object['getOwnPropertyDescriptor'](_0x4f148c,_0x3fb538):_0x537242,_0x307a7f;if(typeof Reflect===_0x5376f9(0x14c)&&typeof Reflect[_0x5376f9(0x129)]==='function')_0x19d61e=Reflect[_0x5376f9(0x129)](_0x501425,_0x4f148c,_0x3fb538,_0x537242);else{for(var _0x7b0e22=_0x501425[_0x5376f9(0x14b)]-0x1;_0x7b0e22>=0x0;_0x7b0e22--)if(_0x307a7f=_0x501425[_0x7b0e22])_0x19d61e=(_0x3e90b4<0x3?_0x307a7f(_0x19d61e):_0x3e90b4>0x3?_0x307a7f(_0x4f148c,_0x3fb538,_0x19d61e):_0x307a7f(_0x4f148c,_0x3fb538))||_0x19d61e;}return _0x3e90b4>0x3&&_0x19d61e&&Object[_0x5376f9(0x114)](_0x4f148c,_0x3fb538,_0x19d61e),_0x19d61e;},__metadata=this&&this[a146_0x1076af(0x14f)]||function(_0x43ff57,_0x291fb7){const _0x4a7b45=a146_0x1076af;if(typeof Reflect===_0x4a7b45(0x14c)&&typeof Reflect['metadata']===_0x4a7b45(0x11a))return Reflect[_0x4a7b45(0x159)](_0x43ff57,_0x291fb7);},__importDefault=this&&this['__importDefault']||function(_0x38d37e){const _0x1b4035=a146_0x1076af;return _0x38d37e&&_0x38d37e[_0x1b4035(0x15a)]?_0x38d37e:{'default':_0x38d37e};};Object['defineProperty'](exports,a146_0x1076af(0x15a),{'value':!![]}),exports[a146_0x1076af(0x142)]=void 0x0;const auth_settings_service_1=require(a146_0x1076af(0x13a)),events_1=__importDefault(require(a146_0x1076af(0x140))),git_utils_1=require(a146_0x1076af(0xff)),mdapi_utils_1=require(a146_0x1076af(0x154)),sfdx_utils_1=require(a146_0x1076af(0x124)),typedi_1=require(a146_0x1076af(0x103)),child_types_1=__importDefault(require(a146_0x1076af(0x130))),utils_1=require('../../shared/utils');let CommitComponentsJob=class CommitComponentsJob extends events_1['default']{constructor(_0x119112){const _0x554963=a146_0x1076af;super(),this['authSettings']=_0x119112,this['COMPONENTS_PER_TICK']=0x3e8,this[_0x554963(0x143)]=0x0,this['componentsToDelete']=0x0,this[_0x554963(0x153)]=Date[_0x554963(0x138)]();}get[a146_0x1076af(0x110)](){const _0x4d00ee=a146_0x1076af,{repo:_0x431cd5}=this[_0x4d00ee(0x13e)],{gitCredentials:_0x24737c}=this[_0x4d00ee(0x133)];return _0x431cd5[_0x4d00ee(0x150)][_0x4d00ee(0x12f)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x4d00ee(0x102)])(_0x431cd5[_0x4d00ee(0x150)])+_0x4d00ee(0x148)+_0x24737c+'@');}[a146_0x1076af(0x134)](_0x1e22fd){const _0x47cb6e=a146_0x1076af;var _0x47ddb1;_0x1e22fd[_0x47cb6e(0x156)](_0x4a1522=>child_types_1[_0x47cb6e(0x12d)]['includes'](_0x4a1522[_0x47cb6e(0x11c)])?0x1:-0x1);const _0x38f990={};for(const _0x2292e1 of _0x1e22fd){_0x38f990[_0x47ddb1=_0x2292e1['fileName']]||(_0x38f990[_0x47ddb1]=[]),_0x38f990[_0x2292e1['fileName']][_0x47cb6e(0x14a)](_0x2292e1);}return Object[_0x47cb6e(0x141)](_0x38f990)['reduce']((_0x19b7b8,_0x3ec5e5)=>[..._0x19b7b8,..._0x3ec5e5],[]);}async[a146_0x1076af(0x137)](_0x16b22e){const _0x4173f7=a146_0x1076af;_0x16b22e=this[_0x4173f7(0x134)](_0x16b22e);let _0x3ae272=0x0;while(_0x16b22e[_0x4173f7(0x14b)]){const _0xda4785=_0x16b22e[_0x4173f7(0x127)](0x0,this[_0x4173f7(0x10a)]);await this[_0x4173f7(0x118)]['writeFlosumComponents'](_0xda4785,{'skipChildErrors':this[_0x4173f7(0x13e)][_0x4173f7(0x113)][_0x4173f7(0x11f)]==='master','logger':_0x4b0669=>this[_0x4173f7(0x11d)][_0x4173f7(0x145)](_0x4b0669)}),_0x3ae272+=_0xda4785['length'],this[_0x4173f7(0x11d)][_0x4173f7(0x145)](_0x4173f7(0x136)+_0x3ae272+'/'+this[_0x4173f7(0x143)]+'\x20components'),await this[_0x4173f7(0x11d)][_0x4173f7(0x15b)]();}}async[a146_0x1076af(0x14d)](_0x15a861){const _0x5867bb=a146_0x1076af;_0x15a861[_0x5867bb(0x156)](_0x321d64=>child_types_1[_0x5867bb(0x12d)][_0x5867bb(0x117)](_0x321d64[_0x5867bb(0x149)])?-0x1:0x1);let _0x17ef26=0x0;while(_0x15a861[_0x5867bb(0x14b)]){const _0x17ce73=_0x15a861['splice'](0x0,this[_0x5867bb(0x10a)]);await this[_0x5867bb(0x118)][_0x5867bb(0x14d)](_0x17ce73),_0x17ef26+=_0x17ce73['length'],this[_0x5867bb(0x11d)][_0x5867bb(0x145)](_0x5867bb(0x10d)+_0x17ef26+'/'+this[_0x5867bb(0x107)]+_0x5867bb(0x147)),await this['logger']['send']();}}async[a146_0x1076af(0x13b)](){const _0x58402d=a146_0x1076af;this[_0x58402d(0x13f)]&&await this['gitUtils'][_0x58402d(0x14e)]()[_0x58402d(0x116)](()=>void 0x0),this['mdapiUtils']&&await this[_0x58402d(0x118)][_0x58402d(0x14e)]()[_0x58402d(0x116)](()=>void 0x0),this[_0x58402d(0x144)]&&await this[_0x58402d(0x144)]['removeDir']()[_0x58402d(0x116)](()=>void 0x0);}async[a146_0x1076af(0x10b)](){const _0x1184b9=a146_0x1076af,{repo:_0x3ecc82,branch:_0x5a42a7,components:_0x5af090,convertToSFDX:_0x2dd0d0,message:_0x4f412f,user:_0x165c8e}=this[_0x1184b9(0x13e)];this[_0x1184b9(0x118)]=new mdapi_utils_1[(_0x1184b9(0xfe))](_0x3ecc82[_0x1184b9(0x11f)],_0x5a42a7[_0x1184b9(0x11f)]),this['gitUtils']=new git_utils_1[(_0x1184b9(0x11b))](this[_0x1184b9(0x110)]),this['sfdxUtils']=new sfdx_utils_1['SFDXUtils'](_0x3ecc82[_0x1184b9(0x11f)],_0x5a42a7[_0x1184b9(0x11f)]);try{this['logger'][_0x1184b9(0x145)](_0x1184b9(0x10f)),await this[_0x1184b9(0x13f)][_0x1184b9(0x132)](_0x5a42a7[_0x1184b9(0x11f)],_0x3ecc82[_0x1184b9(0x11f)]);!this[_0x1184b9(0x13e)][_0x1184b9(0x13d)]?(this[_0x1184b9(0x11d)][_0x1184b9(0x145)](_0x1184b9(0x11e)),await this[_0x1184b9(0x118)]['prepareMdapi'](this[_0x1184b9(0x13f)][_0x1184b9(0x12e)])):this['logger'][_0x1184b9(0x145)](_0x1184b9(0x112));_0x5af090[_0x1184b9(0x122)]&&(this[_0x1184b9(0x11d)][_0x1184b9(0x145)](_0x1184b9(0x120)),this[_0x1184b9(0x143)]=_0x5af090[_0x1184b9(0x122)]['length'],await this[_0x1184b9(0x137)](_0x5af090['writed']));_0x5af090[_0x1184b9(0x119)]&&(this[_0x1184b9(0x11d)][_0x1184b9(0x145)](_0x1184b9(0x12c)),this[_0x1184b9(0x107)]=_0x5af090['deleted'][_0x1184b9(0x14b)],await this['removeComponents'](_0x5af090[_0x1184b9(0x119)]));await this[_0x1184b9(0x13f)][_0x1184b9(0x146)](),await this[_0x1184b9(0x11d)]['send']();_0x2dd0d0?(this[_0x1184b9(0x11d)][_0x1184b9(0x145)](_0x1184b9(0x10e)),await this[_0x1184b9(0x144)][_0x1184b9(0x12a)](this[_0x1184b9(0x118)][_0x1184b9(0x12e)]),await this[_0x1184b9(0x144)][_0x1184b9(0x155)](this['gitUtils'][_0x1184b9(0x12e)]),await this[_0x1184b9(0x144)][_0x1184b9(0x14e)](),await this[_0x1184b9(0x11d)][_0x1184b9(0x15b)]()):(this[_0x1184b9(0x11d)][_0x1184b9(0x145)]('[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder'),await this[_0x1184b9(0x118)][_0x1184b9(0x108)](this[_0x1184b9(0x13f)]['dir']));this[_0x1184b9(0x11d)][_0x1184b9(0x145)]('[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git'),await this[_0x1184b9(0x13f)][_0x1184b9(0x111)](_0x4f412f,{'email':_0x165c8e['email'],'name':_0x165c8e[_0x1184b9(0x11f)]},_0x5a42a7['name']),await this[_0x1184b9(0x13f)][_0x1184b9(0x14e)](),await this[_0x1184b9(0x118)]['removeDir']();const _0x286a89=this[_0x1184b9(0x143)]+this[_0x1184b9(0x107)];this[_0x1184b9(0x11d)]['log'](_0x1184b9(0x151)+(Date[_0x1184b9(0x138)]()-this[_0x1184b9(0x153)])+_0x1184b9(0x131)+_0x286a89),await this[_0x1184b9(0x11d)]['send']();}catch(_0x3c479f){await this[_0x1184b9(0x13b)](),this[_0x1184b9(0x11d)][_0x1184b9(0x145)](_0x1184b9(0x15c)+_0x3c479f),await this[_0x1184b9(0x11d)]['send']();throw _0x3c479f;}}async[a146_0x1076af(0x128)](_0x295004){const _0x1b9ed2=a146_0x1076af;var _0x3bcefd,_0x6ce37a,_0x236b69,_0x44417f;const _0x501085=!!((_0x6ce37a=(_0x3bcefd=_0x295004[_0x1b9ed2(0x152)])===null||_0x3bcefd===void 0x0?void 0x0:_0x3bcefd['writed'])===null||_0x6ce37a===void 0x0?void 0x0:_0x6ce37a['length'])||!!((_0x44417f=(_0x236b69=_0x295004[_0x1b9ed2(0x152)])===null||_0x236b69===void 0x0?void 0x0:_0x236b69[_0x1b9ed2(0x119)])===null||_0x44417f===void 0x0?void 0x0:_0x44417f[_0x1b9ed2(0x14b)]);if(!_0x501085){this[_0x1b9ed2(0x11d)][_0x1b9ed2(0x145)](_0x1b9ed2(0x125)),await this[_0x1b9ed2(0x11d)][_0x1b9ed2(0x15b)]();return;}this['commitData']=_0x295004,await this[_0x1b9ed2(0x10b)]();}};function a146_0x5b9f(){const _0x4e785d=['30066507RPqLqv','[INFO]\x20Preparing\x20to\x20delete\x20components','default','dir','replace','../../parsers/mdapi/child-types','ms.\x20Commited\x20components\x20-\x20','clone','authSettings','groupComponentsByFileName','(((.+)+)+)+$','[INFO]\x20Writed\x20','writeComponents','now','6367304CyuoqV','../../shared/services/auth-settings.service','cleanUp','7253162UHEFZG','force','commitData','gitUtils','events','values','CommitComponentsJob','componentsToWrite','sfdxUtils','log','clearDir','\x20components','://','type','push','length','object','removeComponents','removeDir','__metadata','gitUrl','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','components','startTime','../utils/mdapi.utils','copyProjectTo','sort','search','2oCYyIm','metadata','__esModule','send','[ERROR]\x20','MDApiUtils','../utils/git.utils','AuthSettingsService','design:paramtypes','getProtocol','typedi','439098Twztvd','Service','constructor','componentsToDelete','copyMdapiTo','4048696NBAciK','COMPONENTS_PER_TICK','exec','10bUpGGq','[INFO]\x20Deleted\x20','[INFO]\x20Start\x20converting\x20to\x20SFDX','[INFO]\x20Start\x20clonning\x20repository','remote','commitAndPush','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','branch','defineProperty','5gufWpZ','catch','includes','mdapiUtils','deleted','function','GitUtils','fileType','logger','[INFO]\x20Prepare\x20mdapi\x20files','name','[INFO]\x20Preparing\x20to\x20write\x20components','1601079PtLdEk','writed','443517xKBDEw','../utils/sfdx.utils','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','toString','splice','run','decorate','createProjectFrom'];a146_0x5b9f=function(){return _0x4e785d;};return a146_0x5b9f();}CommitComponentsJob=__decorate([(0x0,typedi_1[a146_0x1076af(0x105)])({'transient':!![]}),__metadata(a146_0x1076af(0x101),[auth_settings_service_1[a146_0x1076af(0x100)]])],CommitComponentsJob),exports['CommitComponentsJob']=CommitComponentsJob;