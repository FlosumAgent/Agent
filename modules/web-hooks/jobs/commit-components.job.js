const a136_0x2a51=['../utils/sfdx.utils','typedi','1003VIoENf','dir','../../salesforce/services/salesforce-retriever.service','replace','test','CommitComponentsJob','apply','message','[INFO]\x20Prepare\x20mdapi\x20files','sfdxUtils','authSettings','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','now','\x20components','GitUtils','mdapiUtils','remote','commitAndPush','removeDir','splice','170768bJNnwm','785711JFjnXv','COMPONENTS_PER_TICK','590121ayuNIR','../../shared/services/auth-settings.service','fileType','AuthSettingsService','1219cfeTZI','[INFO]\x20Done\x20','metadata','ms.\x20Commited\x20components\x20-\x20','length','[INFO]\x20Start\x20clonning\x20repository','__decorate','defineProperty','getOwnPropertyDescriptor','SalesforceRetrieverService','[INFO]\x20Start\x20converting\x20to\x20SFDX','constructor','sort','writeComponents','retriever','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','../../parsers/mdapi/child-types','4UfllDS','componentsIds','70682HZUGPX','953461xZJRAJ','events','commitData','default','design:paramtypes','5BNnnpc','__esModule','email','copyMdapiTo','[ERROR]\x20','object','writeFlosumComponents','includes','run','emit','gitUtils','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','prepareMdapi','MDApiUtils','function','log','17aiOayx','gitUrl','../utils/mdapi.utils','createProjectFrom','name','clearDir','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../shared/utils','../utils/git.utils','188491ysYNkJ','__metadata'];const a136_0x1d2545=a136_0x347a;(function(_0x54af6e,_0x448b44){const _0x336001=a136_0x347a;while(!![]){try{const _0x469294=-parseInt(_0x336001(0x1d4))*-parseInt(_0x336001(0x1ea))+-parseInt(_0x336001(0x1da))*parseInt(_0x336001(0x1ba))+-parseInt(_0x336001(0x1a6))*parseInt(_0x336001(0x1c1))+parseInt(_0x336001(0x1bd))+-parseInt(_0x336001(0x1bb))+parseInt(_0x336001(0x1d2))*parseInt(_0x336001(0x1a2))+parseInt(_0x336001(0x1d5));if(_0x469294===_0x448b44)break;else _0x54af6e['push'](_0x54af6e['shift']());}catch(_0x51ec31){_0x54af6e['push'](_0x54af6e['shift']());}}}(a136_0x2a51,0x9b804));const a136_0x59090f=function(){let _0x3f3bde=!![];return function(_0x3c43b1,_0x3d2764){const _0x3bd438=_0x3f3bde?function(){const _0x239acb=a136_0x347a;if(_0x3d2764){const _0x436193=_0x3d2764[_0x239acb(0x1ac)](_0x3c43b1,arguments);return _0x3d2764=null,_0x436193;}}:function(){};return _0x3f3bde=![],_0x3bd438;};}(),a136_0x49f8ac=a136_0x59090f(this,function(){const _0x288696=function(){const _0x30f5e0=a136_0x347a,_0xfcf051=_0x288696[_0x30f5e0(0x1cc)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x30f5e0(0x1cc)](_0x30f5e0(0x19f));return!_0xfcf051[_0x30f5e0(0x1aa)](a136_0x49f8ac);};return _0x288696();});a136_0x49f8ac();'use strict';var __decorate=this&&this[a136_0x1d2545(0x1c7)]||function(_0xb2daf2,_0x4fcf61,_0x14859d,_0x5c11e1){const _0x1e249d=a136_0x1d2545;var _0x11751d=arguments['length'],_0x5b6d2d=_0x11751d<0x3?_0x4fcf61:_0x5c11e1===null?_0x5c11e1=Object[_0x1e249d(0x1c9)](_0x4fcf61,_0x14859d):_0x5c11e1,_0x23271a;if(typeof Reflect===_0x1e249d(0x1df)&&typeof Reflect['decorate']==='function')_0x5b6d2d=Reflect['decorate'](_0xb2daf2,_0x4fcf61,_0x14859d,_0x5c11e1);else{for(var _0x4c22fc=_0xb2daf2[_0x1e249d(0x1c5)]-0x1;_0x4c22fc>=0x0;_0x4c22fc--)if(_0x23271a=_0xb2daf2[_0x4c22fc])_0x5b6d2d=(_0x11751d<0x3?_0x23271a(_0x5b6d2d):_0x11751d>0x3?_0x23271a(_0x4fcf61,_0x14859d,_0x5b6d2d):_0x23271a(_0x4fcf61,_0x14859d))||_0x5b6d2d;}return _0x11751d>0x3&&_0x5b6d2d&&Object['defineProperty'](_0x4fcf61,_0x14859d,_0x5b6d2d),_0x5b6d2d;},__metadata=this&&this[a136_0x1d2545(0x1a3)]||function(_0xee1b9a,_0x2e796f){const _0x3a4512=a136_0x1d2545;if(typeof Reflect===_0x3a4512(0x1df)&&typeof Reflect[_0x3a4512(0x1c3)]===_0x3a4512(0x1e8))return Reflect[_0x3a4512(0x1c3)](_0xee1b9a,_0x2e796f);},__importDefault=this&&this['__importDefault']||function(_0x203278){const _0x3edd89=a136_0x1d2545;return _0x203278&&_0x203278[_0x3edd89(0x1db)]?_0x203278:{'default':_0x203278};};Object[a136_0x1d2545(0x1c8)](exports,a136_0x1d2545(0x1db),{'value':!![]}),exports[a136_0x1d2545(0x1ab)]=void 0x0;const events_1=__importDefault(require(a136_0x1d2545(0x1d6))),typedi_1=require(a136_0x1d2545(0x1a5)),child_types_1=__importDefault(require(a136_0x1d2545(0x1d1))),salesforce_retriever_service_1=require(a136_0x1d2545(0x1a8)),auth_settings_service_1=require(a136_0x1d2545(0x1be)),utils_1=require(a136_0x1d2545(0x1a0)),git_utils_1=require(a136_0x1d2545(0x1a1)),mdapi_utils_1=require(a136_0x1d2545(0x1ec)),sfdx_utils_1=require(a136_0x1d2545(0x1a4));function a136_0x347a(_0x3dc0fb,_0x3e0b7b){return a136_0x347a=function(_0x1e87b7,_0x49f8ac){_0x1e87b7=_0x1e87b7-0x19d;let _0x59090f=a136_0x2a51[_0x1e87b7];return _0x59090f;},a136_0x347a(_0x3dc0fb,_0x3e0b7b);}let CommitComponentsJob=class CommitComponentsJob extends events_1['default']{constructor(_0x39d17b,_0x3ddd6d){const _0x3a02c3=a136_0x1d2545;super(),this[_0x3a02c3(0x1b0)]=_0x39d17b,this[_0x3a02c3(0x1cf)]=_0x3ddd6d,this['COMPONENTS_PER_TICK']=0xbb8,this['startTime']=Date[_0x3a02c3(0x1b2)]();}get[a136_0x1d2545(0x1b6)](){const _0x3882b6=a136_0x1d2545,{repo:_0x2969dc}=this[_0x3882b6(0x1d7)],{gitCredentials:_0x8b5a10}=this[_0x3882b6(0x1b0)];return _0x2969dc[_0x3882b6(0x1eb)][_0x3882b6(0x1a9)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x2969dc[_0x3882b6(0x1eb)])+'://'+_0x8b5a10+'@');}[a136_0x1d2545(0x1e9)](_0x44a909){const _0x10e120=a136_0x1d2545;this[_0x10e120(0x1e3)](_0x10e120(0x1e9),_0x44a909);}async['writeComponents'](_0x25baab){const _0x5ecfa8=a136_0x1d2545,_0x475cf8=await this['retriever']['run'](_0x25baab);_0x475cf8[_0x5ecfa8(0x1cd)](_0x2a1729=>child_types_1[_0x5ecfa8(0x1d8)][_0x5ecfa8(0x1e1)](_0x2a1729[_0x5ecfa8(0x1bf)])?0x1:-0x1);let _0x57b060=0x0;while(_0x475cf8['length']){const _0xae996c=_0x475cf8[_0x5ecfa8(0x1b9)](0x0,this[_0x5ecfa8(0x1bc)]);await this[_0x5ecfa8(0x1b5)][_0x5ecfa8(0x1e0)](_0xae996c),_0x57b060+=_0xae996c[_0x5ecfa8(0x1c5)],this[_0x5ecfa8(0x1e9)](_0x5ecfa8(0x1c2)+_0x57b060+'/'+_0x25baab[_0x5ecfa8(0x1c5)]+_0x5ecfa8(0x1b3));}}async['exec'](){const _0x4be564=a136_0x1d2545,{repo:_0x4fcd54,branch:_0x569407,componentsIds:_0x5d144c,convertToSFDX:_0x490051,message:_0x2760fa,user:_0x1ec2a9}=this[_0x4be564(0x1d7)];this[_0x4be564(0x1b5)]=new mdapi_utils_1[(_0x4be564(0x1e7))](_0x4fcd54[_0x4be564(0x19d)],_0x569407[_0x4be564(0x19d)]),this['gitUtils']=new git_utils_1[(_0x4be564(0x1b4))](this['remote']),this[_0x4be564(0x1af)]=new sfdx_utils_1['SFDXUtils'](_0x4fcd54['name'],_0x569407[_0x4be564(0x19d)]);try{this[_0x4be564(0x1e9)](_0x4be564(0x1c6)),await this[_0x4be564(0x1e4)]['clone'](_0x569407[_0x4be564(0x19d)],_0x4fcd54['name']),this['log'](_0x4be564(0x1ae)),await this[_0x4be564(0x1b5)][_0x4be564(0x1e6)](this[_0x4be564(0x1e4)]['dir']),await this[_0x4be564(0x1ce)](_0x5d144c),await this[_0x4be564(0x1e4)][_0x4be564(0x19e)](),_0x490051?(this[_0x4be564(0x1e9)](_0x4be564(0x1cb)),await this['sfdxUtils'][_0x4be564(0x1ed)](this[_0x4be564(0x1b5)][_0x4be564(0x1a7)]),await this[_0x4be564(0x1af)]['copyProjectTo'](this[_0x4be564(0x1e4)]['dir']),await this[_0x4be564(0x1af)][_0x4be564(0x1b8)]()):(this[_0x4be564(0x1e9)](_0x4be564(0x1d0)),await this[_0x4be564(0x1b5)][_0x4be564(0x1dd)](this[_0x4be564(0x1e4)]['dir'])),this[_0x4be564(0x1e9)](_0x4be564(0x1e5)),await this['gitUtils'][_0x4be564(0x1b7)](_0x2760fa,{'email':_0x1ec2a9[_0x4be564(0x1dc)],'name':_0x1ec2a9['name']},_0x569407[_0x4be564(0x19d)]),await this[_0x4be564(0x1e4)][_0x4be564(0x1b8)](),await this[_0x4be564(0x1b5)]['removeDir'](),this[_0x4be564(0x1e9)]('[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20'+(Date[_0x4be564(0x1b2)]()-this['startTime'])+_0x4be564(0x1c4)+_0x5d144c['length']);}catch(_0x34ff7a){this[_0x4be564(0x1e9)](_0x4be564(0x1de)+(_0x34ff7a[_0x4be564(0x1ad)]||_0x34ff7a));throw _0x34ff7a;}}async[a136_0x1d2545(0x1e2)](_0x3ec4f5){const _0x591cfd=a136_0x1d2545;if(!_0x3ec4f5['componentsIds']||!_0x3ec4f5[_0x591cfd(0x1d3)][_0x591cfd(0x1c5)]){this['log'](_0x591cfd(0x1b1));return;}this[_0x591cfd(0x1d7)]=_0x3ec4f5,await this['exec']();}};CommitComponentsJob=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a136_0x1d2545(0x1d9),[auth_settings_service_1[a136_0x1d2545(0x1c0)],salesforce_retriever_service_1[a136_0x1d2545(0x1ca)]])],CommitComponentsJob),exports[a136_0x1d2545(0x1ab)]=CommitComponentsJob;