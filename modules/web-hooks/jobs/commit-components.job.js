const a145_0x107697=a145_0xc8b9;function a145_0xc8b9(_0x308285,_0x220fc5){const _0x131f69=a145_0x295a();return a145_0xc8b9=function(_0xf36fe,_0x3bdebf){_0xf36fe=_0xf36fe-0x1c6;let _0x295ae6=_0x131f69[_0xf36fe];return _0x295ae6;},a145_0xc8b9(_0x308285,_0x220fc5);}(function(_0x109707,_0x253145){const _0x5dd6b2=a145_0xc8b9,_0x130673=_0x109707();while(!![]){try{const _0x10153f=parseInt(_0x5dd6b2(0x1f9))/0x1+-parseInt(_0x5dd6b2(0x1f3))/0x2*(parseInt(_0x5dd6b2(0x1d6))/0x3)+-parseInt(_0x5dd6b2(0x1fe))/0x4+-parseInt(_0x5dd6b2(0x1fd))/0x5*(parseInt(_0x5dd6b2(0x212))/0x6)+parseInt(_0x5dd6b2(0x1ee))/0x7*(parseInt(_0x5dd6b2(0x1f5))/0x8)+parseInt(_0x5dd6b2(0x21e))/0x9+parseInt(_0x5dd6b2(0x1dc))/0xa*(-parseInt(_0x5dd6b2(0x205))/0xb);if(_0x10153f===_0x253145)break;else _0x130673['push'](_0x130673['shift']());}catch(_0x461b26){_0x130673['push'](_0x130673['shift']());}}}(a145_0x295a,0xd0c2f));const a145_0x3bdebf=function(){let _0x51ea95=!![];return function(_0x26fe53,_0x4569c7){const _0x110a76=_0x51ea95?function(){if(_0x4569c7){const _0x233bd5=_0x4569c7['apply'](_0x26fe53,arguments);return _0x4569c7=null,_0x233bd5;}}:function(){};return _0x51ea95=![],_0x110a76;};}(),a145_0xf36fe=a145_0x3bdebf(this,function(){const _0x4a4911=a145_0xc8b9;return a145_0xf36fe[_0x4a4911(0x209)]()[_0x4a4911(0x1cc)]('(((.+)+)+)+$')[_0x4a4911(0x209)]()[_0x4a4911(0x21c)](a145_0xf36fe)[_0x4a4911(0x1cc)]('(((.+)+)+)+$');});a145_0xf36fe();'use strict';function a145_0x295a(){const _0x58ec37=['startTime','1273032vBqlbA','authSettings','cleanUp','prepareMdapi','10ocwZMB','2231188TEldat','deleted','__decorate','AuthSettingsService','MDApiUtils','[INFO]\x20Preparing\x20to\x20write\x20components','object','393283gRYjIc','writeComponents','length','\x20components','toString','metadata','createProjectFrom','clone','type','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','COMPONENTS_PER_TICK','fileName','commitData','1320642clUMvp','[INFO]\x20Start\x20clonning\x20repository','replace','components','commitAndPush','default','design:paramtypes','__metadata','gitUrl','../utils/mdapi.utils','constructor','[INFO]\x20Start\x20converting\x20to\x20SFDX','15139458DFrIQQ','push','CommitComponentsJob','Service','function','[INFO]\x20Deleted\x20','splice','gitUtils','__esModule','search','sort','../../shared/utils','ms.\x20Commited\x20components\x20-\x20','send','mdapiUtils','[INFO]\x20Writed\x20','typedi','componentsToDelete','remote','6ulTHad','[ERROR]\x20','../utils/sfdx.utils','../../parsers/mdapi/child-types','name','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','170MCpDjV','logger','sfdxUtils','../../shared/services/auth-settings.service','../utils/git.utils','exec','reduce','decorate','://','catch','getOwnPropertyDescriptor','copyMdapiTo','removeDir','groupComponentsByFileName','getProtocol','defineProperty','writed','fileType','255899BIGznb','dir','now','includes','log','1188878WggszM','removeComponents','152znqAFK','componentsToWrite','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20'];a145_0x295a=function(){return _0x58ec37;};return a145_0x295a();}var __decorate=this&&this[a145_0x107697(0x200)]||function(_0x2e1845,_0x42505c,_0x43c70f,_0x2386f3){const _0x5eb0af=a145_0x107697;var _0x1e35fa=arguments['length'],_0x3a1c6b=_0x1e35fa<0x3?_0x42505c:_0x2386f3===null?_0x2386f3=Object[_0x5eb0af(0x1e6)](_0x42505c,_0x43c70f):_0x2386f3,_0x6848d5;if(typeof Reflect===_0x5eb0af(0x204)&&typeof Reflect[_0x5eb0af(0x1e3)]==='function')_0x3a1c6b=Reflect[_0x5eb0af(0x1e3)](_0x2e1845,_0x42505c,_0x43c70f,_0x2386f3);else{for(var _0x4b1bc5=_0x2e1845[_0x5eb0af(0x207)]-0x1;_0x4b1bc5>=0x0;_0x4b1bc5--)if(_0x6848d5=_0x2e1845[_0x4b1bc5])_0x3a1c6b=(_0x1e35fa<0x3?_0x6848d5(_0x3a1c6b):_0x1e35fa>0x3?_0x6848d5(_0x42505c,_0x43c70f,_0x3a1c6b):_0x6848d5(_0x42505c,_0x43c70f))||_0x3a1c6b;}return _0x1e35fa>0x3&&_0x3a1c6b&&Object[_0x5eb0af(0x1eb)](_0x42505c,_0x43c70f,_0x3a1c6b),_0x3a1c6b;},__metadata=this&&this[a145_0x107697(0x219)]||function(_0x5a70d,_0x4da5a9){const _0x2afdc4=a145_0x107697;if(typeof Reflect===_0x2afdc4(0x204)&&typeof Reflect[_0x2afdc4(0x20a)]===_0x2afdc4(0x1c7))return Reflect['metadata'](_0x5a70d,_0x4da5a9);},__importDefault=this&&this['__importDefault']||function(_0xb9493a){const _0x2b93f0=a145_0x107697;return _0xb9493a&&_0xb9493a[_0x2b93f0(0x1cb)]?_0xb9493a:{'default':_0xb9493a};};Object[a145_0x107697(0x1eb)](exports,a145_0x107697(0x1cb),{'value':!![]}),exports[a145_0x107697(0x220)]=void 0x0;const auth_settings_service_1=require(a145_0x107697(0x1df)),events_1=__importDefault(require('events')),git_utils_1=require(a145_0x107697(0x1e0)),mdapi_utils_1=require(a145_0x107697(0x21b)),sfdx_utils_1=require(a145_0x107697(0x1d8)),typedi_1=require(a145_0x107697(0x1d3)),child_types_1=__importDefault(require(a145_0x107697(0x1d9))),utils_1=require(a145_0x107697(0x1ce));let CommitComponentsJob=class CommitComponentsJob extends events_1[a145_0x107697(0x217)]{constructor(_0x1c2591){const _0x11643f=a145_0x107697;super(),this[_0x11643f(0x1fa)]=_0x1c2591,this[_0x11643f(0x20f)]=0x3e8,this['componentsToWrite']=0x0,this[_0x11643f(0x1d4)]=0x0,this[_0x11643f(0x1f8)]=Date[_0x11643f(0x1f0)]();}get[a145_0x107697(0x1d5)](){const _0x43e6a0=a145_0x107697,{repo:_0x28ab32}=this[_0x43e6a0(0x211)],{gitCredentials:_0x53a47d}=this[_0x43e6a0(0x1fa)];return _0x28ab32[_0x43e6a0(0x21a)][_0x43e6a0(0x214)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x43e6a0(0x1ea)])(_0x28ab32[_0x43e6a0(0x21a)])+_0x43e6a0(0x1e4)+_0x53a47d+'@');}[a145_0x107697(0x1e9)](_0x33738e){const _0x5cd8b7=a145_0x107697;var _0x5a2bc2;_0x33738e['sort'](_0x36e6b3=>child_types_1[_0x5cd8b7(0x217)][_0x5cd8b7(0x1f1)](_0x36e6b3[_0x5cd8b7(0x1ed)])?0x1:-0x1);const _0x434b61={};for(const _0x5d8de0 of _0x33738e){_0x434b61[_0x5a2bc2=_0x5d8de0['fileName']]||(_0x434b61[_0x5a2bc2]=[]),_0x434b61[_0x5d8de0[_0x5cd8b7(0x210)]][_0x5cd8b7(0x21f)](_0x5d8de0);}return Object['values'](_0x434b61)[_0x5cd8b7(0x1e2)]((_0x5d6679,_0x31ed75)=>[..._0x5d6679,..._0x31ed75],[]);}async[a145_0x107697(0x206)](_0x24076d){const _0x41bb2b=a145_0x107697;_0x24076d=this[_0x41bb2b(0x1e9)](_0x24076d);let _0x4b55ce=0x0;while(_0x24076d['length']){const _0x1e6430=_0x24076d[_0x41bb2b(0x1c9)](0x0,this[_0x41bb2b(0x20f)]);await this['mdapiUtils']['writeFlosumComponents'](_0x1e6430),_0x4b55ce+=_0x1e6430[_0x41bb2b(0x207)],this[_0x41bb2b(0x1dd)][_0x41bb2b(0x1f2)](_0x41bb2b(0x1d2)+_0x4b55ce+'/'+this[_0x41bb2b(0x1f6)]+_0x41bb2b(0x208)),await this['logger'][_0x41bb2b(0x1d0)]();}}async[a145_0x107697(0x1f4)](_0x159c10){const _0xc611c0=a145_0x107697;_0x159c10[_0xc611c0(0x1cd)](_0x7e04ab=>child_types_1['default'][_0xc611c0(0x1f1)](_0x7e04ab[_0xc611c0(0x20d)])?-0x1:0x1);let _0x1ef934=0x0;while(_0x159c10[_0xc611c0(0x207)]){const _0x5628be=_0x159c10[_0xc611c0(0x1c9)](0x0,this[_0xc611c0(0x20f)]);await this[_0xc611c0(0x1d1)][_0xc611c0(0x1f4)](_0x5628be),_0x1ef934+=_0x5628be[_0xc611c0(0x207)],this[_0xc611c0(0x1dd)][_0xc611c0(0x1f2)](_0xc611c0(0x1c8)+_0x1ef934+'/'+this[_0xc611c0(0x1d4)]+_0xc611c0(0x208)),await this[_0xc611c0(0x1dd)][_0xc611c0(0x1d0)]();}}async[a145_0x107697(0x1fb)](){const _0x1267fa=a145_0x107697;this['gitUtils']&&await this['gitUtils'][_0x1267fa(0x1e8)]()[_0x1267fa(0x1e5)](()=>void 0x0),this[_0x1267fa(0x1d1)]&&await this[_0x1267fa(0x1d1)]['removeDir']()[_0x1267fa(0x1e5)](()=>void 0x0),this[_0x1267fa(0x1de)]&&await this[_0x1267fa(0x1de)]['removeDir']()[_0x1267fa(0x1e5)](()=>void 0x0);}async[a145_0x107697(0x1e1)](){const _0x47db45=a145_0x107697,{repo:_0x30c478,branch:_0x3235ae,components:_0x54b4c3,convertToSFDX:_0x4f91e7,message:_0xca1931,user:_0x410bbe}=this[_0x47db45(0x211)];this[_0x47db45(0x1d1)]=new mdapi_utils_1[(_0x47db45(0x202))](_0x30c478[_0x47db45(0x1da)],_0x3235ae['name']),this['gitUtils']=new git_utils_1['GitUtils'](this['remote']),this['sfdxUtils']=new sfdx_utils_1['SFDXUtils'](_0x30c478[_0x47db45(0x1da)],_0x3235ae[_0x47db45(0x1da)]);try{this[_0x47db45(0x1dd)][_0x47db45(0x1f2)](_0x47db45(0x213)),await this[_0x47db45(0x1ca)][_0x47db45(0x20c)](_0x3235ae[_0x47db45(0x1da)],_0x30c478[_0x47db45(0x1da)]);!this[_0x47db45(0x211)]['force']?(this[_0x47db45(0x1dd)][_0x47db45(0x1f2)]('[INFO]\x20Prepare\x20mdapi\x20files'),await this[_0x47db45(0x1d1)][_0x47db45(0x1fc)](this[_0x47db45(0x1ca)][_0x47db45(0x1ef)])):this[_0x47db45(0x1dd)][_0x47db45(0x1f2)]('[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.');_0x54b4c3['writed']&&(this['logger'][_0x47db45(0x1f2)](_0x47db45(0x203)),this[_0x47db45(0x1f6)]=_0x54b4c3['writed']['length'],await this[_0x47db45(0x206)](_0x54b4c3['writed']));_0x54b4c3[_0x47db45(0x1ff)]&&(this[_0x47db45(0x1dd)]['log']('[INFO]\x20Preparing\x20to\x20delete\x20components'),this['componentsToDelete']=_0x54b4c3[_0x47db45(0x1ff)]['length'],await this[_0x47db45(0x1f4)](_0x54b4c3[_0x47db45(0x1ff)]));await this['gitUtils']['clearDir'](),await this[_0x47db45(0x1dd)]['send']();_0x4f91e7?(this['logger']['log'](_0x47db45(0x21d)),await this['sfdxUtils'][_0x47db45(0x20b)](this[_0x47db45(0x1d1)]['dir']),await this[_0x47db45(0x1de)]['copyProjectTo'](this['gitUtils'][_0x47db45(0x1ef)]),await this[_0x47db45(0x1de)][_0x47db45(0x1e8)](),await this[_0x47db45(0x1dd)]['send']()):(this[_0x47db45(0x1dd)][_0x47db45(0x1f2)]('[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder'),await this[_0x47db45(0x1d1)][_0x47db45(0x1e7)](this[_0x47db45(0x1ca)]['dir']));this[_0x47db45(0x1dd)][_0x47db45(0x1f2)](_0x47db45(0x1db)),await this[_0x47db45(0x1ca)][_0x47db45(0x216)](_0xca1931,{'email':_0x410bbe['email'],'name':_0x410bbe[_0x47db45(0x1da)]},_0x3235ae[_0x47db45(0x1da)]),await this[_0x47db45(0x1ca)][_0x47db45(0x1e8)](),await this[_0x47db45(0x1d1)][_0x47db45(0x1e8)]();const _0x487286=this[_0x47db45(0x1f6)]+this[_0x47db45(0x1d4)];this['logger'][_0x47db45(0x1f2)](_0x47db45(0x1f7)+(Date[_0x47db45(0x1f0)]()-this[_0x47db45(0x1f8)])+_0x47db45(0x1cf)+_0x487286),await this[_0x47db45(0x1dd)]['send']();}catch(_0x4a0ead){await this[_0x47db45(0x1fb)](),this['logger'][_0x47db45(0x1f2)](_0x47db45(0x1d7)+_0x4a0ead),await this[_0x47db45(0x1dd)][_0x47db45(0x1d0)]();throw _0x4a0ead;}}async['run'](_0x20f122){const _0xbf083=a145_0x107697;var _0x553f0a,_0x2c2fdb,_0x3d819e,_0x27d4f3;const _0x2b223f=!!((_0x2c2fdb=(_0x553f0a=_0x20f122['components'])===null||_0x553f0a===void 0x0?void 0x0:_0x553f0a[_0xbf083(0x1ec)])===null||_0x2c2fdb===void 0x0?void 0x0:_0x2c2fdb[_0xbf083(0x207)])||!!((_0x27d4f3=(_0x3d819e=_0x20f122[_0xbf083(0x215)])===null||_0x3d819e===void 0x0?void 0x0:_0x3d819e[_0xbf083(0x1ff)])===null||_0x27d4f3===void 0x0?void 0x0:_0x27d4f3[_0xbf083(0x207)]);if(!_0x2b223f){this[_0xbf083(0x1dd)][_0xbf083(0x1f2)](_0xbf083(0x20e)),await this['logger'][_0xbf083(0x1d0)]();return;}this[_0xbf083(0x211)]=_0x20f122,await this[_0xbf083(0x1e1)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a145_0x107697(0x1c6)])({'transient':!![]}),__metadata(a145_0x107697(0x218),[auth_settings_service_1[a145_0x107697(0x201)]])],CommitComponentsJob),exports[a145_0x107697(0x220)]=CommitComponentsJob;