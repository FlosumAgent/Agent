const a145_0x232e63=a145_0x4717;function a145_0x4717(_0x468d55,_0x41ec29){const _0x28452e=a145_0x5790();return a145_0x4717=function(_0x33e2b2,_0x5c57e9){_0x33e2b2=_0x33e2b2-0x1dc;let _0x579051=_0x28452e[_0x33e2b2];return _0x579051;},a145_0x4717(_0x468d55,_0x41ec29);}(function(_0x27595b,_0x22afbc){const _0x53603b=a145_0x4717,_0x23200a=_0x27595b();while(!![]){try{const _0x3b634d=parseInt(_0x53603b(0x213))/0x1*(-parseInt(_0x53603b(0x220))/0x2)+parseInt(_0x53603b(0x227))/0x3+-parseInt(_0x53603b(0x208))/0x4+parseInt(_0x53603b(0x21f))/0x5*(-parseInt(_0x53603b(0x1ea))/0x6)+parseInt(_0x53603b(0x21d))/0x7+-parseInt(_0x53603b(0x1e7))/0x8+-parseInt(_0x53603b(0x22d))/0x9*(-parseInt(_0x53603b(0x205))/0xa);if(_0x3b634d===_0x22afbc)break;else _0x23200a['push'](_0x23200a['shift']());}catch(_0xbc2a33){_0x23200a['push'](_0x23200a['shift']());}}}(a145_0x5790,0x91c87));const a145_0x5c57e9=function(){let _0x2c3710=!![];return function(_0x5b9be2,_0xc59529){const _0x496f83=_0x2c3710?function(){const _0x15799b=a145_0x4717;if(_0xc59529){const _0x613edb=_0xc59529[_0x15799b(0x1ed)](_0x5b9be2,arguments);return _0xc59529=null,_0x613edb;}}:function(){};return _0x2c3710=![],_0x496f83;};}(),a145_0x33e2b2=a145_0x5c57e9(this,function(){const _0x29ff33=a145_0x4717;return a145_0x33e2b2[_0x29ff33(0x21a)]()['search'](_0x29ff33(0x1ef))[_0x29ff33(0x21a)]()[_0x29ff33(0x1ec)](a145_0x33e2b2)[_0x29ff33(0x215)](_0x29ff33(0x1ef));});a145_0x33e2b2();'use strict';function a145_0x5790(){const _0x12a1da=['reduce','../../shared/services/auth-settings.service','1151363SvpdLW','[INFO]\x20Start\x20clonning\x20repository','search','events','gitUrl','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','writeFlosumComponents','toString','commitData','includes','2128203XCmLNl','dir','145jnCGqp','2VtpyYa','[INFO]\x20Prepare\x20mdapi\x20files','gitUtils','run','__decorate','object','copyMdapiTo','3266013eaAVnm','groupComponentsByFileName','clearDir','[INFO]\x20Preparing\x20to\x20delete\x20components','cleanUp','catch','2493ZTkLtc','removeDir','exec','sort','typedi','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','../utils/mdapi.utils','__importDefault','prepareMdapi','design:paramtypes','components','../utils/git.utils','send','componentsToWrite','ms.\x20Commited\x20components\x20-\x20','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','createProjectFrom','writed','now','writeComponents','removeComponents','2826008JkzJqX','fileName','defineProperty','112854TlDSMK','name','constructor','apply','SFDXUtils','(((.+)+)+)+$','CommitComponentsJob','replace','fileType','logger','getOwnPropertyDescriptor','startTime','metadata','AuthSettingsService','__metadata','[ERROR]\x20','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','../utils/sfdx.utils','remote','mdapiUtils','deleted','MDApiUtils','__esModule','function','decorate','log','componentsToDelete','58080LaecaT','sfdxUtils','\x20components','1417256yIzESa','values','default','COMPONENTS_PER_TICK','../../parsers/mdapi/child-types','[INFO]\x20Preparing\x20to\x20write\x20components','length','authSettings','type'];a145_0x5790=function(){return _0x12a1da;};return a145_0x5790();}var __decorate=this&&this[a145_0x232e63(0x224)]||function(_0x43edf6,_0x1d2955,_0x321caa,_0x586985){const _0x346af9=a145_0x232e63;var _0x49f8c1=arguments[_0x346af9(0x20e)],_0x3832ec=_0x49f8c1<0x3?_0x1d2955:_0x586985===null?_0x586985=Object[_0x346af9(0x1f4)](_0x1d2955,_0x321caa):_0x586985,_0x522df0;if(typeof Reflect===_0x346af9(0x225)&&typeof Reflect[_0x346af9(0x202)]===_0x346af9(0x201))_0x3832ec=Reflect[_0x346af9(0x202)](_0x43edf6,_0x1d2955,_0x321caa,_0x586985);else{for(var _0x2e334d=_0x43edf6['length']-0x1;_0x2e334d>=0x0;_0x2e334d--)if(_0x522df0=_0x43edf6[_0x2e334d])_0x3832ec=(_0x49f8c1<0x3?_0x522df0(_0x3832ec):_0x49f8c1>0x3?_0x522df0(_0x1d2955,_0x321caa,_0x3832ec):_0x522df0(_0x1d2955,_0x321caa))||_0x3832ec;}return _0x49f8c1>0x3&&_0x3832ec&&Object[_0x346af9(0x1e9)](_0x1d2955,_0x321caa,_0x3832ec),_0x3832ec;},__metadata=this&&this[a145_0x232e63(0x1f8)]||function(_0x4d4670,_0x5d7c99){const _0x32cb75=a145_0x232e63;if(typeof Reflect===_0x32cb75(0x225)&&typeof Reflect[_0x32cb75(0x1f6)]===_0x32cb75(0x201))return Reflect['metadata'](_0x4d4670,_0x5d7c99);},__importDefault=this&&this[a145_0x232e63(0x234)]||function(_0x5e966b){const _0xf25845=a145_0x232e63;return _0x5e966b&&_0x5e966b[_0xf25845(0x200)]?_0x5e966b:{'default':_0x5e966b};};Object[a145_0x232e63(0x1e9)](exports,'__esModule',{'value':!![]}),exports[a145_0x232e63(0x1f0)]=void 0x0;const auth_settings_service_1=require(a145_0x232e63(0x212)),events_1=__importDefault(require(a145_0x232e63(0x216))),git_utils_1=require(a145_0x232e63(0x1dd)),mdapi_utils_1=require(a145_0x232e63(0x233)),sfdx_utils_1=require(a145_0x232e63(0x1fb)),typedi_1=require(a145_0x232e63(0x231)),child_types_1=__importDefault(require(a145_0x232e63(0x20c))),utils_1=require('../../shared/utils');let CommitComponentsJob=class CommitComponentsJob extends events_1[a145_0x232e63(0x20a)]{constructor(_0xa3fd4c){const _0x560662=a145_0x232e63;super(),this[_0x560662(0x20f)]=_0xa3fd4c,this['COMPONENTS_PER_TICK']=0x3e8,this[_0x560662(0x1df)]=0x0,this[_0x560662(0x204)]=0x0,this[_0x560662(0x1f5)]=Date[_0x560662(0x1e4)]();}get[a145_0x232e63(0x1fc)](){const _0x49c015=a145_0x232e63,{repo:_0x2e39f2}=this[_0x49c015(0x21b)],{gitCredentials:_0x47c1d8}=this[_0x49c015(0x20f)];return _0x2e39f2[_0x49c015(0x217)][_0x49c015(0x1f1)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x2e39f2['gitUrl'])+'://'+_0x47c1d8+'@');}[a145_0x232e63(0x228)](_0x2f4ab7){const _0x368e61=a145_0x232e63;var _0xdfe044;_0x2f4ab7[_0x368e61(0x230)](_0x573579=>child_types_1[_0x368e61(0x20a)]['includes'](_0x573579[_0x368e61(0x1f2)])?0x1:-0x1);const _0x1bd8c7={};for(const _0x505ea5 of _0x2f4ab7){_0x1bd8c7[_0xdfe044=_0x505ea5[_0x368e61(0x1e8)]]||(_0x1bd8c7[_0xdfe044]=[]),_0x1bd8c7[_0x505ea5[_0x368e61(0x1e8)]]['push'](_0x505ea5);}return Object[_0x368e61(0x209)](_0x1bd8c7)[_0x368e61(0x211)]((_0x29aa79,_0x36068e)=>[..._0x29aa79,..._0x36068e],[]);}async[a145_0x232e63(0x1e5)](_0x476e67){const _0x62b40a=a145_0x232e63;_0x476e67=this[_0x62b40a(0x228)](_0x476e67);let _0x49cf1d=0x0;while(_0x476e67[_0x62b40a(0x20e)]){const _0x2131a0=_0x476e67['splice'](0x0,this['COMPONENTS_PER_TICK']);await this[_0x62b40a(0x1fd)][_0x62b40a(0x219)](_0x2131a0),_0x49cf1d+=_0x2131a0[_0x62b40a(0x20e)],this[_0x62b40a(0x1f3)][_0x62b40a(0x203)]('[INFO]\x20Writed\x20'+_0x49cf1d+'/'+this[_0x62b40a(0x1df)]+_0x62b40a(0x207)),await this[_0x62b40a(0x1f3)][_0x62b40a(0x1de)]();}}async['removeComponents'](_0x23492a){const _0x234693=a145_0x232e63;_0x23492a[_0x234693(0x230)](_0xc5c778=>child_types_1[_0x234693(0x20a)][_0x234693(0x21c)](_0xc5c778[_0x234693(0x210)])?-0x1:0x1);let _0x1da081=0x0;while(_0x23492a[_0x234693(0x20e)]){const _0x52975a=_0x23492a['splice'](0x0,this[_0x234693(0x20b)]);await this[_0x234693(0x1fd)]['removeComponents'](_0x52975a),_0x1da081+=_0x52975a[_0x234693(0x20e)],this[_0x234693(0x1f3)][_0x234693(0x203)]('[INFO]\x20Deleted\x20'+_0x1da081+'/'+this[_0x234693(0x204)]+_0x234693(0x207)),await this[_0x234693(0x1f3)]['send']();}}async[a145_0x232e63(0x22b)](){const _0x239ba2=a145_0x232e63;this[_0x239ba2(0x222)]&&await this[_0x239ba2(0x222)][_0x239ba2(0x22e)]()[_0x239ba2(0x22c)](()=>void 0x0),this[_0x239ba2(0x1fd)]&&await this[_0x239ba2(0x1fd)][_0x239ba2(0x22e)]()[_0x239ba2(0x22c)](()=>void 0x0),this[_0x239ba2(0x206)]&&await this[_0x239ba2(0x206)][_0x239ba2(0x22e)]()[_0x239ba2(0x22c)](()=>void 0x0);}async[a145_0x232e63(0x22f)](){const _0x87f0ad=a145_0x232e63,{repo:_0x59ede9,branch:_0xcd539d,components:_0x456602,convertToSFDX:_0x2124dc,message:_0x4b2c3f,user:_0xab2d4e}=this['commitData'];this[_0x87f0ad(0x1fd)]=new mdapi_utils_1[(_0x87f0ad(0x1ff))](_0x59ede9[_0x87f0ad(0x1eb)],_0xcd539d[_0x87f0ad(0x1eb)]),this['gitUtils']=new git_utils_1['GitUtils'](this[_0x87f0ad(0x1fc)]),this[_0x87f0ad(0x206)]=new sfdx_utils_1[(_0x87f0ad(0x1ee))](_0x59ede9['name'],_0xcd539d[_0x87f0ad(0x1eb)]);try{this[_0x87f0ad(0x1f3)][_0x87f0ad(0x203)](_0x87f0ad(0x214)),await this['gitUtils']['clone'](_0xcd539d[_0x87f0ad(0x1eb)],_0x59ede9[_0x87f0ad(0x1eb)]);!this[_0x87f0ad(0x21b)]['force']?(this[_0x87f0ad(0x1f3)][_0x87f0ad(0x203)](_0x87f0ad(0x221)),await this[_0x87f0ad(0x1fd)][_0x87f0ad(0x235)](this[_0x87f0ad(0x222)][_0x87f0ad(0x21e)])):this[_0x87f0ad(0x1f3)][_0x87f0ad(0x203)]('[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.');_0x456602['writed']&&(this[_0x87f0ad(0x1f3)]['log'](_0x87f0ad(0x20d)),this[_0x87f0ad(0x1df)]=_0x456602[_0x87f0ad(0x1e3)][_0x87f0ad(0x20e)],await this[_0x87f0ad(0x1e5)](_0x456602[_0x87f0ad(0x1e3)]));_0x456602['deleted']&&(this['logger']['log'](_0x87f0ad(0x22a)),this[_0x87f0ad(0x204)]=_0x456602['deleted'][_0x87f0ad(0x20e)],await this[_0x87f0ad(0x1e6)](_0x456602[_0x87f0ad(0x1fe)]));await this[_0x87f0ad(0x222)][_0x87f0ad(0x229)](),await this[_0x87f0ad(0x1f3)][_0x87f0ad(0x1de)]();_0x2124dc?(this[_0x87f0ad(0x1f3)][_0x87f0ad(0x203)]('[INFO]\x20Start\x20converting\x20to\x20SFDX'),await this[_0x87f0ad(0x206)][_0x87f0ad(0x1e2)](this[_0x87f0ad(0x1fd)]['dir']),await this[_0x87f0ad(0x206)]['copyProjectTo'](this[_0x87f0ad(0x222)][_0x87f0ad(0x21e)]),await this['sfdxUtils'][_0x87f0ad(0x22e)](),await this[_0x87f0ad(0x1f3)]['send']()):(this[_0x87f0ad(0x1f3)][_0x87f0ad(0x203)](_0x87f0ad(0x218)),await this[_0x87f0ad(0x1fd)][_0x87f0ad(0x226)](this['gitUtils'][_0x87f0ad(0x21e)]));this[_0x87f0ad(0x1f3)][_0x87f0ad(0x203)](_0x87f0ad(0x1e1)),await this[_0x87f0ad(0x222)]['commitAndPush'](_0x4b2c3f,{'email':_0xab2d4e['email'],'name':_0xab2d4e['name']},_0xcd539d[_0x87f0ad(0x1eb)]),await this[_0x87f0ad(0x222)][_0x87f0ad(0x22e)](),await this['mdapiUtils'][_0x87f0ad(0x22e)]();const _0x172d0a=this[_0x87f0ad(0x1df)]+this['componentsToDelete'];this[_0x87f0ad(0x1f3)][_0x87f0ad(0x203)](_0x87f0ad(0x232)+(Date['now']()-this['startTime'])+_0x87f0ad(0x1e0)+_0x172d0a),await this[_0x87f0ad(0x1f3)][_0x87f0ad(0x1de)]();}catch(_0x4cd7a4){await this[_0x87f0ad(0x22b)](),this[_0x87f0ad(0x1f3)][_0x87f0ad(0x203)](_0x87f0ad(0x1f9)+_0x4cd7a4),await this[_0x87f0ad(0x1f3)][_0x87f0ad(0x1de)]();throw _0x4cd7a4;}}async[a145_0x232e63(0x223)](_0x405875){const _0x9aea95=a145_0x232e63;var _0x3a0396,_0x1257b0,_0x33be72,_0x569e62;const _0x5bf514=!!((_0x1257b0=(_0x3a0396=_0x405875[_0x9aea95(0x1dc)])===null||_0x3a0396===void 0x0?void 0x0:_0x3a0396[_0x9aea95(0x1e3)])===null||_0x1257b0===void 0x0?void 0x0:_0x1257b0[_0x9aea95(0x20e)])||!!((_0x569e62=(_0x33be72=_0x405875['components'])===null||_0x33be72===void 0x0?void 0x0:_0x33be72[_0x9aea95(0x1fe)])===null||_0x569e62===void 0x0?void 0x0:_0x569e62[_0x9aea95(0x20e)]);if(!_0x5bf514){this['logger'][_0x9aea95(0x203)](_0x9aea95(0x1fa)),await this[_0x9aea95(0x1f3)][_0x9aea95(0x1de)]();return;}this[_0x9aea95(0x21b)]=_0x405875,await this[_0x9aea95(0x22f)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a145_0x232e63(0x236),[auth_settings_service_1[a145_0x232e63(0x1f7)]])],CommitComponentsJob),exports['CommitComponentsJob']=CommitComponentsJob;