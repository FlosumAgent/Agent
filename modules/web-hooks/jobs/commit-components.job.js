const a142_0x5ded=['535198mJamDI','length','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','splice','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','reduce','[INFO]\x20Preparing\x20to\x20write\x20components','[INFO]\x20Start\x20clonning\x20repository','default','decorate','../../shared/services/auth-settings.service','11714LMRqkv','catch','clone','sort','__decorate','includes','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','380513ptbrKc','AuthSettingsService','fileType','componentsToWrite','groupComponentsByFileName','send','[INFO]\x20Start\x20converting\x20to\x20SFDX','149028uPIivo','metadata','remote','../../shared/utils','mdapiUtils','clearDir','Service','deleted','__metadata','[INFO]\x20Prepare\x20mdapi\x20files','copyProjectTo','sfdxUtils','MDApiUtils','name','://','removeDir','cleanUp','exec','design:paramtypes','run','writeComponents','gitUtils','getOwnPropertyDescriptor','defineProperty','constructor','object','../utils/mdapi.utils','dir','replace','COMPONENTS_PER_TICK','logger','gitUrl','values','ms.\x20Commited\x20components\x20-\x20','writeFlosumComponents','commitData','SFDXUtils','writed','apply','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','123857OZDGLU','CommitComponentsJob','log','function','115124puKcPV','__esModule','components','fileName','[ERROR]\x20','__importDefault','typedi','13lsChFu','365131EYGaNo','\x20components','GitUtils','authSettings','componentsToDelete'];const a142_0x43f1e9=a142_0x768d;(function(_0x2551da,_0x5d7eb7){const _0x11a090=a142_0x768d;while(!![]){try{const _0x237523=parseInt(_0x11a090(0x13f))+-parseInt(_0x11a090(0x120))+-parseInt(_0x11a090(0x118))+-parseInt(_0x11a090(0x114))+parseInt(_0x11a090(0x138))+parseInt(_0x11a090(0x11f))*-parseInt(_0x11a090(0x130))+parseInt(_0x11a090(0x125));if(_0x237523===_0x5d7eb7)break;else _0x2551da['push'](_0x2551da['shift']());}catch(_0x459fd2){_0x2551da['push'](_0x2551da['shift']());}}}(a142_0x5ded,0x4b479));const a142_0x592b78=function(){let _0x178699=!![];return function(_0x50db25,_0x2f09e1){const _0x512968=_0x178699?function(){const _0x5f3f4e=a142_0x768d;if(_0x2f09e1){const _0xdc3724=_0x2f09e1[_0x5f3f4e(0x112)](_0x50db25,arguments);return _0x2f09e1=null,_0xdc3724;}}:function(){};return _0x178699=![],_0x512968;};}(),a142_0x377272=a142_0x592b78(this,function(){const _0x2b26af=function(){const _0x5f5c7d=a142_0x768d,_0xa42e7a=_0x2b26af[_0x5f5c7d(0x157)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x5f5c7d(0x157)](_0x5f5c7d(0x113));return!_0xa42e7a['test'](a142_0x377272);};return _0x2b26af();});a142_0x377272();'use strict';var __decorate=this&&this[a142_0x43f1e9(0x134)]||function(_0x282a8e,_0x2bd69c,_0x4fa934,_0x11abf4){const _0x340c10=a142_0x43f1e9;var _0x1a0631=arguments[_0x340c10(0x126)],_0x49b501=_0x1a0631<0x3?_0x2bd69c:_0x11abf4===null?_0x11abf4=Object[_0x340c10(0x155)](_0x2bd69c,_0x4fa934):_0x11abf4,_0x3babef;if(typeof Reflect===_0x340c10(0x158)&&typeof Reflect[_0x340c10(0x12e)]===_0x340c10(0x117))_0x49b501=Reflect[_0x340c10(0x12e)](_0x282a8e,_0x2bd69c,_0x4fa934,_0x11abf4);else{for(var _0x22cb88=_0x282a8e[_0x340c10(0x126)]-0x1;_0x22cb88>=0x0;_0x22cb88--)if(_0x3babef=_0x282a8e[_0x22cb88])_0x49b501=(_0x1a0631<0x3?_0x3babef(_0x49b501):_0x1a0631>0x3?_0x3babef(_0x2bd69c,_0x4fa934,_0x49b501):_0x3babef(_0x2bd69c,_0x4fa934))||_0x49b501;}return _0x1a0631>0x3&&_0x49b501&&Object[_0x340c10(0x156)](_0x2bd69c,_0x4fa934,_0x49b501),_0x49b501;},__metadata=this&&this[a142_0x43f1e9(0x147)]||function(_0x506e65,_0x56067c){const _0x1d2d93=a142_0x43f1e9;if(typeof Reflect===_0x1d2d93(0x158)&&typeof Reflect['metadata']===_0x1d2d93(0x117))return Reflect[_0x1d2d93(0x140)](_0x506e65,_0x56067c);},__importDefault=this&&this[a142_0x43f1e9(0x11d)]||function(_0x4e27ae){const _0x237909=a142_0x43f1e9;return _0x4e27ae&&_0x4e27ae[_0x237909(0x119)]?_0x4e27ae:{'default':_0x4e27ae};};function a142_0x768d(_0x4b4a53,_0x348ee5){return a142_0x768d=function(_0xdbaa16,_0x377272){_0xdbaa16=_0xdbaa16-0x10e;let _0x592b78=a142_0x5ded[_0xdbaa16];return _0x592b78;},a142_0x768d(_0x4b4a53,_0x348ee5);}Object[a142_0x43f1e9(0x156)](exports,'__esModule',{'value':!![]}),exports[a142_0x43f1e9(0x115)]=void 0x0;const events_1=__importDefault(require('events')),typedi_1=require(a142_0x43f1e9(0x11e)),child_types_1=__importDefault(require('../../parsers/mdapi/child-types')),auth_settings_service_1=require(a142_0x43f1e9(0x12f)),utils_1=require(a142_0x43f1e9(0x142)),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require(a142_0x43f1e9(0x159)),sfdx_utils_1=require('../utils/sfdx.utils');let CommitComponentsJob=class CommitComponentsJob extends events_1['default']{constructor(_0x119a6c){const _0x415b6e=a142_0x43f1e9;super(),this['authSettings']=_0x119a6c,this[_0x415b6e(0x15c)]=0x3e8,this[_0x415b6e(0x13b)]=0x0,this[_0x415b6e(0x124)]=0x0,this['startTime']=Date['now']();}get['remote'](){const _0x2c792c=a142_0x43f1e9,{repo:_0x5fcc2f}=this[_0x2c792c(0x10f)],{gitCredentials:_0x1def5d}=this[_0x2c792c(0x123)];return _0x5fcc2f[_0x2c792c(0x15e)][_0x2c792c(0x15b)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x5fcc2f[_0x2c792c(0x15e)])+_0x2c792c(0x14d)+_0x1def5d+'@');}[a142_0x43f1e9(0x13c)](_0x203e59){const _0x2da68e=a142_0x43f1e9;var _0x4d9773;_0x203e59[_0x2da68e(0x133)](_0x1c1fb1=>child_types_1[_0x2da68e(0x12d)][_0x2da68e(0x135)](_0x1c1fb1[_0x2da68e(0x13a)])?0x1:-0x1);const _0x44db91={};for(const _0x4e5025 of _0x203e59){_0x44db91[_0x4d9773=_0x4e5025[_0x2da68e(0x11b)]]||(_0x44db91[_0x4d9773]=[]),_0x44db91[_0x4e5025[_0x2da68e(0x11b)]]['push'](_0x4e5025);}return Object[_0x2da68e(0x15f)](_0x44db91)[_0x2da68e(0x12a)]((_0xb07a69,_0x3f226b)=>[..._0xb07a69,..._0x3f226b],[]);}async[a142_0x43f1e9(0x153)](_0x80b097){const _0x445545=a142_0x43f1e9;_0x80b097=this['groupComponentsByFileName'](_0x80b097);let _0x3655db=0x0;while(_0x80b097[_0x445545(0x126)]){const _0x519b15=_0x80b097[_0x445545(0x128)](0x0,this['COMPONENTS_PER_TICK']);await this['mdapiUtils'][_0x445545(0x10e)](_0x519b15),_0x3655db+=_0x519b15[_0x445545(0x126)],this[_0x445545(0x15d)][_0x445545(0x116)]('[INFO]\x20Writed\x20'+_0x3655db+'/'+this['componentsToWrite']+_0x445545(0x121)),await this['logger'][_0x445545(0x13d)]();}}async['removeComponents'](_0x471168){const _0x37ee5a=a142_0x43f1e9;let _0x45fd0a=0x0;while(_0x471168[_0x37ee5a(0x126)]){const _0x4eaaef=_0x471168['splice'](0x0,this[_0x37ee5a(0x15c)]);await this[_0x37ee5a(0x143)]['removeComponents'](_0x4eaaef),_0x45fd0a+=_0x4eaaef[_0x37ee5a(0x126)],this[_0x37ee5a(0x15d)]['log']('[INFO]\x20Deleted\x20'+_0x45fd0a+'/'+this['componentsToDelete']+_0x37ee5a(0x121)),await this[_0x37ee5a(0x15d)][_0x37ee5a(0x13d)]();}}async[a142_0x43f1e9(0x14f)](){const _0x113d49=a142_0x43f1e9;this[_0x113d49(0x154)]&&await this[_0x113d49(0x154)][_0x113d49(0x14e)]()[_0x113d49(0x131)](()=>void 0x0),this[_0x113d49(0x143)]&&await this[_0x113d49(0x143)][_0x113d49(0x14e)]()['catch'](()=>void 0x0),this[_0x113d49(0x14a)]&&await this[_0x113d49(0x14a)]['removeDir']()[_0x113d49(0x131)](()=>void 0x0);}async[a142_0x43f1e9(0x150)](){const _0x5d9d0d=a142_0x43f1e9,{repo:_0x46ffbe,branch:_0x3946dc,components:_0x52b9a0,convertToSFDX:_0x7ba815,message:_0x2ce783,user:_0x333c4e}=this['commitData'];this['mdapiUtils']=new mdapi_utils_1[(_0x5d9d0d(0x14b))](_0x46ffbe[_0x5d9d0d(0x14c)],_0x3946dc[_0x5d9d0d(0x14c)]),this['gitUtils']=new git_utils_1[(_0x5d9d0d(0x122))](this[_0x5d9d0d(0x141)]),this[_0x5d9d0d(0x14a)]=new sfdx_utils_1[(_0x5d9d0d(0x110))](_0x46ffbe[_0x5d9d0d(0x14c)],_0x3946dc['name']);try{this[_0x5d9d0d(0x15d)][_0x5d9d0d(0x116)](_0x5d9d0d(0x12c)),await this[_0x5d9d0d(0x154)][_0x5d9d0d(0x132)](_0x3946dc[_0x5d9d0d(0x14c)],_0x46ffbe[_0x5d9d0d(0x14c)]);!this[_0x5d9d0d(0x10f)]['force']?(this['logger']['log'](_0x5d9d0d(0x148)),await this[_0x5d9d0d(0x143)]['prepareMdapi'](this[_0x5d9d0d(0x154)][_0x5d9d0d(0x15a)])):this[_0x5d9d0d(0x15d)][_0x5d9d0d(0x116)](_0x5d9d0d(0x127));_0x52b9a0[_0x5d9d0d(0x111)]&&(this[_0x5d9d0d(0x15d)][_0x5d9d0d(0x116)](_0x5d9d0d(0x12b)),this[_0x5d9d0d(0x13b)]=_0x52b9a0[_0x5d9d0d(0x111)][_0x5d9d0d(0x126)],await this[_0x5d9d0d(0x153)](_0x52b9a0['writed']));_0x52b9a0['deleted']&&(this['logger'][_0x5d9d0d(0x116)]('[INFO]\x20Preparing\x20to\x20delete\x20components'),this['componentsToDelete']=_0x52b9a0[_0x5d9d0d(0x146)][_0x5d9d0d(0x126)],await this['removeComponents'](_0x52b9a0[_0x5d9d0d(0x146)]));await this[_0x5d9d0d(0x154)][_0x5d9d0d(0x144)](),await this[_0x5d9d0d(0x15d)]['send']();_0x7ba815?(this['logger'][_0x5d9d0d(0x116)](_0x5d9d0d(0x13e)),await this['sfdxUtils']['createProjectFrom'](this[_0x5d9d0d(0x143)]['dir']),await this['sfdxUtils'][_0x5d9d0d(0x149)](this['gitUtils'][_0x5d9d0d(0x15a)]),await this[_0x5d9d0d(0x14a)][_0x5d9d0d(0x14e)](),await this['logger'][_0x5d9d0d(0x13d)]()):(this[_0x5d9d0d(0x15d)][_0x5d9d0d(0x116)](_0x5d9d0d(0x137)),await this[_0x5d9d0d(0x143)]['copyMdapiTo'](this[_0x5d9d0d(0x154)][_0x5d9d0d(0x15a)]));this[_0x5d9d0d(0x15d)][_0x5d9d0d(0x116)](_0x5d9d0d(0x129)),await this[_0x5d9d0d(0x154)]['commitAndPush'](_0x2ce783,{'email':_0x333c4e['email'],'name':_0x333c4e[_0x5d9d0d(0x14c)]},_0x3946dc['name']),await this[_0x5d9d0d(0x154)][_0x5d9d0d(0x14e)](),await this[_0x5d9d0d(0x143)][_0x5d9d0d(0x14e)]();const _0x2aa040=this[_0x5d9d0d(0x13b)]+this[_0x5d9d0d(0x124)];this[_0x5d9d0d(0x15d)]['log'](_0x5d9d0d(0x136)+(Date['now']()-this['startTime'])+_0x5d9d0d(0x160)+_0x2aa040),await this['logger'][_0x5d9d0d(0x13d)]();}catch(_0x4daf00){await this[_0x5d9d0d(0x14f)](),this['logger'][_0x5d9d0d(0x116)](_0x5d9d0d(0x11c)+_0x4daf00),await this[_0x5d9d0d(0x15d)][_0x5d9d0d(0x13d)]();throw _0x4daf00;}}async[a142_0x43f1e9(0x152)](_0x44090d){const _0x36d847=a142_0x43f1e9;var _0x30f244,_0x7a4538,_0x162da2,_0x4d3fab;const _0x17ea04=!!((_0x7a4538=(_0x30f244=_0x44090d[_0x36d847(0x11a)])===null||_0x30f244===void 0x0?void 0x0:_0x30f244[_0x36d847(0x111)])===null||_0x7a4538===void 0x0?void 0x0:_0x7a4538[_0x36d847(0x126)])||!!((_0x4d3fab=(_0x162da2=_0x44090d[_0x36d847(0x11a)])===null||_0x162da2===void 0x0?void 0x0:_0x162da2[_0x36d847(0x146)])===null||_0x4d3fab===void 0x0?void 0x0:_0x4d3fab[_0x36d847(0x126)]);if(!_0x17ea04){this[_0x36d847(0x15d)][_0x36d847(0x116)]('[INFO]\x20Nothing\x20to\x20commit.\x20Skip.'),await this[_0x36d847(0x15d)][_0x36d847(0x13d)]();return;}this[_0x36d847(0x10f)]=_0x44090d,await this[_0x36d847(0x150)]();}};CommitComponentsJob=__decorate([typedi_1[a142_0x43f1e9(0x145)]({'transient':!![]}),__metadata(a142_0x43f1e9(0x151),[auth_settings_service_1[a142_0x43f1e9(0x139)]])],CommitComponentsJob),exports['CommitComponentsJob']=CommitComponentsJob;