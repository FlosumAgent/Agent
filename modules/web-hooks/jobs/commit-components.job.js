const a144_0x4d3e=['createProjectFrom','[INFO]\x20Deleted\x20','events','192297nkwSlY','componentsToDelete','splice','[INFO]\x20Writed\x20','default','fileName','includes','sort','sfdxUtils','44StWIMa','apply','metadata','717356mKeyni','AuthSettingsService','[INFO]\x20Preparing\x20to\x20delete\x20components','send','CommitComponentsJob','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','defineProperty','dir','reduce','__importDefault','49190UpquTe','1rKcuwp','writed','remote','MDApiUtils','push','\x20components','prepareMdapi','516224kGgGES','commitData','copyMdapiTo','exec','values','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','getProtocol','clone','typedi','[ERROR]\x20','logger','run','return\x20/\x22\x20+\x20this\x20+\x20\x22/','commitAndPush','object','getOwnPropertyDescriptor','SFDXUtils','COMPONENTS_PER_TICK','674687ICJmxK','components','../utils/mdapi.utils','length','95159wUkUgI','replace','function','gitUtils','removeComponents','../../shared/utils','decorate','fileType','3854CKOkgK','://','force','removeDir','clearDir','componentsToWrite','writeComponents','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','groupComponentsByFileName','mdapiUtils','cleanUp','deleted','startTime','__decorate','[INFO]\x20Preparing\x20to\x20write\x20components','../../shared/services/auth-settings.service','design:paramtypes','__esModule','name','log','catch','email','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','../utils/sfdx.utils','3tUqGlC','copyProjectTo'];const a144_0x5098ec=a144_0x282b;(function(_0x194b41,_0x310f30){const _0x576ad7=a144_0x282b;while(!![]){try{const _0x3b5d7f=-parseInt(_0x576ad7(0xfb))*-parseInt(_0x576ad7(0x118))+-parseInt(_0x576ad7(0xe4))+-parseInt(_0x576ad7(0x102))+parseInt(_0x576ad7(0xc7))*-parseInt(_0x576ad7(0xed))+-parseInt(_0x576ad7(0xf0))+parseInt(_0x576ad7(0xfa))+parseInt(_0x576ad7(0x114))*parseInt(_0x576ad7(0xdf));if(_0x3b5d7f===_0x310f30)break;else _0x194b41['push'](_0x194b41['shift']());}catch(_0x57baa1){_0x194b41['push'](_0x194b41['shift']());}}}(a144_0x4d3e,0x8be1d));const a144_0x32f924=function(){let _0x3bd26f=!![];return function(_0x45daae,_0x5a6be7){const _0x1e98c1=_0x3bd26f?function(){const _0x475b86=a144_0x282b;if(_0x5a6be7){const _0x118d28=_0x5a6be7[_0x475b86(0xee)](_0x45daae,arguments);return _0x5a6be7=null,_0x118d28;}}:function(){};return _0x3bd26f=![],_0x1e98c1;};}(),a144_0x227ec1=a144_0x32f924(this,function(){const _0x368d5e=function(){const _0x325d8b=a144_0x282b,_0x491230=_0x368d5e['constructor'](_0x325d8b(0x10e))()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x491230['test'](a144_0x227ec1);};return _0x368d5e();});a144_0x227ec1();'use strict';var __decorate=this&&this[a144_0x5098ec(0xd4)]||function(_0x3d0caa,_0x78cd2d,_0x4a9009,_0x19082a){const _0x1e8145=a144_0x5098ec;var _0x121419=arguments[_0x1e8145(0x117)],_0x61802=_0x121419<0x3?_0x78cd2d:_0x19082a===null?_0x19082a=Object[_0x1e8145(0x111)](_0x78cd2d,_0x4a9009):_0x19082a,_0x1f4d5d;if(typeof Reflect==='object'&&typeof Reflect[_0x1e8145(0x11e)]===_0x1e8145(0x11a))_0x61802=Reflect[_0x1e8145(0x11e)](_0x3d0caa,_0x78cd2d,_0x4a9009,_0x19082a);else{for(var _0x18794f=_0x3d0caa[_0x1e8145(0x117)]-0x1;_0x18794f>=0x0;_0x18794f--)if(_0x1f4d5d=_0x3d0caa[_0x18794f])_0x61802=(_0x121419<0x3?_0x1f4d5d(_0x61802):_0x121419>0x3?_0x1f4d5d(_0x78cd2d,_0x4a9009,_0x61802):_0x1f4d5d(_0x78cd2d,_0x4a9009))||_0x61802;}return _0x121419>0x3&&_0x61802&&Object[_0x1e8145(0xf6)](_0x78cd2d,_0x4a9009,_0x61802),_0x61802;},__metadata=this&&this['__metadata']||function(_0x2c0a40,_0x4cae93){const _0x3fc773=a144_0x5098ec;if(typeof Reflect===_0x3fc773(0x110)&&typeof Reflect['metadata']===_0x3fc773(0x11a))return Reflect[_0x3fc773(0xef)](_0x2c0a40,_0x4cae93);},__importDefault=this&&this[a144_0x5098ec(0xf9)]||function(_0x101e04){const _0x25f476=a144_0x5098ec;return _0x101e04&&_0x101e04[_0x25f476(0xd8)]?_0x101e04:{'default':_0x101e04};};Object[a144_0x5098ec(0xf6)](exports,a144_0x5098ec(0xd8),{'value':!![]}),exports[a144_0x5098ec(0xf4)]=void 0x0;const auth_settings_service_1=require(a144_0x5098ec(0xd6)),events_1=__importDefault(require(a144_0x5098ec(0xe3))),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require(a144_0x5098ec(0x116)),sfdx_utils_1=require(a144_0x5098ec(0xde)),typedi_1=require(a144_0x5098ec(0x10a)),child_types_1=__importDefault(require('../../parsers/mdapi/child-types')),utils_1=require(a144_0x5098ec(0x11d));function a144_0x282b(_0x5b5e57,_0x48e82f){return a144_0x282b=function(_0x67e8cd,_0x227ec1){_0x67e8cd=_0x67e8cd-0xc6;let _0x32f924=a144_0x4d3e[_0x67e8cd];return _0x32f924;},a144_0x282b(_0x5b5e57,_0x48e82f);}let CommitComponentsJob=class CommitComponentsJob extends events_1[a144_0x5098ec(0xe8)]{constructor(_0x5f25d7){const _0x4e4520=a144_0x5098ec;super(),this['authSettings']=_0x5f25d7,this[_0x4e4520(0x113)]=0x3e8,this[_0x4e4520(0xcc)]=0x0,this[_0x4e4520(0xe5)]=0x0,this[_0x4e4520(0xd3)]=Date['now']();}get[a144_0x5098ec(0xfd)](){const _0x4c24b5=a144_0x5098ec,{repo:_0x4c76f3}=this[_0x4c24b5(0x103)],{gitCredentials:_0x209f50}=this['authSettings'];return _0x4c76f3['gitUrl'][_0x4c24b5(0x119)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x4c24b5(0x108)](_0x4c76f3['gitUrl'])+_0x4c24b5(0xc8)+_0x209f50+'@');}[a144_0x5098ec(0xcf)](_0x67137f){const _0xe81db2=a144_0x5098ec;var _0x54ea69;_0x67137f[_0xe81db2(0xeb)](_0x750977=>child_types_1['default']['includes'](_0x750977[_0xe81db2(0xc6)])?0x1:-0x1);const _0x71e293={};for(const _0x3b4392 of _0x67137f){_0x71e293[_0x54ea69=_0x3b4392[_0xe81db2(0xe9)]]||(_0x71e293[_0x54ea69]=[]),_0x71e293[_0x3b4392[_0xe81db2(0xe9)]][_0xe81db2(0xff)](_0x3b4392);}return Object[_0xe81db2(0x106)](_0x71e293)[_0xe81db2(0xf8)]((_0x2a0cab,_0x596b6a)=>[..._0x2a0cab,..._0x596b6a],[]);}async[a144_0x5098ec(0xcd)](_0x370a36){const _0x1ee427=a144_0x5098ec;_0x370a36=this[_0x1ee427(0xcf)](_0x370a36);let _0x354261=0x0;while(_0x370a36[_0x1ee427(0x117)]){const _0x57f5a5=_0x370a36[_0x1ee427(0xe6)](0x0,this[_0x1ee427(0x113)]);await this[_0x1ee427(0xd0)]['writeFlosumComponents'](_0x57f5a5),_0x354261+=_0x57f5a5['length'],this[_0x1ee427(0x10c)][_0x1ee427(0xda)](_0x1ee427(0xe7)+_0x354261+'/'+this['componentsToWrite']+_0x1ee427(0x100)),await this[_0x1ee427(0x10c)][_0x1ee427(0xf3)]();}}async[a144_0x5098ec(0x11c)](_0xe64db){const _0x2aec18=a144_0x5098ec;_0xe64db[_0x2aec18(0xeb)](_0x34a285=>child_types_1[_0x2aec18(0xe8)][_0x2aec18(0xea)](_0x34a285['type'])?-0x1:0x1);let _0x127d80=0x0;while(_0xe64db[_0x2aec18(0x117)]){const _0x5df0bf=_0xe64db[_0x2aec18(0xe6)](0x0,this['COMPONENTS_PER_TICK']);await this[_0x2aec18(0xd0)][_0x2aec18(0x11c)](_0x5df0bf),_0x127d80+=_0x5df0bf['length'],this[_0x2aec18(0x10c)][_0x2aec18(0xda)](_0x2aec18(0xe2)+_0x127d80+'/'+this[_0x2aec18(0xe5)]+_0x2aec18(0x100)),await this[_0x2aec18(0x10c)][_0x2aec18(0xf3)]();}}async[a144_0x5098ec(0xd1)](){const _0x2930e7=a144_0x5098ec;this[_0x2930e7(0x11b)]&&await this[_0x2930e7(0x11b)][_0x2930e7(0xca)]()[_0x2930e7(0xdb)](()=>void 0x0),this['mdapiUtils']&&await this[_0x2930e7(0xd0)][_0x2930e7(0xca)]()[_0x2930e7(0xdb)](()=>void 0x0),this[_0x2930e7(0xec)]&&await this[_0x2930e7(0xec)][_0x2930e7(0xca)]()[_0x2930e7(0xdb)](()=>void 0x0);}async['exec'](){const _0x4fa9a5=a144_0x5098ec,{repo:_0x246cf2,branch:_0x310664,components:_0x57c24b,convertToSFDX:_0x133654,message:_0x24bf10,user:_0x2f2e77}=this[_0x4fa9a5(0x103)];this['mdapiUtils']=new mdapi_utils_1[(_0x4fa9a5(0xfe))](_0x246cf2[_0x4fa9a5(0xd9)],_0x310664['name']),this[_0x4fa9a5(0x11b)]=new git_utils_1['GitUtils'](this[_0x4fa9a5(0xfd)]),this[_0x4fa9a5(0xec)]=new sfdx_utils_1[(_0x4fa9a5(0x112))](_0x246cf2['name'],_0x310664['name']);try{this['logger'][_0x4fa9a5(0xda)]('[INFO]\x20Start\x20clonning\x20repository'),await this[_0x4fa9a5(0x11b)][_0x4fa9a5(0x109)](_0x310664['name'],_0x246cf2[_0x4fa9a5(0xd9)]);!this[_0x4fa9a5(0x103)][_0x4fa9a5(0xc9)]?(this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xda)]('[INFO]\x20Prepare\x20mdapi\x20files'),await this[_0x4fa9a5(0xd0)][_0x4fa9a5(0x101)](this[_0x4fa9a5(0x11b)][_0x4fa9a5(0xf7)])):this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xda)](_0x4fa9a5(0xf5));_0x57c24b[_0x4fa9a5(0xfc)]&&(this[_0x4fa9a5(0x10c)]['log'](_0x4fa9a5(0xd5)),this[_0x4fa9a5(0xcc)]=_0x57c24b['writed'][_0x4fa9a5(0x117)],await this['writeComponents'](_0x57c24b[_0x4fa9a5(0xfc)]));_0x57c24b[_0x4fa9a5(0xd2)]&&(this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xda)](_0x4fa9a5(0xf2)),this['componentsToDelete']=_0x57c24b[_0x4fa9a5(0xd2)][_0x4fa9a5(0x117)],await this['removeComponents'](_0x57c24b[_0x4fa9a5(0xd2)]));await this[_0x4fa9a5(0x11b)][_0x4fa9a5(0xcb)](),await this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xf3)]();_0x133654?(this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xda)]('[INFO]\x20Start\x20converting\x20to\x20SFDX'),await this[_0x4fa9a5(0xec)][_0x4fa9a5(0xe1)](this[_0x4fa9a5(0xd0)][_0x4fa9a5(0xf7)]),await this[_0x4fa9a5(0xec)][_0x4fa9a5(0xe0)](this[_0x4fa9a5(0x11b)][_0x4fa9a5(0xf7)]),await this[_0x4fa9a5(0xec)]['removeDir'](),await this[_0x4fa9a5(0x10c)]['send']()):(this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xda)](_0x4fa9a5(0x107)),await this['mdapiUtils'][_0x4fa9a5(0x104)](this[_0x4fa9a5(0x11b)][_0x4fa9a5(0xf7)]));this['logger'][_0x4fa9a5(0xda)](_0x4fa9a5(0xce)),await this[_0x4fa9a5(0x11b)][_0x4fa9a5(0x10f)](_0x24bf10,{'email':_0x2f2e77[_0x4fa9a5(0xdc)],'name':_0x2f2e77['name']},_0x310664['name']),await this[_0x4fa9a5(0x11b)][_0x4fa9a5(0xca)](),await this['mdapiUtils'][_0x4fa9a5(0xca)]();const _0x46665f=this['componentsToWrite']+this['componentsToDelete'];this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xda)](_0x4fa9a5(0xdd)+(Date['now']()-this[_0x4fa9a5(0xd3)])+'ms.\x20Commited\x20components\x20-\x20'+_0x46665f),await this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xf3)]();}catch(_0x4174c2){await this[_0x4fa9a5(0xd1)](),this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xda)](_0x4fa9a5(0x10b)+_0x4174c2),await this[_0x4fa9a5(0x10c)][_0x4fa9a5(0xf3)]();throw _0x4174c2;}}async[a144_0x5098ec(0x10d)](_0x3ae572){const _0x21358f=a144_0x5098ec;var _0x5df258,_0x367905,_0xfac09c,_0xbc89c9;const _0x314a9d=!!((_0x367905=(_0x5df258=_0x3ae572[_0x21358f(0x115)])===null||_0x5df258===void 0x0?void 0x0:_0x5df258[_0x21358f(0xfc)])===null||_0x367905===void 0x0?void 0x0:_0x367905[_0x21358f(0x117)])||!!((_0xbc89c9=(_0xfac09c=_0x3ae572[_0x21358f(0x115)])===null||_0xfac09c===void 0x0?void 0x0:_0xfac09c[_0x21358f(0xd2)])===null||_0xbc89c9===void 0x0?void 0x0:_0xbc89c9[_0x21358f(0x117)]);if(!_0x314a9d){this[_0x21358f(0x10c)][_0x21358f(0xda)]('[INFO]\x20Nothing\x20to\x20commit.\x20Skip.'),await this[_0x21358f(0x10c)][_0x21358f(0xf3)]();return;}this[_0x21358f(0x103)]=_0x3ae572,await this[_0x21358f(0x105)]();}};CommitComponentsJob=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a144_0x5098ec(0xd7),[auth_settings_service_1[a144_0x5098ec(0xf1)]])],CommitComponentsJob),exports[a144_0x5098ec(0xf4)]=CommitComponentsJob;