const a142_0x5598=['logger','\x20components','splice','removeDir','MDApiUtils','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','SFDXUtils','clearDir','__decorate','124510jCmAOz','object','fileType','send','defineProperty','COMPONENTS_PER_TICK','removeComponents','[ERROR]\x20','gitUtils','authSettings','includes','getProtocol','components','../utils/mdapi.utils','clone','email','typedi','componentsToWrite','writed','177036QhgDbH','events','reduce','93evRpAt','copyProjectTo','gitUrl','668MvlTQC','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','GitUtils','length','fileName','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','__metadata','createProjectFrom','sfdxUtils','1txTDAX','groupComponentsByFileName','startTime','log','[INFO]\x20Deleted\x20','32793IwWGOE','[INFO]\x20Start\x20clonning\x20repository','constructor','function','writeFlosumComponents','AuthSettingsService','exec','run','now','CommitComponentsJob','../../shared/utils','deleted','233496gbMHeN','dir','../../parsers/mdapi/child-types','copyMdapiTo','__esModule','13897AjoANv','test','writeComponents','values','5TIgXxa','metadata','../utils/git.utils','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','mdapiUtils','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','__importDefault','remote','9rvgxwK','componentsToDelete','[INFO]\x20Preparing\x20to\x20write\x20components','sort','default','prepareMdapi','ms.\x20Commited\x20components\x20-\x20','decorate','[INFO]\x20Start\x20converting\x20to\x20SFDX','../../shared/services/auth-settings.service','design:paramtypes','name','commitData','://','getOwnPropertyDescriptor','409628LBWvic','[INFO]\x20Prepare\x20mdapi\x20files'];const a142_0x29f5c4=a142_0x16c2;(function(_0x9ce224,_0xb5250c){const _0x4186ea=a142_0x16c2;while(!![]){try{const _0x322a91=-parseInt(_0x4186ea(0x185))*parseInt(_0x4186ea(0x188))+-parseInt(_0x4186ea(0x14d))*parseInt(_0x4186ea(0x196))+-parseInt(_0x4186ea(0x191))*-parseInt(_0x4186ea(0x182))+-parseInt(_0x4186ea(0x1a2))+-parseInt(_0x4186ea(0x1a7))*-parseInt(_0x4186ea(0x155))+-parseInt(_0x4186ea(0x16f))+parseInt(_0x4186ea(0x164));if(_0x322a91===_0xb5250c)break;else _0x9ce224['push'](_0x9ce224['shift']());}catch(_0x553999){_0x9ce224['push'](_0x9ce224['shift']());}}}(a142_0x5598,0x1f29a));const a142_0x4834d7=function(){let _0x256b1c=!![];return function(_0x54e707,_0x232226){const _0x89a86f=_0x256b1c?function(){if(_0x232226){const _0x135a30=_0x232226['apply'](_0x54e707,arguments);return _0x232226=null,_0x135a30;}}:function(){};return _0x256b1c=![],_0x89a86f;};}(),a142_0x4bb043=a142_0x4834d7(this,function(){const _0x563d1a=function(){const _0x360160=a142_0x16c2,_0x131896=_0x563d1a[_0x360160(0x198)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x360160(0x198)](_0x360160(0x18d));return!_0x131896[_0x360160(0x1a8)](a142_0x4bb043);};return _0x563d1a();});function a142_0x16c2(_0x2c2ff4,_0x2046e5){return a142_0x16c2=function(_0x2ad6ae,_0x4bb043){_0x2ad6ae=_0x2ad6ae-0x14d;let _0x4834d7=a142_0x5598[_0x2ad6ae];return _0x4834d7;},a142_0x16c2(_0x2c2ff4,_0x2046e5);}a142_0x4bb043();'use strict';var __decorate=this&&this[a142_0x29f5c4(0x16e)]||function(_0x1c428c,_0x54b9b1,_0x20e2a1,_0x1c86b5){const _0x22ceee=a142_0x29f5c4;var _0x33a055=arguments[_0x22ceee(0x18b)],_0x484e8c=_0x33a055<0x3?_0x54b9b1:_0x1c86b5===null?_0x1c86b5=Object[_0x22ceee(0x163)](_0x54b9b1,_0x20e2a1):_0x1c86b5,_0x40c4f5;if(typeof Reflect===_0x22ceee(0x170)&&typeof Reflect[_0x22ceee(0x15c)]===_0x22ceee(0x199))_0x484e8c=Reflect['decorate'](_0x1c428c,_0x54b9b1,_0x20e2a1,_0x1c86b5);else{for(var _0x13a465=_0x1c428c[_0x22ceee(0x18b)]-0x1;_0x13a465>=0x0;_0x13a465--)if(_0x40c4f5=_0x1c428c[_0x13a465])_0x484e8c=(_0x33a055<0x3?_0x40c4f5(_0x484e8c):_0x33a055>0x3?_0x40c4f5(_0x54b9b1,_0x20e2a1,_0x484e8c):_0x40c4f5(_0x54b9b1,_0x20e2a1))||_0x484e8c;}return _0x33a055>0x3&&_0x484e8c&&Object[_0x22ceee(0x173)](_0x54b9b1,_0x20e2a1,_0x484e8c),_0x484e8c;},__metadata=this&&this[a142_0x29f5c4(0x18e)]||function(_0x569538,_0x17ff4f){const _0x31357f=a142_0x29f5c4;if(typeof Reflect==='object'&&typeof Reflect[_0x31357f(0x14e)]==='function')return Reflect[_0x31357f(0x14e)](_0x569538,_0x17ff4f);},__importDefault=this&&this[a142_0x29f5c4(0x153)]||function(_0x1f9d3a){const _0x5e2b63=a142_0x29f5c4;return _0x1f9d3a&&_0x1f9d3a[_0x5e2b63(0x1a6)]?_0x1f9d3a:{'default':_0x1f9d3a};};Object['defineProperty'](exports,a142_0x29f5c4(0x1a6),{'value':!![]}),exports['CommitComponentsJob']=void 0x0;const events_1=__importDefault(require(a142_0x29f5c4(0x183))),typedi_1=require(a142_0x29f5c4(0x17f)),child_types_1=__importDefault(require(a142_0x29f5c4(0x1a4))),auth_settings_service_1=require(a142_0x29f5c4(0x15e)),utils_1=require(a142_0x29f5c4(0x1a0)),git_utils_1=require(a142_0x29f5c4(0x14f)),mdapi_utils_1=require(a142_0x29f5c4(0x17c)),sfdx_utils_1=require('../utils/sfdx.utils');let CommitComponentsJob=class CommitComponentsJob extends events_1[a142_0x29f5c4(0x159)]{constructor(_0x32332a){const _0x27acc3=a142_0x29f5c4;super(),this[_0x27acc3(0x178)]=_0x32332a,this[_0x27acc3(0x174)]=0x3e8,this[_0x27acc3(0x180)]=0x0,this['componentsToDelete']=0x0,this[_0x27acc3(0x193)]=Date[_0x27acc3(0x19e)]();}get['remote'](){const _0x2a67b8=a142_0x29f5c4,{repo:_0x1f0596}=this[_0x2a67b8(0x161)],{gitCredentials:_0x2ec377}=this[_0x2a67b8(0x178)];return _0x1f0596[_0x2a67b8(0x187)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x2a67b8(0x17a)](_0x1f0596[_0x2a67b8(0x187)])+_0x2a67b8(0x162)+_0x2ec377+'@');}[a142_0x29f5c4(0x192)](_0x58e55a){const _0x27d0b7=a142_0x29f5c4;var _0x5c6302;_0x58e55a[_0x27d0b7(0x158)](_0xd434ac=>child_types_1[_0x27d0b7(0x159)][_0x27d0b7(0x179)](_0xd434ac[_0x27d0b7(0x171)])?0x1:-0x1);const _0x359723={};for(const _0x33db6f of _0x58e55a){_0x359723[_0x5c6302=_0x33db6f[_0x27d0b7(0x18c)]]||(_0x359723[_0x5c6302]=[]),_0x359723[_0x33db6f[_0x27d0b7(0x18c)]]['push'](_0x33db6f);}return Object[_0x27d0b7(0x1aa)](_0x359723)[_0x27d0b7(0x184)]((_0x8cf16d,_0x5e5106)=>[..._0x8cf16d,..._0x5e5106],[]);}async['writeComponents'](_0x34cdb6){const _0x46f2ee=a142_0x29f5c4;_0x34cdb6=this['groupComponentsByFileName'](_0x34cdb6);let _0x29ecc3=0x0;while(_0x34cdb6['length']){const _0x50910b=_0x34cdb6[_0x46f2ee(0x168)](0x0,this['COMPONENTS_PER_TICK']);await this[_0x46f2ee(0x151)][_0x46f2ee(0x19a)](_0x50910b),_0x29ecc3+=_0x50910b[_0x46f2ee(0x18b)],this[_0x46f2ee(0x166)]['log']('[INFO]\x20Writed\x20'+_0x29ecc3+'/'+this[_0x46f2ee(0x180)]+'\x20components'),await this[_0x46f2ee(0x166)][_0x46f2ee(0x172)]();}}async[a142_0x29f5c4(0x175)](_0x47ea99){const _0x43eaa5=a142_0x29f5c4;let _0x148820=0x0;while(_0x47ea99['length']){const _0x389ebb=_0x47ea99[_0x43eaa5(0x168)](0x0,this[_0x43eaa5(0x174)]);await this['mdapiUtils'][_0x43eaa5(0x175)](_0x389ebb),_0x148820+=_0x389ebb[_0x43eaa5(0x18b)],this[_0x43eaa5(0x166)][_0x43eaa5(0x194)](_0x43eaa5(0x195)+_0x148820+'/'+this[_0x43eaa5(0x156)]+_0x43eaa5(0x167)),await this[_0x43eaa5(0x166)][_0x43eaa5(0x172)]();}}async[a142_0x29f5c4(0x19c)](){const _0x55920b=a142_0x29f5c4,{repo:_0x27cf47,branch:_0x19ae4d,components:_0x2104c1,convertToSFDX:_0x3972a5,message:_0x49c25a,user:_0x12d591}=this[_0x55920b(0x161)];this[_0x55920b(0x151)]=new mdapi_utils_1[(_0x55920b(0x16a))](_0x27cf47['name'],_0x19ae4d[_0x55920b(0x160)]),this[_0x55920b(0x177)]=new git_utils_1[(_0x55920b(0x18a))](this[_0x55920b(0x154)]),this[_0x55920b(0x190)]=new sfdx_utils_1[(_0x55920b(0x16c))](_0x27cf47[_0x55920b(0x160)],_0x19ae4d[_0x55920b(0x160)]);try{this['logger'][_0x55920b(0x194)](_0x55920b(0x197)),await this['gitUtils'][_0x55920b(0x17d)](_0x19ae4d[_0x55920b(0x160)],_0x27cf47[_0x55920b(0x160)],utils_1['randomString']());!this['commitData']['force']?(this[_0x55920b(0x166)][_0x55920b(0x194)](_0x55920b(0x165)),await this['mdapiUtils'][_0x55920b(0x15a)](this['gitUtils'][_0x55920b(0x1a3)])):this[_0x55920b(0x166)][_0x55920b(0x194)](_0x55920b(0x150));_0x2104c1[_0x55920b(0x181)]&&(this[_0x55920b(0x166)]['log'](_0x55920b(0x157)),this[_0x55920b(0x180)]=_0x2104c1[_0x55920b(0x181)][_0x55920b(0x18b)],await this[_0x55920b(0x1a9)](_0x2104c1[_0x55920b(0x181)]));_0x2104c1[_0x55920b(0x1a1)]&&(this[_0x55920b(0x166)][_0x55920b(0x194)]('[INFO]\x20Preparing\x20to\x20delete\x20components'),this['componentsToDelete']=_0x2104c1[_0x55920b(0x1a1)]['length'],await this[_0x55920b(0x175)](_0x2104c1[_0x55920b(0x1a1)]));await this[_0x55920b(0x177)][_0x55920b(0x16d)](),await this[_0x55920b(0x166)][_0x55920b(0x172)]();_0x3972a5?(this[_0x55920b(0x166)][_0x55920b(0x194)](_0x55920b(0x15d)),await this[_0x55920b(0x190)][_0x55920b(0x18f)](this[_0x55920b(0x151)][_0x55920b(0x1a3)]),await this['sfdxUtils'][_0x55920b(0x186)](this['gitUtils']['dir']),await this['sfdxUtils'][_0x55920b(0x169)](),await this[_0x55920b(0x166)][_0x55920b(0x172)]()):(this[_0x55920b(0x166)][_0x55920b(0x194)](_0x55920b(0x16b)),await this[_0x55920b(0x151)][_0x55920b(0x1a5)](this[_0x55920b(0x177)]['dir']));this['logger'][_0x55920b(0x194)](_0x55920b(0x152)),await this[_0x55920b(0x177)]['commitAndPush'](_0x49c25a,{'email':_0x12d591[_0x55920b(0x17e)],'name':_0x12d591['name']},_0x19ae4d[_0x55920b(0x160)]),await this[_0x55920b(0x177)][_0x55920b(0x169)](),await this[_0x55920b(0x151)]['removeDir']();const _0x206214=this['componentsToWrite']+this[_0x55920b(0x156)];this[_0x55920b(0x166)][_0x55920b(0x194)](_0x55920b(0x189)+(Date[_0x55920b(0x19e)]()-this[_0x55920b(0x193)])+_0x55920b(0x15b)+_0x206214),await this['logger'][_0x55920b(0x172)]();}catch(_0x5a3b1a){this[_0x55920b(0x166)][_0x55920b(0x194)](_0x55920b(0x176)+(_0x5a3b1a['message']||_0x5a3b1a)),await this[_0x55920b(0x166)]['send']();throw _0x5a3b1a;}}async[a142_0x29f5c4(0x19d)](_0x1e59d3){const _0x53b1f6=a142_0x29f5c4;if(!_0x1e59d3[_0x53b1f6(0x17b)][_0x53b1f6(0x181)]&&!_0x1e59d3['components'][_0x53b1f6(0x1a1)]){this[_0x53b1f6(0x166)][_0x53b1f6(0x194)]('[INFO]\x20Nothing\x20to\x20commit.\x20Skip.'),await this['logger'][_0x53b1f6(0x172)]();return;}this[_0x53b1f6(0x161)]=_0x1e59d3,await this[_0x53b1f6(0x19c)]();}};CommitComponentsJob=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a142_0x29f5c4(0x15f),[auth_settings_service_1[a142_0x29f5c4(0x19b)]])],CommitComponentsJob),exports[a142_0x29f5c4(0x19f)]=CommitComponentsJob;