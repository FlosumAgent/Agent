const a145_0xafa4a2=a145_0x5cce;function a145_0x5cce(_0x5446d0,_0x120efe){const _0x474916=a145_0x1023();return a145_0x5cce=function(_0x304122,_0x54800a){_0x304122=_0x304122-0xf7;let _0x102310=_0x474916[_0x304122];return _0x102310;},a145_0x5cce(_0x5446d0,_0x120efe);}(function(_0x2ba54c,_0x4c9795){const _0x2141c3=a145_0x5cce,_0x2bc77=_0x2ba54c();while(!![]){try{const _0x5516ef=-parseInt(_0x2141c3(0x121))/0x1*(parseInt(_0x2141c3(0x12f))/0x2)+parseInt(_0x2141c3(0x125))/0x3+parseInt(_0x2141c3(0x11b))/0x4*(-parseInt(_0x2141c3(0x12d))/0x5)+parseInt(_0x2141c3(0x13f))/0x6*(parseInt(_0x2141c3(0x10b))/0x7)+-parseInt(_0x2141c3(0x138))/0x8+parseInt(_0x2141c3(0x14f))/0x9+parseInt(_0x2141c3(0x14b))/0xa*(parseInt(_0x2141c3(0x11f))/0xb);if(_0x5516ef===_0x4c9795)break;else _0x2bc77['push'](_0x2bc77['shift']());}catch(_0x3e28bc){_0x2bc77['push'](_0x2bc77['shift']());}}}(a145_0x1023,0x3a133));const a145_0x54800a=function(){let _0x3252ab=!![];return function(_0x316428,_0x152458){const _0xc89274=_0x3252ab?function(){if(_0x152458){const _0x14d370=_0x152458['apply'](_0x316428,arguments);return _0x152458=null,_0x14d370;}}:function(){};return _0x3252ab=![],_0xc89274;};}(),a145_0x304122=a145_0x54800a(this,function(){const _0x17cf20=a145_0x5cce;return a145_0x304122['toString']()[_0x17cf20(0x10d)](_0x17cf20(0x13c))[_0x17cf20(0x148)]()[_0x17cf20(0x100)](a145_0x304122)[_0x17cf20(0x10d)](_0x17cf20(0x13c));});a145_0x304122();'use strict';var __decorate=this&&this[a145_0xafa4a2(0x13b)]||function(_0x5a4499,_0x2a6a44,_0x14aea1,_0x26cbbf){const _0x4c6ed7=a145_0xafa4a2;var _0x1320c2=arguments[_0x4c6ed7(0xfb)],_0x2818d8=_0x1320c2<0x3?_0x2a6a44:_0x26cbbf===null?_0x26cbbf=Object['getOwnPropertyDescriptor'](_0x2a6a44,_0x14aea1):_0x26cbbf,_0x5ab915;if(typeof Reflect===_0x4c6ed7(0x133)&&typeof Reflect[_0x4c6ed7(0x122)]===_0x4c6ed7(0x136))_0x2818d8=Reflect[_0x4c6ed7(0x122)](_0x5a4499,_0x2a6a44,_0x14aea1,_0x26cbbf);else{for(var _0x5aaeca=_0x5a4499[_0x4c6ed7(0xfb)]-0x1;_0x5aaeca>=0x0;_0x5aaeca--)if(_0x5ab915=_0x5a4499[_0x5aaeca])_0x2818d8=(_0x1320c2<0x3?_0x5ab915(_0x2818d8):_0x1320c2>0x3?_0x5ab915(_0x2a6a44,_0x14aea1,_0x2818d8):_0x5ab915(_0x2a6a44,_0x14aea1))||_0x2818d8;}return _0x1320c2>0x3&&_0x2818d8&&Object[_0x4c6ed7(0x113)](_0x2a6a44,_0x14aea1,_0x2818d8),_0x2818d8;},__metadata=this&&this['__metadata']||function(_0x249fbc,_0x587809){const _0x2b15ae=a145_0xafa4a2;if(typeof Reflect===_0x2b15ae(0x133)&&typeof Reflect[_0x2b15ae(0x120)]===_0x2b15ae(0x136))return Reflect[_0x2b15ae(0x120)](_0x249fbc,_0x587809);},__importDefault=this&&this[a145_0xafa4a2(0x146)]||function(_0x195b05){return _0x195b05&&_0x195b05['__esModule']?_0x195b05:{'default':_0x195b05};};Object[a145_0xafa4a2(0x113)](exports,a145_0xafa4a2(0x11d),{'value':!![]}),exports['CommitComponentsJob']=void 0x0;const auth_settings_service_1=require(a145_0xafa4a2(0xf8)),events_1=__importDefault(require(a145_0xafa4a2(0x150))),git_utils_1=require(a145_0xafa4a2(0x116)),mdapi_utils_1=require(a145_0xafa4a2(0x132)),sfdx_utils_1=require(a145_0xafa4a2(0x14e)),typedi_1=require(a145_0xafa4a2(0xf7)),child_types_1=__importDefault(require(a145_0xafa4a2(0x13d))),utils_1=require('../../shared/utils');let CommitComponentsJob=class CommitComponentsJob extends events_1['default']{constructor(_0x5c9b8b){const _0x1a27ab=a145_0xafa4a2;super(),this[_0x1a27ab(0x130)]=_0x5c9b8b,this['COMPONENTS_PER_TICK']=0x3e8,this[_0x1a27ab(0x152)]=0x0,this[_0x1a27ab(0x114)]=0x0,this['startTime']=Date['now']();}get['remote'](){const _0x4ea403=a145_0xafa4a2,{repo:_0x14df5a}=this['commitData'],{gitCredentials:_0x204dab}=this[_0x4ea403(0x130)];return _0x14df5a['gitUrl']['replace'](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x4ea403(0xfa)])(_0x14df5a[_0x4ea403(0x14d)])+_0x4ea403(0x105)+_0x204dab+'@');}['groupComponentsByFileName'](_0x4a1183){const _0x312cca=a145_0xafa4a2;var _0x4d7e51;_0x4a1183['sort'](_0xe7815=>child_types_1['default'][_0x312cca(0x142)](_0xe7815[_0x312cca(0xf9)])?0x1:-0x1);const _0x2256ba={};for(const _0x18117f of _0x4a1183){_0x2256ba[_0x4d7e51=_0x18117f[_0x312cca(0x102)]]||(_0x2256ba[_0x4d7e51]=[]),_0x2256ba[_0x18117f['fileName']][_0x312cca(0x13e)](_0x18117f);}return Object[_0x312cca(0x110)](_0x2256ba)['reduce']((_0x192284,_0x328fc6)=>[..._0x192284,..._0x328fc6],[]);}async[a145_0xafa4a2(0xfe)](_0x426ae3){const _0x830ee8=a145_0xafa4a2;_0x426ae3=this[_0x830ee8(0x154)](_0x426ae3);let _0x4f17d8=0x0;while(_0x426ae3[_0x830ee8(0xfb)]){const _0x1e91c4=_0x426ae3[_0x830ee8(0xfd)](0x0,this[_0x830ee8(0x12b)]);await this[_0x830ee8(0x124)]['writeFlosumComponents'](_0x1e91c4),_0x4f17d8+=_0x1e91c4[_0x830ee8(0xfb)],this[_0x830ee8(0x144)]['log'](_0x830ee8(0x137)+_0x4f17d8+'/'+this[_0x830ee8(0x152)]+_0x830ee8(0x119)),await this[_0x830ee8(0x144)][_0x830ee8(0x108)]();}}async['removeComponents'](_0x4e8510){const _0x7ad3df=a145_0xafa4a2;_0x4e8510[_0x7ad3df(0xff)](_0x99e989=>child_types_1[_0x7ad3df(0x141)]['includes'](_0x99e989[_0x7ad3df(0x139)])?-0x1:0x1);let _0x186529=0x0;while(_0x4e8510[_0x7ad3df(0xfb)]){const _0x139c5f=_0x4e8510[_0x7ad3df(0xfd)](0x0,this[_0x7ad3df(0x12b)]);await this[_0x7ad3df(0x124)][_0x7ad3df(0x147)](_0x139c5f),_0x186529+=_0x139c5f[_0x7ad3df(0xfb)],this[_0x7ad3df(0x144)][_0x7ad3df(0x10a)](_0x7ad3df(0x12e)+_0x186529+'/'+this[_0x7ad3df(0x114)]+'\x20components'),await this['logger'][_0x7ad3df(0x108)]();}}async[a145_0xafa4a2(0x14c)](){const _0x1f770c=a145_0xafa4a2;this[_0x1f770c(0x128)]&&await this[_0x1f770c(0x128)][_0x1f770c(0x11a)]()[_0x1f770c(0x12a)](()=>void 0x0),this['mdapiUtils']&&await this[_0x1f770c(0x124)][_0x1f770c(0x11a)]()[_0x1f770c(0x12a)](()=>void 0x0),this[_0x1f770c(0x127)]&&await this['sfdxUtils'][_0x1f770c(0x11a)]()[_0x1f770c(0x12a)](()=>void 0x0);}async[a145_0xafa4a2(0x109)](){const _0xa77b88=a145_0xafa4a2,{repo:_0x20999b,branch:_0x2b9b77,components:_0x4f7811,convertToSFDX:_0x521b3d,message:_0x5edcca,user:_0xf67603}=this[_0xa77b88(0x111)];this[_0xa77b88(0x124)]=new mdapi_utils_1[(_0xa77b88(0x10e))](_0x20999b[_0xa77b88(0x135)],_0x2b9b77[_0xa77b88(0x135)]),this[_0xa77b88(0x128)]=new git_utils_1[(_0xa77b88(0x11e))](this[_0xa77b88(0x112)]),this[_0xa77b88(0x127)]=new sfdx_utils_1[(_0xa77b88(0x155))](_0x20999b['name'],_0x2b9b77['name']);try{this[_0xa77b88(0x144)][_0xa77b88(0x10a)](_0xa77b88(0x106)),await this[_0xa77b88(0x128)][_0xa77b88(0x134)](_0x2b9b77[_0xa77b88(0x135)],_0x20999b[_0xa77b88(0x135)]);!this['commitData']['force']?(this[_0xa77b88(0x144)][_0xa77b88(0x10a)](_0xa77b88(0x115)),await this['mdapiUtils'][_0xa77b88(0x131)](this[_0xa77b88(0x128)][_0xa77b88(0x107)])):this[_0xa77b88(0x144)][_0xa77b88(0x10a)](_0xa77b88(0x153));_0x4f7811[_0xa77b88(0x13a)]&&(this[_0xa77b88(0x144)]['log'](_0xa77b88(0x149)),this[_0xa77b88(0x152)]=_0x4f7811[_0xa77b88(0x13a)][_0xa77b88(0xfb)],await this[_0xa77b88(0xfe)](_0x4f7811[_0xa77b88(0x13a)]));_0x4f7811[_0xa77b88(0x129)]&&(this[_0xa77b88(0x144)][_0xa77b88(0x10a)](_0xa77b88(0xfc)),this[_0xa77b88(0x114)]=_0x4f7811[_0xa77b88(0x129)][_0xa77b88(0xfb)],await this[_0xa77b88(0x147)](_0x4f7811['deleted']));await this[_0xa77b88(0x128)][_0xa77b88(0x14a)](),await this[_0xa77b88(0x144)][_0xa77b88(0x108)]();_0x521b3d?(this['logger']['log'](_0xa77b88(0x145)),await this[_0xa77b88(0x127)][_0xa77b88(0x123)](this[_0xa77b88(0x124)][_0xa77b88(0x107)]),await this[_0xa77b88(0x127)][_0xa77b88(0x10c)](this[_0xa77b88(0x128)][_0xa77b88(0x107)]),await this[_0xa77b88(0x127)][_0xa77b88(0x11a)](),await this['logger']['send']()):(this[_0xa77b88(0x144)]['log'](_0xa77b88(0x103)),await this['mdapiUtils']['copyMdapiTo'](this[_0xa77b88(0x128)][_0xa77b88(0x107)]));this[_0xa77b88(0x144)][_0xa77b88(0x10a)]('[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git'),await this[_0xa77b88(0x128)]['commitAndPush'](_0x5edcca,{'email':_0xf67603[_0xa77b88(0x118)],'name':_0xf67603[_0xa77b88(0x135)]},_0x2b9b77['name']),await this[_0xa77b88(0x128)]['removeDir'](),await this['mdapiUtils'][_0xa77b88(0x11a)]();const _0x55d3af=this[_0xa77b88(0x152)]+this[_0xa77b88(0x114)];this[_0xa77b88(0x144)][_0xa77b88(0x10a)](_0xa77b88(0x11c)+(Date[_0xa77b88(0x12c)]()-this[_0xa77b88(0x126)])+'ms.\x20Commited\x20components\x20-\x20'+_0x55d3af),await this[_0xa77b88(0x144)][_0xa77b88(0x108)]();}catch(_0x47dd42){await this[_0xa77b88(0x14c)](),this[_0xa77b88(0x144)][_0xa77b88(0x10a)](_0xa77b88(0x10f)+_0x47dd42),await this[_0xa77b88(0x144)][_0xa77b88(0x108)]();throw _0x47dd42;}}async[a145_0xafa4a2(0x143)](_0x1f6d6b){const _0x6a554a=a145_0xafa4a2;var _0x4bc748,_0x481b83,_0x1a1e0d,_0x2b9ca1;const _0x40a0b3=!!((_0x481b83=(_0x4bc748=_0x1f6d6b[_0x6a554a(0x151)])===null||_0x4bc748===void 0x0?void 0x0:_0x4bc748[_0x6a554a(0x13a)])===null||_0x481b83===void 0x0?void 0x0:_0x481b83['length'])||!!((_0x2b9ca1=(_0x1a1e0d=_0x1f6d6b[_0x6a554a(0x151)])===null||_0x1a1e0d===void 0x0?void 0x0:_0x1a1e0d[_0x6a554a(0x129)])===null||_0x2b9ca1===void 0x0?void 0x0:_0x2b9ca1[_0x6a554a(0xfb)]);if(!_0x40a0b3){this[_0x6a554a(0x144)][_0x6a554a(0x10a)](_0x6a554a(0x140)),await this[_0x6a554a(0x144)][_0x6a554a(0x108)]();return;}this[_0x6a554a(0x111)]=_0x1f6d6b,await this[_0x6a554a(0x109)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a145_0xafa4a2(0x117)])({'transient':!![]}),__metadata('design:paramtypes',[auth_settings_service_1[a145_0xafa4a2(0x104)]])],CommitComponentsJob),exports[a145_0xafa4a2(0x101)]=CommitComponentsJob;function a145_0x1023(){const _0x581803=['default','includes','run','logger','[INFO]\x20Start\x20converting\x20to\x20SFDX','__importDefault','removeComponents','toString','[INFO]\x20Preparing\x20to\x20write\x20components','clearDir','230zwHwCY','cleanUp','gitUrl','../utils/sfdx.utils','452421xcoHMB','events','components','componentsToWrite','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','groupComponentsByFileName','SFDXUtils','typedi','../../shared/services/auth-settings.service','fileType','getProtocol','length','[INFO]\x20Preparing\x20to\x20delete\x20components','splice','writeComponents','sort','constructor','CommitComponentsJob','fileName','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','AuthSettingsService','://','[INFO]\x20Start\x20clonning\x20repository','dir','send','exec','log','48797JvMtEx','copyProjectTo','search','MDApiUtils','[ERROR]\x20','values','commitData','remote','defineProperty','componentsToDelete','[INFO]\x20Prepare\x20mdapi\x20files','../utils/git.utils','Service','email','\x20components','removeDir','72404ghZdFL','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','__esModule','GitUtils','108955rMKRyx','metadata','1394xwvRpi','decorate','createProjectFrom','mdapiUtils','1042893Qckpad','startTime','sfdxUtils','gitUtils','deleted','catch','COMPONENTS_PER_TICK','now','90fVyooo','[INFO]\x20Deleted\x20','2fDXBkV','authSettings','prepareMdapi','../utils/mdapi.utils','object','clone','name','function','[INFO]\x20Writed\x20','2771512bTIbsu','type','writed','__decorate','(((.+)+)+)+$','../../parsers/mdapi/child-types','push','246UPqGCh','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.'];a145_0x1023=function(){return _0x581803;};return a145_0x1023();}