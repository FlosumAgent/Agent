const a144_0x24c1=['writeComponents','writed','../../shared/utils','splice','components','commitData','201726muTWfU','[INFO]\x20Start\x20clonning\x20repository','metadata','SFDXUtils','sfdxUtils','://','[INFO]\x20Prepare\x20mdapi\x20files','19223DwUEXg','remote','[INFO]\x20Deleted\x20','email','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','design:paramtypes','../../parsers/mdapi/child-types','push','COMPONENTS_PER_TICK','run','CommitComponentsJob','[ERROR]\x20','804ArosKW','function','logger','events','catch','[INFO]\x20Preparing\x20to\x20delete\x20components','removeDir','defineProperty','getProtocol','[INFO]\x20Preparing\x20to\x20write\x20components','name','includes','default','fileName','1089254dWnhsH','exec','dir','constructor','MDApiUtils','1655574gpopSZ','49vZYUFC','gitUtils','\x20components','log','object','copyProjectTo','type','getOwnPropertyDescriptor','Service','ms.\x20Commited\x20components\x20-\x20','fileType','startTime','groupComponentsByFileName','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','__esModule','mdapiUtils','reduce','1177532TvbYQP','apply','clearDir','28nbqOEs','now','decorate','sort','deleted','componentsToWrite','typedi','clone','length','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','removeComponents','27361TidPfX','writeFlosumComponents','cleanUp','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','2276rhDIfy','values','authSettings','__decorate','AuthSettingsService','gitUrl','send','componentsToDelete','[INFO]\x20Start\x20converting\x20to\x20SFDX','../utils/sfdx.utils','../utils/git.utils','prepareMdapi'];const a144_0x577534=a144_0x71e2;(function(_0x2772fe,_0x3b6fe7){const _0x5e01e6=a144_0x71e2;while(!![]){try{const _0x31028d=-parseInt(_0x5e01e6(0xce))*-parseInt(_0x5e01e6(0xee))+parseInt(_0x5e01e6(0xa7))+-parseInt(_0x5e01e6(0xba))*parseInt(_0x5e01e6(0xf2))+-parseInt(_0x5e01e6(0xc8))+parseInt(_0x5e01e6(0xcd))+parseInt(_0x5e01e6(0xe0))+-parseInt(_0x5e01e6(0xae))*parseInt(_0x5e01e6(0xe3));if(_0x31028d===_0x3b6fe7)break;else _0x2772fe['push'](_0x2772fe['shift']());}catch(_0x2cce26){_0x2772fe['push'](_0x2772fe['shift']());}}}(a144_0x24c1,0xe0267));const a144_0x9e60ac=function(){let _0x196925=!![];return function(_0x390506,_0x4b27d7){const _0x27501a=_0x196925?function(){const _0x215478=a144_0x71e2;if(_0x4b27d7){const _0x18d74a=_0x4b27d7[_0x215478(0xe1)](_0x390506,arguments);return _0x4b27d7=null,_0x18d74a;}}:function(){};return _0x196925=![],_0x27501a;};}(),a144_0x4d837a=a144_0x9e60ac(this,function(){const _0x352fe9=function(){const _0x384b59=a144_0x71e2,_0x1344cd=_0x352fe9[_0x384b59(0xcb)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x384b59(0xcb)](_0x384b59(0xdb));return!_0x1344cd['test'](a144_0x4d837a);};return _0x352fe9();});a144_0x4d837a();'use strict';function a144_0x71e2(_0x2f990d,_0x4da9b4){return a144_0x71e2=function(_0x2a6f16,_0x4d837a){_0x2a6f16=_0x2a6f16-0x99;let _0x9e60ac=a144_0x24c1[_0x2a6f16];return _0x9e60ac;},a144_0x71e2(_0x2f990d,_0x4da9b4);}var __decorate=this&&this[a144_0x577534(0xf5)]||function(_0x11f8c8,_0x57634b,_0x29d1c4,_0x4d68bf){const _0x252827=a144_0x577534;var _0x3049de=arguments[_0x252827(0xeb)],_0x432b13=_0x3049de<0x3?_0x57634b:_0x4d68bf===null?_0x4d68bf=Object[_0x252827(0xd5)](_0x57634b,_0x29d1c4):_0x4d68bf,_0x3f2735;if(typeof Reflect===_0x252827(0xd2)&&typeof Reflect[_0x252827(0xe5)]===_0x252827(0xbb))_0x432b13=Reflect[_0x252827(0xe5)](_0x11f8c8,_0x57634b,_0x29d1c4,_0x4d68bf);else{for(var _0x3b4dd5=_0x11f8c8['length']-0x1;_0x3b4dd5>=0x0;_0x3b4dd5--)if(_0x3f2735=_0x11f8c8[_0x3b4dd5])_0x432b13=(_0x3049de<0x3?_0x3f2735(_0x432b13):_0x3049de>0x3?_0x3f2735(_0x57634b,_0x29d1c4,_0x432b13):_0x3f2735(_0x57634b,_0x29d1c4))||_0x432b13;}return _0x3049de>0x3&&_0x432b13&&Object[_0x252827(0xc1)](_0x57634b,_0x29d1c4,_0x432b13),_0x432b13;},__metadata=this&&this['__metadata']||function(_0x1691b7,_0x81a6ec){const _0x2d7be6=a144_0x577534;if(typeof Reflect===_0x2d7be6(0xd2)&&typeof Reflect['metadata']===_0x2d7be6(0xbb))return Reflect[_0x2d7be6(0xa9)](_0x1691b7,_0x81a6ec);},__importDefault=this&&this['__importDefault']||function(_0x1184f5){return _0x1184f5&&_0x1184f5['__esModule']?_0x1184f5:{'default':_0x1184f5};};Object[a144_0x577534(0xc1)](exports,a144_0x577534(0xdd),{'value':!![]}),exports[a144_0x577534(0xb8)]=void 0x0;const auth_settings_service_1=require('../../shared/services/auth-settings.service'),events_1=__importDefault(require(a144_0x577534(0xbd))),git_utils_1=require(a144_0x577534(0x9f)),mdapi_utils_1=require('../utils/mdapi.utils'),sfdx_utils_1=require(a144_0x577534(0x9e)),typedi_1=require(a144_0x577534(0xe9)),child_types_1=__importDefault(require(a144_0x577534(0xb4))),utils_1=require(a144_0x577534(0xa3));let CommitComponentsJob=class CommitComponentsJob extends events_1['default']{constructor(_0x783eea){const _0x3530fc=a144_0x577534;super(),this['authSettings']=_0x783eea,this[_0x3530fc(0xb6)]=0x3e8,this[_0x3530fc(0xe8)]=0x0,this['componentsToDelete']=0x0,this['startTime']=Date[_0x3530fc(0xe4)]();}get[a144_0x577534(0xaf)](){const _0x552b99=a144_0x577534,{repo:_0x2395e7}=this['commitData'],{gitCredentials:_0x432bff}=this[_0x552b99(0xf4)];return _0x2395e7['gitUrl']['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x552b99(0xc2)](_0x2395e7[_0x552b99(0x9a)])+_0x552b99(0xac)+_0x432bff+'@');}['groupComponentsByFileName'](_0x42d353){const _0x27d63e=a144_0x577534;var _0x2299ca;_0x42d353[_0x27d63e(0xe6)](_0x3c626c=>child_types_1['default'][_0x27d63e(0xc5)](_0x3c626c[_0x27d63e(0xd8)])?0x1:-0x1);const _0x1e08e1={};for(const _0x37d123 of _0x42d353){_0x1e08e1[_0x2299ca=_0x37d123[_0x27d63e(0xc7)]]||(_0x1e08e1[_0x2299ca]=[]),_0x1e08e1[_0x37d123['fileName']][_0x27d63e(0xb5)](_0x37d123);}return Object[_0x27d63e(0xf3)](_0x1e08e1)[_0x27d63e(0xdf)]((_0x3abbac,_0x5f5780)=>[..._0x3abbac,..._0x5f5780],[]);}async[a144_0x577534(0xa1)](_0x400722){const _0x2aa6c1=a144_0x577534;_0x400722=this[_0x2aa6c1(0xda)](_0x400722);let _0x1456a8=0x0;while(_0x400722[_0x2aa6c1(0xeb)]){const _0x371798=_0x400722[_0x2aa6c1(0xa4)](0x0,this[_0x2aa6c1(0xb6)]);await this[_0x2aa6c1(0xde)][_0x2aa6c1(0xef)](_0x371798),_0x1456a8+=_0x371798[_0x2aa6c1(0xeb)],this[_0x2aa6c1(0xbc)][_0x2aa6c1(0xd1)]('[INFO]\x20Writed\x20'+_0x1456a8+'/'+this[_0x2aa6c1(0xe8)]+'\x20components'),await this[_0x2aa6c1(0xbc)][_0x2aa6c1(0x9b)]();}}async[a144_0x577534(0xed)](_0x3b93ef){const _0x4ca5ad=a144_0x577534;_0x3b93ef[_0x4ca5ad(0xe6)](_0xba58f1=>child_types_1[_0x4ca5ad(0xc6)][_0x4ca5ad(0xc5)](_0xba58f1[_0x4ca5ad(0xd4)])?-0x1:0x1);let _0x52d8a9=0x0;while(_0x3b93ef[_0x4ca5ad(0xeb)]){const _0x55e495=_0x3b93ef[_0x4ca5ad(0xa4)](0x0,this[_0x4ca5ad(0xb6)]);await this[_0x4ca5ad(0xde)]['removeComponents'](_0x55e495),_0x52d8a9+=_0x55e495[_0x4ca5ad(0xeb)],this['logger']['log'](_0x4ca5ad(0xb0)+_0x52d8a9+'/'+this[_0x4ca5ad(0x9c)]+_0x4ca5ad(0xd0)),await this[_0x4ca5ad(0xbc)][_0x4ca5ad(0x9b)]();}}async[a144_0x577534(0xf0)](){const _0xcc8a29=a144_0x577534;this['gitUtils']&&await this[_0xcc8a29(0xcf)][_0xcc8a29(0xc0)]()[_0xcc8a29(0xbe)](()=>void 0x0),this['mdapiUtils']&&await this['mdapiUtils'][_0xcc8a29(0xc0)]()[_0xcc8a29(0xbe)](()=>void 0x0),this[_0xcc8a29(0xab)]&&await this['sfdxUtils'][_0xcc8a29(0xc0)]()[_0xcc8a29(0xbe)](()=>void 0x0);}async[a144_0x577534(0xc9)](){const _0x1e5d48=a144_0x577534,{repo:_0x17f555,branch:_0x50e34a,components:_0x56e7c0,convertToSFDX:_0x1692df,message:_0x367c92,user:_0x137c87}=this[_0x1e5d48(0xa6)];this[_0x1e5d48(0xde)]=new mdapi_utils_1[(_0x1e5d48(0xcc))](_0x17f555[_0x1e5d48(0xc4)],_0x50e34a['name']),this[_0x1e5d48(0xcf)]=new git_utils_1['GitUtils'](this[_0x1e5d48(0xaf)]),this['sfdxUtils']=new sfdx_utils_1[(_0x1e5d48(0xaa))](_0x17f555[_0x1e5d48(0xc4)],_0x50e34a[_0x1e5d48(0xc4)]);try{this[_0x1e5d48(0xbc)][_0x1e5d48(0xd1)](_0x1e5d48(0xa8)),await this[_0x1e5d48(0xcf)][_0x1e5d48(0xea)](_0x50e34a[_0x1e5d48(0xc4)],_0x17f555[_0x1e5d48(0xc4)]);!this[_0x1e5d48(0xa6)]['force']?(this[_0x1e5d48(0xbc)]['log'](_0x1e5d48(0xad)),await this[_0x1e5d48(0xde)][_0x1e5d48(0xa0)](this[_0x1e5d48(0xcf)][_0x1e5d48(0xca)])):this[_0x1e5d48(0xbc)][_0x1e5d48(0xd1)]('[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.');_0x56e7c0[_0x1e5d48(0xa2)]&&(this[_0x1e5d48(0xbc)][_0x1e5d48(0xd1)](_0x1e5d48(0xc3)),this[_0x1e5d48(0xe8)]=_0x56e7c0[_0x1e5d48(0xa2)][_0x1e5d48(0xeb)],await this[_0x1e5d48(0xa1)](_0x56e7c0[_0x1e5d48(0xa2)]));_0x56e7c0[_0x1e5d48(0xe7)]&&(this[_0x1e5d48(0xbc)]['log'](_0x1e5d48(0xbf)),this['componentsToDelete']=_0x56e7c0[_0x1e5d48(0xe7)][_0x1e5d48(0xeb)],await this[_0x1e5d48(0xed)](_0x56e7c0[_0x1e5d48(0xe7)]));await this['gitUtils'][_0x1e5d48(0xe2)](),await this[_0x1e5d48(0xbc)][_0x1e5d48(0x9b)]();_0x1692df?(this[_0x1e5d48(0xbc)][_0x1e5d48(0xd1)](_0x1e5d48(0x9d)),await this[_0x1e5d48(0xab)]['createProjectFrom'](this[_0x1e5d48(0xde)][_0x1e5d48(0xca)]),await this['sfdxUtils'][_0x1e5d48(0xd3)](this[_0x1e5d48(0xcf)]['dir']),await this['sfdxUtils'][_0x1e5d48(0xc0)](),await this[_0x1e5d48(0xbc)][_0x1e5d48(0x9b)]()):(this[_0x1e5d48(0xbc)][_0x1e5d48(0xd1)](_0x1e5d48(0xf1)),await this[_0x1e5d48(0xde)]['copyMdapiTo'](this[_0x1e5d48(0xcf)][_0x1e5d48(0xca)]));this[_0x1e5d48(0xbc)][_0x1e5d48(0xd1)](_0x1e5d48(0xb2)),await this[_0x1e5d48(0xcf)]['commitAndPush'](_0x367c92,{'email':_0x137c87[_0x1e5d48(0xb1)],'name':_0x137c87['name']},_0x50e34a[_0x1e5d48(0xc4)]),await this[_0x1e5d48(0xcf)]['removeDir'](),await this[_0x1e5d48(0xde)][_0x1e5d48(0xc0)]();const _0x482148=this[_0x1e5d48(0xe8)]+this[_0x1e5d48(0x9c)];this['logger'][_0x1e5d48(0xd1)](_0x1e5d48(0xec)+(Date[_0x1e5d48(0xe4)]()-this[_0x1e5d48(0xd9)])+_0x1e5d48(0xd7)+_0x482148),await this['logger'][_0x1e5d48(0x9b)]();}catch(_0x5d5e3c){await this['cleanUp'](),this[_0x1e5d48(0xbc)][_0x1e5d48(0xd1)](_0x1e5d48(0xb9)+_0x5d5e3c),await this['logger']['send']();throw _0x5d5e3c;}}async[a144_0x577534(0xb7)](_0x521f37){const _0x2ec95c=a144_0x577534;var _0x3f53d4,_0x3c8e2f,_0x55f1f3,_0x2cf8a1;const _0x57c3a2=!!((_0x3c8e2f=(_0x3f53d4=_0x521f37['components'])===null||_0x3f53d4===void 0x0?void 0x0:_0x3f53d4[_0x2ec95c(0xa2)])===null||_0x3c8e2f===void 0x0?void 0x0:_0x3c8e2f[_0x2ec95c(0xeb)])||!!((_0x2cf8a1=(_0x55f1f3=_0x521f37[_0x2ec95c(0xa5)])===null||_0x55f1f3===void 0x0?void 0x0:_0x55f1f3[_0x2ec95c(0xe7)])===null||_0x2cf8a1===void 0x0?void 0x0:_0x2cf8a1[_0x2ec95c(0xeb)]);if(!_0x57c3a2){this[_0x2ec95c(0xbc)][_0x2ec95c(0xd1)](_0x2ec95c(0xdc)),await this[_0x2ec95c(0xbc)][_0x2ec95c(0x9b)]();return;}this[_0x2ec95c(0xa6)]=_0x521f37,await this[_0x2ec95c(0xc9)]();}};CommitComponentsJob=__decorate([typedi_1[a144_0x577534(0xd6)]({'transient':!![]}),__metadata(a144_0x577534(0xb3),[auth_settings_service_1[a144_0x577534(0x99)]])],CommitComponentsJob),exports[a144_0x577534(0xb8)]=CommitComponentsJob;