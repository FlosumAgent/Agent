const a146_0x4fa757=a146_0x269d;(function(_0x360a5,_0x3b5011){const _0x24abcf=a146_0x269d,_0x5aa8b8=_0x360a5();while(!![]){try{const _0x553d8d=parseInt(_0x24abcf(0x1e3))/0x1+parseInt(_0x24abcf(0x1c5))/0x2*(parseInt(_0x24abcf(0x20e))/0x3)+-parseInt(_0x24abcf(0x21b))/0x4*(parseInt(_0x24abcf(0x1f3))/0x5)+parseInt(_0x24abcf(0x1cf))/0x6*(parseInt(_0x24abcf(0x1c4))/0x7)+-parseInt(_0x24abcf(0x21a))/0x8*(-parseInt(_0x24abcf(0x20c))/0x9)+parseInt(_0x24abcf(0x1fa))/0xa*(parseInt(_0x24abcf(0x200))/0xb)+-parseInt(_0x24abcf(0x1d8))/0xc*(parseInt(_0x24abcf(0x207))/0xd);if(_0x553d8d===_0x3b5011)break;else _0x5aa8b8['push'](_0x5aa8b8['shift']());}catch(_0x1a6001){_0x5aa8b8['push'](_0x5aa8b8['shift']());}}}(a146_0x509a,0x6a41c));const a146_0x2309f9=function(){let _0xb7942=!![];return function(_0x45d933,_0x50383){const _0x17ec10=_0xb7942?function(){const _0x51de1f=a146_0x269d;if(_0x50383){const _0x2a4e30=_0x50383[_0x51de1f(0x1e8)](_0x45d933,arguments);return _0x50383=null,_0x2a4e30;}}:function(){};return _0xb7942=![],_0x17ec10;};}(),a146_0x42e831=a146_0x2309f9(this,function(){const _0xf4d708=a146_0x269d;return a146_0x42e831[_0xf4d708(0x1d4)]()['search'](_0xf4d708(0x1e0))['toString']()['constructor'](a146_0x42e831)[_0xf4d708(0x1c0)](_0xf4d708(0x1e0));});function a146_0x269d(_0x1e4129,_0x3cade3){const _0x1f8513=a146_0x509a();return a146_0x269d=function(_0x42e831,_0x2309f9){_0x42e831=_0x42e831-0x1bb;let _0x509a19=_0x1f8513[_0x42e831];return _0x509a19;},a146_0x269d(_0x1e4129,_0x3cade3);}a146_0x42e831();function a146_0x509a(){const _0x2b42ee=['2924oalAEq','[INFO]\x20Prepare\x20mdapi\x20files','log','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','[ERROR]\x20','length','fileType','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','copyMdapiTo','replace','4807752nBFjmZ','groupComponentsByFileName','startTime','sfdxUtils','authSettings','toString','send','components','sort','20436aVevZO','prepareMdapi','defineProperty','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','CommitComponentsJob','default','://','MDApiUtils','(((.+)+)+)+$','AuthSettingsService','type','68397xriDfu','Service','function','run','events','apply','catch','commitData','writeComponents','branch','name','clearDir','GitUtils','removeComponents','__esModule','fileName','5jtcsXg','reduce','componentsToDelete','gitUtils','__decorate','mdapiUtils','email','5729650qveiuI','removeDir','../utils/sfdx.utils','includes','writed','ms.\x20Commited\x20components\x20-\x20','11QAQjBA','COMPONENTS_PER_TICK','typedi','\x20components','gitUrl','splice','createProjectFrom','8489bWqlJj','exec','metadata','[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','1071qTRbix','now','636bUVuWh','master','[INFO]\x20Preparing\x20to\x20write\x20components','logger','getOwnPropertyDescriptor','remote','../../parsers/mdapi/child-types','cleanUp','../../shared/utils','SFDXUtils','__metadata','dir','23888DgjkNv','2242580ESfjRo','decorate','componentsToWrite','[INFO]\x20Start\x20converting\x20to\x20SFDX','[INFO]\x20Preparing\x20to\x20delete\x20components','deleted','[INFO]\x20Deleted\x20','search','force','commitAndPush','[INFO]\x20Start\x20clonning\x20repository','7RccHKu'];a146_0x509a=function(){return _0x2b42ee;};return a146_0x509a();}'use strict';var __decorate=this&&this[a146_0x4fa757(0x1f7)]||function(_0x57efcc,_0x7ad660,_0x14b31a,_0x1d140b){const _0x2a95ef=a146_0x4fa757;var _0x3e21d7=arguments[_0x2a95ef(0x1ca)],_0x5677fa=_0x3e21d7<0x3?_0x7ad660:_0x1d140b===null?_0x1d140b=Object[_0x2a95ef(0x212)](_0x7ad660,_0x14b31a):_0x1d140b,_0x16ca81;if(typeof Reflect==='object'&&typeof Reflect[_0x2a95ef(0x21c)]===_0x2a95ef(0x1e5))_0x5677fa=Reflect[_0x2a95ef(0x21c)](_0x57efcc,_0x7ad660,_0x14b31a,_0x1d140b);else{for(var _0x3f6f4c=_0x57efcc[_0x2a95ef(0x1ca)]-0x1;_0x3f6f4c>=0x0;_0x3f6f4c--)if(_0x16ca81=_0x57efcc[_0x3f6f4c])_0x5677fa=(_0x3e21d7<0x3?_0x16ca81(_0x5677fa):_0x3e21d7>0x3?_0x16ca81(_0x7ad660,_0x14b31a,_0x5677fa):_0x16ca81(_0x7ad660,_0x14b31a))||_0x5677fa;}return _0x3e21d7>0x3&&_0x5677fa&&Object['defineProperty'](_0x7ad660,_0x14b31a,_0x5677fa),_0x5677fa;},__metadata=this&&this[a146_0x4fa757(0x218)]||function(_0x2904cd,_0x45853a){const _0x344e3e=a146_0x4fa757;if(typeof Reflect==='object'&&typeof Reflect[_0x344e3e(0x209)]===_0x344e3e(0x1e5))return Reflect[_0x344e3e(0x209)](_0x2904cd,_0x45853a);},__importDefault=this&&this['__importDefault']||function(_0x261ee5){return _0x261ee5&&_0x261ee5['__esModule']?_0x261ee5:{'default':_0x261ee5};};Object[a146_0x4fa757(0x1da)](exports,a146_0x4fa757(0x1f1),{'value':!![]}),exports[a146_0x4fa757(0x1dc)]=void 0x0;const auth_settings_service_1=require('../../shared/services/auth-settings.service'),events_1=__importDefault(require(a146_0x4fa757(0x1e7))),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require('../utils/mdapi.utils'),sfdx_utils_1=require(a146_0x4fa757(0x1fc)),typedi_1=require(a146_0x4fa757(0x202)),child_types_1=__importDefault(require(a146_0x4fa757(0x214))),utils_1=require(a146_0x4fa757(0x216));let CommitComponentsJob=class CommitComponentsJob extends events_1['default']{constructor(_0x333132){const _0x54d93b=a146_0x4fa757;super(),this[_0x54d93b(0x1d3)]=_0x333132,this[_0x54d93b(0x201)]=0x3e8,this[_0x54d93b(0x1bb)]=0x0,this['componentsToDelete']=0x0,this[_0x54d93b(0x1d1)]=Date[_0x54d93b(0x20d)]();}get[a146_0x4fa757(0x213)](){const _0x2cfef8=a146_0x4fa757,{repo:_0x3b69ff}=this['commitData'],{gitCredentials:_0x5730ce}=this[_0x2cfef8(0x1d3)];return _0x3b69ff['gitUrl'][_0x2cfef8(0x1ce)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x3b69ff[_0x2cfef8(0x204)])+_0x2cfef8(0x1de)+_0x5730ce+'@');}[a146_0x4fa757(0x1d0)](_0x10ea8a){const _0x2d4a26=a146_0x4fa757;var _0x2e8116;_0x10ea8a[_0x2d4a26(0x1d7)](_0x4fee22=>child_types_1['default'][_0x2d4a26(0x1fd)](_0x4fee22[_0x2d4a26(0x1cb)])?0x1:-0x1);const _0x36612f={};for(const _0x1ebefa of _0x10ea8a){_0x36612f[_0x2e8116=_0x1ebefa[_0x2d4a26(0x1f2)]]||(_0x36612f[_0x2e8116]=[]),_0x36612f[_0x1ebefa[_0x2d4a26(0x1f2)]]['push'](_0x1ebefa);}return Object['values'](_0x36612f)[_0x2d4a26(0x1f4)]((_0x5826d4,_0x369769)=>[..._0x5826d4,..._0x369769],[]);}async[a146_0x4fa757(0x1eb)](_0xd2aa1){const _0x2f96df=a146_0x4fa757;_0xd2aa1=this[_0x2f96df(0x1d0)](_0xd2aa1);let _0x129b9d=0x0;while(_0xd2aa1[_0x2f96df(0x1ca)]){const _0x456297=_0xd2aa1[_0x2f96df(0x205)](0x0,this[_0x2f96df(0x201)]);await this[_0x2f96df(0x1f8)]['writeFlosumComponents'](_0x456297,{'skipChildErrors':this['commitData'][_0x2f96df(0x1ec)][_0x2f96df(0x1ed)]===_0x2f96df(0x20f),'logger':_0x21b2d8=>this[_0x2f96df(0x211)][_0x2f96df(0x1c7)](_0x21b2d8)}),_0x129b9d+=_0x456297[_0x2f96df(0x1ca)],this[_0x2f96df(0x211)][_0x2f96df(0x1c7)]('[INFO]\x20Writed\x20'+_0x129b9d+'/'+this['componentsToWrite']+'\x20components'),await this[_0x2f96df(0x211)]['send']();}}async[a146_0x4fa757(0x1f0)](_0x4d59aa){const _0x1ba954=a146_0x4fa757;_0x4d59aa[_0x1ba954(0x1d7)](_0x230266=>child_types_1[_0x1ba954(0x1dd)][_0x1ba954(0x1fd)](_0x230266[_0x1ba954(0x1e2)])?-0x1:0x1);let _0x3bd122=0x0;while(_0x4d59aa[_0x1ba954(0x1ca)]){const _0x623a52=_0x4d59aa[_0x1ba954(0x205)](0x0,this[_0x1ba954(0x201)]);await this['mdapiUtils'][_0x1ba954(0x1f0)](_0x623a52),_0x3bd122+=_0x623a52['length'],this[_0x1ba954(0x211)]['log'](_0x1ba954(0x1bf)+_0x3bd122+'/'+this['componentsToDelete']+_0x1ba954(0x203)),await this[_0x1ba954(0x211)][_0x1ba954(0x1d5)]();}}async[a146_0x4fa757(0x215)](){const _0x9b52c6=a146_0x4fa757;this[_0x9b52c6(0x1f6)]&&await this[_0x9b52c6(0x1f6)][_0x9b52c6(0x1fb)]()[_0x9b52c6(0x1e9)](()=>void 0x0),this['mdapiUtils']&&await this[_0x9b52c6(0x1f8)][_0x9b52c6(0x1fb)]()['catch'](()=>void 0x0),this[_0x9b52c6(0x1d2)]&&await this[_0x9b52c6(0x1d2)][_0x9b52c6(0x1fb)]()[_0x9b52c6(0x1e9)](()=>void 0x0);}async[a146_0x4fa757(0x208)](){const _0x5b49e4=a146_0x4fa757,{repo:_0x2cdc2b,branch:_0x197334,components:_0x1cbee7,convertToSFDX:_0xd5efc5,message:_0x54792d,user:_0x1c210d}=this[_0x5b49e4(0x1ea)];this[_0x5b49e4(0x1f8)]=new mdapi_utils_1[(_0x5b49e4(0x1df))](_0x2cdc2b[_0x5b49e4(0x1ed)],_0x197334[_0x5b49e4(0x1ed)]),this[_0x5b49e4(0x1f6)]=new git_utils_1[(_0x5b49e4(0x1ef))](this['remote']),this['sfdxUtils']=new sfdx_utils_1[(_0x5b49e4(0x217))](_0x2cdc2b[_0x5b49e4(0x1ed)],_0x197334[_0x5b49e4(0x1ed)]);try{this[_0x5b49e4(0x211)][_0x5b49e4(0x1c7)](_0x5b49e4(0x1c3)),await this[_0x5b49e4(0x1f6)]['clone'](_0x197334['name'],_0x2cdc2b[_0x5b49e4(0x1ed)]);!this[_0x5b49e4(0x1ea)][_0x5b49e4(0x1c1)]?(this[_0x5b49e4(0x211)][_0x5b49e4(0x1c7)](_0x5b49e4(0x1c6)),await this[_0x5b49e4(0x1f8)][_0x5b49e4(0x1d9)](this[_0x5b49e4(0x1f6)][_0x5b49e4(0x219)])):this[_0x5b49e4(0x211)][_0x5b49e4(0x1c7)](_0x5b49e4(0x20b));_0x1cbee7[_0x5b49e4(0x1fe)]&&(this['logger'][_0x5b49e4(0x1c7)](_0x5b49e4(0x210)),this[_0x5b49e4(0x1bb)]=_0x1cbee7['writed'][_0x5b49e4(0x1ca)],await this[_0x5b49e4(0x1eb)](_0x1cbee7[_0x5b49e4(0x1fe)]));_0x1cbee7['deleted']&&(this[_0x5b49e4(0x211)]['log'](_0x5b49e4(0x1bd)),this[_0x5b49e4(0x1f5)]=_0x1cbee7[_0x5b49e4(0x1be)][_0x5b49e4(0x1ca)],await this[_0x5b49e4(0x1f0)](_0x1cbee7[_0x5b49e4(0x1be)]));await this['gitUtils'][_0x5b49e4(0x1ee)](),await this[_0x5b49e4(0x211)][_0x5b49e4(0x1d5)]();_0xd5efc5?(this['logger'][_0x5b49e4(0x1c7)](_0x5b49e4(0x1bc)),await this[_0x5b49e4(0x1d2)][_0x5b49e4(0x206)](this[_0x5b49e4(0x1f8)]['dir']),await this['sfdxUtils']['copyProjectTo'](this['gitUtils'][_0x5b49e4(0x219)]),await this[_0x5b49e4(0x1d2)]['removeDir'](),await this['logger'][_0x5b49e4(0x1d5)]()):(this[_0x5b49e4(0x211)][_0x5b49e4(0x1c7)](_0x5b49e4(0x1db)),await this[_0x5b49e4(0x1f8)][_0x5b49e4(0x1cd)](this[_0x5b49e4(0x1f6)][_0x5b49e4(0x219)]));this['logger'][_0x5b49e4(0x1c7)](_0x5b49e4(0x20a)),await this[_0x5b49e4(0x1f6)][_0x5b49e4(0x1c2)](_0x54792d,{'email':_0x1c210d[_0x5b49e4(0x1f9)],'name':_0x1c210d[_0x5b49e4(0x1ed)]},_0x197334[_0x5b49e4(0x1ed)]),await this[_0x5b49e4(0x1f6)][_0x5b49e4(0x1fb)](),await this[_0x5b49e4(0x1f8)][_0x5b49e4(0x1fb)]();const _0x24db6c=this[_0x5b49e4(0x1bb)]+this[_0x5b49e4(0x1f5)];this[_0x5b49e4(0x211)][_0x5b49e4(0x1c7)](_0x5b49e4(0x1cc)+(Date['now']()-this[_0x5b49e4(0x1d1)])+_0x5b49e4(0x1ff)+_0x24db6c),await this['logger'][_0x5b49e4(0x1d5)]();}catch(_0x1ef424){await this['cleanUp'](),this[_0x5b49e4(0x211)][_0x5b49e4(0x1c7)](_0x5b49e4(0x1c9)+_0x1ef424),await this['logger']['send']();throw _0x1ef424;}}async[a146_0x4fa757(0x1e6)](_0x15f7e4){const _0x5c7b4a=a146_0x4fa757;var _0x5860f0,_0x1d646e,_0x210455,_0x3f3719;const _0xc1cc4c=!!((_0x1d646e=(_0x5860f0=_0x15f7e4[_0x5c7b4a(0x1d6)])===null||_0x5860f0===void 0x0?void 0x0:_0x5860f0[_0x5c7b4a(0x1fe)])===null||_0x1d646e===void 0x0?void 0x0:_0x1d646e['length'])||!!((_0x3f3719=(_0x210455=_0x15f7e4[_0x5c7b4a(0x1d6)])===null||_0x210455===void 0x0?void 0x0:_0x210455[_0x5c7b4a(0x1be)])===null||_0x3f3719===void 0x0?void 0x0:_0x3f3719[_0x5c7b4a(0x1ca)]);if(!_0xc1cc4c){this['logger'][_0x5c7b4a(0x1c7)](_0x5c7b4a(0x1c8)),await this[_0x5c7b4a(0x211)][_0x5c7b4a(0x1d5)]();return;}this['commitData']=_0x15f7e4,await this['exec']();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a146_0x4fa757(0x1e4)])({'transient':!![]}),__metadata('design:paramtypes',[auth_settings_service_1[a146_0x4fa757(0x1e1)]])],CommitComponentsJob),exports[a146_0x4fa757(0x1dc)]=CommitComponentsJob;