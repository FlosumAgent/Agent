function a146_0x1bca(){const _0x1b414b=['clearDir','groupComponentsByFileName','[INFO]\x20Deleted\x20','default','COMPONENTS_PER_TICK','CommitComponentsJob','force','copyProjectTo','events','deleted','remote','search','length','branch','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','fileName','decorate','35814SPwknq','push','1942062BFAvom','componentsToDelete','MDApiUtils','1403434DAkZQB','getProtocol','commitAndPush','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','mdapiUtils','getOwnPropertyDescriptor','clone','defineProperty','../utils/sfdx.utils','prepareMdapi','[INFO]\x20Preparing\x20to\x20delete\x20components','__importDefault','removeComponents','Service','AuthSettingsService','cleanUp','24YFzKkB','writed','exec','\x20components','authSettings','values','590932hMHiVd','../../shared/services/auth-settings.service','constructor','[INFO]\x20Prepare\x20mdapi\x20files','run','writeComponents','(((.+)+)+)+$','gitUtils','[ERROR]\x20','__esModule','gitUrl','replace','splice','1307871pcGWEJ','../utils/mdapi.utils','name','318828RoAbDO','ms.\x20Commited\x20components\x20-\x20','metadata','send','object','catch','[INFO]\x20Preparing\x20to\x20write\x20components','905nigjEH','../../shared/utils','includes','commitData','GitUtils','componentsToWrite','email','log','[INFO]\x20Start\x20clonning\x20repository','logger','fileType','[INFO]\x20Writed\x20','master','components','toString','[INFO]\x20Start\x20converting\x20to\x20SFDX','now','sfdxUtils','copyMdapiTo','function','startTime','dir','__metadata','removeDir','design:paramtypes','1881684BmSPYx'];a146_0x1bca=function(){return _0x1b414b;};return a146_0x1bca();}const a146_0x2e25cf=a146_0x501f;function a146_0x501f(_0x9cec0a,_0x21681d){const _0xea9ea9=a146_0x1bca();return a146_0x501f=function(_0x210f27,_0x4c68cc){_0x210f27=_0x210f27-0x17e;let _0x1bcaa7=_0xea9ea9[_0x210f27];return _0x1bcaa7;},a146_0x501f(_0x9cec0a,_0x21681d);}(function(_0x1df3ee,_0xb5b3ab){const _0x3a1fc3=a146_0x501f,_0x8ab867=_0x1df3ee();while(!![]){try{const _0x298e2d=parseInt(_0x3a1fc3(0x17f))/0x1+parseInt(_0x3a1fc3(0x1b6))/0x2+parseInt(_0x3a1fc3(0x1b3))/0x3+-parseInt(_0x3a1fc3(0x1cc))/0x4+-parseInt(_0x3a1fc3(0x186))/0x5*(parseInt(_0x3a1fc3(0x1b1))/0x6)+-parseInt(_0x3a1fc3(0x19f))/0x7+parseInt(_0x3a1fc3(0x1c6))/0x8*(parseInt(_0x3a1fc3(0x1d9))/0x9);if(_0x298e2d===_0xb5b3ab)break;else _0x8ab867['push'](_0x8ab867['shift']());}catch(_0x42beb9){_0x8ab867['push'](_0x8ab867['shift']());}}}(a146_0x1bca,0x942ca));const a146_0x4c68cc=function(){let _0x2720e6=!![];return function(_0x287021,_0x49a07c){const _0x262675=_0x2720e6?function(){if(_0x49a07c){const _0x4b4849=_0x49a07c['apply'](_0x287021,arguments);return _0x49a07c=null,_0x4b4849;}}:function(){};return _0x2720e6=![],_0x262675;};}(),a146_0x210f27=a146_0x4c68cc(this,function(){const _0x4aca6d=a146_0x501f;return a146_0x210f27[_0x4aca6d(0x194)]()[_0x4aca6d(0x1ab)](_0x4aca6d(0x1d2))[_0x4aca6d(0x194)]()[_0x4aca6d(0x1ce)](a146_0x210f27)[_0x4aca6d(0x1ab)](_0x4aca6d(0x1d2));});a146_0x210f27();'use strict';var __decorate=this&&this['__decorate']||function(_0x4cbd79,_0x35a192,_0x2f480a,_0x29101b){const _0x5b9531=a146_0x501f;var _0x2f6404=arguments['length'],_0x5477e2=_0x2f6404<0x3?_0x35a192:_0x29101b===null?_0x29101b=Object[_0x5b9531(0x1bb)](_0x35a192,_0x2f480a):_0x29101b,_0x27aacc;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x5b9531(0x199))_0x5477e2=Reflect[_0x5b9531(0x1b0)](_0x4cbd79,_0x35a192,_0x2f480a,_0x29101b);else{for(var _0x13659e=_0x4cbd79[_0x5b9531(0x1ac)]-0x1;_0x13659e>=0x0;_0x13659e--)if(_0x27aacc=_0x4cbd79[_0x13659e])_0x5477e2=(_0x2f6404<0x3?_0x27aacc(_0x5477e2):_0x2f6404>0x3?_0x27aacc(_0x35a192,_0x2f480a,_0x5477e2):_0x27aacc(_0x35a192,_0x2f480a))||_0x5477e2;}return _0x2f6404>0x3&&_0x5477e2&&Object[_0x5b9531(0x1bd)](_0x35a192,_0x2f480a,_0x5477e2),_0x5477e2;},__metadata=this&&this[a146_0x2e25cf(0x19c)]||function(_0x2aa820,_0x497b5a){const _0x4e431d=a146_0x2e25cf;if(typeof Reflect===_0x4e431d(0x183)&&typeof Reflect[_0x4e431d(0x181)]===_0x4e431d(0x199))return Reflect[_0x4e431d(0x181)](_0x2aa820,_0x497b5a);},__importDefault=this&&this[a146_0x2e25cf(0x1c1)]||function(_0x2e686c){const _0x4c09c2=a146_0x2e25cf;return _0x2e686c&&_0x2e686c[_0x4c09c2(0x1d5)]?_0x2e686c:{'default':_0x2e686c};};Object[a146_0x2e25cf(0x1bd)](exports,a146_0x2e25cf(0x1d5),{'value':!![]}),exports[a146_0x2e25cf(0x1a5)]=void 0x0;const auth_settings_service_1=require(a146_0x2e25cf(0x1cd)),events_1=__importDefault(require(a146_0x2e25cf(0x1a8))),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require(a146_0x2e25cf(0x1da)),sfdx_utils_1=require(a146_0x2e25cf(0x1be)),typedi_1=require('typedi'),child_types_1=__importDefault(require('../../parsers/mdapi/child-types')),utils_1=require(a146_0x2e25cf(0x187));let CommitComponentsJob=class CommitComponentsJob extends events_1['default']{constructor(_0x191076){const _0x4b21f4=a146_0x2e25cf;super(),this[_0x4b21f4(0x1ca)]=_0x191076,this[_0x4b21f4(0x1a4)]=0x3e8,this[_0x4b21f4(0x18b)]=0x0,this[_0x4b21f4(0x1b4)]=0x0,this[_0x4b21f4(0x19a)]=Date[_0x4b21f4(0x196)]();}get[a146_0x2e25cf(0x1aa)](){const _0x4de8e2=a146_0x2e25cf,{repo:_0x113b02}=this[_0x4de8e2(0x189)],{gitCredentials:_0x18ab8e}=this[_0x4de8e2(0x1ca)];return _0x113b02[_0x4de8e2(0x1d6)][_0x4de8e2(0x1d7)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x4de8e2(0x1b7)])(_0x113b02[_0x4de8e2(0x1d6)])+'://'+_0x18ab8e+'@');}[a146_0x2e25cf(0x1a1)](_0x2ed7e0){const _0x2930d2=a146_0x2e25cf;var _0x2f77d4;_0x2ed7e0['sort'](_0x3a1c52=>child_types_1[_0x2930d2(0x1a3)][_0x2930d2(0x188)](_0x3a1c52[_0x2930d2(0x190)])?0x1:-0x1);const _0x1d133c={};for(const _0x5bfc34 of _0x2ed7e0){_0x1d133c[_0x2f77d4=_0x5bfc34[_0x2930d2(0x1af)]]||(_0x1d133c[_0x2f77d4]=[]),_0x1d133c[_0x5bfc34[_0x2930d2(0x1af)]][_0x2930d2(0x1b2)](_0x5bfc34);}return Object[_0x2930d2(0x1cb)](_0x1d133c)['reduce']((_0x44e07a,_0x517b17)=>[..._0x44e07a,..._0x517b17],[]);}async[a146_0x2e25cf(0x1d1)](_0x3f59d0){const _0x4b9e74=a146_0x2e25cf;_0x3f59d0=this[_0x4b9e74(0x1a1)](_0x3f59d0);let _0x2e4e96=0x0;while(_0x3f59d0[_0x4b9e74(0x1ac)]){const _0xe01d3d=_0x3f59d0['splice'](0x0,this['COMPONENTS_PER_TICK']);await this[_0x4b9e74(0x1ba)]['writeFlosumComponents'](_0xe01d3d,{'skipChildErrors':this[_0x4b9e74(0x189)][_0x4b9e74(0x1ad)][_0x4b9e74(0x17e)]===_0x4b9e74(0x192),'logger':_0x4b4efb=>this[_0x4b9e74(0x18f)][_0x4b9e74(0x18d)](_0x4b4efb)}),_0x2e4e96+=_0xe01d3d['length'],this[_0x4b9e74(0x18f)][_0x4b9e74(0x18d)](_0x4b9e74(0x191)+_0x2e4e96+'/'+this[_0x4b9e74(0x18b)]+_0x4b9e74(0x1c9)),await this[_0x4b9e74(0x18f)][_0x4b9e74(0x182)]();}}async[a146_0x2e25cf(0x1c2)](_0x439227){const _0x7116fc=a146_0x2e25cf;_0x439227['sort'](_0x1a00fb=>child_types_1[_0x7116fc(0x1a3)]['includes'](_0x1a00fb['type'])?-0x1:0x1);let _0x45f18d=0x0;while(_0x439227['length']){const _0x239265=_0x439227[_0x7116fc(0x1d8)](0x0,this[_0x7116fc(0x1a4)]);await this['mdapiUtils'][_0x7116fc(0x1c2)](_0x239265),_0x45f18d+=_0x239265[_0x7116fc(0x1ac)],this[_0x7116fc(0x18f)][_0x7116fc(0x18d)](_0x7116fc(0x1a2)+_0x45f18d+'/'+this[_0x7116fc(0x1b4)]+_0x7116fc(0x1c9)),await this[_0x7116fc(0x18f)]['send']();}}async[a146_0x2e25cf(0x1c5)](){const _0x20a59c=a146_0x2e25cf;this[_0x20a59c(0x1d3)]&&await this[_0x20a59c(0x1d3)][_0x20a59c(0x19d)]()['catch'](()=>void 0x0),this['mdapiUtils']&&await this['mdapiUtils'][_0x20a59c(0x19d)]()[_0x20a59c(0x184)](()=>void 0x0),this[_0x20a59c(0x197)]&&await this[_0x20a59c(0x197)][_0x20a59c(0x19d)]()[_0x20a59c(0x184)](()=>void 0x0);}async[a146_0x2e25cf(0x1c8)](){const _0x3dd240=a146_0x2e25cf,{repo:_0x558139,branch:_0x44eece,components:_0x273af6,convertToSFDX:_0x5cda06,message:_0x152326,user:_0x3043a1}=this[_0x3dd240(0x189)];this[_0x3dd240(0x1ba)]=new mdapi_utils_1[(_0x3dd240(0x1b5))](_0x558139['name'],_0x44eece['name']),this[_0x3dd240(0x1d3)]=new git_utils_1[(_0x3dd240(0x18a))](this[_0x3dd240(0x1aa)]),this[_0x3dd240(0x197)]=new sfdx_utils_1['SFDXUtils'](_0x558139[_0x3dd240(0x17e)],_0x44eece[_0x3dd240(0x17e)]);try{this['logger'][_0x3dd240(0x18d)](_0x3dd240(0x18e)),await this[_0x3dd240(0x1d3)][_0x3dd240(0x1bc)](_0x44eece[_0x3dd240(0x17e)],_0x558139[_0x3dd240(0x17e)]);!this[_0x3dd240(0x189)][_0x3dd240(0x1a6)]?(this['logger']['log'](_0x3dd240(0x1cf)),await this[_0x3dd240(0x1ba)][_0x3dd240(0x1bf)](this[_0x3dd240(0x1d3)][_0x3dd240(0x19b)])):this[_0x3dd240(0x18f)][_0x3dd240(0x18d)]('[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.');_0x273af6[_0x3dd240(0x1c7)]&&(this[_0x3dd240(0x18f)][_0x3dd240(0x18d)](_0x3dd240(0x185)),this['componentsToWrite']=_0x273af6['writed'][_0x3dd240(0x1ac)],await this[_0x3dd240(0x1d1)](_0x273af6['writed']));_0x273af6['deleted']&&(this['logger'][_0x3dd240(0x18d)](_0x3dd240(0x1c0)),this[_0x3dd240(0x1b4)]=_0x273af6['deleted'][_0x3dd240(0x1ac)],await this['removeComponents'](_0x273af6[_0x3dd240(0x1a9)]));await this[_0x3dd240(0x1d3)][_0x3dd240(0x1a0)](),await this[_0x3dd240(0x18f)][_0x3dd240(0x182)]();_0x5cda06?(this[_0x3dd240(0x18f)]['log'](_0x3dd240(0x195)),await this['sfdxUtils']['createProjectFrom'](this[_0x3dd240(0x1ba)][_0x3dd240(0x19b)]),await this[_0x3dd240(0x197)][_0x3dd240(0x1a7)](this[_0x3dd240(0x1d3)][_0x3dd240(0x19b)]),await this[_0x3dd240(0x197)][_0x3dd240(0x19d)](),await this[_0x3dd240(0x18f)][_0x3dd240(0x182)]()):(this['logger'][_0x3dd240(0x18d)](_0x3dd240(0x1b9)),await this[_0x3dd240(0x1ba)][_0x3dd240(0x198)](this[_0x3dd240(0x1d3)][_0x3dd240(0x19b)]));this[_0x3dd240(0x18f)]['log']('[INFO]\x20Commiting\x20and\x20pushing\x20source\x20to\x20git'),await this['gitUtils'][_0x3dd240(0x1b8)](_0x152326,{'email':_0x3043a1[_0x3dd240(0x18c)],'name':_0x3043a1[_0x3dd240(0x17e)]},_0x44eece[_0x3dd240(0x17e)]),await this['gitUtils'][_0x3dd240(0x19d)](),await this[_0x3dd240(0x1ba)]['removeDir']();const _0x4e6344=this[_0x3dd240(0x18b)]+this[_0x3dd240(0x1b4)];this[_0x3dd240(0x18f)][_0x3dd240(0x18d)]('[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20'+(Date['now']()-this['startTime'])+_0x3dd240(0x180)+_0x4e6344),await this['logger'][_0x3dd240(0x182)]();}catch(_0x39e6d7){await this['cleanUp'](),this[_0x3dd240(0x18f)][_0x3dd240(0x18d)](_0x3dd240(0x1d4)+_0x39e6d7),await this['logger']['send']();throw _0x39e6d7;}}async[a146_0x2e25cf(0x1d0)](_0x331f71){const _0x4c7268=a146_0x2e25cf;var _0x592425,_0x1dabc0,_0x32618a,_0x1c9fa6;const _0x2bab41=!!((_0x1dabc0=(_0x592425=_0x331f71['components'])===null||_0x592425===void 0x0?void 0x0:_0x592425[_0x4c7268(0x1c7)])===null||_0x1dabc0===void 0x0?void 0x0:_0x1dabc0['length'])||!!((_0x1c9fa6=(_0x32618a=_0x331f71[_0x4c7268(0x193)])===null||_0x32618a===void 0x0?void 0x0:_0x32618a[_0x4c7268(0x1a9)])===null||_0x1c9fa6===void 0x0?void 0x0:_0x1c9fa6[_0x4c7268(0x1ac)]);if(!_0x2bab41){this[_0x4c7268(0x18f)][_0x4c7268(0x18d)](_0x4c7268(0x1ae)),await this[_0x4c7268(0x18f)]['send']();return;}this[_0x4c7268(0x189)]=_0x331f71,await this[_0x4c7268(0x1c8)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a146_0x2e25cf(0x1c3)])({'transient':!![]}),__metadata(a146_0x2e25cf(0x19e),[auth_settings_service_1[a146_0x2e25cf(0x1c4)]])],CommitComponentsJob),exports[a146_0x2e25cf(0x1a5)]=CommitComponentsJob;