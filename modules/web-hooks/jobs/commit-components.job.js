function a179_0x3306(){const _0x207431=['values','search','../../salesforce/services/salesforce-logger-v2.service','now','sfdxUtils','8565064LUACAw','3119590AdQEKM','includes','getCredentialsFor','SalesforceLogger2','getRemote','replace','getLoggerId','\x20components','dir','decorate','authSettings','COMPONENTS_PER_TICK','getPrefix','../../git-api/services/bitbucket-api.service','createProjectFrom','9264684QWOeGp','__createBinding','[INFO]\x20Prepare\x20mdapi\x20files','Service','GitUtils','ms.\x20Committed\x20components\x20-\x20','typedi','fileName','componentsToWrite','force','../../../constants','SFDX','name','1162828rdtYUx','getAccessToken','push','4059qPUgwi','CommitComponentsJob','object','get','../../shared/utils','[INFO]\x20Start\x20clonning\x20repository','[INFO]\x20Nothing\x20to\x20commit.\x20Skip.','BitbucketApiService','[INFO]\x20Wrote\x20','../../internal/fs.internal','prototype','__setModuleDefault','removeDir','force-app','commitAndPush','[INFO]\x20Copying\x20mdapi\x20to\x20git\x20folder','copyMdapiTo','function','../../salesforce/utils/sfdx.utils','[ERROR]\x20','AuthSettingsService','[INFO]\x20Deleted\x20','copyProjectTo','type','[INFO]\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','run','call','components','events','componentsToDelete','writeFlosumComponents','exec','cleanUp','provider','../utils/sfdx.utils','__metadata','sfLogger','CommitComponentsDto','(((.+)+)+)+$','catch','22qzzPlS','mdapiUtils','MDApiUtils','sort','toString','146eSNXKV','splice','[INFO]\x20Committing\x20and\x20pushing\x20source\x20to\x20git','clone','[INFO]\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','9WiVqPx','__esModule','[INFO]\x20Start\x20converting\x20to\x20SFDX','branch','gitUrl','defineProperty','send','__decorate','reduce','deleted','3297350Mqnxhh','removeComponents','length','path','../dto/commit-components.dto','12eAPkOk','create','155VIWgtN','writed','default','bitbucket','groupComponentsByFileName','125274QxVBtc','prepareMdapi','gitUtils','design:paramtypes','commitData','[INFO]\x20Preparing\x20to\x20delete\x20components','isLoggedIn','metadata','join','log','startTime'];a179_0x3306=function(){return _0x207431;};return a179_0x3306();}const a179_0x3a86c2=a179_0x48c1;(function(_0x16a09a,_0x6ecf12){const _0x4e99c4=a179_0x48c1,_0x4be33c=_0x16a09a();while(!![]){try{const _0x16a1bb=parseInt(_0x4e99c4(0x105))/0x1*(-parseInt(_0x4e99c4(0xba))/0x2)+-parseInt(_0x4e99c4(0xce))/0x3*(-parseInt(_0x4e99c4(0x102))/0x4)+parseInt(_0x4e99c4(0xd0))/0x5*(parseInt(_0x4e99c4(0xd5))/0x6)+-parseInt(_0x4e99c4(0xc9))/0x7+parseInt(_0x4e99c4(0xe5))/0x8*(parseInt(_0x4e99c4(0xbf))/0x9)+parseInt(_0x4e99c4(0xe6))/0xa*(-parseInt(_0x4e99c4(0xb5))/0xb)+-parseInt(_0x4e99c4(0xf5))/0xc;if(_0x16a1bb===_0x6ecf12)break;else _0x4be33c['push'](_0x4be33c['shift']());}catch(_0x484bdc){_0x4be33c['push'](_0x4be33c['shift']());}}}(a179_0x3306,0xaf242));const a179_0x20a8a7=function(){let _0x3884d4=!![];return function(_0x9ef9f5,_0x28dd49){const _0x525b91=_0x3884d4?function(){if(_0x28dd49){const _0x5a6c64=_0x28dd49['apply'](_0x9ef9f5,arguments);return _0x28dd49=null,_0x5a6c64;}}:function(){};return _0x3884d4=![],_0x525b91;};}(),a179_0x284af9=a179_0x20a8a7(this,function(){const _0x84b7d1=a179_0x48c1;return a179_0x284af9[_0x84b7d1(0xb9)]()[_0x84b7d1(0xe1)](_0x84b7d1(0x12b))[_0x84b7d1(0xb9)]()['constructor'](a179_0x284af9)[_0x84b7d1(0xe1)](_0x84b7d1(0x12b));});a179_0x284af9();function a179_0x48c1(_0x15d1cb,_0x398a45){const _0x1e2804=a179_0x3306();return a179_0x48c1=function(_0x284af9,_0x20a8a7){_0x284af9=_0x284af9-0xb4;let _0x33066f=_0x1e2804[_0x284af9];return _0x33066f;},a179_0x48c1(_0x15d1cb,_0x398a45);}'use strict';var __createBinding=this&&this[a179_0x3a86c2(0xf6)]||(Object[a179_0x3a86c2(0xcf)]?function(_0x3fc157,_0xf530fd,_0x2b1a91,_0x38fc4a){const _0xce02e9=a179_0x3a86c2;if(_0x38fc4a===undefined)_0x38fc4a=_0x2b1a91;Object[_0xce02e9(0xc4)](_0x3fc157,_0x38fc4a,{'enumerable':!![],'get':function(){return _0xf530fd[_0x2b1a91];}});}:function(_0x8ca9a3,_0x5ee938,_0x1a5a26,_0x597dde){if(_0x597dde===undefined)_0x597dde=_0x1a5a26;_0x8ca9a3[_0x597dde]=_0x5ee938[_0x1a5a26];}),__setModuleDefault=this&&this[a179_0x3a86c2(0x110)]||(Object['create']?function(_0x52d25d,_0x434bf7){const _0x182cdf=a179_0x3a86c2;Object[_0x182cdf(0xc4)](_0x52d25d,'default',{'enumerable':!![],'value':_0x434bf7});}:function(_0x2991cd,_0x3dcae8){const _0x3b3cb9=a179_0x3a86c2;_0x2991cd[_0x3b3cb9(0xd2)]=_0x3dcae8;}),__decorate=this&&this[a179_0x3a86c2(0xc6)]||function(_0x2579ec,_0x1f37d2,_0x5371a7,_0x1b7cf8){const _0x581985=a179_0x3a86c2;var _0x103d96=arguments[_0x581985(0xcb)],_0x1d2cf2=_0x103d96<0x3?_0x1f37d2:_0x1b7cf8===null?_0x1b7cf8=Object['getOwnPropertyDescriptor'](_0x1f37d2,_0x5371a7):_0x1b7cf8,_0x10a8a7;if(typeof Reflect===_0x581985(0x107)&&typeof Reflect[_0x581985(0xef)]==='function')_0x1d2cf2=Reflect[_0x581985(0xef)](_0x2579ec,_0x1f37d2,_0x5371a7,_0x1b7cf8);else{for(var _0x25a1c0=_0x2579ec[_0x581985(0xcb)]-0x1;_0x25a1c0>=0x0;_0x25a1c0--)if(_0x10a8a7=_0x2579ec[_0x25a1c0])_0x1d2cf2=(_0x103d96<0x3?_0x10a8a7(_0x1d2cf2):_0x103d96>0x3?_0x10a8a7(_0x1f37d2,_0x5371a7,_0x1d2cf2):_0x10a8a7(_0x1f37d2,_0x5371a7))||_0x1d2cf2;}return _0x103d96>0x3&&_0x1d2cf2&&Object[_0x581985(0xc4)](_0x1f37d2,_0x5371a7,_0x1d2cf2),_0x1d2cf2;},__importStar=this&&this['__importStar']||function(_0x1de526){const _0x3feede=a179_0x3a86c2;if(_0x1de526&&_0x1de526['__esModule'])return _0x1de526;var _0x21fb35={};if(_0x1de526!=null){for(var _0x26bd5a in _0x1de526)if(_0x26bd5a!==_0x3feede(0xd2)&&Object[_0x3feede(0x10f)]['hasOwnProperty'][_0x3feede(0x11f)](_0x1de526,_0x26bd5a))__createBinding(_0x21fb35,_0x1de526,_0x26bd5a);}return __setModuleDefault(_0x21fb35,_0x1de526),_0x21fb35;},__metadata=this&&this[a179_0x3a86c2(0x128)]||function(_0x5065a3,_0x3cd291){const _0x49aa96=a179_0x3a86c2;if(typeof Reflect===_0x49aa96(0x107)&&typeof Reflect[_0x49aa96(0xdc)]===_0x49aa96(0x116))return Reflect[_0x49aa96(0xdc)](_0x5065a3,_0x3cd291);},__importDefault=this&&this['__importDefault']||function(_0x3b59c5){const _0x31993e=a179_0x3a86c2;return _0x3b59c5&&_0x3b59c5[_0x31993e(0xc0)]?_0x3b59c5:{'default':_0x3b59c5};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a179_0x3a86c2(0x106)]=void 0x0;const auth_settings_service_1=require('../../shared/services/auth-settings.service'),commit_components_dto_1=require(a179_0x3a86c2(0xcd)),events_1=__importDefault(require(a179_0x3a86c2(0x121))),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require('../utils/mdapi.utils'),sfdx_utils_1=require(a179_0x3a86c2(0x127)),typedi_1=__importStar(require(a179_0x3a86c2(0xfb))),child_types_1=__importDefault(require('../../parsers/data/child-types')),utils_1=require(a179_0x3a86c2(0x109)),salesforce_logger_v2_service_1=require(a179_0x3a86c2(0xe2)),constants_1=require(a179_0x3a86c2(0xff)),bitbucket_api_service_1=require(a179_0x3a86c2(0xf3)),sfdx_utils_2=require(a179_0x3a86c2(0x117)),fs_internal_1=require(a179_0x3a86c2(0x10e)),path_1=require(a179_0x3a86c2(0xcc));let CommitComponentsJob=class CommitComponentsJob extends events_1[a179_0x3a86c2(0xd2)]{constructor(_0x5e8ba8){const _0x417e0a=a179_0x3a86c2;super(),this[_0x417e0a(0xf0)]=_0x5e8ba8,this[_0x417e0a(0xf1)]=0x3e8,this[_0x417e0a(0xfd)]=0x0,this['componentsToDelete']=0x0,this[_0x417e0a(0xdf)]=Date['now']();}async['getRemote'](){const _0x46b53b=a179_0x3a86c2,{repo:_0x17899c}=this['commitData'];let _0x280878=this['authSettings'][_0x46b53b(0xe8)](this['commitData'][_0x46b53b(0x126)]);if(this[_0x46b53b(0xd9)][_0x46b53b(0x126)]===_0x46b53b(0xd3)){const _0x52ec4a=typedi_1[_0x46b53b(0xd2)][_0x46b53b(0x108)](bitbucket_api_service_1[_0x46b53b(0x10c)]);await _0x52ec4a[_0x46b53b(0xdb)](),_0x280878+=encodeURIComponent(_0x52ec4a[_0x46b53b(0x103)]());}return _0x17899c[_0x46b53b(0xc3)][_0x46b53b(0xeb)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x17899c[_0x46b53b(0xc3)])+'://'+_0x280878+'@');}[a179_0x3a86c2(0xd4)](_0x370efb){const _0x38ec8f=a179_0x3a86c2;var _0x184e54;_0x370efb[_0x38ec8f(0xb8)](_0x1bfeb5=>child_types_1[_0x38ec8f(0xd2)]['includes'](_0x1bfeb5['fileType'])?0x1:-0x1);const _0x1bcf6f={};for(const _0x2e0dae of _0x370efb){_0x1bcf6f[_0x184e54=_0x2e0dae[_0x38ec8f(0xfc)]]||(_0x1bcf6f[_0x184e54]=[]),_0x1bcf6f[_0x2e0dae[_0x38ec8f(0xfc)]][_0x38ec8f(0x104)](_0x2e0dae);}return Object[_0x38ec8f(0xe0)](_0x1bcf6f)[_0x38ec8f(0xc7)]((_0x961140,_0x4fea63)=>[..._0x961140,..._0x4fea63],[]);}async['writeComponents'](_0x2c9383){const _0x5cb525=a179_0x3a86c2;_0x2c9383=this[_0x5cb525(0xd4)](_0x2c9383);let _0x1ea075=0x0;while(_0x2c9383[_0x5cb525(0xcb)]){const _0x5d6092=_0x2c9383[_0x5cb525(0xbb)](0x0,this[_0x5cb525(0xf1)]);await this[_0x5cb525(0xb6)][_0x5cb525(0x123)](_0x5d6092,{'skipChildErrors':this[_0x5cb525(0xd9)][_0x5cb525(0xc2)][_0x5cb525(0x101)]==='master'}),_0x1ea075+=_0x5d6092[_0x5cb525(0xcb)],this['sfLogger'][_0x5cb525(0xde)](_0x5cb525(0x10d)+_0x1ea075+'/'+this[_0x5cb525(0xfd)]+_0x5cb525(0xed)),await this[_0x5cb525(0x129)][_0x5cb525(0xc5)]();}}async[a179_0x3a86c2(0xca)](_0x2c8d9e){const _0xd6b872=a179_0x3a86c2;_0x2c8d9e[_0xd6b872(0xb8)](_0x2e4f4a=>child_types_1[_0xd6b872(0xd2)][_0xd6b872(0xe7)](_0x2e4f4a[_0xd6b872(0x11c)])?-0x1:0x1);let _0x38dee0=0x0;while(_0x2c8d9e[_0xd6b872(0xcb)]){const _0x47050b=_0x2c8d9e[_0xd6b872(0xbb)](0x0,this[_0xd6b872(0xf1)]);await this[_0xd6b872(0xb6)][_0xd6b872(0xca)](_0x47050b),_0x38dee0+=_0x47050b[_0xd6b872(0xcb)],this[_0xd6b872(0x129)][_0xd6b872(0xde)](_0xd6b872(0x11a)+_0x38dee0+'/'+this[_0xd6b872(0x122)]+_0xd6b872(0xed)),await this[_0xd6b872(0x129)][_0xd6b872(0xc5)]();}}async[a179_0x3a86c2(0x125)](){const _0x3c90e2=a179_0x3a86c2;this[_0x3c90e2(0xd7)]&&await this['gitUtils'][_0x3c90e2(0x111)]()['catch'](()=>void 0x0),this[_0x3c90e2(0xb6)]&&await this[_0x3c90e2(0xb6)][_0x3c90e2(0x111)]()[_0x3c90e2(0xb4)](()=>void 0x0),this[_0x3c90e2(0xe4)]&&await this['sfdxUtils'][_0x3c90e2(0x111)]()[_0x3c90e2(0xb4)](()=>void 0x0);}async[a179_0x3a86c2(0x124)](){const _0x427540=a179_0x3a86c2,{repo:_0x3c1019,branch:_0x2c386b,components:_0x41052c,convertToSFDX:_0x594b39,message:_0x4dc089,user:_0x4ea093}=this[_0x427540(0xd9)];this[_0x427540(0xb6)]=new mdapi_utils_1[(_0x427540(0xb7))](_0x3c1019[_0x427540(0x101)],_0x2c386b[_0x427540(0x101)]),this[_0x427540(0xd7)]=new git_utils_1[(_0x427540(0xf9))](await this[_0x427540(0xea)]()),this[_0x427540(0xe4)]=new sfdx_utils_1['SFDXUtils'](_0x3c1019[_0x427540(0x101)],_0x2c386b[_0x427540(0x101)]);let _0x2aef7b=_0x594b39;try{this['sfLogger']['log'](_0x427540(0x10a)),await this['gitUtils'][_0x427540(0xbd)](_0x2c386b[_0x427540(0x101)],_0x3c1019[_0x427540(0x101)]);!this[_0x427540(0xd9)][_0x427540(0xfe)]?(this[_0x427540(0x129)][_0x427540(0xde)](_0x427540(0xf7)),await this['mdapiUtils'][_0x427540(0xd6)](this[_0x427540(0xd7)]['dir'])):this[_0x427540(0x129)]['log'](_0x427540(0x11d));_0x41052c['writed']&&(this[_0x427540(0x129)][_0x427540(0xde)]('[INFO]\x20Preparing\x20to\x20write\x20components'),this[_0x427540(0xfd)]=_0x41052c[_0x427540(0xd1)][_0x427540(0xcb)],await this['writeComponents'](_0x41052c[_0x427540(0xd1)]),await this[_0x427540(0x129)][_0x427540(0xc5)]());_0x41052c['deleted']&&(this[_0x427540(0x129)][_0x427540(0xde)](_0x427540(0xda)),this['componentsToDelete']=_0x41052c['deleted']['length'],await this['removeComponents'](_0x41052c[_0x427540(0xc8)]),await this[_0x427540(0x129)][_0x427540(0xc5)]());await this[_0x427540(0x129)]['send']();await sfdx_utils_2[_0x427540(0x100)]['isSFDXProject'](this[_0x427540(0xd7)][_0x427540(0xee)])?(_0x2aef7b=!![],await fs_internal_1['FS']['removeDir'](path_1[_0x427540(0xdd)](this[_0x427540(0xd7)]['dir'],_0x427540(0x112)))):await this[_0x427540(0xd7)]['clearDir']();_0x2aef7b?(this['sfLogger'][_0x427540(0xde)](_0x427540(0xc1)),await this[_0x427540(0xe4)][_0x427540(0xf4)](this[_0x427540(0xb6)][_0x427540(0xee)]),await this[_0x427540(0xe4)][_0x427540(0x11b)](this['gitUtils'][_0x427540(0xee)]),await this['sfdxUtils']['removeDir'](),await this['sfLogger']['send']()):(this[_0x427540(0x129)][_0x427540(0xde)](_0x427540(0x114)),await this['mdapiUtils'][_0x427540(0x115)](this[_0x427540(0xd7)][_0x427540(0xee)]),await this[_0x427540(0x129)]['send']());this[_0x427540(0x129)][_0x427540(0xde)](_0x427540(0xbc)),await this['gitUtils'][_0x427540(0x113)](_0x4dc089,{'email':constants_1['DEFAULT_GIT_USER_EMAIL'],'name':_0x4ea093[_0x427540(0x101)]},_0x2c386b[_0x427540(0x101)]),await this[_0x427540(0xd7)][_0x427540(0x111)](),await this[_0x427540(0xb6)][_0x427540(0x111)]();const _0x4a0ba4=this[_0x427540(0xfd)]+this[_0x427540(0x122)];this['sfLogger'][_0x427540(0xde)](_0x427540(0xbe)+(Date[_0x427540(0xe3)]()-this[_0x427540(0xdf)])+_0x427540(0xfa)+_0x4a0ba4),await this['sfLogger'][_0x427540(0xc5)]();}catch(_0x180e19){await this[_0x427540(0x125)](),this[_0x427540(0x129)]['log'](_0x427540(0x118)+_0x180e19),await this['sfLogger'][_0x427540(0xc5)]();throw _0x180e19;}}async[a179_0x3a86c2(0x11e)](_0xf5d01a,_0x4960a9){const _0x173764=a179_0x3a86c2;var _0x199f02,_0x5a78c5;this[_0x173764(0x129)]=new salesforce_logger_v2_service_1[(_0x173764(0xe9))](_0x4960a9[_0x173764(0xec)](),_0x4960a9[_0x173764(0xf2)]()+'\x20['+commit_components_dto_1[_0x173764(0x12a)][_0x173764(0x101)]+']');const _0x17601d=!!((_0x199f02=_0xf5d01a[_0x173764(0x120)])===null||_0x199f02===void 0x0?void 0x0:_0x199f02[_0x173764(0xd1)])||!!((_0x5a78c5=_0xf5d01a[_0x173764(0x120)])===null||_0x5a78c5===void 0x0?void 0x0:_0x5a78c5[_0x173764(0xc8)]);if(!_0x17601d){this['sfLogger']['log'](_0x173764(0x10b)),await this[_0x173764(0x129)][_0x173764(0xc5)]();return;}this['commitData']=_0xf5d01a,await this['exec']();}};CommitComponentsJob=__decorate([typedi_1[a179_0x3a86c2(0xf8)]({'transient':!![]}),__metadata(a179_0x3a86c2(0xd8),[auth_settings_service_1[a179_0x3a86c2(0x119)]])],CommitComponentsJob),exports[a179_0x3a86c2(0x106)]=CommitComponentsJob;