const a177_0x5ba86e=a177_0xeb4f;function a177_0x25af(){const _0x2af05e=['396NvvkMm','search','6546iXTJZu','finish\x20git\x20sync\x20job','send','../../salesforce/services/salesforce-sync.service','__esModule','getLoggerId','apply','log','provider','88284nRHdhH','278177RpTxkG','../dto/git-commit.dto','syncRecord','[INFO]\x20Update\x20remote\x20state.','./git-commit.job','getOne','start\x20git\x20sync\x20job','126KBHSqj','salesforceService','sha','(((.+)+)+)+$','object','__metadata','branch','185912yQWxBP','length','GitCommitDto','__importStar','function','logger','decorate','updateRemoteState','SalesforceSyncService','../../salesforce/services/salesforce-logger-v2.service','../../salesforce/services/salesforce.service','getOwnPropertyDescriptor','name','salesforceSync','189800vXtsYx','create',']\x20[Branch:\x20','getGitCommitDto','parse','repositoryGit','SalesforceLogger2','1450jDJLSi','branches','checkSyncStatus','1067160AdZywV','defineProperty','getPrefix','lastCommit','retrieveAttachment','updateLastCommit','\x20[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','getRemoteStateAttachmentId','hasOwnProperty','GitCommitJob','metadata','get','sfLogger','[INFO]\x20Start\x20sync\x20job.','repository','26125rjTSTx','Service','default','140mjoBoo','call','catch'];a177_0x25af=function(){return _0x2af05e;};return a177_0x25af();}(function(_0x2ace8d,_0x675731){const _0x1af25c=a177_0xeb4f,_0x12cdf1=_0x2ace8d();while(!![]){try{const _0x55d99d=parseInt(_0x1af25c(0xfb))/0x1+-parseInt(_0x1af25c(0x121))/0x2+-parseInt(_0x1af25c(0x138))/0x3*(-parseInt(_0x1af25c(0x136))/0x4)+parseInt(_0x1af25c(0x117))/0x5+parseInt(_0x1af25c(0x141))/0x6*(parseInt(_0x1af25c(0x133))/0x7)+-parseInt(_0x1af25c(0x109))/0x8*(-parseInt(_0x1af25c(0x102))/0x9)+-parseInt(_0x1af25c(0x11e))/0xa*(parseInt(_0x1af25c(0x130))/0xb);if(_0x55d99d===_0x675731)break;else _0x12cdf1['push'](_0x12cdf1['shift']());}catch(_0x4afcd3){_0x12cdf1['push'](_0x12cdf1['shift']());}}}(a177_0x25af,0x42da2));const a177_0x53e941=function(){let _0x5617e7=!![];return function(_0x17247b,_0xfec6e7){const _0x1cfbc2=_0x5617e7?function(){const _0x1f8be6=a177_0xeb4f;if(_0xfec6e7){const _0x2d08f5=_0xfec6e7[_0x1f8be6(0x13e)](_0x17247b,arguments);return _0xfec6e7=null,_0x2d08f5;}}:function(){};return _0x5617e7=![],_0x1cfbc2;};}(),a177_0x26997e=a177_0x53e941(this,function(){const _0x37dd5e=a177_0xeb4f;return a177_0x26997e['toString']()[_0x37dd5e(0x137)](_0x37dd5e(0x105))['toString']()['constructor'](a177_0x26997e)[_0x37dd5e(0x137)]('(((.+)+)+)+$');});a177_0x26997e();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a177_0x5ba86e(0x118)]?function(_0xbb4c77,_0x1b0cea,_0x266178,_0x400da5){if(_0x400da5===undefined)_0x400da5=_0x266178;Object['defineProperty'](_0xbb4c77,_0x400da5,{'enumerable':!![],'get':function(){return _0x1b0cea[_0x266178];}});}:function(_0x318dc3,_0x451f33,_0x3ec1b8,_0x47ae34){if(_0x47ae34===undefined)_0x47ae34=_0x3ec1b8;_0x318dc3[_0x47ae34]=_0x451f33[_0x3ec1b8];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a177_0x5ba86e(0x118)]?function(_0x4cf93d,_0x1e1c61){const _0x5a40e4=a177_0x5ba86e;Object[_0x5a40e4(0x122)](_0x4cf93d,_0x5a40e4(0x132),{'enumerable':!![],'value':_0x1e1c61});}:function(_0x27b345,_0x4b3baf){const _0x139601=a177_0x5ba86e;_0x27b345[_0x139601(0x132)]=_0x4b3baf;}),__decorate=this&&this['__decorate']||function(_0x1e3a69,_0x5162f9,_0x22dc52,_0x2deb6a){const _0x46a78f=a177_0x5ba86e;var _0x272355=arguments[_0x46a78f(0x10a)],_0x8810f0=_0x272355<0x3?_0x5162f9:_0x2deb6a===null?_0x2deb6a=Object[_0x46a78f(0x114)](_0x5162f9,_0x22dc52):_0x2deb6a,_0x4a27a7;if(typeof Reflect===_0x46a78f(0x106)&&typeof Reflect[_0x46a78f(0x10f)]===_0x46a78f(0x10d))_0x8810f0=Reflect[_0x46a78f(0x10f)](_0x1e3a69,_0x5162f9,_0x22dc52,_0x2deb6a);else{for(var _0x6234a=_0x1e3a69[_0x46a78f(0x10a)]-0x1;_0x6234a>=0x0;_0x6234a--)if(_0x4a27a7=_0x1e3a69[_0x6234a])_0x8810f0=(_0x272355<0x3?_0x4a27a7(_0x8810f0):_0x272355>0x3?_0x4a27a7(_0x5162f9,_0x22dc52,_0x8810f0):_0x4a27a7(_0x5162f9,_0x22dc52))||_0x8810f0;}return _0x272355>0x3&&_0x8810f0&&Object['defineProperty'](_0x5162f9,_0x22dc52,_0x8810f0),_0x8810f0;},__importStar=this&&this[a177_0x5ba86e(0x10c)]||function(_0x4b85ab){const _0x48b2ee=a177_0x5ba86e;if(_0x4b85ab&&_0x4b85ab['__esModule'])return _0x4b85ab;var _0x4b5bc9={};if(_0x4b85ab!=null){for(var _0x583397 in _0x4b85ab)if(_0x583397!==_0x48b2ee(0x132)&&Object['prototype'][_0x48b2ee(0x129)][_0x48b2ee(0x134)](_0x4b85ab,_0x583397))__createBinding(_0x4b5bc9,_0x4b85ab,_0x583397);}return __setModuleDefault(_0x4b5bc9,_0x4b85ab),_0x4b5bc9;},__metadata=this&&this[a177_0x5ba86e(0x107)]||function(_0x4ab256,_0x47c7e0){const _0x55209e=a177_0x5ba86e;if(typeof Reflect==='object'&&typeof Reflect[_0x55209e(0x12b)]===_0x55209e(0x10d))return Reflect[_0x55209e(0x12b)](_0x4ab256,_0x47c7e0);},GitSyncJob_1;Object[a177_0x5ba86e(0x122)](exports,a177_0x5ba86e(0x13c),{'value':!![]}),exports['GitSyncJob']=void 0x0;const salesforce_logger_v2_service_1=require(a177_0x5ba86e(0x112)),salesforce_sync_service_1=require(a177_0x5ba86e(0x13b)),salesforce_service_1=require(a177_0x5ba86e(0x113)),typedi_1=__importStar(require('typedi')),core_1=require('../../../core'),git_commit_dto_1=require(a177_0x5ba86e(0xfc)),git_commit_job_1=require(a177_0x5ba86e(0xff));let GitSyncJob=GitSyncJob_1=class GitSyncJob{constructor(_0x9e1be5,_0xa8635f){const _0xa51fea=a177_0x5ba86e;this[_0xa51fea(0x116)]=_0x9e1be5,this[_0xa51fea(0x103)]=_0xa8635f,this[_0xa51fea(0x10e)]=new core_1['Logger'](GitSyncJob_1[_0xa51fea(0x115)]);}[a177_0x5ba86e(0x11a)](_0x16ecf4){const _0x2b9440=a177_0x5ba86e,_0x592668=new git_commit_dto_1[(_0x2b9440(0x10b))]();return _0x592668[_0x2b9440(0x12f)]=_0x16ecf4[_0x2b9440(0x12f)][_0x2b9440(0x115)],_0x592668[_0x2b9440(0x108)]=_0x16ecf4[_0x2b9440(0x108)],_0x592668[_0x2b9440(0x11c)]=_0x16ecf4[_0x2b9440(0x11c)],_0x592668[_0x2b9440(0x140)]=_0x16ecf4['provider'],_0x592668['force']=!![],_0x592668;}async[a177_0x5ba86e(0x120)](_0x31803f){const _0x18218f=a177_0x5ba86e,_0x5588b7=await this[_0x18218f(0x116)][_0x18218f(0x128)](_0x31803f[_0x18218f(0xfd)]),_0x3333d0=await this[_0x18218f(0x103)][_0x18218f(0x125)](_0x5588b7)['then'](_0x577dfb=>typeof _0x577dfb==='string'?JSON[_0x18218f(0x11b)](_0x577dfb):_0x577dfb)[_0x18218f(0x135)](()=>({})),_0x5567e2=await _0x31803f[_0x18218f(0x12f)][_0x18218f(0x11f)][_0x18218f(0x100)](_0x31803f[_0x18218f(0x108)]);if(_0x3333d0[_0x31803f['repositoryGit']]){if(_0x3333d0[_0x31803f['repositoryGit']][_0x18218f(0x124)]===_0x5567e2['sha'])return!![];}return![];}async[a177_0x5ba86e(0x126)](_0x2154c2){const _0x3091ca=a177_0x5ba86e,_0x50ec27=await _0x2154c2[_0x3091ca(0x12f)]['branches']['getOne'](_0x2154c2['branch']);await this[_0x3091ca(0x12d)][_0x3091ca(0x13f)](_0x3091ca(0xfe))['send']();const _0x3d7657={[_0x2154c2['repositoryGit']]:{'lastCommit':_0x50ec27[_0x3091ca(0x104)]}};await this[_0x3091ca(0x116)][_0x3091ca(0x110)](_0x2154c2[_0x3091ca(0xfd)],_0x3d7657);}async['run'](_0x311802){const _0x12674e=a177_0x5ba86e;this[_0x12674e(0x12d)]=new salesforce_logger_v2_service_1[(_0x12674e(0x11d))](_0x311802[_0x12674e(0x10e)][_0x12674e(0x13d)](),_0x311802[_0x12674e(0x10e)][_0x12674e(0x123)]()+_0x12674e(0x127)+_0x311802[_0x12674e(0x12f)][_0x12674e(0x115)]+_0x12674e(0x119)+_0x311802[_0x12674e(0x108)]+']'),this[_0x12674e(0x10e)][_0x12674e(0x13f)](_0x12674e(0x101));try{this[_0x12674e(0x12d)][_0x12674e(0x13f)]('[INFO]\x20Start\x20sync\x20job.');const _0x24c1c8=typedi_1[_0x12674e(0x132)][_0x12674e(0x12c)](git_commit_job_1[_0x12674e(0x12a)]);await _0x24c1c8['run'](this['getGitCommitDto'](_0x311802),this[_0x12674e(0x12d)]),this['logger']['log'](_0x12674e(0x139)),this[_0x12674e(0x12d)][_0x12674e(0x13f)](_0x12674e(0x12e));}catch(_0x3eb14d){throw _0x3eb14d;}finally{await this['sfLogger'][_0x12674e(0x13a)]();}}};function a177_0xeb4f(_0x1c56a7,_0x84b145){const _0x113588=a177_0x25af();return a177_0xeb4f=function(_0x26997e,_0x53e941){_0x26997e=_0x26997e-0xfb;let _0x25af67=_0x113588[_0x26997e];return _0x25af67;},a177_0xeb4f(_0x1c56a7,_0x84b145);}GitSyncJob=GitSyncJob_1=__decorate([typedi_1[a177_0x5ba86e(0x131)](),__metadata('design:paramtypes',[salesforce_sync_service_1[a177_0x5ba86e(0x111)],salesforce_service_1['SalesforceService']])],GitSyncJob),exports['GitSyncJob']=GitSyncJob;