const a139_0x1521=['^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','create','branchName','GitProviderManager','apply','repository','gitUrl','constructor','__metadata','[INFO]\x20Branch\x20synchronized.\x20Skip','SalesforceSyncService','stringify','[SYNC]\x20[Repository:\x20','sha','salesforceService','repoService','objectId','gitManager','createRepositoryIfNotExists','50655PnftOV','setLoggerId','[INFO]\x20Start\x20sync\x20job','getAttachmentIdByParent','Completed','createBranchIfNotExists','object','../../salesforce/services/salesforce-sync.service','metadata','SyncJob','../../shared/git-provider.manager','parse','checkSyncStatus','getComponentIds','38381trPmBs','getCommitDto','remoteStateAttachmentId','repositoryName','flosumSync','sfLogger','__decorate','updateLastCommit','setStatus','syncData','89290JCCTzH','CommitComponentsDto','defineProperty',']\x20[Branch:\x20','branches','function','test','decorate','remoteState','../../../constants','length','[INFO]\x20Update\x20remote\x20state.','./commit-components.job','getRepoService','retrieveAttachment','getOwnPropertyDescriptor','../dto/commit-components.dto','getOne','Sync\x20repository','log','patchObject','run','convertToSFDX','DEFAULT_GIT_USER_NAME','1538784bGScEt','return\x20/\x22\x20+\x20this\x20+\x20\x22/','In\x20Progress','design:paramtypes','[INFO]\x20Sync\x20job\x20done.','../../shared/utils','then','branchId','Service','lastCommit','47063sTJwuB','branch','commitJob','repositoryId','getComponentsFromRepository','catch','DEFAULT_GIT_USER_EMAIL','user','332634UOGJLs','message','354671FOMAAT','6iKclht'];const a139_0x4e8239=a139_0x20a4;(function(_0x41fd6c,_0x7c9546){const _0xc46ce7=a139_0x20a4;while(!![]){try{const _0x43862b=-parseInt(_0xc46ce7(0xf9))+-parseInt(_0xc46ce7(0xd4))+-parseInt(_0xc46ce7(0xaa))+-parseInt(_0xc46ce7(0xeb))+-parseInt(_0xc46ce7(0xd6))+parseInt(_0xc46ce7(0xd7))*-parseInt(_0xc46ce7(0xcc))+parseInt(_0xc46ce7(0xc2));if(_0x43862b===_0x7c9546)break;else _0x41fd6c['push'](_0x41fd6c['shift']());}catch(_0x1e5d26){_0x41fd6c['push'](_0x41fd6c['shift']());}}}(a139_0x1521,0x5f677));const a139_0x179e4a=function(){let _0x3df3f0=!![];return function(_0x474b1c,_0x584ce6){const _0x1ebc86=_0x3df3f0?function(){const _0xa21103=a139_0x20a4;if(_0x584ce6){const _0x1bd7f0=_0x584ce6[_0xa21103(0xdc)](_0x474b1c,arguments);return _0x584ce6=null,_0x1bd7f0;}}:function(){};return _0x3df3f0=![],_0x1ebc86;};}(),a139_0xbc29ae=a139_0x179e4a(this,function(){const _0x18dfeb=function(){const _0x4aaa3f=a139_0x20a4,_0x2dbadd=_0x18dfeb['constructor'](_0x4aaa3f(0xc3))()[_0x4aaa3f(0xdf)](_0x4aaa3f(0xd8));return!_0x2dbadd[_0x4aaa3f(0xb0)](a139_0xbc29ae);};return _0x18dfeb();});a139_0xbc29ae();'use strict';var __decorate=this&&this[a139_0x4e8239(0xff)]||function(_0x29a865,_0x42e1ba,_0xdbc02,_0x2158b4){const _0x5f4c28=a139_0x4e8239;var _0x378022=arguments[_0x5f4c28(0xb4)],_0x5ce985=_0x378022<0x3?_0x42e1ba:_0x2158b4===null?_0x2158b4=Object[_0x5f4c28(0xb9)](_0x42e1ba,_0xdbc02):_0x2158b4,_0x1e8a15;if(typeof Reflect===_0x5f4c28(0xf1)&&typeof Reflect[_0x5f4c28(0xb1)]===_0x5f4c28(0xaf))_0x5ce985=Reflect['decorate'](_0x29a865,_0x42e1ba,_0xdbc02,_0x2158b4);else{for(var _0x44ac03=_0x29a865[_0x5f4c28(0xb4)]-0x1;_0x44ac03>=0x0;_0x44ac03--)if(_0x1e8a15=_0x29a865[_0x44ac03])_0x5ce985=(_0x378022<0x3?_0x1e8a15(_0x5ce985):_0x378022>0x3?_0x1e8a15(_0x42e1ba,_0xdbc02,_0x5ce985):_0x1e8a15(_0x42e1ba,_0xdbc02))||_0x5ce985;}return _0x378022>0x3&&_0x5ce985&&Object[_0x5f4c28(0xac)](_0x42e1ba,_0xdbc02,_0x5ce985),_0x5ce985;},__metadata=this&&this[a139_0x4e8239(0xe0)]||function(_0x155958,_0xe5cfc4){const _0x6970a=a139_0x4e8239;if(typeof Reflect===_0x6970a(0xf1)&&typeof Reflect[_0x6970a(0xf3)]==='function')return Reflect[_0x6970a(0xf3)](_0x155958,_0xe5cfc4);};Object[a139_0x4e8239(0xac)](exports,'__esModule',{'value':!![]}),exports[a139_0x4e8239(0xf4)]=void 0x0;const typedi_1=require('typedi'),constants_1=require(a139_0x4e8239(0xb3)),salesforce_sync_service_1=require(a139_0x4e8239(0xf2)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),git_provider_manager_1=require(a139_0x4e8239(0xf5)),utils_1=require(a139_0x4e8239(0xc7)),commit_components_dto_1=require(a139_0x4e8239(0xba)),commit_components_job_1=require(a139_0x4e8239(0xb6));function a139_0x20a4(_0x2cc453,_0x5b7826){return a139_0x20a4=function(_0xadf917,_0xbc29ae){_0xadf917=_0xadf917-0xaa;let _0x179e4a=a139_0x1521[_0xadf917];return _0x179e4a;},a139_0x20a4(_0x2cc453,_0x5b7826);}let SyncJob=class SyncJob{constructor(_0x211374,_0x92a882,_0x701cb7,_0x4b7c6d){const _0x38c0bf=a139_0x4e8239;this[_0x38c0bf(0xe9)]=_0x211374,this['flosumSync']=_0x92a882,this['salesforceService']=_0x701cb7,this[_0x38c0bf(0xce)]=_0x4b7c6d,this[_0x38c0bf(0xe7)]=this[_0x38c0bf(0xe9)][_0x38c0bf(0xb7)](),_0x4b7c6d['on'](_0x38c0bf(0xbd),_0x2f63ea=>this[_0x38c0bf(0xfe)](_0x2f63ea));}async[a139_0x4e8239(0xfe)](_0x1bedd7){const _0x480a1d=a139_0x4e8239;return this[_0x480a1d(0xe6)]['sendLog'](_0x480a1d(0xe4)+this[_0x480a1d(0x102)][_0x480a1d(0xfc)]+_0x480a1d(0xad)+this[_0x480a1d(0x102)]['branchName']+']\x20'+_0x1bedd7);}async[a139_0x4e8239(0xea)](){const _0x53d7cd=a139_0x4e8239;let _0x32488e=await this[_0x53d7cd(0xe7)][_0x53d7cd(0xbb)](this[_0x53d7cd(0x102)][_0x53d7cd(0xfc)])[_0x53d7cd(0xd1)](()=>null);!_0x32488e&&(_0x32488e=await this['repoService'][_0x53d7cd(0xd9)]({'name':this['syncData'][_0x53d7cd(0xfc)],'autoInit':!![],'defaultBranch':this['syncData'][_0x53d7cd(0xda)],'private':!![]})),this[_0x53d7cd(0xdd)]=_0x32488e;}async[a139_0x4e8239(0xf0)](){const _0x5cfb5b=a139_0x4e8239;let _0x40b922=await this[_0x5cfb5b(0xdd)]['branches']['getOne'](this[_0x5cfb5b(0x102)][_0x5cfb5b(0xda)])['catch'](()=>null);!_0x40b922&&(_0x40b922=await this['repository'][_0x5cfb5b(0xae)]['create']({'name':this['syncData']['branchName']})),this[_0x5cfb5b(0xcd)]=_0x40b922;}async[a139_0x4e8239(0xf8)](){const _0x3596b0=a139_0x4e8239;return this[_0x3596b0(0x102)][_0x3596b0(0xcf)]?this['flosumSync'][_0x3596b0(0xd0)](this[_0x3596b0(0x102)][_0x3596b0(0xcf)]):this[_0x3596b0(0xfd)]['getBranchComponents'](this[_0x3596b0(0x102)][_0x3596b0(0xc9)]);}async[a139_0x4e8239(0xfa)](_0x9164d7){const _0x12cd1e=a139_0x4e8239,_0x39d667=new commit_components_dto_1[(_0x12cd1e(0xab))]();return _0x39d667[_0x12cd1e(0xd5)]=_0x12cd1e(0xbc),_0x39d667[_0x12cd1e(0xd3)]={'name':constants_1[_0x12cd1e(0xc1)],'email':constants_1[_0x12cd1e(0xd2)]},_0x39d667['componentsIds']=await this[_0x12cd1e(0xf8)](),_0x39d667[_0x12cd1e(0xc0)]=_0x9164d7,_0x39d667['repo']=this[_0x12cd1e(0xdd)],_0x39d667[_0x12cd1e(0xcd)]=this['branch'],_0x39d667;}async['checkSyncStatus'](){const _0x144f77=a139_0x4e8239;this[_0x144f77(0xfb)]=await this[_0x144f77(0xfd)][_0x144f77(0xee)](this[_0x144f77(0x102)][_0x144f77(0xe8)]),this[_0x144f77(0xb2)]=await this[_0x144f77(0xe6)][_0x144f77(0xb8)](this[_0x144f77(0xfb)])[_0x144f77(0xc8)](_0x3a3acc=>typeof _0x3a3acc===_0x144f77(0xf1)?_0x3a3acc:JSON[_0x144f77(0xf6)](_0x3a3acc||'{}'))[_0x144f77(0xd1)](()=>({}));if(this[_0x144f77(0xb2)][this[_0x144f77(0xdd)]['gitUrl']]){if(this['remoteState'][this[_0x144f77(0xdd)][_0x144f77(0xde)]][_0x144f77(0xcb)]===this['branch'][_0x144f77(0xe5)])return!![];}return![];}async[a139_0x4e8239(0x100)](){const _0x329299=a139_0x4e8239;var _0x4351f3,_0xf7af54;const _0x4f56d6=await this[_0x329299(0xdd)][_0x329299(0xae)][_0x329299(0xbb)](this['branch']['name']);await this[_0x329299(0xfe)](_0x329299(0xb5)),(_0x4351f3=this[_0x329299(0xb2)])[_0xf7af54=this[_0x329299(0xdd)][_0x329299(0xde)]]||(_0x4351f3[_0xf7af54]={'lastCommit':''}),this[_0x329299(0xb2)][this[_0x329299(0xdd)]['gitUrl']]['lastCommit']=_0x4f56d6[_0x329299(0xe5)],await this[_0x329299(0xe6)][_0x329299(0xbe)]('Attachment',this[_0x329299(0xfb)],{'Body':utils_1['encodeBase64'](JSON[_0x329299(0xe3)](this[_0x329299(0xb2)]))});}async[a139_0x4e8239(0xbf)](_0x1858b1,_0x383230,_0x3bfb89){const _0x41b5e4=a139_0x4e8239;this[_0x41b5e4(0x102)]=_0x1858b1,this[_0x41b5e4(0xe6)][_0x41b5e4(0xec)](_0x383230),await this[_0x41b5e4(0xfd)][_0x41b5e4(0x101)](this['syncData'],_0x41b5e4(0xc4)),await this[_0x41b5e4(0xfe)](_0x41b5e4(0xed)),await this[_0x41b5e4(0xea)](),await this[_0x41b5e4(0xf0)]();const _0x29a417=await this[_0x41b5e4(0xf7)]();if(_0x29a417){await this[_0x41b5e4(0xfd)][_0x41b5e4(0x101)](this[_0x41b5e4(0x102)],'Completed'),await this[_0x41b5e4(0xfe)](_0x41b5e4(0xe1));return;}const _0x421e97=await this[_0x41b5e4(0xfa)](_0x3bfb89);await this[_0x41b5e4(0xce)]['run'](_0x421e97),await this[_0x41b5e4(0xfd)]['setStatus'](this[_0x41b5e4(0x102)],_0x41b5e4(0xef)),await this[_0x41b5e4(0x100)](),await this[_0x41b5e4(0xfe)](_0x41b5e4(0xc6));}};SyncJob=__decorate([typedi_1[a139_0x4e8239(0xca)]({'transient':!![]}),__metadata(a139_0x4e8239(0xc5),[git_provider_manager_1[a139_0x4e8239(0xdb)],salesforce_sync_service_1[a139_0x4e8239(0xe2)],salesforce_service_1['SalesforceService'],commit_components_job_1['CommitComponentsJob']])],SyncJob),exports[a139_0x4e8239(0xf4)]=SyncJob;