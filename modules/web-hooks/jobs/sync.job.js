const a139_0x4950=['getRepoService','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','message','__esModule','sfLogger','../dto/commit-components.dto','test','return\x20/\x22\x20+\x20this\x20+\x20\x22/','sendLog','./commit-components.job','57556Bmenpy','setLoggerId','63nZcEiE','1226065zausMz','decorate','defineProperty','getBranchComponents','getOne','function','repoService','1DwGpsA','443407kxFzEB','DEFAULT_GIT_USER_EMAIL','../../shared/git-provider.manager','[INFO]\x20Start\x20sync\x20job','getComponentIds','SalesforceService','branches','getComponentsFromRepository','branch','design:paramtypes','[SYNC]\x20[Repository:\x20','174052WBSarF','salesforceService','1jZqmOL','1032215quzJPZ','constructor','CommitComponentsJob','repo','branchId','GitProviderManager','__decorate','gitManager','branchName','prepareCommitDto','createBranchIfNotExists','length','Service','639743wtROXp','flosumSync','log','createRepositoryIfNotExists','syncData','typedi','../../salesforce/services/salesforce-sync.service','componentsIds','repositoryName','create','SyncJob','In\x20Progress','convertToSFDX','then','run','repositoryId','Sync\x20repository','object','__metadata','metadata','CommitComponentsDto','../../../constants','commitJob','apply','1Lxllfa','1453NpCngZ','catch','Completed','setStatus','DEFAULT_GIT_USER_NAME'];const a139_0x149c56=a139_0x43a9;function a139_0x43a9(_0x765604,_0x3350c0){return a139_0x43a9=function(_0x438bb1,_0x2fc5d0){_0x438bb1=_0x438bb1-0x1c9;let _0x2597c0=a139_0x4950[_0x438bb1];return _0x2597c0;},a139_0x43a9(_0x765604,_0x3350c0);}(function(_0x50cfe2,_0x33d0bf){const _0x6ade7d=a139_0x43a9;while(!![]){try{const _0x569ffe=parseInt(_0x6ade7d(0x1de))*-parseInt(_0x6ade7d(0x1cd))+parseInt(_0x6ade7d(0x1f4))*parseInt(_0x6ade7d(0x1f5))+parseInt(_0x6ade7d(0x1cc))*parseInt(_0x6ade7d(0x1e7))+parseInt(_0x6ade7d(0x1dc))+-parseInt(_0x6ade7d(0x1f2))*parseInt(_0x6ade7d(0x1e6))+parseInt(_0x6ade7d(0x202))+-parseInt(_0x6ade7d(0x1df));if(_0x569ffe===_0x33d0bf)break;else _0x50cfe2['push'](_0x50cfe2['shift']());}catch(_0x24ceca){_0x50cfe2['push'](_0x50cfe2['shift']());}}}(a139_0x4950,0xa6531));const a139_0x2597c0=function(){let _0x480b15=!![];return function(_0x2994b1,_0x5bee0a){const _0x4a910c=_0x480b15?function(){const _0xaa7a52=a139_0x43a9;if(_0x5bee0a){const _0x525396=_0x5bee0a[_0xaa7a52(0x1cb)](_0x2994b1,arguments);return _0x5bee0a=null,_0x525396;}}:function(){};return _0x480b15=![],_0x4a910c;};}(),a139_0x2fc5d0=a139_0x2597c0(this,function(){const _0x112d32=function(){const _0x46812c=a139_0x43a9,_0x31dadb=_0x112d32[_0x46812c(0x1f6)](_0x46812c(0x1d9))()[_0x46812c(0x1f6)](_0x46812c(0x1d3));return!_0x31dadb[_0x46812c(0x1d8)](a139_0x2fc5d0);};return _0x112d32();});a139_0x2fc5d0();'use strict';var __decorate=this&&this[a139_0x149c56(0x1fb)]||function(_0x1660d0,_0x2a1337,_0x40c0d6,_0x52bc24){const _0x2171f3=a139_0x149c56;var _0x5b9886=arguments[_0x2171f3(0x200)],_0x5c6d00=_0x5b9886<0x3?_0x2a1337:_0x52bc24===null?_0x52bc24=Object['getOwnPropertyDescriptor'](_0x2a1337,_0x40c0d6):_0x52bc24,_0x1e7a6c;if(typeof Reflect===_0x2171f3(0x213)&&typeof Reflect[_0x2171f3(0x1e0)]===_0x2171f3(0x1e4))_0x5c6d00=Reflect[_0x2171f3(0x1e0)](_0x1660d0,_0x2a1337,_0x40c0d6,_0x52bc24);else{for(var _0x42ca38=_0x1660d0['length']-0x1;_0x42ca38>=0x0;_0x42ca38--)if(_0x1e7a6c=_0x1660d0[_0x42ca38])_0x5c6d00=(_0x5b9886<0x3?_0x1e7a6c(_0x5c6d00):_0x5b9886>0x3?_0x1e7a6c(_0x2a1337,_0x40c0d6,_0x5c6d00):_0x1e7a6c(_0x2a1337,_0x40c0d6))||_0x5c6d00;}return _0x5b9886>0x3&&_0x5c6d00&&Object[_0x2171f3(0x1e1)](_0x2a1337,_0x40c0d6,_0x5c6d00),_0x5c6d00;},__metadata=this&&this[a139_0x149c56(0x214)]||function(_0x14f6dc,_0x45c6ee){const _0xa2053a=a139_0x149c56;if(typeof Reflect==='object'&&typeof Reflect[_0xa2053a(0x215)]===_0xa2053a(0x1e4))return Reflect[_0xa2053a(0x215)](_0x14f6dc,_0x45c6ee);};Object[a139_0x149c56(0x1e1)](exports,a139_0x149c56(0x1d5),{'value':!![]}),exports[a139_0x149c56(0x20c)]=void 0x0;const typedi_1=require(a139_0x149c56(0x207)),constants_1=require(a139_0x149c56(0x1c9)),salesforce_sync_service_1=require(a139_0x149c56(0x208)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),git_provider_manager_1=require(a139_0x149c56(0x1e9)),commit_components_dto_1=require(a139_0x149c56(0x1d7)),commit_components_job_1=require(a139_0x149c56(0x1db));let SyncJob=class SyncJob{constructor(_0x358217,_0x3ab765,_0xca9634,_0x37e6b6){const _0x586bca=a139_0x149c56;this['gitManager']=_0x358217,this[_0x586bca(0x203)]=_0x3ab765,this[_0x586bca(0x1f3)]=_0xca9634,this[_0x586bca(0x1ca)]=_0x37e6b6,this[_0x586bca(0x1e5)]=this[_0x586bca(0x1fc)][_0x586bca(0x1d2)](),_0x37e6b6['on'](_0x586bca(0x204),_0x4513c6=>this[_0x586bca(0x1d6)](_0x4513c6));}async[a139_0x149c56(0x1d6)](_0x43eb2a){const _0x267297=a139_0x149c56;return this[_0x267297(0x1f3)][_0x267297(0x1da)](_0x267297(0x1f1)+this[_0x267297(0x206)][_0x267297(0x20a)]+']\x20[Branch:\x20'+this[_0x267297(0x206)][_0x267297(0x1fd)]+']\x20'+_0x43eb2a);}async['createRepositoryIfNotExists'](){const _0x1a3782=a139_0x149c56,_0x254d3c=await this[_0x1a3782(0x1e5)][_0x1a3782(0x1e3)](this['syncData']['repositoryName'])[_0x1a3782(0x20f)](()=>!![])[_0x1a3782(0x1ce)](()=>![]);!_0x254d3c&&await this['repoService'][_0x1a3782(0x20b)]({'name':this['syncData'][_0x1a3782(0x20a)],'autoInit':!![],'defaultBranch':this[_0x1a3782(0x206)][_0x1a3782(0x1fd)]});}async['createBranchIfNotExists'](){const _0x14524d=a139_0x149c56,_0x74916a=await this[_0x14524d(0x1e5)][_0x14524d(0x1e3)](this[_0x14524d(0x206)][_0x14524d(0x20a)]),_0x29e9a1=await _0x74916a[_0x14524d(0x1ed)][_0x14524d(0x1e3)](this[_0x14524d(0x206)][_0x14524d(0x1fd)])[_0x14524d(0x20f)](()=>!![])[_0x14524d(0x1ce)](()=>![]);!_0x29e9a1&&await _0x74916a[_0x14524d(0x1ed)][_0x14524d(0x20b)]({'name':this['syncData'][_0x14524d(0x1fd)]});}async['getComponentIds'](){const _0x4206f8=a139_0x149c56;return this[_0x4206f8(0x206)]['repositoryId']?this[_0x4206f8(0x203)][_0x4206f8(0x1ee)](this[_0x4206f8(0x206)][_0x4206f8(0x211)]):this['flosumSync'][_0x4206f8(0x1e2)](this['syncData'][_0x4206f8(0x1f9)]);}async['prepareCommitDto'](){const _0x54088c=a139_0x149c56,_0x41a58a=await this[_0x54088c(0x1e5)]['getOne'](this['syncData']['repositoryName']),_0x467347=new commit_components_dto_1[(_0x54088c(0x216))]();return _0x467347[_0x54088c(0x1f8)]=_0x41a58a,_0x467347[_0x54088c(0x1ef)]=this[_0x54088c(0x206)][_0x54088c(0x1fd)],_0x467347[_0x54088c(0x1d4)]=_0x54088c(0x212),_0x467347['user']={'name':constants_1[_0x54088c(0x1d1)],'email':constants_1[_0x54088c(0x1e8)]},_0x467347[_0x54088c(0x209)]=await this[_0x54088c(0x1eb)](),_0x467347;}async['run'](_0x235e2d,_0x31d695,_0x3ea30a){const _0x5746df=a139_0x149c56;this['syncData']=_0x235e2d,this[_0x5746df(0x1f3)][_0x5746df(0x1dd)](_0x31d695),await this[_0x5746df(0x203)][_0x5746df(0x1d0)](this[_0x5746df(0x206)],_0x5746df(0x20d)),await this['sfLogger'](_0x5746df(0x1ea)),await this[_0x5746df(0x205)](),await this[_0x5746df(0x1ff)]();const _0x532969=await this[_0x5746df(0x1fe)]();_0x532969[_0x5746df(0x20e)]=_0x3ea30a,await this['commitJob'][_0x5746df(0x210)](_0x532969),await this[_0x5746df(0x203)][_0x5746df(0x1d0)](this[_0x5746df(0x206)],_0x5746df(0x1cf)),await this[_0x5746df(0x1d6)]('[INFO]\x20Sync\x20job\x20done.');}};SyncJob=__decorate([typedi_1[a139_0x149c56(0x201)]({'transient':!![]}),__metadata(a139_0x149c56(0x1f0),[git_provider_manager_1[a139_0x149c56(0x1fa)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a139_0x149c56(0x1ec)],commit_components_job_1[a139_0x149c56(0x1f7)]])],SyncJob),exports['SyncJob']=SyncJob;