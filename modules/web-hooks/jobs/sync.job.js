const a139_0x1833=['^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','__decorate','__esModule','branchName','typedi','706455QhMzAy','componentsIds','[SYNC]\x20[Repository:\x20','setStatus','defineProperty','../../shared/git-provider.manager','724655tLknVI','test','875617QfgAIc','repo','Completed','./commit-components.job','[INFO]\x20Start\x20sync\x20job','log','metadata','251694ElkfTg','apply','setLoggerId','syncData','branch','flosumSync','message','getComponentIds','salesforceService','Sync\x20repository','Service','../../../constants','run','return\x20/\x22\x20+\x20this\x20+\x20\x22/','catch','../../salesforce/services/salesforce-sync.service','length','1OyBMbE','repositoryId','repoService','object','createRepositoryIfNotExists','branches','sfLogger','1ikZMds','gitManager','decorate','constructor','sendLog','198444Zitzdh','769809pylSXK','643143MhQcNC','getComponentsFromRepository','repositoryName','createBranchIfNotExists','In\x20Progress','prepareCommitDto','commitJob','function','SyncJob','SalesforceService','getRepoService','design:paramtypes','DEFAULT_GIT_USER_NAME','getOne','getBranchComponents','getOwnPropertyDescriptor','create','then'];const a139_0x25461c=a139_0x506d;(function(_0x371ced,_0x3f1c92){const _0x1fa69d=a139_0x506d;while(!![]){try{const _0x48089f=-parseInt(_0x1fa69d(0x1aa))*-parseInt(_0x1fa69d(0x190))+parseInt(_0x1fa69d(0x1b7))+parseInt(_0x1fa69d(0x18a))*-parseInt(_0x1fa69d(0x1b1))+-parseInt(_0x1fa69d(0x199))+-parseInt(_0x1fa69d(0x192))+parseInt(_0x1fa69d(0x1b8))+parseInt(_0x1fa69d(0x1b6));if(_0x48089f===_0x3f1c92)break;else _0x371ced['push'](_0x371ced['shift']());}catch(_0x4e12aa){_0x371ced['push'](_0x371ced['shift']());}}}(a139_0x1833,0x7aa0d));const a139_0x36247f=function(){let _0x4d049f=!![];return function(_0x505061,_0x1ae071){const _0x2eb038=_0x4d049f?function(){const _0x260da9=a139_0x506d;if(_0x1ae071){const _0x4a278a=_0x1ae071[_0x260da9(0x19a)](_0x505061,arguments);return _0x1ae071=null,_0x4a278a;}}:function(){};return _0x4d049f=![],_0x2eb038;};}(),a139_0x130aed=a139_0x36247f(this,function(){const _0x55f5af=function(){const _0x4736c5=a139_0x506d,_0x1cc483=_0x55f5af[_0x4736c5(0x1b4)](_0x4736c5(0x1a6))()[_0x4736c5(0x1b4)](_0x4736c5(0x185));return!_0x1cc483[_0x4736c5(0x191)](a139_0x130aed);};return _0x55f5af();});a139_0x130aed();function a139_0x506d(_0x32cdaa,_0xee1d62){return a139_0x506d=function(_0x325d51,_0x130aed){_0x325d51=_0x325d51-0x178;let _0x36247f=a139_0x1833[_0x325d51];return _0x36247f;},a139_0x506d(_0x32cdaa,_0xee1d62);}'use strict';var __decorate=this&&this[a139_0x25461c(0x186)]||function(_0x5a9c23,_0x38e70f,_0x5b2a2e,_0x1e0e03){const _0x36ad8b=a139_0x25461c;var _0x4b5e7b=arguments[_0x36ad8b(0x1a9)],_0xc2a32=_0x4b5e7b<0x3?_0x38e70f:_0x1e0e03===null?_0x1e0e03=Object[_0x36ad8b(0x182)](_0x38e70f,_0x5b2a2e):_0x1e0e03,_0x2bac05;if(typeof Reflect===_0x36ad8b(0x1ad)&&typeof Reflect[_0x36ad8b(0x1b3)]===_0x36ad8b(0x17a))_0xc2a32=Reflect['decorate'](_0x5a9c23,_0x38e70f,_0x5b2a2e,_0x1e0e03);else{for(var _0x5c6c57=_0x5a9c23[_0x36ad8b(0x1a9)]-0x1;_0x5c6c57>=0x0;_0x5c6c57--)if(_0x2bac05=_0x5a9c23[_0x5c6c57])_0xc2a32=(_0x4b5e7b<0x3?_0x2bac05(_0xc2a32):_0x4b5e7b>0x3?_0x2bac05(_0x38e70f,_0x5b2a2e,_0xc2a32):_0x2bac05(_0x38e70f,_0x5b2a2e))||_0xc2a32;}return _0x4b5e7b>0x3&&_0xc2a32&&Object[_0x36ad8b(0x18e)](_0x38e70f,_0x5b2a2e,_0xc2a32),_0xc2a32;},__metadata=this&&this['__metadata']||function(_0x264dfb,_0x41b95f){const _0x5979b2=a139_0x25461c;if(typeof Reflect==='object'&&typeof Reflect[_0x5979b2(0x198)]==='function')return Reflect[_0x5979b2(0x198)](_0x264dfb,_0x41b95f);};Object[a139_0x25461c(0x18e)](exports,a139_0x25461c(0x187),{'value':!![]}),exports[a139_0x25461c(0x17b)]=void 0x0;const typedi_1=require(a139_0x25461c(0x189)),constants_1=require(a139_0x25461c(0x1a4)),salesforce_sync_service_1=require(a139_0x25461c(0x1a8)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),git_provider_manager_1=require(a139_0x25461c(0x18f)),commit_components_dto_1=require('../dto/commit-components.dto'),commit_components_job_1=require(a139_0x25461c(0x195));let SyncJob=class SyncJob{constructor(_0x33e02e,_0x35b8fd,_0x54eb9e,_0x56cc9c){const _0x12e072=a139_0x25461c;this[_0x12e072(0x1b2)]=_0x33e02e,this['flosumSync']=_0x35b8fd,this[_0x12e072(0x1a1)]=_0x54eb9e,this[_0x12e072(0x179)]=_0x56cc9c,this['repoService']=this[_0x12e072(0x1b2)][_0x12e072(0x17d)](),_0x56cc9c['on'](_0x12e072(0x197),_0x2677bb=>this[_0x12e072(0x1b0)](_0x2677bb));}async[a139_0x25461c(0x1b0)](_0x2181dc){const _0x5b118c=a139_0x25461c;return this[_0x5b118c(0x1a1)][_0x5b118c(0x1b5)](_0x5b118c(0x18c)+this[_0x5b118c(0x19c)]['repositoryName']+']\x20[Branch:\x20'+this['syncData'][_0x5b118c(0x188)]+']\x20'+_0x2181dc);}async[a139_0x25461c(0x1ae)](){const _0x2f5dd3=a139_0x25461c,_0x16539e=await this['repoService'][_0x2f5dd3(0x180)](this['syncData'][_0x2f5dd3(0x1ba)])[_0x2f5dd3(0x184)](()=>!![])[_0x2f5dd3(0x1a7)](()=>![]);!_0x16539e&&await this['repoService'][_0x2f5dd3(0x183)]({'name':this[_0x2f5dd3(0x19c)]['repositoryName'],'autoInit':!![],'defaultBranch':this[_0x2f5dd3(0x19c)][_0x2f5dd3(0x188)]});}async[a139_0x25461c(0x1bb)](){const _0x36af7b=a139_0x25461c,_0x13b006=await this[_0x36af7b(0x1ac)][_0x36af7b(0x180)](this[_0x36af7b(0x19c)][_0x36af7b(0x1ba)]),_0x59abc5=await _0x13b006[_0x36af7b(0x1af)][_0x36af7b(0x180)](this[_0x36af7b(0x19c)]['branchName'])[_0x36af7b(0x184)](()=>!![])['catch'](()=>![]);!_0x59abc5&&await _0x13b006[_0x36af7b(0x1af)][_0x36af7b(0x183)]({'name':this[_0x36af7b(0x19c)][_0x36af7b(0x188)]});}async['getComponentIds'](){const _0x14d69e=a139_0x25461c;return this[_0x14d69e(0x19c)]['repositoryId']?this[_0x14d69e(0x19e)][_0x14d69e(0x1b9)](this[_0x14d69e(0x19c)][_0x14d69e(0x1ab)]):this[_0x14d69e(0x19e)][_0x14d69e(0x181)](this[_0x14d69e(0x19c)]['branchId']);}async[a139_0x25461c(0x178)](){const _0x2ec78f=a139_0x25461c,_0x4c4917=await this[_0x2ec78f(0x1ac)][_0x2ec78f(0x180)](this[_0x2ec78f(0x19c)]['repositoryName']),_0x557fab=new commit_components_dto_1['CommitComponentsDto']();return _0x557fab[_0x2ec78f(0x193)]=_0x4c4917,_0x557fab[_0x2ec78f(0x19d)]=this[_0x2ec78f(0x19c)][_0x2ec78f(0x188)],_0x557fab[_0x2ec78f(0x19f)]=_0x2ec78f(0x1a2),_0x557fab['user']={'name':constants_1[_0x2ec78f(0x17f)],'email':constants_1['DEFAULT_GIT_USER_EMAIL']},_0x557fab[_0x2ec78f(0x18b)]=await this[_0x2ec78f(0x1a0)](),_0x557fab;}async[a139_0x25461c(0x1a5)](_0x125f8a,_0x4a1ce7,_0x149d56){const _0x34e3c8=a139_0x25461c;this[_0x34e3c8(0x19c)]=_0x125f8a,this[_0x34e3c8(0x1a1)][_0x34e3c8(0x19b)](_0x4a1ce7),await this['flosumSync'][_0x34e3c8(0x18d)](this[_0x34e3c8(0x19c)],_0x34e3c8(0x1bc)),await this['sfLogger'](_0x34e3c8(0x196)),await this[_0x34e3c8(0x1ae)](),await this[_0x34e3c8(0x1bb)]();const _0x4a0bef=await this['prepareCommitDto']();_0x4a0bef['convertToSFDX']=_0x149d56,await this[_0x34e3c8(0x179)][_0x34e3c8(0x1a5)](_0x4a0bef),await this[_0x34e3c8(0x19e)][_0x34e3c8(0x18d)](this[_0x34e3c8(0x19c)],_0x34e3c8(0x194)),await this[_0x34e3c8(0x1b0)]('[INFO]\x20Sync\x20job\x20done.');}};SyncJob=__decorate([typedi_1[a139_0x25461c(0x1a3)]({'transient':!![]}),__metadata(a139_0x25461c(0x17e),[git_provider_manager_1['GitProviderManager'],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a139_0x25461c(0x17c)],commit_components_job_1['CommitComponentsJob']])],SyncJob),exports['SyncJob']=SyncJob;