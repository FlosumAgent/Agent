function a149_0x5573(_0x215788,_0x497885){const _0x1f49be=a149_0x3209();return a149_0x5573=function(_0x41bb50,_0x3def05){_0x41bb50=_0x41bb50-0x176;let _0x32092a=_0x1f49be[_0x41bb50];return _0x32092a;},a149_0x5573(_0x215788,_0x497885);}const a149_0x43b917=a149_0x5573;(function(_0x1ceb16,_0x156c44){const _0x3e7db8=a149_0x5573,_0x30f3c2=_0x1ceb16();while(!![]){try{const _0x5aab70=-parseInt(_0x3e7db8(0x17a))/0x1+parseInt(_0x3e7db8(0x1af))/0x2+parseInt(_0x3e7db8(0x1d3))/0x3*(-parseInt(_0x3e7db8(0x1b5))/0x4)+parseInt(_0x3e7db8(0x199))/0x5+parseInt(_0x3e7db8(0x1a4))/0x6*(-parseInt(_0x3e7db8(0x1b8))/0x7)+-parseInt(_0x3e7db8(0x1d2))/0x8+parseInt(_0x3e7db8(0x196))/0x9;if(_0x5aab70===_0x156c44)break;else _0x30f3c2['push'](_0x30f3c2['shift']());}catch(_0x367905){_0x30f3c2['push'](_0x30f3c2['shift']());}}}(a149_0x3209,0x6d170));const a149_0x3def05=function(){let _0xd36d57=!![];return function(_0x574272,_0x1f8780){const _0x1b35e9=_0xd36d57?function(){const _0xad61a5=a149_0x5573;if(_0x1f8780){const _0x3c1265=_0x1f8780[_0xad61a5(0x19c)](_0x574272,arguments);return _0x1f8780=null,_0x3c1265;}}:function(){};return _0xd36d57=![],_0x1b35e9;};}(),a149_0x41bb50=a149_0x3def05(this,function(){const _0x565923=a149_0x5573;return a149_0x41bb50[_0x565923(0x198)]()[_0x565923(0x197)](_0x565923(0x1ba))['toString']()[_0x565923(0x194)](a149_0x41bb50)[_0x565923(0x197)](_0x565923(0x1ba));});a149_0x41bb50();'use strict';var __decorate=this&&this[a149_0x43b917(0x184)]||function(_0x409f9a,_0xa7b169,_0x384a95,_0x2b84b5){const _0x48903c=a149_0x43b917;var _0x433edc=arguments[_0x48903c(0x1c3)],_0x28816d=_0x433edc<0x3?_0xa7b169:_0x2b84b5===null?_0x2b84b5=Object[_0x48903c(0x1bd)](_0xa7b169,_0x384a95):_0x2b84b5,_0xd66741;if(typeof Reflect==='object'&&typeof Reflect[_0x48903c(0x18d)]===_0x48903c(0x1c2))_0x28816d=Reflect[_0x48903c(0x18d)](_0x409f9a,_0xa7b169,_0x384a95,_0x2b84b5);else{for(var _0x62c1b2=_0x409f9a['length']-0x1;_0x62c1b2>=0x0;_0x62c1b2--)if(_0xd66741=_0x409f9a[_0x62c1b2])_0x28816d=(_0x433edc<0x3?_0xd66741(_0x28816d):_0x433edc>0x3?_0xd66741(_0xa7b169,_0x384a95,_0x28816d):_0xd66741(_0xa7b169,_0x384a95))||_0x28816d;}return _0x433edc>0x3&&_0x28816d&&Object[_0x48903c(0x180)](_0xa7b169,_0x384a95,_0x28816d),_0x28816d;},__metadata=this&&this['__metadata']||function(_0x3625d7,_0x40573b){const _0x11c23b=a149_0x43b917;if(typeof Reflect===_0x11c23b(0x195)&&typeof Reflect[_0x11c23b(0x1b7)]===_0x11c23b(0x1c2))return Reflect[_0x11c23b(0x1b7)](_0x3625d7,_0x40573b);};Object[a149_0x43b917(0x180)](exports,a149_0x43b917(0x19e),{'value':!![]}),exports['SyncJob']=void 0x0;const typedi_1=require('typedi'),constants_1=require(a149_0x43b917(0x1a6)),salesforce_retriever_service_1=require(a149_0x43b917(0x1b4)),salesforce_sync_service_1=require(a149_0x43b917(0x1cf)),salesforce_service_1=require(a149_0x43b917(0x1ab)),git_provider_manager_1=require(a149_0x43b917(0x1b3)),commit_components_dto_1=require(a149_0x43b917(0x1ae)),commit_components_job_1=require(a149_0x43b917(0x18f));let SyncJob=class SyncJob{constructor(_0x2a4ae3,_0x576e4c,_0x3b0ba6,_0x4aa11c){const _0x11ed87=a149_0x43b917;this['gitManager']=_0x2a4ae3,this['salesforceSync']=_0x576e4c,this[_0x11ed87(0x1a1)]=_0x3b0ba6,this['commitJob']=_0x4aa11c,this[_0x11ed87(0x18e)]=this[_0x11ed87(0x1c4)][_0x11ed87(0x178)]();}async['log'](_0x21b4c8){const _0x5a9f58=a149_0x43b917;return this[_0x5a9f58(0x1d1)][_0x5a9f58(0x1bb)](_0x5a9f58(0x1ac)+this['gitManager']['provider'][_0x5a9f58(0x1c6)]()+']\x20[Repository:\x20'+this[_0x5a9f58(0x1ca)][_0x5a9f58(0x1ce)]+_0x5a9f58(0x179)+this[_0x5a9f58(0x1ca)][_0x5a9f58(0x187)]+']\x20'+_0x21b4c8);}async[a149_0x43b917(0x1bf)](){const _0x20f5ff=a149_0x43b917;!this[_0x20f5ff(0x1cb)]&&(this[_0x20f5ff(0x1cb)]=await this[_0x20f5ff(0x18e)]['create']({'name':this[_0x20f5ff(0x1ca)][_0x20f5ff(0x1ce)],'autoInit':!![],'defaultBranch':this['syncData']['branchName'],'private':!![]}));}async['createBranchIfNotExists'](){const _0x30c6d4=a149_0x43b917;let _0x35aaaa=await this[_0x30c6d4(0x1cb)][_0x30c6d4(0x189)][_0x30c6d4(0x1ad)](this[_0x30c6d4(0x1ca)][_0x30c6d4(0x187)])[_0x30c6d4(0x19f)](()=>null);!_0x35aaaa&&(_0x35aaaa=await this[_0x30c6d4(0x1cb)]['branches']['create']({'name':this[_0x30c6d4(0x1ca)][_0x30c6d4(0x187)]})),this[_0x30c6d4(0x17f)]=_0x35aaaa;}async['getComponentIds'](){const _0x596fa9=a149_0x43b917;return this[_0x596fa9(0x1ca)][_0x596fa9(0x1a8)]?this['salesforceSync'][_0x596fa9(0x17b)](this[_0x596fa9(0x1ca)][_0x596fa9(0x1a8)]):this[_0x596fa9(0x193)][_0x596fa9(0x1b2)](this[_0x596fa9(0x1ca)][_0x596fa9(0x1bc)]);}async[a149_0x43b917(0x186)](){const _0x100577=a149_0x43b917,_0x40d474=await this[_0x100577(0x17d)](),_0x1c5d7f=new salesforce_retriever_service_1[(_0x100577(0x190))](this[_0x100577(0x1a1)]),_0x2a78f0=await _0x1c5d7f[_0x100577(0x19a)](_0x40d474);return _0x2a78f0;}async['getCommitDto'](_0x328612){const _0x170c7d=a149_0x43b917,_0x42fb03=new commit_components_dto_1['CommitComponentsDto']();return _0x42fb03[_0x170c7d(0x1a2)]=_0x170c7d(0x1c7),_0x42fb03[_0x170c7d(0x1b6)]={'name':constants_1['DEFAULT_GIT_USER_NAME'],'email':constants_1['DEFAULT_GIT_USER_EMAIL']},_0x42fb03[_0x170c7d(0x1cc)]={'writed':await this[_0x170c7d(0x186)]()},_0x42fb03[_0x170c7d(0x182)]=_0x328612,_0x42fb03[_0x170c7d(0x1c1)]=this[_0x170c7d(0x1cb)],_0x42fb03[_0x170c7d(0x17f)]=this['branch'],_0x42fb03[_0x170c7d(0x192)]=!![],_0x42fb03;}async[a149_0x43b917(0x1b1)](){const _0x340c65=a149_0x43b917,_0x434310=await this[_0x340c65(0x193)][_0x340c65(0x1c8)](this[_0x340c65(0x1ca)]),_0xd092da=await this[_0x340c65(0x1a1)][_0x340c65(0x1aa)](_0x434310)[_0x340c65(0x19b)](_0x44d729=>typeof _0x44d729===_0x340c65(0x17e)?JSON[_0x340c65(0x1b9)](_0x44d729):_0x44d729)[_0x340c65(0x19f)](()=>({}));if(_0xd092da[this[_0x340c65(0x1cb)][_0x340c65(0x1cd)]]){if(_0xd092da[this[_0x340c65(0x1cb)][_0x340c65(0x1cd)]]['lastCommit']===this['branch']['sha'])return!![];}return![];}async['updateLastCommit'](){const _0xa31e36=a149_0x43b917,_0x3d3266=await this[_0xa31e36(0x1cb)]['branches'][_0xa31e36(0x1ad)](this[_0xa31e36(0x17f)][_0xa31e36(0x1a7)]);await this['log'](_0xa31e36(0x1a3));const _0x5ab542={[this[_0xa31e36(0x1cb)][_0xa31e36(0x1cd)]]:{'lastCommit':_0x3d3266[_0xa31e36(0x176)]}};await this[_0xa31e36(0x193)]['updateRemoteState'](this[_0xa31e36(0x1ca)],_0x5ab542);}async[a149_0x43b917(0x19a)]({syncRecord:_0x1a0c83,repository:_0xa0d094,loggerId:_0x3bed37,convertToSFDX:_0x1a850d}){const _0x34f52c=a149_0x43b917;this[_0x34f52c(0x1ca)]=_0x1a0c83,this[_0x34f52c(0x1cb)]=_0xa0d094,this[_0x34f52c(0x1a1)][_0x34f52c(0x1c0)](_0x3bed37),this[_0x34f52c(0x1d1)]=this[_0x34f52c(0x1a1)][_0x34f52c(0x18a)]();try{await this[_0x34f52c(0x193)][_0x34f52c(0x1c9)](this[_0x34f52c(0x1ca)],_0x34f52c(0x181)),await this[_0x34f52c(0x1bb)](_0x34f52c(0x1be)),await this[_0x34f52c(0x1bf)](),await this[_0x34f52c(0x1d0)]();const _0x2be228=await this[_0x34f52c(0x1b1)]();if(_0x2be228){await this[_0x34f52c(0x193)]['setStatus'](this['syncData'],_0x34f52c(0x1a0)),await this[_0x34f52c(0x1bb)](_0x34f52c(0x177));return;}const _0xd59301=await this[_0x34f52c(0x188)](_0x1a850d);this[_0x34f52c(0x191)][_0x34f52c(0x1d1)]=this[_0x34f52c(0x1d1)],await this[_0x34f52c(0x191)][_0x34f52c(0x19a)](_0xd59301),await this[_0x34f52c(0x193)]['setStatus'](this['syncData'],_0x34f52c(0x1a0)),await this[_0x34f52c(0x185)](),await this[_0x34f52c(0x1bb)](_0x34f52c(0x1a5));}catch(_0x2f1e70){throw _0x2f1e70;}finally{await this[_0x34f52c(0x1d1)][_0x34f52c(0x183)]();}}};SyncJob=__decorate([(0x0,typedi_1[a149_0x43b917(0x17c)])({'transient':!![]}),__metadata(a149_0x43b917(0x18c),[git_provider_manager_1[a149_0x43b917(0x18b)],salesforce_sync_service_1[a149_0x43b917(0x1c5)],salesforce_service_1[a149_0x43b917(0x1a9)],commit_components_job_1[a149_0x43b917(0x19d)]])],SyncJob),exports[a149_0x43b917(0x1b0)]=SyncJob;function a149_0x3209(){const _0x1688c9=['11363580mcQoMj','search','toString','1329045mxLpQu','run','then','apply','CommitComponentsJob','__esModule','catch','Completed','salesforceService','message','[INFO]\x20Update\x20remote\x20state.','4913796Ytfczc','[INFO]\x20Sync\x20job\x20done.','../../../constants','name','repositoryId','SalesforceService','retrieveAttachment','../../salesforce/services/salesforce.service','[SYNC]\x20[','getOne','../dto/commit-components.dto','1500056xsZZrC','SyncJob','checkSyncStatus','getBranchComponents','../../shared/git-provider.manager','../../salesforce/services/salesforce-retriever.service','188OMqGYE','user','metadata','7OqZuRl','parse','(((.+)+)+)+$','log','branchId','getOwnPropertyDescriptor','[INFO]\x20Start\x20sync\x20job','createRepositoryIfNotExists','setLoggerId','repo','function','length','gitManager','SalesforceSyncService','toUpperCase','Sync\x20repository','getRemoteStateAttachmentId','setStatus','syncData','repository','components','gitUrl','repositoryName','../../salesforce/services/salesforce-sync.service','createBranchIfNotExists','logger','1806424AzFWgO','20073GxFZRj','sha','[INFO]\x20Branch\x20synchronized.\x20Skip','getRepoService',']\x20[Branch:\x20','472379FGcOEG','getComponentsFromRepository','Service','getComponentIds','string','branch','defineProperty','In\x20Progress','convertToSFDX','send','__decorate','updateLastCommit','getComponents','branchName','getCommitDto','branches','getLogger','GitProviderManager','design:paramtypes','decorate','repoService','./commit-components.job','SalesforceRetrieverService','commitJob','force','salesforceSync','constructor','object'];a149_0x3209=function(){return _0x1688c9;};return a149_0x3209();}