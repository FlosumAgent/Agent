const a185_0xdf7b0d=a185_0x15ef;(function(_0x287e9d,_0x39663b){const _0x3872e6=a185_0x15ef,_0x2fb568=_0x287e9d();while(!![]){try{const _0x5e71c6=parseInt(_0x3872e6(0x1c0))/0x1+-parseInt(_0x3872e6(0x1f9))/0x2*(-parseInt(_0x3872e6(0x1c3))/0x3)+parseInt(_0x3872e6(0x201))/0x4+-parseInt(_0x3872e6(0x1cb))/0x5+-parseInt(_0x3872e6(0x1bb))/0x6*(parseInt(_0x3872e6(0x1d2))/0x7)+parseInt(_0x3872e6(0x1be))/0x8+parseInt(_0x3872e6(0x1c7))/0x9*(parseInt(_0x3872e6(0x1ed))/0xa);if(_0x5e71c6===_0x39663b)break;else _0x2fb568['push'](_0x2fb568['shift']());}catch(_0x5dff1a){_0x2fb568['push'](_0x2fb568['shift']());}}}(a185_0x3327,0x4c1c9));function a185_0x15ef(_0x3d4038,_0x1ad924){const _0x5ec7de=a185_0x3327();return a185_0x15ef=function(_0x236ef3,_0x59c1c8){_0x236ef3=_0x236ef3-0x1b8;let _0x33270d=_0x5ec7de[_0x236ef3];return _0x33270d;},a185_0x15ef(_0x3d4038,_0x1ad924);}const a185_0x59c1c8=function(){let _0x5c3834=!![];return function(_0x3a3b9a,_0x196537){const _0x278f2d=_0x5c3834?function(){const _0xef903c=a185_0x15ef;if(_0x196537){const _0x5e4a8b=_0x196537[_0xef903c(0x1c5)](_0x3a3b9a,arguments);return _0x196537=null,_0x5e4a8b;}}:function(){};return _0x5c3834=![],_0x278f2d;};}(),a185_0x236ef3=a185_0x59c1c8(this,function(){const _0x5a723d=a185_0x15ef;return a185_0x236ef3[_0x5a723d(0x209)]()['search'](_0x5a723d(0x216))[_0x5a723d(0x209)]()['constructor'](a185_0x236ef3)[_0x5a723d(0x1e6)]('(((.+)+)+)+$');});a185_0x236ef3();'use strict';var __decorate=this&&this[a185_0xdf7b0d(0x1c2)]||function(_0xbfc401,_0x473acf,_0x3156bd,_0x42e37d){const _0x213faa=a185_0xdf7b0d;var _0x9e5671=arguments[_0x213faa(0x20f)],_0x5d2fff=_0x9e5671<0x3?_0x473acf:_0x42e37d===null?_0x42e37d=Object[_0x213faa(0x200)](_0x473acf,_0x3156bd):_0x42e37d,_0x2bd5fc;if(typeof Reflect==='object'&&typeof Reflect[_0x213faa(0x206)]==='function')_0x5d2fff=Reflect['decorate'](_0xbfc401,_0x473acf,_0x3156bd,_0x42e37d);else{for(var _0x269e59=_0xbfc401[_0x213faa(0x20f)]-0x1;_0x269e59>=0x0;_0x269e59--)if(_0x2bd5fc=_0xbfc401[_0x269e59])_0x5d2fff=(_0x9e5671<0x3?_0x2bd5fc(_0x5d2fff):_0x9e5671>0x3?_0x2bd5fc(_0x473acf,_0x3156bd,_0x5d2fff):_0x2bd5fc(_0x473acf,_0x3156bd))||_0x5d2fff;}return _0x9e5671>0x3&&_0x5d2fff&&Object[_0x213faa(0x20d)](_0x473acf,_0x3156bd,_0x5d2fff),_0x5d2fff;},__metadata=this&&this[a185_0xdf7b0d(0x1ca)]||function(_0xb98b79,_0x58a108){if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0xb98b79,_0x58a108);},GitCommitService_1;function a185_0x3327(){const _0x10982d=['type','salesforceGitSync','map','(((.+)+)+)+$','getBranchId','../../../constants','then','patch','retrieveAttachment','fetchBranchComponentsByFilenames','fetchComponentsMetadata','13038ctPYbi','filter','repositoryGit','3019832CRvoUz','parse','319278laavwo','string','__decorate','2658RbdpDS','splice','apply','lastCommit','2241NHXnts','components\x20that\x20will\x20be\x20deleted\x20%s','components\x20that\x20will\x20be\x20updated\x20%s','__metadata','3028330DUsxbn','SalesforceRestService','updateRemoteState','FLOSUM_BRANCH','setCommitDto','salesforce','crc','1288DUylrr','fileName','../../parsers/mdapi/parser','prepareGitChangedPaths','join','push','force','SalesforceSyncService','Service','repository','fetchRepositoryComponentsByFilenames','isPathsEquals','fetchBranchComponents','files\x20will\x20be\x20proceeded:\x20%s','log','FLOSUM_REPOSITORY','find','../../salesforce/services/salesforce-sync.service','MDApiParser','getRepositoryId','search','checkSyncStatus','components\x20that\x20will\x20be\x20created\x20%s','files','../../salesforce/services/salesforce-rest.service','logger','name','7210oSnMMc','GitCommitService','design:paramtypes','proceedGitCommit','getRepositoryRecordByName','FLOSUM_GIT_NAMESPACE','SalesforceGitSyncService','filePath','recordTypes','repositoryId','master','salesforceRest','682rxOHVB','TASKS_PER_TICK','typedi','componentsMetadata','branch','fileNames','catch','getOwnPropertyDescriptor','555356RdUDau','getBranchRecordByName','gitCommit','syncRecord','salesforceSync','decorate','includes','Synchronization_Status__c','toString','Logger','../../../core','component','defineProperty','branchId','length','message','fetchRepositoryComponents','updateStatus'];a185_0x3327=function(){return _0x10982d;};return a185_0x3327();}Object[a185_0xdf7b0d(0x20d)](exports,'__esModule',{'value':!![]}),exports[a185_0xdf7b0d(0x1ee)]=void 0x0;const constants_1=require(a185_0xdf7b0d(0x218)),core_1=require(a185_0xdf7b0d(0x20b)),parser_1=require(a185_0xdf7b0d(0x1d4)),salesforce_git_sync_service_1=require('../../salesforce/services/salesforce-git-sync.service'),salesforce_rest_service_1=require(a185_0xdf7b0d(0x1ea)),typedi_1=require(a185_0xdf7b0d(0x1fb)),salesforce_sync_service_1=require(a185_0xdf7b0d(0x1e3)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),git_commit_utils_1=require('../utils/git-commit.utils');let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0x57987e,_0x206d52,_0x5f0e1e,_0x2308c0){const _0x348da5=a185_0xdf7b0d;this[_0x348da5(0x214)]=_0x57987e,this[_0x348da5(0x1f8)]=_0x206d52,this[_0x348da5(0x205)]=_0x5f0e1e,this[_0x348da5(0x1d0)]=_0x2308c0,this[_0x348da5(0x1fa)]=0xc8,this[_0x348da5(0x1eb)]=new core_1[(_0x348da5(0x20a))](GitCommitService_1[_0x348da5(0x1ec)]);}get['repositoryId'](){const _0x5f3cad=a185_0xdf7b0d;var _0x5397fa;return((_0x5397fa=this[_0x5f3cad(0x204)])===null||_0x5397fa===void 0x0?void 0x0:_0x5397fa[_0x5f3cad(0x1f6)])||'';}get['branchId'](){const _0x164051=a185_0xdf7b0d;var _0x2a9986;return((_0x2a9986=this[_0x164051(0x204)])===null||_0x2a9986===void 0x0?void 0x0:_0x2a9986[_0x164051(0x20e)])||'';}async[a185_0xdf7b0d(0x1e7)](_0x34413d){const _0x3982cb=a185_0xdf7b0d;if(this[_0x3982cb(0x204)]){const _0x387b35=await this[_0x3982cb(0x205)]['getRemoteStateAttachmentId'](this[_0x3982cb(0x204)]),_0x351671=await this[_0x3982cb(0x1d0)][_0x3982cb(0x1b8)](_0x387b35)[_0x3982cb(0x219)](_0x219b59=>typeof _0x219b59===_0x3982cb(0x1c1)?JSON['parse'](_0x219b59):_0x219b59)[_0x3982cb(0x1ff)](()=>({}));if(_0x351671[this[_0x3982cb(0x203)][_0x3982cb(0x1bd)]]){if(_0x351671[this[_0x3982cb(0x203)][_0x3982cb(0x1bd)]][_0x3982cb(0x1c6)]===_0x34413d)return!![];}return![];}return![];}async[a185_0xdf7b0d(0x1cd)](_0x55938a){const _0x270b94=a185_0xdf7b0d;this[_0x270b94(0x204)]&&await this[_0x270b94(0x205)][_0x270b94(0x1cd)](this[_0x270b94(0x204)],_0x55938a);}async[a185_0xdf7b0d(0x1f0)](_0x384869,_0x49dd79,_0x27b63a){const _0x7b0fc3=a185_0xdf7b0d;this[_0x7b0fc3(0x1eb)]['log']('proceeding\x20commit\x20%s',_0x384869['id']);const {added:_0x4034a5,modified:_0x49824d,removed:_0x2c483c}=_0x384869[_0x7b0fc3(0x1e9)],_0x49cd09=git_commit_utils_1[_0x7b0fc3(0x1d5)]([..._0x4034a5,..._0x49824d]),_0x23756f=[..._0x49cd09,..._0x27b63a?git_commit_utils_1['prepareGitChangedPaths'](_0x2c483c):_0x2c483c];this['logger']['log'](_0x7b0fc3(0x1df),_0x23756f[_0x7b0fc3(0x1d6)](',\x20'));const _0x565dcc=[],_0x51f2c6=[],_0x212981=this[_0x7b0fc3(0x1fc)][_0x7b0fc3(0x1bc)](_0x2cd89b=>!!_0x23756f[_0x7b0fc3(0x1e2)](_0x3568f1=>git_commit_utils_1[_0x7b0fc3(0x1dd)](_0x2cd89b[_0x7b0fc3(0x1d3)],_0x3568f1))),_0x4ea55c=[];while(_0x49cd09[_0x7b0fc3(0x20f)]){const _0x6bc0d5=_0x49cd09['splice'](0x0,this[_0x7b0fc3(0x1fa)]),_0x2ef339=new parser_1[(_0x7b0fc3(0x1e4))](_0x49dd79,_0x6bc0d5),_0x2b05bc=await _0x2ef339[_0x7b0fc3(0x1bf)](),_0x369acb=_0x2b05bc[_0x7b0fc3(0x215)](_0x1e5304=>{const _0x5794c6=_0x7b0fc3,_0x4d40a9=_0x212981[_0x5794c6(0x1e2)](_0x399d6c=>_0x399d6c[_0x5794c6(0x1ec)]===_0x1e5304['name']&&_0x399d6c[_0x5794c6(0x213)]===_0x1e5304['type']);if(!_0x4d40a9){const _0x45742b={'crc32':_0x1e5304[_0x5794c6(0x1d1)],'fileName':_0x1e5304[_0x5794c6(0x1f4)],'id':null,'version':0x1,'name':_0x1e5304[_0x5794c6(0x1ec)],'type':_0x1e5304[_0x5794c6(0x213)]};return this[_0x5794c6(0x1fc)][_0x5794c6(0x1d7)](_0x45742b),_0x212981['push'](_0x45742b),_0x4ea55c[_0x5794c6(0x1d7)](_0x45742b),_0x51f2c6[_0x5794c6(0x1d7)](_0x1e5304),null;}_0x4ea55c[_0x5794c6(0x1d7)](_0x4d40a9);if(_0x1e5304[_0x5794c6(0x1d1)]===_0x4d40a9['crc32'])return null;return{'component':_0x1e5304,'meta':_0x4d40a9};})[_0x7b0fc3(0x1bc)](_0x2b3877=>!!_0x2b3877);_0x565dcc[_0x7b0fc3(0x1d7)](..._0x369acb);}const _0x5d77ff=_0x212981[_0x7b0fc3(0x1bc)](_0x2f887d=>!_0x4ea55c[_0x7b0fc3(0x207)](_0x2f887d));return this[_0x7b0fc3(0x1fc)]=this['componentsMetadata'][_0x7b0fc3(0x1bc)](_0x207a36=>!_0x5d77ff['includes'](_0x207a36)),this['gitCommit'][_0x7b0fc3(0x1d8)]&&_0x5d77ff['push'](...this[_0x7b0fc3(0x1fc)]),this[_0x7b0fc3(0x1eb)][_0x7b0fc3(0x1e0)](_0x7b0fc3(0x1e8),_0x51f2c6[_0x7b0fc3(0x215)](_0x5f1825=>'\x27'+_0x5f1825[_0x7b0fc3(0x1ec)]+'\x27')[_0x7b0fc3(0x1d6)](',\x20')),this[_0x7b0fc3(0x1eb)][_0x7b0fc3(0x1e0)](_0x7b0fc3(0x1c9),_0x565dcc['map'](_0x167330=>'\x27'+_0x167330[_0x7b0fc3(0x20c)][_0x7b0fc3(0x1ec)]+'\x27')[_0x7b0fc3(0x1d6)](',\x20')),this[_0x7b0fc3(0x1eb)][_0x7b0fc3(0x1e0)](_0x7b0fc3(0x1c8),_0x5d77ff['map'](_0x8f7ffc=>'\x27'+_0x8f7ffc[_0x7b0fc3(0x1ec)]+'\x27')[_0x7b0fc3(0x1d6)](',\x20')),{'author':_0x384869['username'],'message':_0x384869[_0x7b0fc3(0x210)],'inserted':_0x51f2c6,'modified':_0x565dcc,'removed':_0x5d77ff[_0x7b0fc3(0x215)](_0x2c5123=>({'componentType':_0x2c5123[_0x7b0fc3(0x213)],'componentName':_0x2c5123[_0x7b0fc3(0x1ec)],'componentId':_0x2c5123['id']}))};}async['fetchRepositoryOrBranchData'](){const _0x2bd3c0=a185_0xdf7b0d;this[_0x2bd3c0(0x204)]=this[_0x2bd3c0(0x203)][_0x2bd3c0(0x1fd)]===_0x2bd3c0(0x1f7)?await this[_0x2bd3c0(0x205)][_0x2bd3c0(0x1f1)](this[_0x2bd3c0(0x203)][_0x2bd3c0(0x1db)]):await this[_0x2bd3c0(0x205)][_0x2bd3c0(0x202)](this['gitCommit']['branch']),this[_0x2bd3c0(0x1f5)]=await this[_0x2bd3c0(0x214)]['getComponentRecordTypes']();}async[a185_0xdf7b0d(0x1ba)](_0x2903bf){const _0x378158=a185_0xdf7b0d,_0x417f32=[...this[_0x378158(0x203)][_0x378158(0x1fe)]];if(this[_0x378158(0x203)][_0x378158(0x1d8)]||_0x2903bf){this['componentsMetadata']=this[_0x378158(0x20e)]?await this[_0x378158(0x214)][_0x378158(0x1de)](this['branchId']):await this[_0x378158(0x214)][_0x378158(0x211)](this[_0x378158(0x1f6)]);return;}this[_0x378158(0x1fc)]=[];while(_0x417f32['length']){const _0x527e26=_0x417f32[_0x378158(0x1c4)](0x0,this[_0x378158(0x1fa)]),_0x300c71=this[_0x378158(0x20e)]?await this[_0x378158(0x214)][_0x378158(0x1b9)](_0x527e26,this['branchId']):await this[_0x378158(0x214)][_0x378158(0x1dc)](_0x527e26,this['repositoryId']);this[_0x378158(0x1fc)][_0x378158(0x1d7)](..._0x300c71);}}async[a185_0xdf7b0d(0x212)](_0x21de20){const _0x325460=a185_0xdf7b0d;this[_0x325460(0x20e)]?await this[_0x325460(0x1f8)][_0x325460(0x21a)](constants_1[_0x325460(0x1ce)],this[_0x325460(0x20e)],{[constants_1[_0x325460(0x1f2)]+_0x325460(0x208)]:_0x21de20}):await this[_0x325460(0x1f8)][_0x325460(0x21a)](constants_1[_0x325460(0x1e1)],this[_0x325460(0x1f6)],{[constants_1[_0x325460(0x1f2)]+_0x325460(0x208)]:_0x21de20});}[a185_0xdf7b0d(0x1cf)](_0x333b36){const _0x1bcb19=a185_0xdf7b0d;this[_0x1bcb19(0x203)]=_0x333b36;}['getRecordTypes'](){const _0x339bd0=a185_0xdf7b0d;return this[_0x339bd0(0x1f5)];}[a185_0xdf7b0d(0x1e5)](){const _0x2e99e2=a185_0xdf7b0d;return this[_0x2e99e2(0x1f6)];}[a185_0xdf7b0d(0x217)](){const _0x3dcd26=a185_0xdf7b0d;return this[_0x3dcd26(0x20e)];}};GitCommitService=GitCommitService_1=__decorate([typedi_1[a185_0xdf7b0d(0x1da)]({'transient':!![]}),__metadata(a185_0xdf7b0d(0x1ef),[salesforce_git_sync_service_1[a185_0xdf7b0d(0x1f3)],salesforce_rest_service_1[a185_0xdf7b0d(0x1cc)],salesforce_sync_service_1[a185_0xdf7b0d(0x1d9)],salesforce_service_1['SalesforceService']])],GitCommitService),exports['GitCommitService']=GitCommitService;