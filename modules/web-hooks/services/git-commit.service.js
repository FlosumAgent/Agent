const a181_0x523b07=a181_0x362e;(function(_0x40c48f,_0x581b87){const _0x45ba8c=a181_0x362e,_0x66711d=_0x40c48f();while(!![]){try{const _0x3afcdb=parseInt(_0x45ba8c(0x86))/0x1*(parseInt(_0x45ba8c(0x78))/0x2)+-parseInt(_0x45ba8c(0x8e))/0x3*(-parseInt(_0x45ba8c(0x69))/0x4)+parseInt(_0x45ba8c(0x91))/0x5+-parseInt(_0x45ba8c(0xb2))/0x6+parseInt(_0x45ba8c(0xa3))/0x7+parseInt(_0x45ba8c(0xac))/0x8*(parseInt(_0x45ba8c(0xa6))/0x9)+parseInt(_0x45ba8c(0x93))/0xa*(-parseInt(_0x45ba8c(0xa0))/0xb);if(_0x3afcdb===_0x581b87)break;else _0x66711d['push'](_0x66711d['shift']());}catch(_0xaad8af){_0x66711d['push'](_0x66711d['shift']());}}}(a181_0x54c1,0x91944));const a181_0x1c840c=function(){let _0x3fc3d5=!![];return function(_0x510fe3,_0x320d97){const _0x4df43e=_0x3fc3d5?function(){const _0x2550a5=a181_0x362e;if(_0x320d97){const _0x9523d9=_0x320d97[_0x2550a5(0x64)](_0x510fe3,arguments);return _0x320d97=null,_0x9523d9;}}:function(){};return _0x3fc3d5=![],_0x4df43e;};}(),a181_0x1090c0=a181_0x1c840c(this,function(){const _0xe13b2e=a181_0x362e;return a181_0x1090c0['toString']()[_0xe13b2e(0xb4)](_0xe13b2e(0xa7))[_0xe13b2e(0x6e)]()[_0xe13b2e(0x88)](a181_0x1090c0)[_0xe13b2e(0xb4)](_0xe13b2e(0xa7));});a181_0x1090c0();'use strict';function a181_0x362e(_0x20b7e1,_0x382b38){const _0x468891=a181_0x54c1();return a181_0x362e=function(_0x1090c0,_0x1c840c){_0x1090c0=_0x1090c0-0x64;let _0x54c1f6=_0x468891[_0x1090c0];return _0x54c1f6;},a181_0x362e(_0x20b7e1,_0x382b38);}var __decorate=this&&this[a181_0x523b07(0x89)]||function(_0x858ddf,_0x1caa11,_0x1fb36b,_0x21ea02){const _0x40a805=a181_0x523b07;var _0x49fef3=arguments[_0x40a805(0x76)],_0x3fd532=_0x49fef3<0x3?_0x1caa11:_0x21ea02===null?_0x21ea02=Object[_0x40a805(0x82)](_0x1caa11,_0x1fb36b):_0x21ea02,_0x121620;if(typeof Reflect==='object'&&typeof Reflect[_0x40a805(0x87)]===_0x40a805(0xad))_0x3fd532=Reflect['decorate'](_0x858ddf,_0x1caa11,_0x1fb36b,_0x21ea02);else{for(var _0x2b9fcf=_0x858ddf[_0x40a805(0x76)]-0x1;_0x2b9fcf>=0x0;_0x2b9fcf--)if(_0x121620=_0x858ddf[_0x2b9fcf])_0x3fd532=(_0x49fef3<0x3?_0x121620(_0x3fd532):_0x49fef3>0x3?_0x121620(_0x1caa11,_0x1fb36b,_0x3fd532):_0x121620(_0x1caa11,_0x1fb36b))||_0x3fd532;}return _0x49fef3>0x3&&_0x3fd532&&Object[_0x40a805(0xb1)](_0x1caa11,_0x1fb36b,_0x3fd532),_0x3fd532;},__metadata=this&&this['__metadata']||function(_0x1e6c84,_0xe01791){const _0xde7c9f=a181_0x523b07;if(typeof Reflect==='object'&&typeof Reflect[_0xde7c9f(0x77)]===_0xde7c9f(0xad))return Reflect[_0xde7c9f(0x77)](_0x1e6c84,_0xe01791);},GitCommitService_1;function a181_0x54c1(){const _0x575cab=['12364vvdBOY','../../../core','crc','GitCommitService','Logger','toString','log','fetchComponentsMetadata','filter','branchId','name','Synchronization_Status__c','typedi','length','metadata','190FyrRlk','recordTypes','username','force','find','salesforceRest','SalesforceRestService','fetchRepositoryOrBranchData','join','TASKS_PER_TICK','getOwnPropertyDescriptor','../../salesforce/services/salesforce-git-sync.service','push','branch','2885vjRRwM','decorate','constructor','__decorate','components\x20that\x20will\x20be\x20updated\x20%s','../utils/git-commit.utils','FLOSUM_REPOSITORY','includes','408tBPwvC','FLOSUM_GIT_NAMESPACE','salesforceGitSync','5498385gkwYMO','getRecordTypes','20mIGNWF','splice','getBranchId','fetchBranchComponentsByFilenames','map','getRepositoryIdByName','../../../constants','type','getComponentRecordTypes','MDApiParser','fileNames','parse','components\x20that\x20will\x20be\x20deleted\x20%s','14122163DWOdTH','files','componentsMetadata','5843824CPiisL','logger','message','720Iqcibf','(((.+)+)+)+$','components\x20that\x20will\x20be\x20created\x20%s','SalesforceGitSyncService','fetchBranchComponents','proceedGitCommit','62576gToMkx','function','repositoryId','component','filePath','defineProperty','544572QLeHXD','repository','search','gitCommit','crc32','apply','fileName','fetchRepositoryComponentsByFilenames','patch','__esModule'];a181_0x54c1=function(){return _0x575cab;};return a181_0x54c1();}Object[a181_0x523b07(0xb1)](exports,a181_0x523b07(0x68),{'value':!![]}),exports[a181_0x523b07(0x6c)]=void 0x0;const constants_1=require(a181_0x523b07(0x99)),core_1=require(a181_0x523b07(0x6a)),parser_1=require('../../parsers/mdapi/parser'),salesforce_git_sync_service_1=require(a181_0x523b07(0x83)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a181_0x523b07(0x75)),git_commit_utils_1=require(a181_0x523b07(0x8b));let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0x5b91c7,_0x1d141b){const _0x3545bf=a181_0x523b07;this[_0x3545bf(0x90)]=_0x5b91c7,this[_0x3545bf(0x7d)]=_0x1d141b,this['TASKS_PER_TICK']=0xc8,this['logger']=new core_1[(_0x3545bf(0x6d))](GitCommitService_1[_0x3545bf(0x73)]);}async[a181_0x523b07(0xab)](_0x28c8cd,_0x134822){const _0x1da960=a181_0x523b07;this[_0x1da960(0xa4)][_0x1da960(0x6f)]('proceeding\x20commit\x20%s',_0x28c8cd['id']);const {added:_0x2000ba,modified:_0x1a85bf,removed:_0x11da1b}=_0x28c8cd[_0x1da960(0xa1)],_0x3064f8=git_commit_utils_1['prepareGitChangedPaths']([..._0x2000ba,..._0x1a85bf]),_0x3473dc=[..._0x3064f8,..._0x11da1b];this[_0x1da960(0xa4)][_0x1da960(0x6f)]('files\x20will\x20be\x20proceeded:\x20%s',_0x3473dc[_0x1da960(0x80)](',\x20'));const _0x55a736=[],_0x40257a=[],_0x40b1c7=this[_0x1da960(0xa2)]['filter'](_0xc4ec8b=>_0x3473dc['includes'](_0xc4ec8b[_0x1da960(0x65)])),_0x241024=[];while(_0x3064f8[_0x1da960(0x76)]){const _0x1dd9fe=_0x3064f8[_0x1da960(0x94)](0x0,this[_0x1da960(0x81)]),_0x14777f=new parser_1[(_0x1da960(0x9c))](_0x134822,_0x1dd9fe),_0x95d6fe=await _0x14777f[_0x1da960(0x9e)](),_0x57d473=_0x95d6fe[_0x1da960(0x97)](_0x2edeee=>{const _0x1fb68d=_0x1da960,_0x4cf596=_0x40b1c7[_0x1fb68d(0x7c)](_0x1b5248=>_0x1b5248[_0x1fb68d(0x73)]===_0x2edeee[_0x1fb68d(0x73)]&&_0x1b5248[_0x1fb68d(0x9a)]===_0x2edeee[_0x1fb68d(0x9a)]);if(!_0x4cf596){const _0x11f8e7={'crc32':_0x2edeee[_0x1fb68d(0x6b)],'fileName':_0x2edeee[_0x1fb68d(0xb0)],'id':null,'version':0x1,'name':_0x2edeee[_0x1fb68d(0x73)],'type':_0x2edeee['type']};return this[_0x1fb68d(0xa2)][_0x1fb68d(0x84)](_0x11f8e7),_0x40b1c7[_0x1fb68d(0x84)](_0x11f8e7),_0x241024[_0x1fb68d(0x84)](_0x11f8e7),_0x40257a[_0x1fb68d(0x84)](_0x2edeee),null;}_0x241024[_0x1fb68d(0x84)](_0x4cf596);if(_0x2edeee[_0x1fb68d(0x6b)]===_0x4cf596[_0x1fb68d(0xb6)])return null;return{'component':_0x2edeee,'meta':_0x4cf596};})['filter'](_0x530ef8=>!!_0x530ef8);_0x55a736[_0x1da960(0x84)](..._0x57d473);}const _0x5f2b3c=_0x40b1c7[_0x1da960(0x71)](_0x3a317b=>!_0x241024['includes'](_0x3a317b));return this[_0x1da960(0xa2)]=this[_0x1da960(0xa2)][_0x1da960(0x71)](_0xb46cfa=>!_0x5f2b3c[_0x1da960(0x8d)](_0xb46cfa)),this[_0x1da960(0xa4)][_0x1da960(0x6f)](_0x1da960(0xa8),_0x40257a['map'](_0x1ff336=>'\x27'+_0x1ff336[_0x1da960(0x73)]+'\x27')[_0x1da960(0x80)](',\x20')),this['logger']['log'](_0x1da960(0x8a),_0x55a736[_0x1da960(0x97)](_0x3fbedc=>'\x27'+_0x3fbedc[_0x1da960(0xaf)][_0x1da960(0x73)]+'\x27')[_0x1da960(0x80)](',\x20')),this[_0x1da960(0xa4)][_0x1da960(0x6f)](_0x1da960(0x9f),_0x5f2b3c[_0x1da960(0x97)](_0x341c30=>'\x27'+_0x341c30[_0x1da960(0x73)]+'\x27')['join'](',\x20')),{'author':_0x28c8cd[_0x1da960(0x7a)],'message':_0x28c8cd[_0x1da960(0xa5)],'inserted':_0x40257a,'modified':_0x55a736,'removed':_0x5f2b3c[_0x1da960(0x97)](_0x4e3112=>({'componentType':_0x4e3112[_0x1da960(0x9a)],'componentName':_0x4e3112[_0x1da960(0x73)],'componentId':_0x4e3112['id']}))};}async[a181_0x523b07(0x7f)](){const _0x53ece1=a181_0x523b07;this[_0x53ece1(0xae)]=await this['salesforceGitSync'][_0x53ece1(0x98)](this['gitCommit'][_0x53ece1(0xb3)]),this[_0x53ece1(0x72)]=this['gitCommit'][_0x53ece1(0x85)]==='master'?'':await this[_0x53ece1(0x90)]['getBranchIdByName'](this[_0x53ece1(0xb5)]['branch']),this[_0x53ece1(0x79)]=await this[_0x53ece1(0x90)][_0x53ece1(0x9b)]();}async[a181_0x523b07(0x70)](){const _0x52dbd5=a181_0x523b07,_0x313c7e=[...this[_0x52dbd5(0xb5)][_0x52dbd5(0x9d)]];if(this[_0x52dbd5(0xb5)][_0x52dbd5(0x7b)]){this[_0x52dbd5(0xa2)]=this['branchId']?await this[_0x52dbd5(0x90)][_0x52dbd5(0xaa)](this['branchId']):await this[_0x52dbd5(0x90)]['fetchRepositoryComponents'](this[_0x52dbd5(0xae)]);return;}this[_0x52dbd5(0xa2)]=[];while(_0x313c7e[_0x52dbd5(0x76)]){const _0x53a4b8=_0x313c7e[_0x52dbd5(0x94)](0x0,this['TASKS_PER_TICK']),_0x3c1794=this['branchId']?await this['salesforceGitSync'][_0x52dbd5(0x96)](_0x53a4b8,this[_0x52dbd5(0x72)]):await this[_0x52dbd5(0x90)][_0x52dbd5(0x66)](_0x53a4b8,this[_0x52dbd5(0xae)]);this[_0x52dbd5(0xa2)][_0x52dbd5(0x84)](..._0x3c1794);}}async['updateStatus'](_0x16d7bc){const _0x256071=a181_0x523b07;this[_0x256071(0x72)]?await this[_0x256071(0x7d)][_0x256071(0x67)](constants_1['FLOSUM_BRANCH'],this[_0x256071(0x72)],{[constants_1[_0x256071(0x8f)]+_0x256071(0x74)]:_0x16d7bc}):await this[_0x256071(0x7d)]['patch'](constants_1[_0x256071(0x8c)],this[_0x256071(0xae)],{[constants_1[_0x256071(0x8f)]+_0x256071(0x74)]:_0x16d7bc});}['setCommitDto'](_0x4a9fde){const _0x42fea0=a181_0x523b07;this[_0x42fea0(0xb5)]=_0x4a9fde;}[a181_0x523b07(0x92)](){const _0xf4436d=a181_0x523b07;return this[_0xf4436d(0x79)];}['getRepositoryId'](){const _0x3d6ed2=a181_0x523b07;return this[_0x3d6ed2(0xae)];}[a181_0x523b07(0x95)](){const _0xd7ced7=a181_0x523b07;return this[_0xd7ced7(0x72)];}};GitCommitService=GitCommitService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a181_0x523b07(0xa9)],salesforce_rest_service_1[a181_0x523b07(0x7e)]])],GitCommitService),exports[a181_0x523b07(0x6c)]=GitCommitService;