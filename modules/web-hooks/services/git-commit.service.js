const a178_0x3100c6=a178_0xd74a;function a178_0x3b11(){const _0x4ba724=['fetchRepositoryComponents','decorate','repositoryId','then','4649934uPJGgW','2373285nCRYDq','filePath','../../../core','repository','salesforceGitSync','force','1151585BYrpgb','checkSyncStatus','branchId','GitCommitService','componentsMetadata','branch','salesforceSync','../../parsers/mdapi/parser','fetchRepositoryOrBranchData','component','object','string','fetchComponentsMetadata','3356696bQAHTQ','design:paramtypes','335726eSJAjB','patch','__decorate','4qelhLp','files\x20will\x20be\x20proceeded:\x20%s','Synchronization_Status__c','catch','toString','gitCommit','master','salesforceRest','6552657VIUnIQ','repositoryGit','SalesforceService','includes','TASKS_PER_TICK','proceeding\x20commit\x20%s','getRecordTypes','SalesforceGitSyncService','filter','FLOSUM_GIT_NAMESPACE','FLOSUM_BRANCH','2ZxenSO','getOwnPropertyDescriptor','../../../constants','map','recordTypes','getRepositoryId','lastCommit','getRemoteStateAttachmentId','fetchBranchComponentsByFilenames','components\x20that\x20will\x20be\x20deleted\x20%s','push','length','metadata','prepareGitChangedPaths','updateRemoteState','files','crc','__metadata','logger','splice','getBranchRecordByName','join','username','FLOSUM_REPOSITORY','../../salesforce/services/salesforce-rest.service','syncRecord','retrieveAttachment','name','../../salesforce/services/salesforce.service','7qJaeHU','fetchBranchComponents','(((.+)+)+)+$','15137730rUQrWL','components\x20that\x20will\x20be\x20updated\x20%s','../utils/git-commit.utils','message','constructor','getBranchId','getComponentRecordTypes','type','SalesforceSyncService','search','function','parse','salesforce','fetchRepositoryComponentsByFilenames','log','../../salesforce/services/salesforce-sync.service','proceedGitCommit','fileNames'];a178_0x3b11=function(){return _0x4ba724;};return a178_0x3b11();}(function(_0xd9dff6,_0xdbf4bd){const _0x146fd1=a178_0xd74a,_0x1c429b=_0xd9dff6();while(!![]){try{const _0x1d4593=parseInt(_0x146fd1(0x1f9))/0x1*(parseInt(_0x146fd1(0x1e3))/0x2)+-parseInt(_0x146fd1(0x1ce))/0x3+-parseInt(_0x146fd1(0x1e6))/0x4*(parseInt(_0x146fd1(0x1d4))/0x5)+parseInt(_0x146fd1(0x1cd))/0x6+-parseInt(_0x146fd1(0x1b4))/0x7*(parseInt(_0x146fd1(0x1e1))/0x8)+-parseInt(_0x146fd1(0x1ee))/0x9+parseInt(_0x146fd1(0x1b7))/0xa;if(_0x1d4593===_0xdbf4bd)break;else _0x1c429b['push'](_0x1c429b['shift']());}catch(_0x152edb){_0x1c429b['push'](_0x1c429b['shift']());}}}(a178_0x3b11,0x6f2f8));const a178_0x5522dd=function(){let _0x82c9e5=!![];return function(_0x4b05f2,_0xaa2b9b){const _0x3f3632=_0x82c9e5?function(){if(_0xaa2b9b){const _0x17a5d9=_0xaa2b9b['apply'](_0x4b05f2,arguments);return _0xaa2b9b=null,_0x17a5d9;}}:function(){};return _0x82c9e5=![],_0x3f3632;};}(),a178_0x245854=a178_0x5522dd(this,function(){const _0x4b61f9=a178_0xd74a;return a178_0x245854['toString']()[_0x4b61f9(0x1c0)](_0x4b61f9(0x1b6))[_0x4b61f9(0x1ea)]()[_0x4b61f9(0x1bb)](a178_0x245854)['search'](_0x4b61f9(0x1b6));});function a178_0xd74a(_0x2321f0,_0x555356){const _0x5f2a1d=a178_0x3b11();return a178_0xd74a=function(_0x245854,_0x5522dd){_0x245854=_0x245854-0x1ac;let _0x3b111a=_0x5f2a1d[_0x245854];return _0x3b111a;},a178_0xd74a(_0x2321f0,_0x555356);}a178_0x245854();'use strict';var __decorate=this&&this[a178_0x3100c6(0x1e5)]||function(_0x88dc6e,_0x1a9259,_0x1915e5,_0x593e33){const _0x21edeb=a178_0x3100c6;var _0x57d02b=arguments[_0x21edeb(0x204)],_0x2afc2c=_0x57d02b<0x3?_0x1a9259:_0x593e33===null?_0x593e33=Object[_0x21edeb(0x1fa)](_0x1a9259,_0x1915e5):_0x593e33,_0x176546;if(typeof Reflect===_0x21edeb(0x1de)&&typeof Reflect[_0x21edeb(0x1ca)]===_0x21edeb(0x1c1))_0x2afc2c=Reflect['decorate'](_0x88dc6e,_0x1a9259,_0x1915e5,_0x593e33);else{for(var _0x4b6663=_0x88dc6e[_0x21edeb(0x204)]-0x1;_0x4b6663>=0x0;_0x4b6663--)if(_0x176546=_0x88dc6e[_0x4b6663])_0x2afc2c=(_0x57d02b<0x3?_0x176546(_0x2afc2c):_0x57d02b>0x3?_0x176546(_0x1a9259,_0x1915e5,_0x2afc2c):_0x176546(_0x1a9259,_0x1915e5))||_0x2afc2c;}return _0x57d02b>0x3&&_0x2afc2c&&Object['defineProperty'](_0x1a9259,_0x1915e5,_0x2afc2c),_0x2afc2c;},__metadata=this&&this[a178_0x3100c6(0x20a)]||function(_0x3bb459,_0x4e838f){const _0x1210e5=a178_0x3100c6;if(typeof Reflect===_0x1210e5(0x1de)&&typeof Reflect['metadata']==='function')return Reflect[_0x1210e5(0x205)](_0x3bb459,_0x4e838f);},GitCommitService_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a178_0x3100c6(0x1d7)]=void 0x0;const constants_1=require(a178_0x3100c6(0x1fb)),core_1=require(a178_0x3100c6(0x1d0)),parser_1=require(a178_0x3100c6(0x1db)),salesforce_git_sync_service_1=require('../../salesforce/services/salesforce-git-sync.service'),salesforce_rest_service_1=require(a178_0x3100c6(0x1af)),typedi_1=require('typedi'),salesforce_sync_service_1=require(a178_0x3100c6(0x1c6)),salesforce_service_1=require(a178_0x3100c6(0x1b3)),git_commit_utils_1=require(a178_0x3100c6(0x1b9));let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0x488e5e,_0x281a0b,_0x1ccee6,_0x2623aa){const _0x2f7fe5=a178_0x3100c6;this[_0x2f7fe5(0x1d2)]=_0x488e5e,this[_0x2f7fe5(0x1ed)]=_0x281a0b,this['salesforceSync']=_0x1ccee6,this[_0x2f7fe5(0x1c3)]=_0x2623aa,this[_0x2f7fe5(0x1f2)]=0xc8,this[_0x2f7fe5(0x20b)]=new core_1['Logger'](GitCommitService_1[_0x2f7fe5(0x1b2)]);}get['repositoryId'](){const _0x1a94c2=a178_0x3100c6;var _0x4a73ef;return((_0x4a73ef=this[_0x1a94c2(0x1b0)])===null||_0x4a73ef===void 0x0?void 0x0:_0x4a73ef['repositoryId'])||'';}get['branchId'](){const _0x28647d=a178_0x3100c6;var _0x242f3a;return((_0x242f3a=this[_0x28647d(0x1b0)])===null||_0x242f3a===void 0x0?void 0x0:_0x242f3a[_0x28647d(0x1d6)])||'';}async[a178_0x3100c6(0x1d5)](_0xadb2ff){const _0xacc97f=a178_0x3100c6;if(this['syncRecord']){const _0x151349=await this[_0xacc97f(0x1da)][_0xacc97f(0x200)](this[_0xacc97f(0x1b0)]),_0x314d81=await this[_0xacc97f(0x1c3)][_0xacc97f(0x1b1)](_0x151349)[_0xacc97f(0x1cc)](_0x11e119=>typeof _0x11e119===_0xacc97f(0x1df)?JSON[_0xacc97f(0x1c2)](_0x11e119):_0x11e119)[_0xacc97f(0x1e9)](()=>({}));if(_0x314d81[this[_0xacc97f(0x1eb)][_0xacc97f(0x1ef)]]){if(_0x314d81[this[_0xacc97f(0x1eb)]['repositoryGit']][_0xacc97f(0x1ff)]===_0xadb2ff)return!![];}return![];}return![];}async['updateRemoteState'](_0x5ac76b){const _0x12c2e9=a178_0x3100c6;this[_0x12c2e9(0x1b0)]&&await this[_0x12c2e9(0x1da)][_0x12c2e9(0x207)](this[_0x12c2e9(0x1b0)],_0x5ac76b);}async[a178_0x3100c6(0x1c7)](_0xc9ebcf,_0x4ea612){const _0x2996aa=a178_0x3100c6;this['logger'][_0x2996aa(0x1c5)](_0x2996aa(0x1f3),_0xc9ebcf['id']);const {added:_0x19da27,modified:_0x3240bb,removed:_0x3d9fcb}=_0xc9ebcf[_0x2996aa(0x208)],_0x2bf169=git_commit_utils_1[_0x2996aa(0x206)]([..._0x19da27,..._0x3240bb]),_0x5c2b8d=[..._0x2bf169,..._0x3d9fcb];this[_0x2996aa(0x20b)][_0x2996aa(0x1c5)](_0x2996aa(0x1e7),_0x5c2b8d['join'](',\x20'));const _0x297e05=[],_0x4137ae=[],_0x549ca9=this[_0x2996aa(0x1d8)][_0x2996aa(0x1f6)](_0x1ba170=>_0x5c2b8d[_0x2996aa(0x1f1)](_0x1ba170['fileName'])),_0x2babc3=[];while(_0x2bf169[_0x2996aa(0x204)]){const _0x11a82c=_0x2bf169[_0x2996aa(0x20c)](0x0,this['TASKS_PER_TICK']),_0x46aed8=new parser_1['MDApiParser'](_0x4ea612,_0x11a82c),_0x4fcc72=await _0x46aed8['parse'](),_0x5c0a98=_0x4fcc72[_0x2996aa(0x1fc)](_0x184c27=>{const _0x8a09e4=_0x2996aa,_0x2ca36e=_0x549ca9['find'](_0x1fe048=>_0x1fe048[_0x8a09e4(0x1b2)]===_0x184c27[_0x8a09e4(0x1b2)]&&_0x1fe048[_0x8a09e4(0x1be)]===_0x184c27[_0x8a09e4(0x1be)]);if(!_0x2ca36e){const _0x3b2b79={'crc32':_0x184c27[_0x8a09e4(0x209)],'fileName':_0x184c27[_0x8a09e4(0x1cf)],'id':null,'version':0x1,'name':_0x184c27[_0x8a09e4(0x1b2)],'type':_0x184c27['type']};return this[_0x8a09e4(0x1d8)][_0x8a09e4(0x203)](_0x3b2b79),_0x549ca9[_0x8a09e4(0x203)](_0x3b2b79),_0x2babc3['push'](_0x3b2b79),_0x4137ae[_0x8a09e4(0x203)](_0x184c27),null;}_0x2babc3[_0x8a09e4(0x203)](_0x2ca36e);if(_0x184c27[_0x8a09e4(0x209)]===_0x2ca36e['crc32'])return null;return{'component':_0x184c27,'meta':_0x2ca36e};})[_0x2996aa(0x1f6)](_0x284c88=>!!_0x284c88);_0x297e05['push'](..._0x5c0a98);}const _0x75094d=_0x549ca9[_0x2996aa(0x1f6)](_0x5d9fbb=>!_0x2babc3[_0x2996aa(0x1f1)](_0x5d9fbb));return this[_0x2996aa(0x1d8)]=this[_0x2996aa(0x1d8)][_0x2996aa(0x1f6)](_0x5562b5=>!_0x75094d[_0x2996aa(0x1f1)](_0x5562b5)),this[_0x2996aa(0x1eb)]['force']&&_0x75094d[_0x2996aa(0x203)](...this[_0x2996aa(0x1d8)]),this[_0x2996aa(0x20b)][_0x2996aa(0x1c5)]('components\x20that\x20will\x20be\x20created\x20%s',_0x4137ae['map'](_0x59350a=>'\x27'+_0x59350a['name']+'\x27')[_0x2996aa(0x1ac)](',\x20')),this[_0x2996aa(0x20b)][_0x2996aa(0x1c5)](_0x2996aa(0x1b8),_0x297e05[_0x2996aa(0x1fc)](_0x3f51b6=>'\x27'+_0x3f51b6[_0x2996aa(0x1dd)][_0x2996aa(0x1b2)]+'\x27')[_0x2996aa(0x1ac)](',\x20')),this[_0x2996aa(0x20b)][_0x2996aa(0x1c5)](_0x2996aa(0x202),_0x75094d[_0x2996aa(0x1fc)](_0x2043ea=>'\x27'+_0x2043ea['name']+'\x27')['join'](',\x20')),{'author':_0xc9ebcf[_0x2996aa(0x1ad)],'message':_0xc9ebcf[_0x2996aa(0x1ba)],'inserted':_0x4137ae,'modified':_0x297e05,'removed':_0x75094d[_0x2996aa(0x1fc)](_0x14c42d=>({'componentType':_0x14c42d[_0x2996aa(0x1be)],'componentName':_0x14c42d[_0x2996aa(0x1b2)],'componentId':_0x14c42d['id']}))};}async[a178_0x3100c6(0x1dc)](){const _0x1b2945=a178_0x3100c6;this[_0x1b2945(0x1b0)]=this[_0x1b2945(0x1eb)]['branch']===_0x1b2945(0x1ec)?await this[_0x1b2945(0x1da)]['getRepositoryRecordByName'](this[_0x1b2945(0x1eb)][_0x1b2945(0x1d1)]):await this[_0x1b2945(0x1da)][_0x1b2945(0x20d)](this['gitCommit'][_0x1b2945(0x1d9)]),this[_0x1b2945(0x1fd)]=await this[_0x1b2945(0x1d2)][_0x1b2945(0x1bd)]();}async[a178_0x3100c6(0x1e0)](){const _0x699b17=a178_0x3100c6,_0x16000e=[...this['gitCommit'][_0x699b17(0x1c8)]];if(this['gitCommit'][_0x699b17(0x1d3)]){this[_0x699b17(0x1d8)]=this['branchId']?await this[_0x699b17(0x1d2)][_0x699b17(0x1b5)](this[_0x699b17(0x1d6)]):await this[_0x699b17(0x1d2)][_0x699b17(0x1c9)](this[_0x699b17(0x1cb)]);return;}this['componentsMetadata']=[];while(_0x16000e['length']){const _0xb83241=_0x16000e[_0x699b17(0x20c)](0x0,this[_0x699b17(0x1f2)]),_0x5627d6=this[_0x699b17(0x1d6)]?await this['salesforceGitSync'][_0x699b17(0x201)](_0xb83241,this[_0x699b17(0x1d6)]):await this[_0x699b17(0x1d2)][_0x699b17(0x1c4)](_0xb83241,this[_0x699b17(0x1cb)]);this['componentsMetadata']['push'](..._0x5627d6);}}async['updateStatus'](_0x5221a3){const _0x557b6e=a178_0x3100c6;this[_0x557b6e(0x1d6)]?await this[_0x557b6e(0x1ed)]['patch'](constants_1[_0x557b6e(0x1f8)],this[_0x557b6e(0x1d6)],{[constants_1[_0x557b6e(0x1f7)]+_0x557b6e(0x1e8)]:_0x5221a3}):await this[_0x557b6e(0x1ed)][_0x557b6e(0x1e4)](constants_1[_0x557b6e(0x1ae)],this['repositoryId'],{[constants_1[_0x557b6e(0x1f7)]+_0x557b6e(0x1e8)]:_0x5221a3});}['setCommitDto'](_0x3a2344){const _0x51bc5b=a178_0x3100c6;this[_0x51bc5b(0x1eb)]=_0x3a2344;}[a178_0x3100c6(0x1f4)](){const _0x5e2eec=a178_0x3100c6;return this[_0x5e2eec(0x1fd)];}[a178_0x3100c6(0x1fe)](){const _0x1ab6d1=a178_0x3100c6;return this[_0x1ab6d1(0x1cb)];}[a178_0x3100c6(0x1bc)](){return this['branchId'];}};GitCommitService=GitCommitService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a178_0x3100c6(0x1e2),[salesforce_git_sync_service_1[a178_0x3100c6(0x1f5)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a178_0x3100c6(0x1bf)],salesforce_service_1[a178_0x3100c6(0x1f0)]])],GitCommitService),exports[a178_0x3100c6(0x1d7)]=GitCommitService;