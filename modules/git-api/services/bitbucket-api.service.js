const a69_0x3842d4=a69_0x4408;(function(_0x11f306,_0x547872){const _0x270435=a69_0x4408,_0x2ef292=_0x11f306();while(!![]){try{const _0x29ccb3=parseInt(_0x270435(0x207))/0x1*(parseInt(_0x270435(0x211))/0x2)+parseInt(_0x270435(0x1ed))/0x3*(parseInt(_0x270435(0x20a))/0x4)+-parseInt(_0x270435(0x21b))/0x5*(-parseInt(_0x270435(0x201))/0x6)+parseInt(_0x270435(0x1fa))/0x7+parseInt(_0x270435(0x21d))/0x8*(-parseInt(_0x270435(0x217))/0x9)+-parseInt(_0x270435(0x1fe))/0xa*(-parseInt(_0x270435(0x20f))/0xb)+parseInt(_0x270435(0x1f5))/0xc*(-parseInt(_0x270435(0x1f2))/0xd);if(_0x29ccb3===_0x547872)break;else _0x2ef292['push'](_0x2ef292['shift']());}catch(_0x58c32c){_0x2ef292['push'](_0x2ef292['shift']());}}}(a69_0x12ad,0xe2c72));const a69_0x4c9c67=function(){let _0x3cd96f=!![];return function(_0x5726dc,_0x178313){const _0x1766c6=_0x3cd96f?function(){const _0x6f4223=a69_0x4408;if(_0x178313){const _0x218811=_0x178313[_0x6f4223(0x1e3)](_0x5726dc,arguments);return _0x178313=null,_0x218811;}}:function(){};return _0x3cd96f=![],_0x1766c6;};}(),a69_0x36856a=a69_0x4c9c67(this,function(){const _0x48e85f=a69_0x4408;return a69_0x36856a[_0x48e85f(0x216)]()[_0x48e85f(0x1df)](_0x48e85f(0x1fd))['toString']()[_0x48e85f(0x1e9)](a69_0x36856a)[_0x48e85f(0x1df)](_0x48e85f(0x1fd));});function a69_0x4408(_0x3ebc0b,_0x5a0e15){const _0x37c601=a69_0x12ad();return a69_0x4408=function(_0x36856a,_0x4c9c67){_0x36856a=_0x36856a-0x1df;let _0x12ad70=_0x37c601[_0x36856a];return _0x12ad70;},a69_0x4408(_0x3ebc0b,_0x5a0e15);}a69_0x36856a();'use strict';var __decorate=this&&this[a69_0x3842d4(0x21c)]||function(_0x349572,_0x3d7114,_0x554307,_0x54ed94){const _0x216334=a69_0x3842d4;var _0x47d962=arguments[_0x216334(0x202)],_0x3756c0=_0x47d962<0x3?_0x3d7114:_0x54ed94===null?_0x54ed94=Object['getOwnPropertyDescriptor'](_0x3d7114,_0x554307):_0x54ed94,_0x2844fd;if(typeof Reflect===_0x216334(0x200)&&typeof Reflect['decorate']===_0x216334(0x204))_0x3756c0=Reflect[_0x216334(0x1e6)](_0x349572,_0x3d7114,_0x554307,_0x54ed94);else{for(var _0xd4851e=_0x349572['length']-0x1;_0xd4851e>=0x0;_0xd4851e--)if(_0x2844fd=_0x349572[_0xd4851e])_0x3756c0=(_0x47d962<0x3?_0x2844fd(_0x3756c0):_0x47d962>0x3?_0x2844fd(_0x3d7114,_0x554307,_0x3756c0):_0x2844fd(_0x3d7114,_0x554307))||_0x3756c0;}return _0x47d962>0x3&&_0x3756c0&&Object['defineProperty'](_0x3d7114,_0x554307,_0x3756c0),_0x3756c0;},__metadata=this&&this[a69_0x3842d4(0x1f6)]||function(_0x3f2927,_0x20c957){const _0x6e602d=a69_0x3842d4;if(typeof Reflect===_0x6e602d(0x200)&&typeof Reflect[_0x6e602d(0x205)]==='function')return Reflect[_0x6e602d(0x205)](_0x3f2927,_0x20c957);},__param=this&&this[a69_0x3842d4(0x1ef)]||function(_0x3ff3df,_0x25f0ac){return function(_0x1082bf,_0x298cfa){_0x25f0ac(_0x1082bf,_0x298cfa,_0x3ff3df);};},__importDefault=this&&this[a69_0x3842d4(0x1e2)]||function(_0x2a55bf){const _0x5688b3=a69_0x3842d4;return _0x2a55bf&&_0x2a55bf[_0x5688b3(0x203)]?_0x2a55bf:{'default':_0x2a55bf};};function a69_0x12ad(){const _0x1b83fc=['defineProperty','(((.+)+)+)+$','453910eSVjCg','createRequest','object','14286VwWemi','length','__esModule','function','metadata','checkAccessToken','1YDagFb','../../shared/services/auth-settings.service','Bearer\x20','4LUmleQ','bitbucket','Service','./git-api.service','replace','77OnJfSZ','accessTokenExpiresAt','3063222XzcDEN','grant_type=client_credentials','axios','getCurrentUser','request','toString','188145XyaneH','getHeaders','data','GitApiService','3035JKGiMm','__decorate','224oPJLId','Authorization','search','AuthSettingsService','BITBUCKET_REFRESH_TOKEN_URL','__importDefault','apply','AppSettingsService','getAccessToken','decorate','default','update','constructor','BitbucketApiService','isLoggedIn','../../shared/services/app-settings.service','1720371rNgSrb','Inject','__param','refreshToken','typedi','1000181xAWpyw','accessToken','MAX_REQUEST_PER_HOUR','372iCTvfR','__metadata','then','authSettings','interceptors','218379qIbtgt','user'];a69_0x12ad=function(){return _0x1b83fc;};return a69_0x12ad();}Object[a69_0x3842d4(0x1fc)](exports,a69_0x3842d4(0x203),{'value':!![]}),exports[a69_0x3842d4(0x1ea)]=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require(a69_0x3842d4(0x1ec)),auth_settings_service_1=require(a69_0x3842d4(0x208)),axios_1=__importDefault(require(a69_0x3842d4(0x213))),typedi_1=require(a69_0x3842d4(0x1f1)),git_api_service_1=require(a69_0x3842d4(0x20d));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a69_0x3842d4(0x21a)]{constructor(_0x290474,_0x441e32){const _0x2b97e5=a69_0x3842d4;super(_0x290474),this[_0x2b97e5(0x1f8)]=_0x441e32,this[_0x2b97e5(0x210)]=-0x1,this[_0x2b97e5(0x1f4)]=0x3e8,this[_0x2b97e5(0x215)]=this[_0x2b97e5(0x1ff)]();}get['apiRequest'](){const _0x3204b4=a69_0x3842d4;return this[_0x3204b4(0x215)];}[a69_0x3842d4(0x1ff)](_0x3186f0){const _0x6c0c67=a69_0x3842d4,_0x56f64b=super[_0x6c0c67(0x1ff)](_0x3186f0);return _0x56f64b[_0x6c0c67(0x1f9)]['request']['use'](async _0x247fce=>{const _0x1fa507=_0x6c0c67;return await this[_0x1fa507(0x206)](),_0x247fce['headers'][_0x1fa507(0x21e)]=_0x1fa507(0x209)+this['accessToken'],_0x247fce;}),_0x56f64b;}async[a69_0x3842d4(0x206)](){const _0x56ee00=a69_0x3842d4;if(this[_0x56ee00(0x1f3)]&&Date['now']()<this[_0x56ee00(0x210)])return;await this[_0x56ee00(0x1f0)]();}async[a69_0x3842d4(0x1f0)](){const _0x6349f7=a69_0x3842d4,{clientToken:_0x1aef56}=this[_0x6349f7(0x1f8)]['bitbucket'],_0xf06deb=await axios_1[_0x6349f7(0x1e7)]['post'](constants_1[_0x6349f7(0x1e1)][_0x6349f7(0x20e)]('%clientToken%',_0x1aef56),_0x6349f7(0x212))[_0x6349f7(0x1f7)](_0x40b9d9=>_0x40b9d9[_0x6349f7(0x219)]),{expires_in:_0x2ec1a4,access_token:_0x19ca4b}=_0xf06deb;this[_0x6349f7(0x1f8)][_0x6349f7(0x1e8)]({'bitbucket':{...this[_0x6349f7(0x1f8)][_0x6349f7(0x20b)],'token':_0x19ca4b}}),this[_0x6349f7(0x210)]=Date['now']()+_0x2ec1a4*0x3e8,this[_0x6349f7(0x1f3)]=_0x19ca4b;}[a69_0x3842d4(0x218)](){return{};}[a69_0x3842d4(0x214)](){const _0x4bc0ef=a69_0x3842d4;return this['request']['get'](_0x4bc0ef(0x1fb));}[a69_0x3842d4(0x1e5)](){return this['accessToken'];}async[a69_0x3842d4(0x1eb)](){const _0xf0068=a69_0x3842d4;return await this[_0xf0068(0x214)](),!![];}};BitbucketApiService=__decorate([typedi_1[a69_0x3842d4(0x20c)](),__param(0x0,typedi_1[a69_0x3842d4(0x1ee)]()),__metadata('design:paramtypes',[app_settings_service_1[a69_0x3842d4(0x1e4)],auth_settings_service_1[a69_0x3842d4(0x1e0)]])],BitbucketApiService),exports[a69_0x3842d4(0x1ea)]=BitbucketApiService;