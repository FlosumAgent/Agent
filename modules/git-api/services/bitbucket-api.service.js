const a64_0x513f3e=a64_0x30f8;(function(_0x86e633,_0x14a5f7){const _0x12b2ac=a64_0x30f8,_0x11b7d7=_0x86e633();while(!![]){try{const _0x274a8c=-parseInt(_0x12b2ac(0x1fe))/0x1*(-parseInt(_0x12b2ac(0x1fa))/0x2)+-parseInt(_0x12b2ac(0x207))/0x3+parseInt(_0x12b2ac(0x205))/0x4+-parseInt(_0x12b2ac(0x1ec))/0x5+parseInt(_0x12b2ac(0x1fd))/0x6+-parseInt(_0x12b2ac(0x1ff))/0x7*(parseInt(_0x12b2ac(0x210))/0x8)+-parseInt(_0x12b2ac(0x21f))/0x9;if(_0x274a8c===_0x14a5f7)break;else _0x11b7d7['push'](_0x11b7d7['shift']());}catch(_0x37a147){_0x11b7d7['push'](_0x11b7d7['shift']());}}}(a64_0x13b3,0xd7312));const a64_0x143e76=function(){let _0xc14ffc=!![];return function(_0xd88378,_0x59cead){const _0x40066b=_0xc14ffc?function(){const _0x484dde=a64_0x30f8;if(_0x59cead){const _0x11f203=_0x59cead[_0x484dde(0x1f2)](_0xd88378,arguments);return _0x59cead=null,_0x11f203;}}:function(){};return _0xc14ffc=![],_0x40066b;};}(),a64_0x5e5ad6=a64_0x143e76(this,function(){const _0xd9b64=a64_0x30f8;return a64_0x5e5ad6[_0xd9b64(0x1e7)]()['search'](_0xd9b64(0x220))[_0xd9b64(0x1e7)]()[_0xd9b64(0x208)](a64_0x5e5ad6)[_0xd9b64(0x1f1)](_0xd9b64(0x220));});a64_0x5e5ad6();'use strict';function a64_0x13b3(){const _0x4f8b1c=['__esModule','MAX_REQUEST_PER_HOUR','defineProperty','__param','../../shared/services/auth-settings.service','6367412dhzTha','bitbucket','2394189yeMciT','constructor','refreshToken','authSettings','now','decorate','BitbucketApiService','grant_type=client_credentials','accessTokenExpiresAt','1351472pNFdPY','isLoggedIn','Authorization','then','Bearer\x20','Inject','getCurrentUser','length','../../shared/services/app-settings.service','checkAccessToken','AuthSettingsService','replace','headers','../../../constants','%clientToken%','17607213lipHxe','(((.+)+)+)+$','user','toString','getOwnPropertyDescriptor','__metadata','Service','request','1027480YUEGHZ','design:paramtypes','__importDefault','./git-api.service','object','search','apply','metadata','update','accessToken','post','typedi','createRequest','data','16sNJwqr','interceptors','getHeaders','5045454NIsPAb','218306lzsHAU','14BLTzoG'];a64_0x13b3=function(){return _0x4f8b1c;};return a64_0x13b3();}var __decorate=this&&this['__decorate']||function(_0xd0ce65,_0x847bc0,_0x176aae,_0x4e22d2){const _0x538665=a64_0x30f8;var _0xacb611=arguments[_0x538665(0x217)],_0x39dad1=_0xacb611<0x3?_0x847bc0:_0x4e22d2===null?_0x4e22d2=Object[_0x538665(0x1e8)](_0x847bc0,_0x176aae):_0x4e22d2,_0x1ad75f;if(typeof Reflect===_0x538665(0x1f0)&&typeof Reflect[_0x538665(0x20c)]==='function')_0x39dad1=Reflect['decorate'](_0xd0ce65,_0x847bc0,_0x176aae,_0x4e22d2);else{for(var _0x399c5c=_0xd0ce65[_0x538665(0x217)]-0x1;_0x399c5c>=0x0;_0x399c5c--)if(_0x1ad75f=_0xd0ce65[_0x399c5c])_0x39dad1=(_0xacb611<0x3?_0x1ad75f(_0x39dad1):_0xacb611>0x3?_0x1ad75f(_0x847bc0,_0x176aae,_0x39dad1):_0x1ad75f(_0x847bc0,_0x176aae))||_0x39dad1;}return _0xacb611>0x3&&_0x39dad1&&Object[_0x538665(0x202)](_0x847bc0,_0x176aae,_0x39dad1),_0x39dad1;},__metadata=this&&this[a64_0x513f3e(0x1e9)]||function(_0x8cc4e4,_0x22a99c){const _0x552092=a64_0x513f3e;if(typeof Reflect==='object'&&typeof Reflect[_0x552092(0x1f3)]==='function')return Reflect['metadata'](_0x8cc4e4,_0x22a99c);},__param=this&&this[a64_0x513f3e(0x203)]||function(_0x4d9df0,_0x3b4aec){return function(_0x54a055,_0xe57e7b){_0x3b4aec(_0x54a055,_0xe57e7b,_0x4d9df0);};},__importDefault=this&&this[a64_0x513f3e(0x1ee)]||function(_0x396400){const _0xc5072a=a64_0x513f3e;return _0x396400&&_0x396400[_0xc5072a(0x200)]?_0x396400:{'default':_0x396400};};Object[a64_0x513f3e(0x202)](exports,a64_0x513f3e(0x200),{'value':!![]}),exports['BitbucketApiService']=void 0x0;const constants_1=require(a64_0x513f3e(0x21d)),app_settings_service_1=require(a64_0x513f3e(0x218)),auth_settings_service_1=require(a64_0x513f3e(0x204)),axios_1=__importDefault(require('axios')),typedi_1=require(a64_0x513f3e(0x1f7)),git_api_service_1=require(a64_0x513f3e(0x1ef));function a64_0x30f8(_0x3f5cba,_0x4b58ab){const _0x33b0e9=a64_0x13b3();return a64_0x30f8=function(_0x5e5ad6,_0x143e76){_0x5e5ad6=_0x5e5ad6-0x1e6;let _0x13b38b=_0x33b0e9[_0x5e5ad6];return _0x13b38b;},a64_0x30f8(_0x3f5cba,_0x4b58ab);}let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0xf2301e,_0x11cd4a){const _0x2de65e=a64_0x513f3e;super(_0xf2301e),this[_0x2de65e(0x20a)]=_0x11cd4a,this[_0x2de65e(0x20f)]=-0x1,this[_0x2de65e(0x201)]=0x3e8,this[_0x2de65e(0x1eb)]=this[_0x2de65e(0x1f8)]();}get['apiRequest'](){const _0x16dc4f=a64_0x513f3e;return this[_0x16dc4f(0x1eb)];}['createRequest'](_0x5f5ccd){const _0x573968=a64_0x513f3e,_0x3c91bc=super[_0x573968(0x1f8)](_0x5f5ccd);return _0x3c91bc[_0x573968(0x1fb)]['request']['use'](async _0x41b562=>{const _0xdc9617=_0x573968;return await this[_0xdc9617(0x219)](),_0x41b562[_0xdc9617(0x21c)][_0xdc9617(0x212)]=_0xdc9617(0x214)+this[_0xdc9617(0x1f5)],_0x41b562;}),_0x3c91bc;}async[a64_0x513f3e(0x219)](){const _0x1bb1e2=a64_0x513f3e;if(this[_0x1bb1e2(0x1f5)]&&Date[_0x1bb1e2(0x20b)]()<this[_0x1bb1e2(0x20f)])return;await this['refreshToken']();}async[a64_0x513f3e(0x209)](){const _0x5b9e30=a64_0x513f3e,{clientToken:_0x31192e}=this[_0x5b9e30(0x20a)][_0x5b9e30(0x206)],_0x1c960c=await axios_1['default'][_0x5b9e30(0x1f6)](constants_1['BITBUCKET_REFRESH_TOKEN_URL'][_0x5b9e30(0x21b)](_0x5b9e30(0x21e),_0x31192e),_0x5b9e30(0x20e))[_0x5b9e30(0x213)](_0x4e86d6=>_0x4e86d6[_0x5b9e30(0x1f9)]),{expires_in:_0x41e071,access_token:_0x3ade36}=_0x1c960c;this[_0x5b9e30(0x20a)][_0x5b9e30(0x1f4)]({'bitbucket':{...this[_0x5b9e30(0x20a)]['bitbucket'],'token':_0x3ade36}}),this[_0x5b9e30(0x20f)]=Date[_0x5b9e30(0x20b)]()+_0x41e071*0x3e8,this[_0x5b9e30(0x1f5)]=_0x3ade36;}[a64_0x513f3e(0x1fc)](){return{};}[a64_0x513f3e(0x216)](){const _0x17b7af=a64_0x513f3e;return this['request']['get'](_0x17b7af(0x1e6));}async[a64_0x513f3e(0x211)](){const _0x1baa52=a64_0x513f3e;return await this[_0x1baa52(0x216)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a64_0x513f3e(0x1ea)])(),__param(0x0,(0x0,typedi_1[a64_0x513f3e(0x215)])()),__metadata(a64_0x513f3e(0x1ed),[app_settings_service_1['AppSettingsService'],auth_settings_service_1[a64_0x513f3e(0x21a)]])],BitbucketApiService),exports[a64_0x513f3e(0x20d)]=BitbucketApiService;