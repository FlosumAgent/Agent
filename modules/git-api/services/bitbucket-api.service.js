const a63_0xe4cf=['return\x20/\x22\x20+\x20this\x20+\x20\x22/','now','%clientToken%','1206600cMJwGx','2194chpGWy','createRequest','data','then','445404elIvgF','default','checkAccessToken','typedi','interceptors','../../shared/services/auth-settings.service','getCurrentUser','object','Service','decorate','bitbucket','__param','get','269107EluqED','headers','GitApiService','./git-api.service','apiRequest','359rwAVBJ','624570onHqsl','test','authSettings','accessTokenExpiresAt','getOwnPropertyDescriptor','apply','64593iYBDvZ','AppSettingsService','refreshToken','accessToken','metadata','getHeaders','constructor','Bearer\x20','request','17OTNGcV','__decorate','user','function','Inject','Authorization','isLoggedIn','design:paramtypes','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../shared/services/app-settings.service','425810pooMPU','defineProperty','length','__metadata','__esModule','AuthSettingsService','axios','update','grant_type=client_credentials','replace','post','use'];const a63_0x5ccc7a=a63_0x2dd8;(function(_0x3715eb,_0x109dfb){const _0x3a6538=a63_0x2dd8;while(!![]){try{const _0x14be76=-parseInt(_0x3a6538(0x21e))*-parseInt(_0x3a6538(0x215))+-parseInt(_0x3a6538(0x1f7))+parseInt(_0x3a6538(0x228))+-parseInt(_0x3a6538(0x20f))+-parseInt(_0x3a6538(0x209))+parseInt(_0x3a6538(0x1fc))+parseInt(_0x3a6538(0x1f8))*parseInt(_0x3a6538(0x20e));if(_0x14be76===_0x109dfb)break;else _0x3715eb['push'](_0x3715eb['shift']());}catch(_0x3fcf1b){_0x3715eb['push'](_0x3715eb['shift']());}}}(a63_0xe4cf,0xa0518));function a63_0x2dd8(_0x295a5b,_0x139868){return a63_0x2dd8=function(_0x14109c,_0x5c990a){_0x14109c=_0x14109c-0x1eb;let _0x17f4fa=a63_0xe4cf[_0x14109c];return _0x17f4fa;},a63_0x2dd8(_0x295a5b,_0x139868);}const a63_0x17f4fa=function(){let _0x310c4c=!![];return function(_0x3c03ee,_0x58138d){const _0x55b245=_0x310c4c?function(){const _0x429f00=a63_0x2dd8;if(_0x58138d){const _0x1900ce=_0x58138d[_0x429f00(0x214)](_0x3c03ee,arguments);return _0x58138d=null,_0x1900ce;}}:function(){};return _0x310c4c=![],_0x55b245;};}(),a63_0x5c990a=a63_0x17f4fa(this,function(){const _0x2649f6=function(){const _0x5cab73=a63_0x2dd8,_0xf26c0e=_0x2649f6[_0x5cab73(0x21b)](_0x5cab73(0x1f4))()[_0x5cab73(0x21b)](_0x5cab73(0x226));return!_0xf26c0e[_0x5cab73(0x210)](a63_0x5c990a);};return _0x2649f6();});a63_0x5c990a();'use strict';var __decorate=this&&this[a63_0x5ccc7a(0x21f)]||function(_0x298ae8,_0x17fefc,_0x326709,_0x9ce2c1){const _0x56923a=a63_0x5ccc7a;var _0x1331d1=arguments[_0x56923a(0x22a)],_0x38d624=_0x1331d1<0x3?_0x17fefc:_0x9ce2c1===null?_0x9ce2c1=Object[_0x56923a(0x213)](_0x17fefc,_0x326709):_0x9ce2c1,_0x136a1b;if(typeof Reflect===_0x56923a(0x203)&&typeof Reflect[_0x56923a(0x205)]===_0x56923a(0x221))_0x38d624=Reflect['decorate'](_0x298ae8,_0x17fefc,_0x326709,_0x9ce2c1);else{for(var _0x310f3e=_0x298ae8[_0x56923a(0x22a)]-0x1;_0x310f3e>=0x0;_0x310f3e--)if(_0x136a1b=_0x298ae8[_0x310f3e])_0x38d624=(_0x1331d1<0x3?_0x136a1b(_0x38d624):_0x1331d1>0x3?_0x136a1b(_0x17fefc,_0x326709,_0x38d624):_0x136a1b(_0x17fefc,_0x326709))||_0x38d624;}return _0x1331d1>0x3&&_0x38d624&&Object[_0x56923a(0x229)](_0x17fefc,_0x326709,_0x38d624),_0x38d624;},__metadata=this&&this[a63_0x5ccc7a(0x1eb)]||function(_0x191ae4,_0x86f2b3){const _0x51754e=a63_0x5ccc7a;if(typeof Reflect==='object'&&typeof Reflect[_0x51754e(0x219)]===_0x51754e(0x221))return Reflect[_0x51754e(0x219)](_0x191ae4,_0x86f2b3);},__param=this&&this[a63_0x5ccc7a(0x207)]||function(_0x34e414,_0x4b64eb){return function(_0x56062f,_0x5413c4){_0x4b64eb(_0x56062f,_0x5413c4,_0x34e414);};},__importDefault=this&&this['__importDefault']||function(_0x3a01f5){const _0x5238c0=a63_0x5ccc7a;return _0x3a01f5&&_0x3a01f5[_0x5238c0(0x1ec)]?_0x3a01f5:{'default':_0x3a01f5};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['BitbucketApiService']=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require(a63_0x5ccc7a(0x227)),auth_settings_service_1=require(a63_0x5ccc7a(0x201)),axios_1=__importDefault(require(a63_0x5ccc7a(0x1ee))),typedi_1=require(a63_0x5ccc7a(0x1ff)),git_api_service_1=require(a63_0x5ccc7a(0x20c));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x5ccc7a(0x20b)]{constructor(_0x409598,_0x54889a){const _0x2fc20e=a63_0x5ccc7a;super(_0x409598),this['authSettings']=_0x54889a,this[_0x2fc20e(0x212)]=-0x1,this[_0x2fc20e(0x21d)]=this[_0x2fc20e(0x1f9)]();}get[a63_0x5ccc7a(0x20d)](){const _0x10fcb2=a63_0x5ccc7a;return this[_0x10fcb2(0x21d)];}[a63_0x5ccc7a(0x1f9)](_0x5d1116){const _0x55e30b=a63_0x5ccc7a,_0x356763=super[_0x55e30b(0x1f9)](_0x5d1116);return _0x356763[_0x55e30b(0x200)][_0x55e30b(0x21d)][_0x55e30b(0x1f3)](async _0x508c56=>{const _0x5d27b3=_0x55e30b;return await this[_0x5d27b3(0x1fe)](),_0x508c56[_0x5d27b3(0x20a)][_0x5d27b3(0x223)]=_0x5d27b3(0x21c)+this['accessToken'],_0x508c56;}),_0x356763;}async[a63_0x5ccc7a(0x1fe)](){const _0x4c8d=a63_0x5ccc7a;if(this[_0x4c8d(0x218)]&&Date['now']()<this['accessTokenExpiresAt'])return;await this['refreshToken']();}async[a63_0x5ccc7a(0x217)](){const _0xf6c617=a63_0x5ccc7a,{clientToken:_0xa63ba9}=this[_0xf6c617(0x211)][_0xf6c617(0x206)],_0x255bc5=await axios_1[_0xf6c617(0x1fd)][_0xf6c617(0x1f2)](constants_1['BITBUCKET_REFRESH_TOKEN_URL'][_0xf6c617(0x1f1)](_0xf6c617(0x1f6),_0xa63ba9),_0xf6c617(0x1f0))[_0xf6c617(0x1fb)](_0xae419=>_0xae419[_0xf6c617(0x1fa)]),{expires_in:_0x47f63e,access_token:_0x34f7e3}=_0x255bc5;this[_0xf6c617(0x211)][_0xf6c617(0x1ef)]({'bitbucket':{...this[_0xf6c617(0x211)][_0xf6c617(0x206)],'token':_0x34f7e3}}),this['accessTokenExpiresAt']=Date[_0xf6c617(0x1f5)]()+_0x47f63e*0x3e8,this[_0xf6c617(0x218)]=_0x34f7e3;}[a63_0x5ccc7a(0x21a)](){return{};}[a63_0x5ccc7a(0x202)](){const _0x3ab543=a63_0x5ccc7a;return this[_0x3ab543(0x21d)][_0x3ab543(0x208)](_0x3ab543(0x220));}async[a63_0x5ccc7a(0x224)](){const _0x719d2b=a63_0x5ccc7a;try{return await this[_0x719d2b(0x202)](),!![];}catch(_0xfd6736){return![];}}};BitbucketApiService=__decorate([typedi_1[a63_0x5ccc7a(0x204)](),__param(0x0,typedi_1[a63_0x5ccc7a(0x222)]()),__metadata(a63_0x5ccc7a(0x225),[app_settings_service_1[a63_0x5ccc7a(0x216)],auth_settings_service_1[a63_0x5ccc7a(0x1ed)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;