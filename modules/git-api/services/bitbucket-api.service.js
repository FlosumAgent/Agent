const a69_0x1c0352=a69_0x5eee;(function(_0x187886,_0x1da236){const _0x3977ec=a69_0x5eee,_0x6a7131=_0x187886();while(!![]){try{const _0x319b2a=-parseInt(_0x3977ec(0x1b8))/0x1+parseInt(_0x3977ec(0x1cc))/0x2*(-parseInt(_0x3977ec(0x1ac))/0x3)+parseInt(_0x3977ec(0x1c7))/0x4*(parseInt(_0x3977ec(0x1dc))/0x5)+parseInt(_0x3977ec(0x1b1))/0x6+parseInt(_0x3977ec(0x1da))/0x7*(parseInt(_0x3977ec(0x1b0))/0x8)+parseInt(_0x3977ec(0x1ad))/0x9*(parseInt(_0x3977ec(0x1b3))/0xa)+-parseInt(_0x3977ec(0x1d2))/0xb*(parseInt(_0x3977ec(0x1b2))/0xc);if(_0x319b2a===_0x1da236)break;else _0x6a7131['push'](_0x6a7131['shift']());}catch(_0x1e9b4a){_0x6a7131['push'](_0x6a7131['shift']());}}}(a69_0x3e75,0x615c9));const a69_0x3269a7=function(){let _0x2d3112=!![];return function(_0x5ebb4e,_0x4f5110){const _0x46f72e=_0x2d3112?function(){const _0x500c9f=a69_0x5eee;if(_0x4f5110){const _0x22614d=_0x4f5110[_0x500c9f(0x1c2)](_0x5ebb4e,arguments);return _0x4f5110=null,_0x22614d;}}:function(){};return _0x2d3112=![],_0x46f72e;};}(),a69_0x3f4c98=a69_0x3269a7(this,function(){const _0x2578a1=a69_0x5eee;return a69_0x3f4c98['toString']()['search'](_0x2578a1(0x1be))[_0x2578a1(0x1c1)]()[_0x2578a1(0x1bb)](a69_0x3f4c98)[_0x2578a1(0x1ce)](_0x2578a1(0x1be));});a69_0x3f4c98();function a69_0x3e75(){const _0x6e9277=['createRequest','isLoggedIn','accessToken','update','1294287YWCLLs','3772890bjEBnS','%clientToken%','__esModule','4957936XLGLzb','339978YEfgHh','3864smdtiJ','10mdKHOd','axios','user','Inject','AuthSettingsService','721023ZoKXMd','get','../../../constants','constructor','design:paramtypes','decorate','(((.+)+)+)+$','replace','Bearer\x20','toString','apply','checkAccessToken','typedi','../../shared/services/app-settings.service','accessTokenExpiresAt','368SkHCVa','defineProperty','authSettings','AppSettingsService','getAccessToken','2DlZYtO','./git-api.service','search','Service','request','bitbucket','3223iFnyjT','getOwnPropertyDescriptor','grant_type=client_credentials','refreshToken','__decorate','post','BitbucketApiService','function','7ZCUGkl','GitApiService','29890SWTnUR','then','__param','__importDefault','BITBUCKET_REFRESH_TOKEN_URL','apiRequest','object','interceptors','metadata','data','default','Authorization','getHeaders'];a69_0x3e75=function(){return _0x6e9277;};return a69_0x3e75();}'use strict';var __decorate=this&&this[a69_0x1c0352(0x1d6)]||function(_0x1feb11,_0x538746,_0x4006ab,_0x20e48e){const _0x398964=a69_0x1c0352;var _0x4a1b74=arguments['length'],_0xb2e99b=_0x4a1b74<0x3?_0x538746:_0x20e48e===null?_0x20e48e=Object[_0x398964(0x1d3)](_0x538746,_0x4006ab):_0x20e48e,_0x456354;if(typeof Reflect===_0x398964(0x1e2)&&typeof Reflect['decorate']===_0x398964(0x1d9))_0xb2e99b=Reflect[_0x398964(0x1bd)](_0x1feb11,_0x538746,_0x4006ab,_0x20e48e);else{for(var _0x3fed90=_0x1feb11['length']-0x1;_0x3fed90>=0x0;_0x3fed90--)if(_0x456354=_0x1feb11[_0x3fed90])_0xb2e99b=(_0x4a1b74<0x3?_0x456354(_0xb2e99b):_0x4a1b74>0x3?_0x456354(_0x538746,_0x4006ab,_0xb2e99b):_0x456354(_0x538746,_0x4006ab))||_0xb2e99b;}return _0x4a1b74>0x3&&_0xb2e99b&&Object[_0x398964(0x1c8)](_0x538746,_0x4006ab,_0xb2e99b),_0xb2e99b;},__metadata=this&&this['__metadata']||function(_0x5c2786,_0x3167e3){const _0x1d4fdc=a69_0x1c0352;if(typeof Reflect===_0x1d4fdc(0x1e2)&&typeof Reflect[_0x1d4fdc(0x1e4)]===_0x1d4fdc(0x1d9))return Reflect[_0x1d4fdc(0x1e4)](_0x5c2786,_0x3167e3);},__param=this&&this[a69_0x1c0352(0x1de)]||function(_0x5416b9,_0x3f0110){return function(_0x3ce496,_0x127a98){_0x3f0110(_0x3ce496,_0x127a98,_0x5416b9);};},__importDefault=this&&this[a69_0x1c0352(0x1df)]||function(_0x3251c3){return _0x3251c3&&_0x3251c3['__esModule']?_0x3251c3:{'default':_0x3251c3};};Object[a69_0x1c0352(0x1c8)](exports,a69_0x1c0352(0x1af),{'value':!![]}),exports['BitbucketApiService']=void 0x0;function a69_0x5eee(_0x8a2a33,_0x44b414){const _0x548312=a69_0x3e75();return a69_0x5eee=function(_0x3f4c98,_0x3269a7){_0x3f4c98=_0x3f4c98-0x1a5;let _0x3e75e6=_0x548312[_0x3f4c98];return _0x3e75e6;},a69_0x5eee(_0x8a2a33,_0x44b414);}const constants_1=require(a69_0x1c0352(0x1ba)),app_settings_service_1=require(a69_0x1c0352(0x1c5)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),axios_1=__importDefault(require(a69_0x1c0352(0x1b4))),typedi_1=require(a69_0x1c0352(0x1c4)),git_api_service_1=require(a69_0x1c0352(0x1cd));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a69_0x1c0352(0x1db)]{constructor(_0x2666fe,_0x5bde03){const _0x398732=a69_0x1c0352;super(_0x2666fe),this[_0x398732(0x1c9)]=_0x5bde03,this[_0x398732(0x1c6)]=-0x1,this['MAX_REQUEST_PER_HOUR']=0x3e8,this[_0x398732(0x1d0)]=this[_0x398732(0x1a8)]();}get[a69_0x1c0352(0x1e1)](){const _0xa5fbf5=a69_0x1c0352;return this[_0xa5fbf5(0x1d0)];}[a69_0x1c0352(0x1a8)](_0x4136bf){const _0x52bca3=a69_0x1c0352,_0x55d920=super['createRequest'](_0x4136bf);return _0x55d920[_0x52bca3(0x1e3)]['request']['use'](async _0xe1b6e=>{const _0x3abdc6=_0x52bca3;return await this['checkAccessToken'](),_0xe1b6e['headers'][_0x3abdc6(0x1a6)]=_0x3abdc6(0x1c0)+this[_0x3abdc6(0x1aa)],_0xe1b6e;}),_0x55d920;}async[a69_0x1c0352(0x1c3)](){const _0x5e55f6=a69_0x1c0352;if(this[_0x5e55f6(0x1aa)]&&Date['now']()<this['accessTokenExpiresAt'])return;await this[_0x5e55f6(0x1d5)]();}async[a69_0x1c0352(0x1d5)](){const _0x1b7697=a69_0x1c0352,{clientToken:_0x2a6b65}=this['authSettings'][_0x1b7697(0x1d1)],_0x342430=await axios_1[_0x1b7697(0x1a5)][_0x1b7697(0x1d7)](constants_1[_0x1b7697(0x1e0)][_0x1b7697(0x1bf)](_0x1b7697(0x1ae),_0x2a6b65),_0x1b7697(0x1d4))[_0x1b7697(0x1dd)](_0xf4277f=>_0xf4277f[_0x1b7697(0x1e5)]),{expires_in:_0x3fef4,access_token:_0x22c0e6}=_0x342430;this[_0x1b7697(0x1c9)][_0x1b7697(0x1ab)]({'bitbucket':{...this[_0x1b7697(0x1c9)][_0x1b7697(0x1d1)],'token':_0x22c0e6}}),this[_0x1b7697(0x1c6)]=Date['now']()+_0x3fef4*0x3e8,this[_0x1b7697(0x1aa)]=_0x22c0e6;}[a69_0x1c0352(0x1a7)](){return{};}['getCurrentUser'](){const _0xc01a08=a69_0x1c0352;return this[_0xc01a08(0x1d0)][_0xc01a08(0x1b9)](_0xc01a08(0x1b5));}[a69_0x1c0352(0x1cb)](){return this['accessToken'];}async[a69_0x1c0352(0x1a9)](){return await this['getCurrentUser'](),!![];}};BitbucketApiService=__decorate([typedi_1[a69_0x1c0352(0x1cf)](),__param(0x0,typedi_1[a69_0x1c0352(0x1b6)]()),__metadata(a69_0x1c0352(0x1bc),[app_settings_service_1[a69_0x1c0352(0x1ca)],auth_settings_service_1[a69_0x1c0352(0x1b7)]])],BitbucketApiService),exports[a69_0x1c0352(0x1d8)]=BitbucketApiService;