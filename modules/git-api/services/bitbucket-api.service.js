const a63_0x5008=['27IgOpMF','object','48322TlwTIo','bitbucket','../../shared/services/app-settings.service','BitbucketApiService','update','typedi','__esModule','Inject','Bearer\x20','accessToken','grant_type=client_credentials','default','__metadata','AuthSettingsService','6806bxLLUz','getOwnPropertyDescriptor','defineProperty','../../shared/services/auth-settings.service','%clientToken%','isLoggedIn','design:paramtypes','GitApiService','getHeaders','1tOSPrG','./git-api.service','1dAQMQN','1159763TBVZyw','headers','../../../constants','BITBUCKET_REFRESH_TOKEN_URL','length','get','replace','refreshToken','function','axios','now','apiRequest','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','request','data','4250679syfOGC','accessTokenExpiresAt','post','authSettings','1NOuzRm','1223051mKpkBq','199kGPYEA','checkAccessToken','constructor','254901zTeCNp','metadata','getCurrentUser','interceptors','1NeFxeL','decorate','__param','932953nqgvga'];const a63_0x38c69d=a63_0x5f0a;(function(_0x3ddb6b,_0xc914c8){const _0x19403a=a63_0x5f0a;while(!![]){try{const _0x1f71a3=-parseInt(_0x19403a(0xda))*-parseInt(_0x19403a(0xfb))+parseInt(_0x19403a(0xfe))*-parseInt(_0x19403a(0x102))+-parseInt(_0x19403a(0xe6))+-parseInt(_0x19403a(0xe3))*parseInt(_0x19403a(0x105))+parseInt(_0x19403a(0x106))*-parseInt(_0x19403a(0x108))+-parseInt(_0x19403a(0xe5))*parseInt(_0x19403a(0xfa))+parseInt(_0x19403a(0xf9))*parseInt(_0x19403a(0xf5));if(_0x1f71a3===_0xc914c8)break;else _0x3ddb6b['push'](_0x3ddb6b['shift']());}catch(_0xbaaad2){_0x3ddb6b['push'](_0x3ddb6b['shift']());}}}(a63_0x5008,0xb226f));const a63_0x2846d8=function(){let _0x4476a8=!![];return function(_0x2b5975,_0x2975d8){const _0x31b443=_0x4476a8?function(){if(_0x2975d8){const _0xd13cd5=_0x2975d8['apply'](_0x2b5975,arguments);return _0x2975d8=null,_0xd13cd5;}}:function(){};return _0x4476a8=![],_0x31b443;};}(),a63_0x8056c6=a63_0x2846d8(this,function(){const _0x472ec4=function(){const _0x31bed8=a63_0x5f0a,_0x58617d=_0x472ec4[_0x31bed8(0xfd)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x31bed8(0xf2));return!_0x58617d['test'](a63_0x8056c6);};return _0x472ec4();});a63_0x8056c6();function a63_0x5f0a(_0x5636ec,_0x2ba5e6){return a63_0x5f0a=function(_0x2bfe28,_0x8056c6){_0x2bfe28=_0x2bfe28-0xd5;let _0x2846d8=a63_0x5008[_0x2bfe28];return _0x2846d8;},a63_0x5f0a(_0x5636ec,_0x2ba5e6);}'use strict';var __decorate=this&&this['__decorate']||function(_0x563ac4,_0x55e6d2,_0x105aa3,_0x285310){const _0x1b6bc9=a63_0x5f0a;var _0x2dcc1b=arguments['length'],_0x26b324=_0x2dcc1b<0x3?_0x55e6d2:_0x285310===null?_0x285310=Object[_0x1b6bc9(0xdb)](_0x55e6d2,_0x105aa3):_0x285310,_0x149071;if(typeof Reflect===_0x1b6bc9(0x107)&&typeof Reflect[_0x1b6bc9(0x103)]===_0x1b6bc9(0xee))_0x26b324=Reflect[_0x1b6bc9(0x103)](_0x563ac4,_0x55e6d2,_0x105aa3,_0x285310);else{for(var _0x423dc6=_0x563ac4[_0x1b6bc9(0xea)]-0x1;_0x423dc6>=0x0;_0x423dc6--)if(_0x149071=_0x563ac4[_0x423dc6])_0x26b324=(_0x2dcc1b<0x3?_0x149071(_0x26b324):_0x2dcc1b>0x3?_0x149071(_0x55e6d2,_0x105aa3,_0x26b324):_0x149071(_0x55e6d2,_0x105aa3))||_0x26b324;}return _0x2dcc1b>0x3&&_0x26b324&&Object[_0x1b6bc9(0xdc)](_0x55e6d2,_0x105aa3,_0x26b324),_0x26b324;},__metadata=this&&this[a63_0x38c69d(0xd8)]||function(_0x367863,_0xd621d2){const _0x37310d=a63_0x38c69d;if(typeof Reflect===_0x37310d(0x107)&&typeof Reflect['metadata']==='function')return Reflect[_0x37310d(0xff)](_0x367863,_0xd621d2);},__param=this&&this[a63_0x38c69d(0x104)]||function(_0x395b75,_0x4f9564){return function(_0x139c07,_0x5f52e6){_0x4f9564(_0x139c07,_0x5f52e6,_0x395b75);};},__importDefault=this&&this['__importDefault']||function(_0x3be3bf){const _0x4a8048=a63_0x38c69d;return _0x3be3bf&&_0x3be3bf[_0x4a8048(0x10e)]?_0x3be3bf:{'default':_0x3be3bf};};Object[a63_0x38c69d(0xdc)](exports,a63_0x38c69d(0x10e),{'value':!![]}),exports[a63_0x38c69d(0x10b)]=void 0x0;const constants_1=require(a63_0x38c69d(0xe8)),app_settings_service_1=require(a63_0x38c69d(0x10a)),auth_settings_service_1=require(a63_0x38c69d(0xdd)),axios_1=__importDefault(require(a63_0x38c69d(0xef))),typedi_1=require(a63_0x38c69d(0x10d)),git_api_service_1=require(a63_0x38c69d(0xe4));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x38c69d(0xe1)]{constructor(_0x47eabf,_0x14d241){const _0x133909=a63_0x38c69d;super(_0x47eabf),this[_0x133909(0xf8)]=_0x14d241,this[_0x133909(0xf6)]=-0x1,this[_0x133909(0xf3)]=this['createRequest']();}get[a63_0x38c69d(0xf1)](){const _0x4f568b=a63_0x38c69d;return this[_0x4f568b(0xf3)];}['createRequest'](_0x555acc){const _0x186584=a63_0x38c69d,_0x3c1f90=super['createRequest'](_0x555acc);return _0x3c1f90[_0x186584(0x101)]['request']['use'](async _0xa9a238=>{const _0x9acb8c=_0x186584;return await this[_0x9acb8c(0xfc)](),_0xa9a238[_0x9acb8c(0xe7)]['Authorization']=_0x9acb8c(0x110)+this[_0x9acb8c(0xd5)],_0xa9a238;}),_0x3c1f90;}async[a63_0x38c69d(0xfc)](){const _0x31ef4=a63_0x38c69d;if(this[_0x31ef4(0xd5)]&&Date[_0x31ef4(0xf0)]()<this[_0x31ef4(0xf6)])return;await this[_0x31ef4(0xed)]();}async[a63_0x38c69d(0xed)](){const _0x4073d7=a63_0x38c69d,{clientToken:_0x1db0f2}=this['authSettings'][_0x4073d7(0x109)],_0x3afee6=await axios_1[_0x4073d7(0xd7)][_0x4073d7(0xf7)](constants_1[_0x4073d7(0xe9)][_0x4073d7(0xec)](_0x4073d7(0xde),_0x1db0f2),_0x4073d7(0xd6))['then'](_0x491520=>_0x491520[_0x4073d7(0xf4)]),{expires_in:_0x3100fd,access_token:_0x280118}=_0x3afee6;this[_0x4073d7(0xf8)][_0x4073d7(0x10c)]({'bitbucket':{...this[_0x4073d7(0xf8)]['bitbucket'],'token':_0x280118}}),this[_0x4073d7(0xf6)]=Date['now']()+_0x3100fd*0x3e8,this[_0x4073d7(0xd5)]=_0x280118;}[a63_0x38c69d(0xe2)](){return{};}['getCurrentUser'](){const _0x4dbdb3=a63_0x38c69d;return this[_0x4dbdb3(0xf3)][_0x4dbdb3(0xeb)]('user');}async[a63_0x38c69d(0xdf)](){const _0x188119=a63_0x38c69d;return await this[_0x188119(0x100)](),!![];}};BitbucketApiService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a63_0x38c69d(0x10f)]()),__metadata(a63_0x38c69d(0xe0),[app_settings_service_1['AppSettingsService'],auth_settings_service_1[a63_0x38c69d(0xd9)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;