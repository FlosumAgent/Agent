const a63_0x523b=['refreshToken','interceptors','then','data','function','test','axios','getOwnPropertyDescriptor','grant_type=client_credentials','length','1BZfQxC','use','isLoggedIn','post','getHeaders','return\x20/\x22\x20+\x20this\x20+\x20\x22/','1fnalZf','replace','14571HRQPXk','__decorate','26919tpYvZH','now','accessTokenExpiresAt','BitbucketApiService','BITBUCKET_REFRESH_TOKEN_URL','GitApiService','__esModule','Inject','createRequest','__param','checkAccessToken','defineProperty','Authorization','1405655FNZQyO','./git-api.service','bitbucket','get','113etuFQx','user','accessToken','apply','typedi','headers','object','../../shared/services/auth-settings.service','decorate','../../shared/services/app-settings.service','request','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../../constants','metadata','289147jPAvof','6672721HglsWY','authSettings','1624511UmUhnX','apiRequest','Bearer\x20','1343724RprjSC','getCurrentUser'];const a63_0x3fd5dc=a63_0x2c21;(function(_0x53c4e0,_0x59c7f4){const _0x136a96=a63_0x2c21;while(!![]){try{const _0x320403=-parseInt(_0x136a96(0x1d5))*parseInt(_0x136a96(0x1ad))+-parseInt(_0x136a96(0x1cd))*-parseInt(_0x136a96(0x19c))+-parseInt(_0x136a96(0x1a9))+-parseInt(_0x136a96(0x1c1))+parseInt(_0x136a96(0x1d3))*-parseInt(_0x136a96(0x1be))+parseInt(_0x136a96(0x1bb))+parseInt(_0x136a96(0x1bc));if(_0x320403===_0x59c7f4)break;else _0x53c4e0['push'](_0x53c4e0['shift']());}catch(_0x370516){_0x53c4e0['push'](_0x53c4e0['shift']());}}}(a63_0x523b,0xec6b6));function a63_0x2c21(_0xd8b6d0,_0x33f322){return a63_0x2c21=function(_0x40e994,_0x4887e1){_0x40e994=_0x40e994-0x19c;let _0x252f2d=a63_0x523b[_0x40e994];return _0x252f2d;},a63_0x2c21(_0xd8b6d0,_0x33f322);}const a63_0x252f2d=function(){let _0x517fea=!![];return function(_0x2dea48,_0x49bffe){const _0x115871=_0x517fea?function(){const _0xe408d3=a63_0x2c21;if(_0x49bffe){const _0x1bbc23=_0x49bffe[_0xe408d3(0x1b0)](_0x2dea48,arguments);return _0x49bffe=null,_0x1bbc23;}}:function(){};return _0x517fea=![],_0x115871;};}(),a63_0x4887e1=a63_0x252f2d(this,function(){const _0x1ddfab=function(){const _0x3f6146=a63_0x2c21,_0x2e0b4f=_0x1ddfab['constructor'](_0x3f6146(0x1d2))()['constructor'](_0x3f6146(0x1b8));return!_0x2e0b4f[_0x3f6146(0x1c8)](a63_0x4887e1);};return _0x1ddfab();});a63_0x4887e1();'use strict';var __decorate=this&&this[a63_0x3fd5dc(0x1d6)]||function(_0x126ed8,_0x5815d7,_0x36e656,_0xc563ad){const _0x247237=a63_0x3fd5dc;var _0x24a211=arguments[_0x247237(0x1cc)],_0x5d8721=_0x24a211<0x3?_0x5815d7:_0xc563ad===null?_0xc563ad=Object[_0x247237(0x1ca)](_0x5815d7,_0x36e656):_0xc563ad,_0x24da91;if(typeof Reflect===_0x247237(0x1b3)&&typeof Reflect[_0x247237(0x1b5)]===_0x247237(0x1c7))_0x5d8721=Reflect[_0x247237(0x1b5)](_0x126ed8,_0x5815d7,_0x36e656,_0xc563ad);else{for(var _0x168c35=_0x126ed8[_0x247237(0x1cc)]-0x1;_0x168c35>=0x0;_0x168c35--)if(_0x24da91=_0x126ed8[_0x168c35])_0x5d8721=(_0x24a211<0x3?_0x24da91(_0x5d8721):_0x24a211>0x3?_0x24da91(_0x5815d7,_0x36e656,_0x5d8721):_0x24da91(_0x5815d7,_0x36e656))||_0x5d8721;}return _0x24a211>0x3&&_0x5d8721&&Object[_0x247237(0x1a7)](_0x5815d7,_0x36e656,_0x5d8721),_0x5d8721;},__metadata=this&&this['__metadata']||function(_0x140cc1,_0xd133c0){const _0x5d768a=a63_0x3fd5dc;if(typeof Reflect===_0x5d768a(0x1b3)&&typeof Reflect[_0x5d768a(0x1ba)]===_0x5d768a(0x1c7))return Reflect[_0x5d768a(0x1ba)](_0x140cc1,_0xd133c0);},__param=this&&this[a63_0x3fd5dc(0x1a5)]||function(_0x193c41,_0x430a07){return function(_0x10fadc,_0x1f76ad){_0x430a07(_0x10fadc,_0x1f76ad,_0x193c41);};},__importDefault=this&&this['__importDefault']||function(_0x5f1d6a){const _0x25600f=a63_0x3fd5dc;return _0x5f1d6a&&_0x5f1d6a[_0x25600f(0x1a2)]?_0x5f1d6a:{'default':_0x5f1d6a};};Object[a63_0x3fd5dc(0x1a7)](exports,a63_0x3fd5dc(0x1a2),{'value':!![]}),exports[a63_0x3fd5dc(0x19f)]=void 0x0;const constants_1=require(a63_0x3fd5dc(0x1b9)),app_settings_service_1=require(a63_0x3fd5dc(0x1b6)),auth_settings_service_1=require(a63_0x3fd5dc(0x1b4)),axios_1=__importDefault(require(a63_0x3fd5dc(0x1c9))),typedi_1=require(a63_0x3fd5dc(0x1b1)),git_api_service_1=require(a63_0x3fd5dc(0x1aa));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x3fd5dc(0x1a1)]{constructor(_0xee4ed5,_0xea3487){const _0x4f0105=a63_0x3fd5dc;super(_0xee4ed5),this['authSettings']=_0xea3487,this[_0x4f0105(0x19e)]=-0x1,this[_0x4f0105(0x1b7)]=this[_0x4f0105(0x1a4)]();}get[a63_0x3fd5dc(0x1bf)](){const _0x3c8b3c=a63_0x3fd5dc;return this[_0x3c8b3c(0x1b7)];}[a63_0x3fd5dc(0x1a4)](_0x5ef098){const _0x193062=a63_0x3fd5dc,_0x1ba972=super['createRequest'](_0x5ef098);return _0x1ba972[_0x193062(0x1c4)]['request'][_0x193062(0x1ce)](async _0x5e4689=>{const _0xa9ee99=_0x193062;return await this[_0xa9ee99(0x1a6)](),_0x5e4689[_0xa9ee99(0x1b2)][_0xa9ee99(0x1a8)]=_0xa9ee99(0x1c0)+this[_0xa9ee99(0x1af)],_0x5e4689;}),_0x1ba972;}async[a63_0x3fd5dc(0x1a6)](){const _0x4b3276=a63_0x3fd5dc;if(this[_0x4b3276(0x1af)]&&Date[_0x4b3276(0x19d)]()<this[_0x4b3276(0x19e)])return;await this[_0x4b3276(0x1c3)]();}async[a63_0x3fd5dc(0x1c3)](){const _0x1be4e1=a63_0x3fd5dc,{clientToken:_0x4e94d6}=this[_0x1be4e1(0x1bd)][_0x1be4e1(0x1ab)],_0x22ebbf=await axios_1['default'][_0x1be4e1(0x1d0)](constants_1[_0x1be4e1(0x1a0)][_0x1be4e1(0x1d4)]('%clientToken%',_0x4e94d6),_0x1be4e1(0x1cb))[_0x1be4e1(0x1c5)](_0x158a24=>_0x158a24[_0x1be4e1(0x1c6)]),{expires_in:_0x39fa8e,access_token:_0x48a108}=_0x22ebbf;this[_0x1be4e1(0x1bd)]['update']({'bitbucket':{...this[_0x1be4e1(0x1bd)]['bitbucket'],'token':_0x48a108}}),this['accessTokenExpiresAt']=Date[_0x1be4e1(0x19d)]()+_0x39fa8e*0x3e8,this[_0x1be4e1(0x1af)]=_0x48a108;}[a63_0x3fd5dc(0x1d1)](){return{};}[a63_0x3fd5dc(0x1c2)](){const _0x15b55b=a63_0x3fd5dc;return this[_0x15b55b(0x1b7)][_0x15b55b(0x1ac)](_0x15b55b(0x1ae));}async[a63_0x3fd5dc(0x1cf)](){const _0x246c28=a63_0x3fd5dc;return await this[_0x246c28(0x1c2)](),!![];}};BitbucketApiService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a63_0x3fd5dc(0x1a3)]()),__metadata('design:paramtypes',[app_settings_service_1['AppSettingsService'],auth_settings_service_1['AuthSettingsService']])],BitbucketApiService),exports[a63_0x3fd5dc(0x19f)]=BitbucketApiService;