const a64_0x16f8c7=a64_0x543d;(function(_0x25b00f,_0x5dfcbd){const _0x10d5bf=a64_0x543d,_0x10ffc8=_0x25b00f();while(!![]){try{const _0x1c26fc=-parseInt(_0x10d5bf(0x1f7))/0x1*(parseInt(_0x10d5bf(0x208))/0x2)+parseInt(_0x10d5bf(0x205))/0x3*(parseInt(_0x10d5bf(0x222))/0x4)+-parseInt(_0x10d5bf(0x207))/0x5*(-parseInt(_0x10d5bf(0x213))/0x6)+-parseInt(_0x10d5bf(0x214))/0x7*(parseInt(_0x10d5bf(0x203))/0x8)+-parseInt(_0x10d5bf(0x221))/0x9+-parseInt(_0x10d5bf(0x204))/0xa*(-parseInt(_0x10d5bf(0x1f5))/0xb)+parseInt(_0x10d5bf(0x1fd))/0xc;if(_0x1c26fc===_0x5dfcbd)break;else _0x10ffc8['push'](_0x10ffc8['shift']());}catch(_0x50023b){_0x10ffc8['push'](_0x10ffc8['shift']());}}}(a64_0x45de,0xbf8f6));const a64_0x3b08ee=function(){let _0x2dc34c=!![];return function(_0x45b3e4,_0x2a11f4){const _0x258fb7=_0x2dc34c?function(){if(_0x2a11f4){const _0x15fb35=_0x2a11f4['apply'](_0x45b3e4,arguments);return _0x2a11f4=null,_0x15fb35;}}:function(){};return _0x2dc34c=![],_0x258fb7;};}(),a64_0x1d74d7=a64_0x3b08ee(this,function(){const _0x5135a8=a64_0x543d;return a64_0x1d74d7['toString']()[_0x5135a8(0x21b)](_0x5135a8(0x215))['toString']()[_0x5135a8(0x1f1)](a64_0x1d74d7)[_0x5135a8(0x21b)]('(((.+)+)+)+$');});a64_0x1d74d7();'use strict';var __decorate=this&&this['__decorate']||function(_0x1f2c86,_0x31891f,_0x1e002a,_0x5acc80){const _0x1b7f8f=a64_0x543d;var _0x4a8f39=arguments['length'],_0x51f3d5=_0x4a8f39<0x3?_0x31891f:_0x5acc80===null?_0x5acc80=Object[_0x1b7f8f(0x1ef)](_0x31891f,_0x1e002a):_0x5acc80,_0x2c3656;if(typeof Reflect===_0x1b7f8f(0x1f2)&&typeof Reflect['decorate']===_0x1b7f8f(0x211))_0x51f3d5=Reflect[_0x1b7f8f(0x20a)](_0x1f2c86,_0x31891f,_0x1e002a,_0x5acc80);else{for(var _0x28b660=_0x1f2c86[_0x1b7f8f(0x202)]-0x1;_0x28b660>=0x0;_0x28b660--)if(_0x2c3656=_0x1f2c86[_0x28b660])_0x51f3d5=(_0x4a8f39<0x3?_0x2c3656(_0x51f3d5):_0x4a8f39>0x3?_0x2c3656(_0x31891f,_0x1e002a,_0x51f3d5):_0x2c3656(_0x31891f,_0x1e002a))||_0x51f3d5;}return _0x4a8f39>0x3&&_0x51f3d5&&Object[_0x1b7f8f(0x1fb)](_0x31891f,_0x1e002a,_0x51f3d5),_0x51f3d5;},__metadata=this&&this[a64_0x16f8c7(0x223)]||function(_0x33973d,_0x1724ed){const _0x38bdff=a64_0x16f8c7;if(typeof Reflect===_0x38bdff(0x1f2)&&typeof Reflect[_0x38bdff(0x21a)]==='function')return Reflect[_0x38bdff(0x21a)](_0x33973d,_0x1724ed);},__param=this&&this[a64_0x16f8c7(0x1ed)]||function(_0x5052df,_0x4980d6){return function(_0x5b5964,_0x3091f4){_0x4980d6(_0x5b5964,_0x3091f4,_0x5052df);};},__importDefault=this&&this[a64_0x16f8c7(0x21e)]||function(_0x2c3b00){const _0x391277=a64_0x16f8c7;return _0x2c3b00&&_0x2c3b00[_0x391277(0x1ec)]?_0x2c3b00:{'default':_0x2c3b00};};function a64_0x45de(){const _0x1de441=['38rBLtjp','post','decorate','refreshToken','headers','request','typedi','bitbucket','getHeaders','function','Bearer\x20','23892fjlFXh','3449313BjJGxG','(((.+)+)+)+$','then','grant_type=client_credentials','use','now','metadata','search','apiRequest','../../shared/services/auth-settings.service','__importDefault','BitbucketApiService','axios','10775466TSSfth','4AemVEc','__metadata','GitApiService','__esModule','__param','authSettings','getOwnPropertyDescriptor','%clientToken%','constructor','object','accessToken','./git-api.service','319mKbPpj','AppSettingsService','25178gyWane','../../shared/services/app-settings.service','getCurrentUser','checkAccessToken','defineProperty','get','12719688BPnwuj','BITBUCKET_REFRESH_TOKEN_URL','isLoggedIn','accessTokenExpiresAt','createRequest','length','24DaCtSK','539740FIUtJP','3748893alHCNk','MAX_REQUEST_PER_HOUR','80yopyGO'];a64_0x45de=function(){return _0x1de441;};return a64_0x45de();}Object[a64_0x16f8c7(0x1fb)](exports,a64_0x16f8c7(0x1ec),{'value':!![]}),exports[a64_0x16f8c7(0x21f)]=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require(a64_0x16f8c7(0x1f8)),auth_settings_service_1=require(a64_0x16f8c7(0x21d)),axios_1=__importDefault(require(a64_0x16f8c7(0x220))),typedi_1=require(a64_0x16f8c7(0x20e)),git_api_service_1=require(a64_0x16f8c7(0x1f4));function a64_0x543d(_0x5cc635,_0x4b4e7c){const _0x531f29=a64_0x45de();return a64_0x543d=function(_0x1d74d7,_0x3b08ee){_0x1d74d7=_0x1d74d7-0x1ec;let _0x45deac=_0x531f29[_0x1d74d7];return _0x45deac;},a64_0x543d(_0x5cc635,_0x4b4e7c);}let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a64_0x16f8c7(0x224)]{constructor(_0x1fc88e,_0x538a9b){const _0x36478b=a64_0x16f8c7;super(_0x1fc88e),this['authSettings']=_0x538a9b,this[_0x36478b(0x200)]=-0x1,this[_0x36478b(0x206)]=0x3e8,this[_0x36478b(0x20d)]=this['createRequest']();}get[a64_0x16f8c7(0x21c)](){const _0x5e6e64=a64_0x16f8c7;return this[_0x5e6e64(0x20d)];}[a64_0x16f8c7(0x201)](_0x195ada){const _0x9a57e0=a64_0x16f8c7,_0x3875a4=super[_0x9a57e0(0x201)](_0x195ada);return _0x3875a4['interceptors']['request'][_0x9a57e0(0x218)](async _0x143ac2=>{const _0x296a65=_0x9a57e0;return await this[_0x296a65(0x1fa)](),_0x143ac2[_0x296a65(0x20c)]['Authorization']=_0x296a65(0x212)+this[_0x296a65(0x1f3)],_0x143ac2;}),_0x3875a4;}async[a64_0x16f8c7(0x1fa)](){const _0x4fbab3=a64_0x16f8c7;if(this[_0x4fbab3(0x1f3)]&&Date[_0x4fbab3(0x219)]()<this[_0x4fbab3(0x200)])return;await this[_0x4fbab3(0x20b)]();}async[a64_0x16f8c7(0x20b)](){const _0x391409=a64_0x16f8c7,{clientToken:_0x275c09}=this[_0x391409(0x1ee)]['bitbucket'],_0x424217=await axios_1['default'][_0x391409(0x209)](constants_1[_0x391409(0x1fe)]['replace'](_0x391409(0x1f0),_0x275c09),_0x391409(0x217))[_0x391409(0x216)](_0x1f6dce=>_0x1f6dce['data']),{expires_in:_0x644a8f,access_token:_0x4b65f4}=_0x424217;this[_0x391409(0x1ee)]['update']({'bitbucket':{...this[_0x391409(0x1ee)][_0x391409(0x20f)],'token':_0x4b65f4}}),this[_0x391409(0x200)]=Date[_0x391409(0x219)]()+_0x644a8f*0x3e8,this['accessToken']=_0x4b65f4;}[a64_0x16f8c7(0x210)](){return{};}[a64_0x16f8c7(0x1f9)](){const _0x5cfba1=a64_0x16f8c7;return this[_0x5cfba1(0x20d)][_0x5cfba1(0x1fc)]('user');}async[a64_0x16f8c7(0x1ff)](){const _0x558773=a64_0x16f8c7;return await this[_0x558773(0x1f9)](),!![];}};BitbucketApiService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1['Inject']()),__metadata('design:paramtypes',[app_settings_service_1[a64_0x16f8c7(0x1f6)],auth_settings_service_1['AuthSettingsService']])],BitbucketApiService),exports[a64_0x16f8c7(0x21f)]=BitbucketApiService;