const a63_0x30a185=a63_0x5e91;(function(_0x19f2ad,_0x38fcca){const _0x2e809c=a63_0x5e91,_0x3a5bea=_0x19f2ad();while(!![]){try{const _0x2184c8=-parseInt(_0x2e809c(0x20b))/0x1*(-parseInt(_0x2e809c(0x1ef))/0x2)+parseInt(_0x2e809c(0x215))/0x3+-parseInt(_0x2e809c(0x1e0))/0x4*(parseInt(_0x2e809c(0x1ee))/0x5)+-parseInt(_0x2e809c(0x201))/0x6+parseInt(_0x2e809c(0x1df))/0x7*(-parseInt(_0x2e809c(0x1e1))/0x8)+parseInt(_0x2e809c(0x204))/0x9*(parseInt(_0x2e809c(0x206))/0xa)+-parseInt(_0x2e809c(0x1f5))/0xb*(-parseInt(_0x2e809c(0x205))/0xc);if(_0x2184c8===_0x38fcca)break;else _0x3a5bea['push'](_0x3a5bea['shift']());}catch(_0x27c51a){_0x3a5bea['push'](_0x3a5bea['shift']());}}}(a63_0x23cd,0xed46a));const a63_0x2d051f=function(){let _0x13ec76=!![];return function(_0x440267,_0x7d7b78){const _0x4b53fe=_0x13ec76?function(){const _0x3c4908=a63_0x5e91;if(_0x7d7b78){const _0x503cc2=_0x7d7b78[_0x3c4908(0x203)](_0x440267,arguments);return _0x7d7b78=null,_0x503cc2;}}:function(){};return _0x13ec76=![],_0x4b53fe;};}(),a63_0x232645=a63_0x2d051f(this,function(){const _0x3f212e=a63_0x5e91;return a63_0x232645[_0x3f212e(0x1fa)]()[_0x3f212e(0x1fd)](_0x3f212e(0x1f7))[_0x3f212e(0x1fa)]()['constructor'](a63_0x232645)[_0x3f212e(0x1fd)](_0x3f212e(0x1f7));});function a63_0x5e91(_0x1f51c3,_0x213524){const _0x1509e4=a63_0x23cd();return a63_0x5e91=function(_0x232645,_0x2d051f){_0x232645=_0x232645-0x1de;let _0x23cde9=_0x1509e4[_0x232645];return _0x23cde9;},a63_0x5e91(_0x1f51c3,_0x213524);}a63_0x232645();'use strict';var __decorate=this&&this[a63_0x30a185(0x213)]||function(_0x46df14,_0x26fdc6,_0x5ad470,_0x3f73f9){const _0x5df1b9=a63_0x30a185;var _0x1c2311=arguments['length'],_0x3fa6f5=_0x1c2311<0x3?_0x26fdc6:_0x3f73f9===null?_0x3f73f9=Object[_0x5df1b9(0x216)](_0x26fdc6,_0x5ad470):_0x3f73f9,_0x219cdf;if(typeof Reflect===_0x5df1b9(0x20f)&&typeof Reflect[_0x5df1b9(0x212)]==='function')_0x3fa6f5=Reflect[_0x5df1b9(0x212)](_0x46df14,_0x26fdc6,_0x5ad470,_0x3f73f9);else{for(var _0x21776f=_0x46df14['length']-0x1;_0x21776f>=0x0;_0x21776f--)if(_0x219cdf=_0x46df14[_0x21776f])_0x3fa6f5=(_0x1c2311<0x3?_0x219cdf(_0x3fa6f5):_0x1c2311>0x3?_0x219cdf(_0x26fdc6,_0x5ad470,_0x3fa6f5):_0x219cdf(_0x26fdc6,_0x5ad470))||_0x3fa6f5;}return _0x1c2311>0x3&&_0x3fa6f5&&Object['defineProperty'](_0x26fdc6,_0x5ad470,_0x3fa6f5),_0x3fa6f5;},__metadata=this&&this['__metadata']||function(_0x24ce44,_0x182ebe){const _0xd77440=a63_0x30a185;if(typeof Reflect===_0xd77440(0x20f)&&typeof Reflect[_0xd77440(0x1e7)]==='function')return Reflect['metadata'](_0x24ce44,_0x182ebe);},__param=this&&this[a63_0x30a185(0x207)]||function(_0x322878,_0x4cb543){return function(_0x116695,_0x3eede6){_0x4cb543(_0x116695,_0x3eede6,_0x322878);};},__importDefault=this&&this[a63_0x30a185(0x1eb)]||function(_0x14babe){const _0x59e9fc=a63_0x30a185;return _0x14babe&&_0x14babe[_0x59e9fc(0x20e)]?_0x14babe:{'default':_0x14babe};};Object[a63_0x30a185(0x1e9)](exports,a63_0x30a185(0x20e),{'value':!![]}),exports[a63_0x30a185(0x210)]=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require(a63_0x30a185(0x1f6)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),axios_1=__importDefault(require(a63_0x30a185(0x20a))),typedi_1=require(a63_0x30a185(0x1fe)),git_api_service_1=require(a63_0x30a185(0x209));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x30a185(0x1de)]{constructor(_0x4f2a39,_0x16c8d6){const _0x5f44bd=a63_0x30a185;super(_0x4f2a39),this[_0x5f44bd(0x1f1)]=_0x16c8d6,this[_0x5f44bd(0x1ea)]=-0x1,this['request']=this[_0x5f44bd(0x1f0)]();}get['apiRequest'](){return this['request'];}[a63_0x30a185(0x1f0)](_0x545973){const _0x951c47=a63_0x30a185,_0x3235e5=super[_0x951c47(0x1f0)](_0x545973);return _0x3235e5[_0x951c47(0x1f4)][_0x951c47(0x1f3)][_0x951c47(0x20d)](async _0x1ec1f5=>{const _0x5a76dd=_0x951c47;return await this[_0x5a76dd(0x1fc)](),_0x1ec1f5[_0x5a76dd(0x200)][_0x5a76dd(0x1e3)]='Bearer\x20'+this[_0x5a76dd(0x1f9)],_0x1ec1f5;}),_0x3235e5;}async[a63_0x30a185(0x1fc)](){const _0x33f840=a63_0x30a185;if(this[_0x33f840(0x1f9)]&&Date[_0x33f840(0x211)]()<this[_0x33f840(0x1ea)])return;await this[_0x33f840(0x1e8)]();}async[a63_0x30a185(0x1e8)](){const _0x2789cd=a63_0x30a185,{clientToken:_0x2d2cf4}=this[_0x2789cd(0x1f1)][_0x2789cd(0x208)],_0xd9aaf0=await axios_1[_0x2789cd(0x1f8)][_0x2789cd(0x1fb)](constants_1['BITBUCKET_REFRESH_TOKEN_URL'][_0x2789cd(0x20c)](_0x2789cd(0x1f2),_0x2d2cf4),_0x2789cd(0x1ed))['then'](_0x597430=>_0x597430[_0x2789cd(0x202)]),{expires_in:_0x545acc,access_token:_0x4a8301}=_0xd9aaf0;this[_0x2789cd(0x1f1)]['update']({'bitbucket':{...this[_0x2789cd(0x1f1)][_0x2789cd(0x208)],'token':_0x4a8301}}),this['accessTokenExpiresAt']=Date['now']()+_0x545acc*0x3e8,this[_0x2789cd(0x1f9)]=_0x4a8301;}['getHeaders'](){return{};}[a63_0x30a185(0x1ff)](){const _0xbabd4e=a63_0x30a185;return this[_0xbabd4e(0x1f3)][_0xbabd4e(0x1e5)]('user');}async[a63_0x30a185(0x214)](){const _0x3177e8=a63_0x30a185;return await this[_0x3177e8(0x1ff)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a63_0x30a185(0x1e2)])(),__param(0x0,(0x0,typedi_1[a63_0x30a185(0x1e6)])()),__metadata(a63_0x30a185(0x1ec),[app_settings_service_1['AppSettingsService'],auth_settings_service_1[a63_0x30a185(0x1e4)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;function a63_0x23cd(){const _0x22badf=['./git-api.service','axios','385NEVQiO','replace','use','__esModule','object','BitbucketApiService','now','decorate','__decorate','isLoggedIn','2368227PQJyeu','getOwnPropertyDescriptor','GitApiService','10980284lGPvhc','4xKZAIt','8JrFsIW','Service','Authorization','AuthSettingsService','get','Inject','metadata','refreshToken','defineProperty','accessTokenExpiresAt','__importDefault','design:paramtypes','grant_type=client_credentials','6315515ctbYjh','7678HoSAYM','createRequest','authSettings','%clientToken%','request','interceptors','1562jIhCsY','../../shared/services/app-settings.service','(((.+)+)+)+$','default','accessToken','toString','post','checkAccessToken','search','typedi','getCurrentUser','headers','2150370vmhQlA','data','apply','711WGoANN','124788HiHPnj','52900QLckNl','__param','bitbucket'];a63_0x23cd=function(){return _0x22badf;};return a63_0x23cd();}