const a63_0x1e0e=['bitbucket','../../shared/services/auth-settings.service','../../shared/services/app-settings.service','post','3BCIQob','typedi','now','data','replace','GitApiService','Bearer\x20','design:paramtypes','createRequest','checkAccessToken','40559LUUQKY','axios','headers','Service','isLoggedIn','function','use','91779inGRuo','%clientToken%','default','AuthSettingsService','2mkSJJW','user','BitbucketApiService','__importDefault','./git-api.service','authSettings','103481kqTdxI','__decorate','AppSettingsService','apiRequest','apply','getOwnPropertyDescriptor','4nsChFl','Authorization','metadata','2pNLCMf','length','__esModule','get','4UpBWwz','refreshToken','return\x20/\x22\x20+\x20this\x20+\x20\x22/','getHeaders','getCurrentUser','test','91009pybDeS','accessToken','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','request','Inject','accessTokenExpiresAt','decorate','609940occTCR','179937SHpowO','grant_type=client_credentials','constructor','140000PSYboA','update','object'];const a63_0x37bd39=a63_0x50ea;function a63_0x50ea(_0x107c3d,_0x36090e){return a63_0x50ea=function(_0x123c93,_0x5ad88c){_0x123c93=_0x123c93-0x1a7;let _0x50c3dd=a63_0x1e0e[_0x123c93];return _0x50c3dd;},a63_0x50ea(_0x107c3d,_0x36090e);}(function(_0x5d5791,_0x3b271a){const _0x8fa760=a63_0x50ea;while(!![]){try{const _0x5808c0=-parseInt(_0x8fa760(0x1c9))*-parseInt(_0x8fa760(0x1b2))+parseInt(_0x8fa760(0x1c2))*-parseInt(_0x8fa760(0x1cf))+-parseInt(_0x8fa760(0x1bc))*-parseInt(_0x8fa760(0x1b6))+parseInt(_0x8fa760(0x1c5))*-parseInt(_0x8fa760(0x1d7))+parseInt(_0x8fa760(0x1ab))*-parseInt(_0x8fa760(0x1e1))+-parseInt(_0x8fa760(0x1da))+parseInt(_0x8fa760(0x1d6));if(_0x5808c0===_0x3b271a)break;else _0x5d5791['push'](_0x5d5791['shift']());}catch(_0x4763d0){_0x5d5791['push'](_0x5d5791['shift']());}}}(a63_0x1e0e,0x3071f));const a63_0x50c3dd=function(){let _0x5e3841=!![];return function(_0x1699f5,_0x32280a){const _0x20b027=_0x5e3841?function(){const _0x373c63=a63_0x50ea;if(_0x32280a){const _0xba6752=_0x32280a[_0x373c63(0x1c0)](_0x1699f5,arguments);return _0x32280a=null,_0xba6752;}}:function(){};return _0x5e3841=![],_0x20b027;};}(),a63_0x5ad88c=a63_0x50c3dd(this,function(){const _0x158a02=function(){const _0x389615=a63_0x50ea,_0x7fa7eb=_0x158a02[_0x389615(0x1d9)](_0x389615(0x1cb))()[_0x389615(0x1d9)](_0x389615(0x1d1));return!_0x7fa7eb[_0x389615(0x1ce)](a63_0x5ad88c);};return _0x158a02();});a63_0x5ad88c();'use strict';var __decorate=this&&this[a63_0x37bd39(0x1bd)]||function(_0x595c9f,_0x55aba5,_0x5b9cf9,_0x199374){const _0x316b36=a63_0x37bd39;var _0x1bfaea=arguments['length'],_0x1440c5=_0x1bfaea<0x3?_0x55aba5:_0x199374===null?_0x199374=Object[_0x316b36(0x1c1)](_0x55aba5,_0x5b9cf9):_0x199374,_0x3ef1fb;if(typeof Reflect===_0x316b36(0x1dc)&&typeof Reflect[_0x316b36(0x1d5)]===_0x316b36(0x1b0))_0x1440c5=Reflect[_0x316b36(0x1d5)](_0x595c9f,_0x55aba5,_0x5b9cf9,_0x199374);else{for(var _0x243045=_0x595c9f[_0x316b36(0x1c6)]-0x1;_0x243045>=0x0;_0x243045--)if(_0x3ef1fb=_0x595c9f[_0x243045])_0x1440c5=(_0x1bfaea<0x3?_0x3ef1fb(_0x1440c5):_0x1bfaea>0x3?_0x3ef1fb(_0x55aba5,_0x5b9cf9,_0x1440c5):_0x3ef1fb(_0x55aba5,_0x5b9cf9))||_0x1440c5;}return _0x1bfaea>0x3&&_0x1440c5&&Object['defineProperty'](_0x55aba5,_0x5b9cf9,_0x1440c5),_0x1440c5;},__metadata=this&&this['__metadata']||function(_0x34edba,_0x5da6d8){const _0x52cbe2=a63_0x37bd39;if(typeof Reflect===_0x52cbe2(0x1dc)&&typeof Reflect[_0x52cbe2(0x1c4)]===_0x52cbe2(0x1b0))return Reflect[_0x52cbe2(0x1c4)](_0x34edba,_0x5da6d8);},__param=this&&this['__param']||function(_0x3a5ea5,_0x14b7cd){return function(_0x5827d8,_0x1a021){_0x14b7cd(_0x5827d8,_0x1a021,_0x3a5ea5);};},__importDefault=this&&this[a63_0x37bd39(0x1b9)]||function(_0x1165ea){const _0x3850ad=a63_0x37bd39;return _0x1165ea&&_0x1165ea[_0x3850ad(0x1c7)]?_0x1165ea:{'default':_0x1165ea};};Object['defineProperty'](exports,a63_0x37bd39(0x1c7),{'value':!![]}),exports[a63_0x37bd39(0x1b8)]=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require(a63_0x37bd39(0x1df)),auth_settings_service_1=require(a63_0x37bd39(0x1de)),axios_1=__importDefault(require(a63_0x37bd39(0x1ac))),typedi_1=require(a63_0x37bd39(0x1e2)),git_api_service_1=require(a63_0x37bd39(0x1ba));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x37bd39(0x1e6)]{constructor(_0x14d3ef,_0x3942f9){const _0x4c8e8e=a63_0x37bd39;super(_0x14d3ef),this[_0x4c8e8e(0x1bb)]=_0x3942f9,this[_0x4c8e8e(0x1d4)]=-0x1,this['request']=this[_0x4c8e8e(0x1a9)]();}get[a63_0x37bd39(0x1bf)](){const _0xf617ee=a63_0x37bd39;return this[_0xf617ee(0x1d2)];}[a63_0x37bd39(0x1a9)](_0x2ed972){const _0x1a679b=a63_0x37bd39,_0x137fb6=super[_0x1a679b(0x1a9)](_0x2ed972);return _0x137fb6['interceptors'][_0x1a679b(0x1d2)][_0x1a679b(0x1b1)](async _0x339a73=>{const _0x111816=_0x1a679b;return await this[_0x111816(0x1aa)](),_0x339a73[_0x111816(0x1ad)][_0x111816(0x1c3)]=_0x111816(0x1a7)+this[_0x111816(0x1d0)],_0x339a73;}),_0x137fb6;}async['checkAccessToken'](){const _0x25f3ab=a63_0x37bd39;if(this[_0x25f3ab(0x1d0)]&&Date[_0x25f3ab(0x1e3)]()<this[_0x25f3ab(0x1d4)])return;await this[_0x25f3ab(0x1ca)]();}async[a63_0x37bd39(0x1ca)](){const _0xbcaf8f=a63_0x37bd39,{clientToken:_0x861a92}=this[_0xbcaf8f(0x1bb)][_0xbcaf8f(0x1dd)],_0x2531e1=await axios_1[_0xbcaf8f(0x1b4)][_0xbcaf8f(0x1e0)](constants_1['BITBUCKET_REFRESH_TOKEN_URL'][_0xbcaf8f(0x1e5)](_0xbcaf8f(0x1b3),_0x861a92),_0xbcaf8f(0x1d8))['then'](_0x3d2fb1=>_0x3d2fb1[_0xbcaf8f(0x1e4)]),{expires_in:_0x10a2e1,access_token:_0x253943}=_0x2531e1;this[_0xbcaf8f(0x1bb)][_0xbcaf8f(0x1db)]({'bitbucket':{...this['authSettings'][_0xbcaf8f(0x1dd)],'token':_0x253943}}),this[_0xbcaf8f(0x1d4)]=Date['now']()+_0x10a2e1*0x3e8,this[_0xbcaf8f(0x1d0)]=_0x253943;}[a63_0x37bd39(0x1cc)](){return{};}['getCurrentUser'](){const _0x2f17b1=a63_0x37bd39;return this['request'][_0x2f17b1(0x1c8)](_0x2f17b1(0x1b7));}async[a63_0x37bd39(0x1af)](){const _0x31cd13=a63_0x37bd39;return await this[_0x31cd13(0x1cd)](),!![];}};BitbucketApiService=__decorate([typedi_1[a63_0x37bd39(0x1ae)](),__param(0x0,typedi_1[a63_0x37bd39(0x1d3)]()),__metadata(a63_0x37bd39(0x1a8),[app_settings_service_1[a63_0x37bd39(0x1be)],auth_settings_service_1[a63_0x37bd39(0x1b5)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;