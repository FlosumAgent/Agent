const a63_0x50fd=['261093aomCpq','%clientToken%','Authorization','getCurrentUser','grant_type=client_credentials','isLoggedIn','112733ETdqvP','BitbucketApiService','accessToken','then','29763VfRkkf','test','constructor','73gXTbeK','AuthSettingsService','Inject','accessTokenExpiresAt','authSettings','request','__param','post','5nItZSj','metadata','getOwnPropertyDescriptor','__metadata','__importDefault','headers','../../shared/services/app-settings.service','Service','object','__decorate','use','design:paramtypes','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','return\x20/\x22\x20+\x20this\x20+\x20\x22/','681942qvSnGZ','interceptors','data','replace','defineProperty','../../../constants','../../shared/services/auth-settings.service','now','BITBUCKET_REFRESH_TOKEN_URL','30689jZCbhv','createRequest','get','checkAccessToken','typedi','__esModule','function','5UFjeqO','4JVAAXh','user','getHeaders','./git-api.service','default','bitbucket','1049wXOuUT','refreshToken','6rVHJhM','109015fYBzKp'];const a63_0x575ab1=a63_0x5cd7;(function(_0x27e3a4,_0x244651){const _0x41d4c4=a63_0x5cd7;while(!![]){try{const _0x2a0737=-parseInt(_0x41d4c4(0x1a3))+parseInt(_0x41d4c4(0x1b3))*parseInt(_0x41d4c4(0x1bd))+-parseInt(_0x41d4c4(0x186))+parseInt(_0x41d4c4(0x1bc))*-parseInt(_0x41d4c4(0x18a))+-parseInt(_0x41d4c4(0x195))*parseInt(_0x41d4c4(0x1ac))+-parseInt(_0x41d4c4(0x18d))*parseInt(_0x41d4c4(0x1ba))+-parseInt(_0x41d4c4(0x1b4))*-parseInt(_0x41d4c4(0x1be));if(_0x2a0737===_0x244651)break;else _0x27e3a4['push'](_0x27e3a4['shift']());}catch(_0xaf51ee){_0x27e3a4['push'](_0x27e3a4['shift']());}}}(a63_0x50fd,0x5e47c));const a63_0x35b1b2=function(){let _0x4aa155=!![];return function(_0x47e2b9,_0x25688a){const _0x76f6b8=_0x4aa155?function(){if(_0x25688a){const _0x32cec1=_0x25688a['apply'](_0x47e2b9,arguments);return _0x25688a=null,_0x32cec1;}}:function(){};return _0x4aa155=![],_0x76f6b8;};}(),a63_0x545e0f=a63_0x35b1b2(this,function(){const _0x3f5c4a=function(){const _0x196faf=a63_0x5cd7,_0x4252b3=_0x3f5c4a[_0x196faf(0x18c)](_0x196faf(0x1a2))()[_0x196faf(0x18c)](_0x196faf(0x1a1));return!_0x4252b3[_0x196faf(0x18b)](a63_0x545e0f);};return _0x3f5c4a();});a63_0x545e0f();'use strict';var __decorate=this&&this[a63_0x575ab1(0x19e)]||function(_0xff16b0,_0x337d1b,_0x326711,_0x2f3453){const _0x5d50f4=a63_0x575ab1;var _0x5bdb9c=arguments['length'],_0x36417b=_0x5bdb9c<0x3?_0x337d1b:_0x2f3453===null?_0x2f3453=Object[_0x5d50f4(0x197)](_0x337d1b,_0x326711):_0x2f3453,_0xa7401d;if(typeof Reflect===_0x5d50f4(0x19d)&&typeof Reflect['decorate']===_0x5d50f4(0x1b2))_0x36417b=Reflect['decorate'](_0xff16b0,_0x337d1b,_0x326711,_0x2f3453);else{for(var _0x498048=_0xff16b0['length']-0x1;_0x498048>=0x0;_0x498048--)if(_0xa7401d=_0xff16b0[_0x498048])_0x36417b=(_0x5bdb9c<0x3?_0xa7401d(_0x36417b):_0x5bdb9c>0x3?_0xa7401d(_0x337d1b,_0x326711,_0x36417b):_0xa7401d(_0x337d1b,_0x326711))||_0x36417b;}return _0x5bdb9c>0x3&&_0x36417b&&Object[_0x5d50f4(0x1a7)](_0x337d1b,_0x326711,_0x36417b),_0x36417b;},__metadata=this&&this[a63_0x575ab1(0x198)]||function(_0x3d4b19,_0x881b6){const _0x1bfa42=a63_0x575ab1;if(typeof Reflect===_0x1bfa42(0x19d)&&typeof Reflect['metadata']===_0x1bfa42(0x1b2))return Reflect[_0x1bfa42(0x196)](_0x3d4b19,_0x881b6);},__param=this&&this[a63_0x575ab1(0x193)]||function(_0x295b85,_0x17ff90){return function(_0x557211,_0x3d28f2){_0x17ff90(_0x557211,_0x3d28f2,_0x295b85);};},__importDefault=this&&this[a63_0x575ab1(0x199)]||function(_0x493e34){const _0x444381=a63_0x575ab1;return _0x493e34&&_0x493e34[_0x444381(0x1b1)]?_0x493e34:{'default':_0x493e34};};Object[a63_0x575ab1(0x1a7)](exports,a63_0x575ab1(0x1b1),{'value':!![]}),exports[a63_0x575ab1(0x187)]=void 0x0;const constants_1=require(a63_0x575ab1(0x1a8)),app_settings_service_1=require(a63_0x575ab1(0x19b)),auth_settings_service_1=require(a63_0x575ab1(0x1a9)),axios_1=__importDefault(require('axios')),typedi_1=require(a63_0x575ab1(0x1b0)),git_api_service_1=require(a63_0x575ab1(0x1b7));function a63_0x5cd7(_0x33e9e1,_0x2c7125){return a63_0x5cd7=function(_0x5cbca9,_0x545e0f){_0x5cbca9=_0x5cbca9-0x183;let _0x35b1b2=a63_0x50fd[_0x5cbca9];return _0x35b1b2;},a63_0x5cd7(_0x33e9e1,_0x2c7125);}let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x58d0e1,_0x50de1c){const _0x5e7944=a63_0x575ab1;super(_0x58d0e1),this['authSettings']=_0x50de1c,this[_0x5e7944(0x190)]=-0x1,this[_0x5e7944(0x192)]=this[_0x5e7944(0x1ad)]();}get['apiRequest'](){const _0x1e67b4=a63_0x575ab1;return this[_0x1e67b4(0x192)];}['createRequest'](_0x3fb434){const _0x568a0f=a63_0x575ab1,_0x2a23cf=super[_0x568a0f(0x1ad)](_0x3fb434);return _0x2a23cf[_0x568a0f(0x1a4)][_0x568a0f(0x192)][_0x568a0f(0x19f)](async _0x39d141=>{const _0x12a553=_0x568a0f;return await this[_0x12a553(0x1af)](),_0x39d141[_0x12a553(0x19a)][_0x12a553(0x1c0)]='Bearer\x20'+this['accessToken'],_0x39d141;}),_0x2a23cf;}async[a63_0x575ab1(0x1af)](){const _0x26d206=a63_0x575ab1;if(this[_0x26d206(0x188)]&&Date[_0x26d206(0x1aa)]()<this[_0x26d206(0x190)])return;await this['refreshToken']();}async[a63_0x575ab1(0x1bb)](){const _0x5ce775=a63_0x575ab1,{clientToken:_0x99c0e1}=this[_0x5ce775(0x191)][_0x5ce775(0x1b9)],_0x37eef7=await axios_1[_0x5ce775(0x1b8)][_0x5ce775(0x194)](constants_1[_0x5ce775(0x1ab)][_0x5ce775(0x1a6)](_0x5ce775(0x1bf),_0x99c0e1),_0x5ce775(0x184))[_0x5ce775(0x189)](_0x1120fb=>_0x1120fb[_0x5ce775(0x1a5)]),{expires_in:_0x53bbe7,access_token:_0x46b130}=_0x37eef7;this[_0x5ce775(0x191)]['update']({'bitbucket':{...this[_0x5ce775(0x191)][_0x5ce775(0x1b9)],'token':_0x46b130}}),this[_0x5ce775(0x190)]=Date[_0x5ce775(0x1aa)]()+_0x53bbe7*0x3e8,this['accessToken']=_0x46b130;}[a63_0x575ab1(0x1b6)](){return{};}[a63_0x575ab1(0x183)](){const _0x2f3830=a63_0x575ab1;return this[_0x2f3830(0x192)][_0x2f3830(0x1ae)](_0x2f3830(0x1b5));}async[a63_0x575ab1(0x185)](){try{return await this['getCurrentUser'](),!![];}catch(_0x15f25b){return![];}}};BitbucketApiService=__decorate([typedi_1[a63_0x575ab1(0x19c)](),__param(0x0,typedi_1[a63_0x575ab1(0x18f)]()),__metadata(a63_0x575ab1(0x1a0),[app_settings_service_1['AppSettingsService'],auth_settings_service_1[a63_0x575ab1(0x18e)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;