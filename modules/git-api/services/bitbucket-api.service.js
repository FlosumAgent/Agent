const a64_0x4a8e11=a64_0x5049;function a64_0x3141(){const _0x4cd36d=['4754826odYSqg','27444gYLzZz','data','Service','apiRequest','then','post','toString','bitbucket','user','BITBUCKET_REFRESH_TOKEN_URL','get','headers','use','decorate','11585AFNeCR','./git-api.service','888426ZCOfDO','10nivIwH','__importDefault','../../../constants','now','1859qpZFtO','grant_type=client_credentials','AuthSettingsService','constructor','BitbucketApiService','11nfoXXP','__param','%clientToken%','758484AyBLeG','59858DjZdMq','apply','function','axios','25TSVfkV','object','createRequest','search','accessToken','isLoggedIn','checkAccessToken','(((.+)+)+)+$','replace','144244IYVOpB','update','Bearer\x20','Authorization','defineProperty','request','refreshToken','Inject','getCurrentUser','default','authSettings','__decorate','AppSettingsService','GitApiService','1448hmkFOR','metadata','typedi','getHeaders','__esModule','__metadata','accessTokenExpiresAt'];a64_0x3141=function(){return _0x4cd36d;};return a64_0x3141();}function a64_0x5049(_0x8d10ff,_0x10334e){const _0x4a057a=a64_0x3141();return a64_0x5049=function(_0x62f7df,_0xe21202){_0x62f7df=_0x62f7df-0x90;let _0x314149=_0x4a057a[_0x62f7df];return _0x314149;},a64_0x5049(_0x8d10ff,_0x10334e);}(function(_0x49d0c6,_0x129ad3){const _0x121fa4=a64_0x5049,_0xe656f7=_0x49d0c6();while(!![]){try{const _0x51a31e=parseInt(_0x121fa4(0x9d))/0x1*(parseInt(_0x121fa4(0xa1))/0x2)+parseInt(_0x121fa4(0x93))/0x3+parseInt(_0x121fa4(0xae))/0x4*(parseInt(_0x121fa4(0xa5))/0x5)+parseInt(_0x121fa4(0xa0))/0x6+parseInt(_0x121fa4(0x91))/0x7*(parseInt(_0x121fa4(0xbc))/0x8)+-parseInt(_0x121fa4(0xc3))/0x9*(parseInt(_0x121fa4(0x94))/0xa)+parseInt(_0x121fa4(0x98))/0xb*(-parseInt(_0x121fa4(0xc4))/0xc);if(_0x51a31e===_0x129ad3)break;else _0xe656f7['push'](_0xe656f7['shift']());}catch(_0x2b4b6f){_0xe656f7['push'](_0xe656f7['shift']());}}}(a64_0x3141,0x4d592));const a64_0xe21202=function(){let _0x5a0df3=!![];return function(_0x36afd2,_0x2befae){const _0x2dbd03=_0x5a0df3?function(){const _0x283be4=a64_0x5049;if(_0x2befae){const _0x36d565=_0x2befae[_0x283be4(0xa2)](_0x36afd2,arguments);return _0x2befae=null,_0x36d565;}}:function(){};return _0x5a0df3=![],_0x2dbd03;};}(),a64_0x62f7df=a64_0xe21202(this,function(){const _0x3ce036=a64_0x5049;return a64_0x62f7df[_0x3ce036(0xca)]()[_0x3ce036(0xa8)](_0x3ce036(0xac))[_0x3ce036(0xca)]()[_0x3ce036(0x9b)](a64_0x62f7df)[_0x3ce036(0xa8)](_0x3ce036(0xac));});a64_0x62f7df();'use strict';var __decorate=this&&this[a64_0x4a8e11(0xb9)]||function(_0x455e29,_0x1e5475,_0x374e90,_0x23611e){const _0xc2b10=a64_0x4a8e11;var _0x408464=arguments['length'],_0x188086=_0x408464<0x3?_0x1e5475:_0x23611e===null?_0x23611e=Object['getOwnPropertyDescriptor'](_0x1e5475,_0x374e90):_0x23611e,_0x4146f3;if(typeof Reflect===_0xc2b10(0xa6)&&typeof Reflect[_0xc2b10(0x90)]===_0xc2b10(0xa3))_0x188086=Reflect[_0xc2b10(0x90)](_0x455e29,_0x1e5475,_0x374e90,_0x23611e);else{for(var _0x105e7a=_0x455e29['length']-0x1;_0x105e7a>=0x0;_0x105e7a--)if(_0x4146f3=_0x455e29[_0x105e7a])_0x188086=(_0x408464<0x3?_0x4146f3(_0x188086):_0x408464>0x3?_0x4146f3(_0x1e5475,_0x374e90,_0x188086):_0x4146f3(_0x1e5475,_0x374e90))||_0x188086;}return _0x408464>0x3&&_0x188086&&Object[_0xc2b10(0xb2)](_0x1e5475,_0x374e90,_0x188086),_0x188086;},__metadata=this&&this[a64_0x4a8e11(0xc1)]||function(_0x213526,_0x4feee8){const _0x20a198=a64_0x4a8e11;if(typeof Reflect===_0x20a198(0xa6)&&typeof Reflect[_0x20a198(0xbd)]===_0x20a198(0xa3))return Reflect[_0x20a198(0xbd)](_0x213526,_0x4feee8);},__param=this&&this[a64_0x4a8e11(0x9e)]||function(_0x291dfd,_0x1f9a63){return function(_0x56e78a,_0x30881e){_0x1f9a63(_0x56e78a,_0x30881e,_0x291dfd);};},__importDefault=this&&this[a64_0x4a8e11(0x95)]||function(_0x2d85a8){const _0x138e91=a64_0x4a8e11;return _0x2d85a8&&_0x2d85a8[_0x138e91(0xc0)]?_0x2d85a8:{'default':_0x2d85a8};};Object[a64_0x4a8e11(0xb2)](exports,a64_0x4a8e11(0xc0),{'value':!![]}),exports[a64_0x4a8e11(0x9c)]=void 0x0;const constants_1=require(a64_0x4a8e11(0x96)),app_settings_service_1=require('../../shared/services/app-settings.service'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),axios_1=__importDefault(require(a64_0x4a8e11(0xa4))),typedi_1=require(a64_0x4a8e11(0xbe)),git_api_service_1=require(a64_0x4a8e11(0x92));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a64_0x4a8e11(0xbb)]{constructor(_0x118d60,_0x8bc6c1){const _0x2b59ce=a64_0x4a8e11;super(_0x118d60),this[_0x2b59ce(0xb8)]=_0x8bc6c1,this[_0x2b59ce(0xc2)]=-0x1,this['MAX_REQUEST_PER_HOUR']=0x3e8,this[_0x2b59ce(0xb3)]=this[_0x2b59ce(0xa7)]();}get[a64_0x4a8e11(0xc7)](){return this['request'];}[a64_0x4a8e11(0xa7)](_0x143b92){const _0x3442d0=a64_0x4a8e11,_0xdf404d=super[_0x3442d0(0xa7)](_0x143b92);return _0xdf404d['interceptors']['request'][_0x3442d0(0xd0)](async _0x18df9e=>{const _0x3dc17c=_0x3442d0;return await this[_0x3dc17c(0xab)](),_0x18df9e[_0x3dc17c(0xcf)][_0x3dc17c(0xb1)]=_0x3dc17c(0xb0)+this[_0x3dc17c(0xa9)],_0x18df9e;}),_0xdf404d;}async[a64_0x4a8e11(0xab)](){const _0x24f99b=a64_0x4a8e11;if(this[_0x24f99b(0xa9)]&&Date[_0x24f99b(0x97)]()<this[_0x24f99b(0xc2)])return;await this['refreshToken']();}async[a64_0x4a8e11(0xb4)](){const _0x25c317=a64_0x4a8e11,{clientToken:_0x237cd4}=this[_0x25c317(0xb8)][_0x25c317(0xcb)],_0x41e870=await axios_1[_0x25c317(0xb7)][_0x25c317(0xc9)](constants_1[_0x25c317(0xcd)][_0x25c317(0xad)](_0x25c317(0x9f),_0x237cd4),_0x25c317(0x99))[_0x25c317(0xc8)](_0x20d104=>_0x20d104[_0x25c317(0xc5)]),{expires_in:_0x4c4766,access_token:_0x1fb181}=_0x41e870;this[_0x25c317(0xb8)][_0x25c317(0xaf)]({'bitbucket':{...this['authSettings'][_0x25c317(0xcb)],'token':_0x1fb181}}),this[_0x25c317(0xc2)]=Date[_0x25c317(0x97)]()+_0x4c4766*0x3e8,this[_0x25c317(0xa9)]=_0x1fb181;}[a64_0x4a8e11(0xbf)](){return{};}['getCurrentUser'](){const _0x14be5e=a64_0x4a8e11;return this['request'][_0x14be5e(0xce)](_0x14be5e(0xcc));}async[a64_0x4a8e11(0xaa)](){const _0x47b434=a64_0x4a8e11;return await this[_0x47b434(0xb6)](),!![];}};BitbucketApiService=__decorate([typedi_1[a64_0x4a8e11(0xc6)](),__param(0x0,typedi_1[a64_0x4a8e11(0xb5)]()),__metadata('design:paramtypes',[app_settings_service_1[a64_0x4a8e11(0xba)],auth_settings_service_1[a64_0x4a8e11(0x9a)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;