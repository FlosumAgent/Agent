const a69_0x3d8b20=a69_0x35d4;(function(_0x57d3e7,_0x17fe94){const _0x4d227c=a69_0x35d4,_0x12ac0e=_0x57d3e7();while(!![]){try{const _0x26a9bd=-parseInt(_0x4d227c(0x1e8))/0x1*(parseInt(_0x4d227c(0x1f2))/0x2)+-parseInt(_0x4d227c(0x1da))/0x3+-parseInt(_0x4d227c(0x1f4))/0x4*(parseInt(_0x4d227c(0x205))/0x5)+-parseInt(_0x4d227c(0x20b))/0x6+parseInt(_0x4d227c(0x1fb))/0x7*(-parseInt(_0x4d227c(0x207))/0x8)+parseInt(_0x4d227c(0x1e5))/0x9*(-parseInt(_0x4d227c(0x1ed))/0xa)+parseInt(_0x4d227c(0x1fc))/0xb;if(_0x26a9bd===_0x17fe94)break;else _0x12ac0e['push'](_0x12ac0e['shift']());}catch(_0xc3af7f){_0x12ac0e['push'](_0x12ac0e['shift']());}}}(a69_0x4a69,0xacd96));const a69_0x5bbacf=function(){let _0x3e87f1=!![];return function(_0xb6a6d5,_0x432d0f){const _0x1b45c6=_0x3e87f1?function(){const _0xd1ce5d=a69_0x35d4;if(_0x432d0f){const _0x14d702=_0x432d0f[_0xd1ce5d(0x212)](_0xb6a6d5,arguments);return _0x432d0f=null,_0x14d702;}}:function(){};return _0x3e87f1=![],_0x1b45c6;};}(),a69_0x21ec5b=a69_0x5bbacf(this,function(){const _0x246dc5=a69_0x35d4;return a69_0x21ec5b[_0x246dc5(0x1df)]()[_0x246dc5(0x1ea)]('(((.+)+)+)+$')['toString']()[_0x246dc5(0x20c)](a69_0x21ec5b)[_0x246dc5(0x1ea)](_0x246dc5(0x1f1));});a69_0x21ec5b();'use strict';var __decorate=this&&this[a69_0x3d8b20(0x1f9)]||function(_0xf0c499,_0x321927,_0x2ed38d,_0x2541ac){const _0x2efd20=a69_0x3d8b20;var _0x441cf3=arguments['length'],_0x16c3d9=_0x441cf3<0x3?_0x321927:_0x2541ac===null?_0x2541ac=Object[_0x2efd20(0x1dc)](_0x321927,_0x2ed38d):_0x2541ac,_0x3199e5;if(typeof Reflect==='object'&&typeof Reflect[_0x2efd20(0x1ef)]==='function')_0x16c3d9=Reflect['decorate'](_0xf0c499,_0x321927,_0x2ed38d,_0x2541ac);else{for(var _0x44be59=_0xf0c499[_0x2efd20(0x209)]-0x1;_0x44be59>=0x0;_0x44be59--)if(_0x3199e5=_0xf0c499[_0x44be59])_0x16c3d9=(_0x441cf3<0x3?_0x3199e5(_0x16c3d9):_0x441cf3>0x3?_0x3199e5(_0x321927,_0x2ed38d,_0x16c3d9):_0x3199e5(_0x321927,_0x2ed38d))||_0x16c3d9;}return _0x441cf3>0x3&&_0x16c3d9&&Object[_0x2efd20(0x210)](_0x321927,_0x2ed38d,_0x16c3d9),_0x16c3d9;},__metadata=this&&this[a69_0x3d8b20(0x1d9)]||function(_0x5cb011,_0x1812f7){const _0x458a9d=a69_0x3d8b20;if(typeof Reflect===_0x458a9d(0x1d7)&&typeof Reflect[_0x458a9d(0x20f)]===_0x458a9d(0x1ff))return Reflect[_0x458a9d(0x20f)](_0x5cb011,_0x1812f7);},__param=this&&this[a69_0x3d8b20(0x1db)]||function(_0xea1c36,_0x2e28c5){return function(_0x4200cd,_0x7b151){_0x2e28c5(_0x4200cd,_0x7b151,_0xea1c36);};},__importDefault=this&&this[a69_0x3d8b20(0x1d8)]||function(_0x3cc76f){const _0x516ae1=a69_0x3d8b20;return _0x3cc76f&&_0x3cc76f[_0x516ae1(0x1e9)]?_0x3cc76f:{'default':_0x3cc76f};};Object[a69_0x3d8b20(0x210)](exports,a69_0x3d8b20(0x1e9),{'value':!![]}),exports[a69_0x3d8b20(0x1dd)]=void 0x0;function a69_0x35d4(_0x47a000,_0x3cdca5){const _0x441367=a69_0x4a69();return a69_0x35d4=function(_0x21ec5b,_0x5bbacf){_0x21ec5b=_0x21ec5b-0x1d3;let _0x4a69a2=_0x441367[_0x21ec5b];return _0x4a69a2;},a69_0x35d4(_0x47a000,_0x3cdca5);}const constants_1=require(a69_0x3d8b20(0x1d3)),app_settings_service_1=require(a69_0x3d8b20(0x1de)),auth_settings_service_1=require(a69_0x3d8b20(0x1fa)),axios_1=__importDefault(require(a69_0x3d8b20(0x208))),typedi_1=require(a69_0x3d8b20(0x1f8)),git_api_service_1=require(a69_0x3d8b20(0x1e0));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x10d3ce,_0x508d40){const _0x7a261f=a69_0x3d8b20;super(_0x10d3ce),this[_0x7a261f(0x1e4)]=_0x508d40,this[_0x7a261f(0x1e6)]=-0x1,this[_0x7a261f(0x1e7)]=0x3e8,this[_0x7a261f(0x1e1)]=this[_0x7a261f(0x1f3)]();}get[a69_0x3d8b20(0x1f6)](){const _0x9f75ec=a69_0x3d8b20;return this[_0x9f75ec(0x1e1)];}['createRequest'](_0x587a4b){const _0x10afa8=a69_0x3d8b20,_0x321d60=super[_0x10afa8(0x1f3)](_0x587a4b);return _0x321d60[_0x10afa8(0x20a)][_0x10afa8(0x1e1)][_0x10afa8(0x206)](async _0x3e06c8=>{const _0x517feb=_0x10afa8;return await this[_0x517feb(0x1e3)](),_0x3e06c8[_0x517feb(0x1d6)]['Authorization']='Bearer\x20'+this['accessToken'],_0x3e06c8;}),_0x321d60;}async['checkAccessToken'](){const _0x2f4a8d=a69_0x3d8b20;if(this['accessToken']&&Date['now']()<this[_0x2f4a8d(0x1e6)])return;await this[_0x2f4a8d(0x201)]();}async['refreshToken'](){const _0x27c6d6=a69_0x3d8b20,{clientToken:_0x1b6a03}=this[_0x27c6d6(0x1e4)][_0x27c6d6(0x202)],_0x5680fc=await axios_1[_0x27c6d6(0x1d5)][_0x27c6d6(0x1d4)](constants_1[_0x27c6d6(0x211)][_0x27c6d6(0x1ee)](_0x27c6d6(0x204),_0x1b6a03),_0x27c6d6(0x1f7))['then'](_0x4f1cf0=>_0x4f1cf0['data']),{expires_in:_0x36a21b,access_token:_0x43925b}=_0x5680fc;this[_0x27c6d6(0x1e4)][_0x27c6d6(0x203)]({'bitbucket':{...this[_0x27c6d6(0x1e4)][_0x27c6d6(0x202)],'token':_0x43925b}}),this[_0x27c6d6(0x1e6)]=Date[_0x27c6d6(0x1f0)]()+_0x36a21b*0x3e8,this[_0x27c6d6(0x1fd)]=_0x43925b;}[a69_0x3d8b20(0x20e)](){return{};}['getCurrentUser'](){return this['request']['get']('user');}[a69_0x3d8b20(0x1f5)](){return this['accessToken'];}async['isLoggedIn'](){const _0x3148e8=a69_0x3d8b20;return await this[_0x3148e8(0x1eb)](),!![];}};function a69_0x4a69(){const _0x47365b=['refreshToken','bitbucket','update','%clientToken%','5yvKAmr','use','72kMhwPG','axios','length','interceptors','4417008kmdEfe','constructor','design:paramtypes','getHeaders','metadata','defineProperty','BITBUCKET_REFRESH_TOKEN_URL','apply','../../../constants','post','default','headers','object','__importDefault','__metadata','2940753JZcWCC','__param','getOwnPropertyDescriptor','BitbucketApiService','../../shared/services/app-settings.service','toString','./git-api.service','request','Service','checkAccessToken','authSettings','207027xWIWZg','accessTokenExpiresAt','MAX_REQUEST_PER_HOUR','1206223DxkyVo','__esModule','search','getCurrentUser','AuthSettingsService','530bDhlHK','replace','decorate','now','(((.+)+)+)+$','2ekvDYm','createRequest','4868392ZgIezQ','getAccessToken','apiRequest','grant_type=client_credentials','typedi','__decorate','../../shared/services/auth-settings.service','386666fFAsbN','72204341vidGzF','accessToken','AppSettingsService','function','Inject'];a69_0x4a69=function(){return _0x47365b;};return a69_0x4a69();}BitbucketApiService=__decorate([typedi_1[a69_0x3d8b20(0x1e2)](),__param(0x0,typedi_1[a69_0x3d8b20(0x200)]()),__metadata(a69_0x3d8b20(0x20d),[app_settings_service_1[a69_0x3d8b20(0x1fe)],auth_settings_service_1[a69_0x3d8b20(0x1ec)]])],BitbucketApiService),exports[a69_0x3d8b20(0x1dd)]=BitbucketApiService;