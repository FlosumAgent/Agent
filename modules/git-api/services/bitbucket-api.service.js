const a64_0x5b43f7=a64_0x24e6;(function(_0xc2a695,_0x2a0c36){const _0x4bb1a5=a64_0x24e6,_0x57c207=_0xc2a695();while(!![]){try{const _0x55488d=parseInt(_0x4bb1a5(0xf8))/0x1*(-parseInt(_0x4bb1a5(0x119))/0x2)+parseInt(_0x4bb1a5(0x10c))/0x3+-parseInt(_0x4bb1a5(0xe4))/0x4+-parseInt(_0x4bb1a5(0x108))/0x5*(-parseInt(_0x4bb1a5(0x10f))/0x6)+-parseInt(_0x4bb1a5(0xea))/0x7*(parseInt(_0x4bb1a5(0x106))/0x8)+-parseInt(_0x4bb1a5(0x11f))/0x9*(parseInt(_0x4bb1a5(0xf1))/0xa)+-parseInt(_0x4bb1a5(0x11a))/0xb*(-parseInt(_0x4bb1a5(0x116))/0xc);if(_0x55488d===_0x2a0c36)break;else _0x57c207['push'](_0x57c207['shift']());}catch(_0x4862ee){_0x57c207['push'](_0x57c207['shift']());}}}(a64_0x4976,0xdf779));const a64_0xfc0a7f=function(){let _0x22943a=!![];return function(_0x325187,_0x1bec5a){const _0x13309c=_0x22943a?function(){const _0x53c668=a64_0x24e6;if(_0x1bec5a){const _0x2767e7=_0x1bec5a[_0x53c668(0xff)](_0x325187,arguments);return _0x1bec5a=null,_0x2767e7;}}:function(){};return _0x22943a=![],_0x13309c;};}(),a64_0x37db12=a64_0xfc0a7f(this,function(){const _0x4d922a=a64_0x24e6;return a64_0x37db12[_0x4d922a(0x107)]()[_0x4d922a(0xed)](_0x4d922a(0xf4))[_0x4d922a(0x107)]()[_0x4d922a(0xfa)](a64_0x37db12)[_0x4d922a(0xed)](_0x4d922a(0xf4));});a64_0x37db12();'use strict';var __decorate=this&&this[a64_0x5b43f7(0x104)]||function(_0x1ed05f,_0x2ec5eb,_0x440517,_0x2e5305){const _0x228153=a64_0x5b43f7;var _0x3dee0a=arguments['length'],_0x515e85=_0x3dee0a<0x3?_0x2ec5eb:_0x2e5305===null?_0x2e5305=Object[_0x228153(0x11c)](_0x2ec5eb,_0x440517):_0x2e5305,_0x27dd8a;if(typeof Reflect===_0x228153(0xe9)&&typeof Reflect[_0x228153(0x115)]===_0x228153(0x10b))_0x515e85=Reflect[_0x228153(0x115)](_0x1ed05f,_0x2ec5eb,_0x440517,_0x2e5305);else{for(var _0xd3dcb1=_0x1ed05f[_0x228153(0x118)]-0x1;_0xd3dcb1>=0x0;_0xd3dcb1--)if(_0x27dd8a=_0x1ed05f[_0xd3dcb1])_0x515e85=(_0x3dee0a<0x3?_0x27dd8a(_0x515e85):_0x3dee0a>0x3?_0x27dd8a(_0x2ec5eb,_0x440517,_0x515e85):_0x27dd8a(_0x2ec5eb,_0x440517))||_0x515e85;}return _0x3dee0a>0x3&&_0x515e85&&Object[_0x228153(0xf6)](_0x2ec5eb,_0x440517,_0x515e85),_0x515e85;},__metadata=this&&this['__metadata']||function(_0xa48ec7,_0xc95e8b){const _0x59a0d5=a64_0x5b43f7;if(typeof Reflect==='object'&&typeof Reflect[_0x59a0d5(0xef)]==='function')return Reflect[_0x59a0d5(0xef)](_0xa48ec7,_0xc95e8b);},__param=this&&this[a64_0x5b43f7(0xfc)]||function(_0x5077d6,_0x53f1bd){return function(_0x3b1c52,_0x4c0a2e){_0x53f1bd(_0x3b1c52,_0x4c0a2e,_0x5077d6);};},__importDefault=this&&this[a64_0x5b43f7(0xe7)]||function(_0x34f216){return _0x34f216&&_0x34f216['__esModule']?_0x34f216:{'default':_0x34f216};};Object[a64_0x5b43f7(0xf6)](exports,'__esModule',{'value':!![]}),exports[a64_0x5b43f7(0x109)]=void 0x0;const constants_1=require(a64_0x5b43f7(0xe6)),app_settings_service_1=require(a64_0x5b43f7(0x113)),auth_settings_service_1=require(a64_0x5b43f7(0xf2)),axios_1=__importDefault(require(a64_0x5b43f7(0xec))),typedi_1=require(a64_0x5b43f7(0x110)),git_api_service_1=require('./git-api.service');let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a64_0x5b43f7(0xe5)]{constructor(_0x4cec95,_0x56c001){const _0x48f081=a64_0x5b43f7;super(_0x4cec95),this[_0x48f081(0x10e)]=_0x56c001,this[_0x48f081(0x105)]=-0x1,this[_0x48f081(0xeb)]=0x3e8,this[_0x48f081(0xf5)]=this['createRequest']();}get['apiRequest'](){const _0x4e7f9a=a64_0x5b43f7;return this[_0x4e7f9a(0xf5)];}[a64_0x5b43f7(0x11b)](_0x19412c){const _0x148480=a64_0x5b43f7,_0x2c4bb0=super['createRequest'](_0x19412c);return _0x2c4bb0['interceptors'][_0x148480(0xf5)][_0x148480(0xee)](async _0x2924db=>{const _0x27b4ad=_0x148480;return await this[_0x27b4ad(0xfe)](),_0x2924db['headers'][_0x27b4ad(0x10d)]='Bearer\x20'+this[_0x27b4ad(0xf0)],_0x2924db;}),_0x2c4bb0;}async[a64_0x5b43f7(0xfe)](){const _0xbb2226=a64_0x5b43f7;if(this[_0xbb2226(0xf0)]&&Date[_0xbb2226(0xf9)]()<this[_0xbb2226(0x105)])return;await this[_0xbb2226(0xf3)]();}async[a64_0x5b43f7(0xf3)](){const _0x1b52d7=a64_0x5b43f7,{clientToken:_0x4db0ca}=this['authSettings']['bitbucket'],_0x1f811a=await axios_1[_0x1b52d7(0xe8)][_0x1b52d7(0x11e)](constants_1[_0x1b52d7(0x100)][_0x1b52d7(0x11d)](_0x1b52d7(0x112),_0x4db0ca),_0x1b52d7(0x103))['then'](_0x51b428=>_0x51b428[_0x1b52d7(0x10a)]),{expires_in:_0x422e2f,access_token:_0x1fa82c}=_0x1f811a;this[_0x1b52d7(0x10e)][_0x1b52d7(0x102)]({'bitbucket':{...this[_0x1b52d7(0x10e)][_0x1b52d7(0xfb)],'token':_0x1fa82c}}),this[_0x1b52d7(0x105)]=Date[_0x1b52d7(0xf9)]()+_0x422e2f*0x3e8,this['accessToken']=_0x1fa82c;}[a64_0x5b43f7(0xfd)](){return{};}[a64_0x5b43f7(0x120)](){const _0x448fdd=a64_0x5b43f7;return this[_0x448fdd(0xf5)][_0x448fdd(0x114)](_0x448fdd(0x117));}async[a64_0x5b43f7(0x111)](){const _0x5aec92=a64_0x5b43f7;return await this[_0x5aec92(0x120)](),!![];}};function a64_0x24e6(_0x312086,_0x22199c){const _0x42d865=a64_0x4976();return a64_0x24e6=function(_0x37db12,_0xfc0a7f){_0x37db12=_0x37db12-0xe4;let _0x497664=_0x42d865[_0x37db12];return _0x497664;},a64_0x24e6(_0x312086,_0x22199c);}BitbucketApiService=__decorate([(0x0,typedi_1['Service'])(),__param(0x0,(0x0,typedi_1[a64_0x5b43f7(0xf7)])()),__metadata(a64_0x5b43f7(0x121),[app_settings_service_1['AppSettingsService'],auth_settings_service_1[a64_0x5b43f7(0x101)]])],BitbucketApiService),exports[a64_0x5b43f7(0x109)]=BitbucketApiService;function a64_0x4976(){const _0x3c87a0=['now','constructor','bitbucket','__param','getHeaders','checkAccessToken','apply','BITBUCKET_REFRESH_TOKEN_URL','AuthSettingsService','update','grant_type=client_credentials','__decorate','accessTokenExpiresAt','3104FlcwGk','toString','970MlwLbz','BitbucketApiService','data','function','3644484tDEbCT','Authorization','authSettings','1734KLmiij','typedi','isLoggedIn','%clientToken%','../../shared/services/app-settings.service','get','decorate','230724okWeNO','user','length','1333714WolTYE','3036vdGpeC','createRequest','getOwnPropertyDescriptor','replace','post','54UxyUlP','getCurrentUser','design:paramtypes','4643076RHCTiG','GitApiService','../../../constants','__importDefault','default','object','31080IAqOBx','MAX_REQUEST_PER_HOUR','axios','search','use','metadata','accessToken','2408370JpOopH','../../shared/services/auth-settings.service','refreshToken','(((.+)+)+)+$','request','defineProperty','Inject','2uIhXMa'];a64_0x4976=function(){return _0x3c87a0;};return a64_0x4976();}