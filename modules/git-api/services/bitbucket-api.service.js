const a67_0x4625=['%clientToken%','./git-api.service','authSettings','object','BITBUCKET_REFRESH_TOKEN_URL','return\x20/\x22\x20+\x20this\x20+\x20\x22/','accessToken','data','232842DesgXw','function','createRequest','get','10cVdqOI','user','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../../shared/services/auth-settings.service','accessTokenExpiresAt','checkAccessToken','2eEbusa','AuthSettingsService','249538CcVFvH','apply','GitApiService','getCurrentUser','__param','10171UWAYWj','../../shared/services/app-settings.service','default','1wkTJAD','__metadata','axios','BitbucketApiService','getOwnPropertyDescriptor','getHeaders','__importDefault','now','request','AppSettingsService','__esModule','replace','Inject','Authorization','bitbucket','refreshToken','1FHCPKR','length','defineProperty','125132RvteFX','design:paramtypes','483166mOPFiP','metadata','64033ZVvFYS','../../../constants','headers','222147qVxRpR'];const a67_0x3f71db=a67_0x12c0;(function(_0x42d459,_0x2ba9c1){const _0xc0d58f=a67_0x12c0;while(!![]){try{const _0x463079=-parseInt(_0xc0d58f(0x9c))*parseInt(_0xc0d58f(0xa4))+-parseInt(_0xc0d58f(0x82))+parseInt(_0xc0d58f(0x80))+parseInt(_0xc0d58f(0x7d))*-parseInt(_0xc0d58f(0x87))+parseInt(_0xc0d58f(0xa1))+-parseInt(_0xc0d58f(0x9a))*-parseInt(_0xc0d58f(0x90))+parseInt(_0xc0d58f(0x84))*parseInt(_0xc0d58f(0x94));if(_0x463079===_0x2ba9c1)break;else _0x42d459['push'](_0x42d459['shift']());}catch(_0x3d0130){_0x42d459['push'](_0x42d459['shift']());}}}(a67_0x4625,0x45f02));const a67_0x2d95e4=function(){let _0x11a82d=!![];return function(_0x379526,_0x15c723){const _0x1bf692=_0x11a82d?function(){const _0x1c988e=a67_0x12c0;if(_0x15c723){const _0x488be0=_0x15c723[_0x1c988e(0x9d)](_0x379526,arguments);return _0x15c723=null,_0x488be0;}}:function(){};return _0x11a82d=![],_0x1bf692;};}(),a67_0x474946=a67_0x2d95e4(this,function(){const _0x4db941=function(){const _0x31081b=a67_0x12c0,_0x274e2d=_0x4db941['constructor'](_0x31081b(0x8d))()['constructor'](_0x31081b(0x96));return!_0x274e2d['test'](a67_0x474946);};return _0x4db941();});a67_0x474946();'use strict';var __decorate=this&&this['__decorate']||function(_0x5239c0,_0x3dd1fb,_0x1aa2f8,_0x4ed50f){const _0x1b09f6=a67_0x12c0;var _0x5d72d1=arguments[_0x1b09f6(0x7e)],_0x21bfd3=_0x5d72d1<0x3?_0x3dd1fb:_0x4ed50f===null?_0x4ed50f=Object[_0x1b09f6(0xa8)](_0x3dd1fb,_0x1aa2f8):_0x4ed50f,_0x15fc56;if(typeof Reflect===_0x1b09f6(0x8b)&&typeof Reflect['decorate']===_0x1b09f6(0x91))_0x21bfd3=Reflect['decorate'](_0x5239c0,_0x3dd1fb,_0x1aa2f8,_0x4ed50f);else{for(var _0x19e26b=_0x5239c0[_0x1b09f6(0x7e)]-0x1;_0x19e26b>=0x0;_0x19e26b--)if(_0x15fc56=_0x5239c0[_0x19e26b])_0x21bfd3=(_0x5d72d1<0x3?_0x15fc56(_0x21bfd3):_0x5d72d1>0x3?_0x15fc56(_0x3dd1fb,_0x1aa2f8,_0x21bfd3):_0x15fc56(_0x3dd1fb,_0x1aa2f8))||_0x21bfd3;}return _0x5d72d1>0x3&&_0x21bfd3&&Object[_0x1b09f6(0x7f)](_0x3dd1fb,_0x1aa2f8,_0x21bfd3),_0x21bfd3;},__metadata=this&&this[a67_0x3f71db(0xa5)]||function(_0x1b0fa7,_0x475e82){const _0x2d2cb1=a67_0x3f71db;if(typeof Reflect===_0x2d2cb1(0x8b)&&typeof Reflect['metadata']===_0x2d2cb1(0x91))return Reflect[_0x2d2cb1(0x83)](_0x1b0fa7,_0x475e82);},__param=this&&this[a67_0x3f71db(0xa0)]||function(_0x8b3701,_0x28ca80){return function(_0x4da406,_0x2d7a37){_0x28ca80(_0x4da406,_0x2d7a37,_0x8b3701);};},__importDefault=this&&this[a67_0x3f71db(0xaa)]||function(_0x849298){const _0x281265=a67_0x3f71db;return _0x849298&&_0x849298[_0x281265(0x77)]?_0x849298:{'default':_0x849298};};Object[a67_0x3f71db(0x7f)](exports,a67_0x3f71db(0x77),{'value':!![]}),exports[a67_0x3f71db(0xa7)]=void 0x0;function a67_0x12c0(_0x34dad8,_0x2a901e){return a67_0x12c0=function(_0x375828,_0x474946){_0x375828=_0x375828-0x74;let _0x2d95e4=a67_0x4625[_0x375828];return _0x2d95e4;},a67_0x12c0(_0x34dad8,_0x2a901e);}const constants_1=require(a67_0x3f71db(0x85)),app_settings_service_1=require(a67_0x3f71db(0xa2)),auth_settings_service_1=require(a67_0x3f71db(0x97)),axios_1=__importDefault(require(a67_0x3f71db(0xa6))),typedi_1=require('typedi'),git_api_service_1=require(a67_0x3f71db(0x89));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a67_0x3f71db(0x9e)]{constructor(_0x937401,_0x91c01a){const _0x1b6aff=a67_0x3f71db;super(_0x937401),this[_0x1b6aff(0x8a)]=_0x91c01a,this[_0x1b6aff(0x98)]=-0x1,this[_0x1b6aff(0x75)]=this[_0x1b6aff(0x92)]();}get['apiRequest'](){const _0x4f363b=a67_0x3f71db;return this[_0x4f363b(0x75)];}[a67_0x3f71db(0x92)](_0x183f10){const _0x188392=super['createRequest'](_0x183f10);return _0x188392['interceptors']['request']['use'](async _0x2a2b99=>{const _0x156e8e=a67_0x12c0;return await this[_0x156e8e(0x99)](),_0x2a2b99[_0x156e8e(0x86)][_0x156e8e(0x7a)]='Bearer\x20'+this[_0x156e8e(0x8e)],_0x2a2b99;}),_0x188392;}async[a67_0x3f71db(0x99)](){const _0x3fe76a=a67_0x3f71db;if(this[_0x3fe76a(0x8e)]&&Date[_0x3fe76a(0x74)]()<this[_0x3fe76a(0x98)])return;await this[_0x3fe76a(0x7c)]();}async[a67_0x3f71db(0x7c)](){const _0x426f43=a67_0x3f71db,{clientToken:_0x303d79}=this[_0x426f43(0x8a)][_0x426f43(0x7b)],_0x597c82=await axios_1[_0x426f43(0xa3)]['post'](constants_1[_0x426f43(0x8c)][_0x426f43(0x78)](_0x426f43(0x88),_0x303d79),'grant_type=client_credentials')['then'](_0x222064=>_0x222064[_0x426f43(0x8f)]),{expires_in:_0x4a4eba,access_token:_0x2ad7a6}=_0x597c82;this[_0x426f43(0x8a)]['update']({'bitbucket':{...this[_0x426f43(0x8a)][_0x426f43(0x7b)],'token':_0x2ad7a6}}),this['accessTokenExpiresAt']=Date['now']()+_0x4a4eba*0x3e8,this['accessToken']=_0x2ad7a6;}[a67_0x3f71db(0xa9)](){return{};}[a67_0x3f71db(0x9f)](){const _0x5e9aea=a67_0x3f71db;return this[_0x5e9aea(0x75)][_0x5e9aea(0x93)](_0x5e9aea(0x95));}async['isLoggedIn'](){const _0x230aee=a67_0x3f71db;try{return await this[_0x230aee(0x9f)](),!![];}catch(_0x1eb3f8){return![];}}};BitbucketApiService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a67_0x3f71db(0x79)]()),__metadata(a67_0x3f71db(0x81),[app_settings_service_1[a67_0x3f71db(0x76)],auth_settings_service_1[a67_0x3f71db(0x9b)]])],BitbucketApiService),exports[a67_0x3f71db(0xa7)]=BitbucketApiService;