const a63_0x144c=['decorate','11ZuXZEH','now','16rQQuzd','6822jwWjHI','replace','isLoggedIn','function','defineProperty','authSettings','axios','GitApiService','then','692188KiZyzw','request','../../shared/services/auth-settings.service','Inject','refreshToken','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','use','apply','user','AuthSettingsService','design:paramtypes','366960GAjKab','BITBUCKET_REFRESH_TOKEN_URL','headers','./git-api.service','checkAccessToken','data','866511lnxntg','BitbucketApiService','grant_type=client_credentials','335ZqqXkK','return\x20/\x22\x20+\x20this\x20+\x20\x22/','235cJywgG','2817ooMuCf','Bearer\x20','../../shared/services/app-settings.service','../../../constants','object','__esModule','apiRequest','1fesZGU','__metadata','getHeaders','3771vqAKVa','typedi','interceptors','__decorate','post','length','default','createRequest','1ucofJJ','constructor','metadata','%clientToken%','update','47707fQUOWS','bitbucket','Authorization','getOwnPropertyDescriptor','AppSettingsService','getCurrentUser','accessToken','accessTokenExpiresAt'];const a63_0x37de68=a63_0x45ae;(function(_0x2ed379,_0x5d225c){const _0x4bb8af=a63_0x45ae;while(!![]){try{const _0x4fac84=parseInt(_0x4bb8af(0xdd))*-parseInt(_0x4bb8af(0xde))+-parseInt(_0x4bb8af(0xb8))*parseInt(_0x4bb8af(0xbb))+parseInt(_0x4bb8af(0xcd))*parseInt(_0x4bb8af(0xe7))+-parseInt(_0x4bb8af(0xc5))*-parseInt(_0x4bb8af(0xba))+-parseInt(_0x4bb8af(0xaf))+parseInt(_0x4bb8af(0xd2))*-parseInt(_0x4bb8af(0xdb))+parseInt(_0x4bb8af(0xb5))*parseInt(_0x4bb8af(0xc2));if(_0x4fac84===_0x5d225c)break;else _0x2ed379['push'](_0x2ed379['shift']());}catch(_0x52ed35){_0x2ed379['push'](_0x2ed379['shift']());}}}(a63_0x144c,0x7a24c));const a63_0x483fdc=function(){let _0x13a69d=!![];return function(_0x3f818c,_0x7df5ae){const _0x56751a=_0x13a69d?function(){const _0xb394d3=a63_0x45ae;if(_0x7df5ae){const _0x8a2b4=_0x7df5ae[_0xb394d3(0xab)](_0x3f818c,arguments);return _0x7df5ae=null,_0x8a2b4;}}:function(){};return _0x13a69d=![],_0x56751a;};}(),a63_0x50f754=a63_0x483fdc(this,function(){const _0x44d496=function(){const _0x18fc5e=a63_0x45ae,_0x2f6859=_0x44d496[_0x18fc5e(0xce)](_0x18fc5e(0xb9))()[_0x18fc5e(0xce)](_0x18fc5e(0xa9));return!_0x2f6859['test'](a63_0x50f754);};return _0x44d496();});a63_0x50f754();'use strict';var __decorate=this&&this[a63_0x37de68(0xc8)]||function(_0x4a33a8,_0x54098f,_0x22ccae,_0x410642){const _0x483b9d=a63_0x37de68;var _0x2b2723=arguments[_0x483b9d(0xca)],_0x33c087=_0x2b2723<0x3?_0x54098f:_0x410642===null?_0x410642=Object[_0x483b9d(0xd5)](_0x54098f,_0x22ccae):_0x410642,_0x17c747;if(typeof Reflect===_0x483b9d(0xbf)&&typeof Reflect[_0x483b9d(0xda)]===_0x483b9d(0xe1))_0x33c087=Reflect['decorate'](_0x4a33a8,_0x54098f,_0x22ccae,_0x410642);else{for(var _0x1bf950=_0x4a33a8[_0x483b9d(0xca)]-0x1;_0x1bf950>=0x0;_0x1bf950--)if(_0x17c747=_0x4a33a8[_0x1bf950])_0x33c087=(_0x2b2723<0x3?_0x17c747(_0x33c087):_0x2b2723>0x3?_0x17c747(_0x54098f,_0x22ccae,_0x33c087):_0x17c747(_0x54098f,_0x22ccae))||_0x33c087;}return _0x2b2723>0x3&&_0x33c087&&Object[_0x483b9d(0xe2)](_0x54098f,_0x22ccae,_0x33c087),_0x33c087;},__metadata=this&&this[a63_0x37de68(0xc3)]||function(_0x3bb9cd,_0x43292a){const _0x536af3=a63_0x37de68;if(typeof Reflect===_0x536af3(0xbf)&&typeof Reflect[_0x536af3(0xcf)]===_0x536af3(0xe1))return Reflect['metadata'](_0x3bb9cd,_0x43292a);},__param=this&&this['__param']||function(_0x443f9a,_0x4c0d4e){return function(_0x10602b,_0x3209e8){_0x4c0d4e(_0x10602b,_0x3209e8,_0x443f9a);};},__importDefault=this&&this['__importDefault']||function(_0x329bee){const _0x373033=a63_0x37de68;return _0x329bee&&_0x329bee[_0x373033(0xc0)]?_0x329bee:{'default':_0x329bee};};Object[a63_0x37de68(0xe2)](exports,a63_0x37de68(0xc0),{'value':!![]}),exports[a63_0x37de68(0xb6)]=void 0x0;const constants_1=require(a63_0x37de68(0xbe)),app_settings_service_1=require(a63_0x37de68(0xbd)),auth_settings_service_1=require(a63_0x37de68(0xe9)),axios_1=__importDefault(require(a63_0x37de68(0xe4))),typedi_1=require(a63_0x37de68(0xc6)),git_api_service_1=require(a63_0x37de68(0xb2));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x37de68(0xe5)]{constructor(_0x2c38c0,_0x132b1f){const _0x5b6cd4=a63_0x37de68;super(_0x2c38c0),this[_0x5b6cd4(0xe3)]=_0x132b1f,this[_0x5b6cd4(0xd9)]=-0x1,this[_0x5b6cd4(0xe8)]=this[_0x5b6cd4(0xcc)]();}get[a63_0x37de68(0xc1)](){return this['request'];}[a63_0x37de68(0xcc)](_0x31030c){const _0xa64190=a63_0x37de68,_0x483cc6=super[_0xa64190(0xcc)](_0x31030c);return _0x483cc6[_0xa64190(0xc7)][_0xa64190(0xe8)][_0xa64190(0xaa)](async _0x4c150=>{const _0x41e6e0=_0xa64190;return await this[_0x41e6e0(0xb3)](),_0x4c150[_0x41e6e0(0xb1)][_0x41e6e0(0xd4)]=_0x41e6e0(0xbc)+this['accessToken'],_0x4c150;}),_0x483cc6;}async['checkAccessToken'](){const _0x5dfaa0=a63_0x37de68;if(this[_0x5dfaa0(0xd8)]&&Date['now']()<this[_0x5dfaa0(0xd9)])return;await this['refreshToken']();}async[a63_0x37de68(0xa8)](){const _0x184e07=a63_0x37de68,{clientToken:_0x252ca7}=this[_0x184e07(0xe3)][_0x184e07(0xd3)],_0x281e52=await axios_1[_0x184e07(0xcb)][_0x184e07(0xc9)](constants_1[_0x184e07(0xb0)][_0x184e07(0xdf)](_0x184e07(0xd0),_0x252ca7),_0x184e07(0xb7))[_0x184e07(0xe6)](_0x496535=>_0x496535[_0x184e07(0xb4)]),{expires_in:_0x4192c2,access_token:_0x3044fa}=_0x281e52;this[_0x184e07(0xe3)][_0x184e07(0xd1)]({'bitbucket':{...this[_0x184e07(0xe3)]['bitbucket'],'token':_0x3044fa}}),this[_0x184e07(0xd9)]=Date[_0x184e07(0xdc)]()+_0x4192c2*0x3e8,this[_0x184e07(0xd8)]=_0x3044fa;}[a63_0x37de68(0xc4)](){return{};}[a63_0x37de68(0xd7)](){const _0x4d2cdc=a63_0x37de68;return this[_0x4d2cdc(0xe8)]['get'](_0x4d2cdc(0xac));}async[a63_0x37de68(0xe0)](){const _0x43a76b=a63_0x37de68;try{return await this[_0x43a76b(0xd7)](),!![];}catch(_0x136ad0){return![];}}};function a63_0x45ae(_0x3b5d5a,_0x1c6178){return a63_0x45ae=function(_0x242666,_0x50f754){_0x242666=_0x242666-0xa7;let _0x483fdc=a63_0x144c[_0x242666];return _0x483fdc;},a63_0x45ae(_0x3b5d5a,_0x1c6178);}BitbucketApiService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a63_0x37de68(0xa7)]()),__metadata(a63_0x37de68(0xae),[app_settings_service_1[a63_0x37de68(0xd6)],auth_settings_service_1[a63_0x37de68(0xad)]])],BitbucketApiService),exports[a63_0x37de68(0xb6)]=BitbucketApiService;