const a63_0x5036=['__metadata','refreshToken','GitApiService','__decorate','../../shared/services/auth-settings.service','return\x20/\x22\x20+\x20this\x20+\x20\x22/','apiRequest','BitbucketApiService','now','Bearer\x20','default','data','test','356226poBHLM','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','getCurrentUser','23KcYvZh','__importDefault','use','361905PhXUVP','23084KScnEH','BITBUCKET_REFRESH_TOKEN_URL','authSettings','598365QyMMnA','replace','typedi','function','getHeaders','Authorization','defineProperty','17EbNiPA','update','interceptors','__esModule','request','grant_type=client_credentials','./git-api.service','Inject','49305jKvLns','accessToken','33575mydqvi','2084595duAIlo','checkAccessToken','9iLLqAH','object','apply','bitbucket','createRequest','getOwnPropertyDescriptor','../../shared/services/app-settings.service','Service','isLoggedIn','accessTokenExpiresAt','user','headers','AppSettingsService','constructor','decorate','metadata','__param','then'];const a63_0x21a1dd=a63_0x5318;(function(_0x276102,_0x1d6c10){const _0x5a3313=a63_0x5318;while(!![]){try{const _0x2b26b7=-parseInt(_0x5a3313(0xb7))+parseInt(_0x5a3313(0x7e))+-parseInt(_0x5a3313(0xb1))+-parseInt(_0x5a3313(0x8d))*parseInt(_0x5a3313(0x92))+parseInt(_0x5a3313(0xb4))*-parseInt(_0x5a3313(0xb8))+parseInt(_0x5a3313(0x8f))*-parseInt(_0x5a3313(0x85))+parseInt(_0x5a3313(0x90));if(_0x2b26b7===_0x1d6c10)break;else _0x276102['push'](_0x276102['shift']());}catch(_0x377ee4){_0x276102['push'](_0x276102['shift']());}}}(a63_0x5036,0x66631));const a63_0x9192c0=function(){let _0x3e136b=!![];return function(_0xeaaac,_0x4152e4){const _0x4a8aa5=_0x3e136b?function(){const _0x155480=a63_0x5318;if(_0x4152e4){const _0x5883c1=_0x4152e4[_0x155480(0x94)](_0xeaaac,arguments);return _0x4152e4=null,_0x5883c1;}}:function(){};return _0x3e136b=![],_0x4a8aa5;};}(),a63_0xf2f0dd=a63_0x9192c0(this,function(){const _0x25ab5d=function(){const _0x48714b=a63_0x5318,_0x201d73=_0x25ab5d[_0x48714b(0x9f)](_0x48714b(0xa9))()[_0x48714b(0x9f)](_0x48714b(0xb2));return!_0x201d73[_0x48714b(0xb0)](a63_0xf2f0dd);};return _0x25ab5d();});a63_0xf2f0dd();'use strict';var __decorate=this&&this[a63_0x21a1dd(0xa7)]||function(_0x506299,_0x47116f,_0x2f26be,_0x55c3fb){const _0x18aaae=a63_0x21a1dd;var _0x4485e2=arguments['length'],_0x165a6f=_0x4485e2<0x3?_0x47116f:_0x55c3fb===null?_0x55c3fb=Object[_0x18aaae(0x97)](_0x47116f,_0x2f26be):_0x55c3fb,_0x35014e;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x18aaae(0x81))_0x165a6f=Reflect[_0x18aaae(0xa0)](_0x506299,_0x47116f,_0x2f26be,_0x55c3fb);else{for(var _0x50ce0f=_0x506299['length']-0x1;_0x50ce0f>=0x0;_0x50ce0f--)if(_0x35014e=_0x506299[_0x50ce0f])_0x165a6f=(_0x4485e2<0x3?_0x35014e(_0x165a6f):_0x4485e2>0x3?_0x35014e(_0x47116f,_0x2f26be,_0x165a6f):_0x35014e(_0x47116f,_0x2f26be))||_0x165a6f;}return _0x4485e2>0x3&&_0x165a6f&&Object[_0x18aaae(0x84)](_0x47116f,_0x2f26be,_0x165a6f),_0x165a6f;},__metadata=this&&this[a63_0x21a1dd(0xa4)]||function(_0x4a8b04,_0x4ea623){const _0x208b36=a63_0x21a1dd;if(typeof Reflect===_0x208b36(0x93)&&typeof Reflect[_0x208b36(0xa1)]===_0x208b36(0x81))return Reflect[_0x208b36(0xa1)](_0x4a8b04,_0x4ea623);},__param=this&&this[a63_0x21a1dd(0xa2)]||function(_0x13a55d,_0x4fd96a){return function(_0x48bd3e,_0x1d2c1a){_0x4fd96a(_0x48bd3e,_0x1d2c1a,_0x13a55d);};},__importDefault=this&&this[a63_0x21a1dd(0xb5)]||function(_0x9c2370){const _0x45304e=a63_0x21a1dd;return _0x9c2370&&_0x9c2370[_0x45304e(0x88)]?_0x9c2370:{'default':_0x9c2370};};Object[a63_0x21a1dd(0x84)](exports,'__esModule',{'value':!![]}),exports[a63_0x21a1dd(0xab)]=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require(a63_0x21a1dd(0x98)),auth_settings_service_1=require(a63_0x21a1dd(0xa8)),axios_1=__importDefault(require('axios')),typedi_1=require(a63_0x21a1dd(0x80)),git_api_service_1=require(a63_0x21a1dd(0x8b));function a63_0x5318(_0x10abfc,_0x2d7b5e){return a63_0x5318=function(_0x53e858,_0xf2f0dd){_0x53e858=_0x53e858-0x7d;let _0x9192c0=a63_0x5036[_0x53e858];return _0x9192c0;},a63_0x5318(_0x10abfc,_0x2d7b5e);}let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x21a1dd(0xa6)]{constructor(_0x462870,_0xb0a062){const _0x1513c2=a63_0x21a1dd;super(_0x462870),this[_0x1513c2(0x7d)]=_0xb0a062,this[_0x1513c2(0x9b)]=-0x1,this[_0x1513c2(0x89)]=this[_0x1513c2(0x96)]();}get[a63_0x21a1dd(0xaa)](){const _0x442329=a63_0x21a1dd;return this[_0x442329(0x89)];}[a63_0x21a1dd(0x96)](_0x363086){const _0x130ca2=a63_0x21a1dd,_0x4b8d13=super[_0x130ca2(0x96)](_0x363086);return _0x4b8d13[_0x130ca2(0x87)]['request'][_0x130ca2(0xb6)](async _0x28dfc7=>{const _0x266b07=_0x130ca2;return await this['checkAccessToken'](),_0x28dfc7[_0x266b07(0x9d)][_0x266b07(0x83)]=_0x266b07(0xad)+this[_0x266b07(0x8e)],_0x28dfc7;}),_0x4b8d13;}async[a63_0x21a1dd(0x91)](){const _0xf92503=a63_0x21a1dd;if(this[_0xf92503(0x8e)]&&Date[_0xf92503(0xac)]()<this['accessTokenExpiresAt'])return;await this[_0xf92503(0xa5)]();}async[a63_0x21a1dd(0xa5)](){const _0x4b95d5=a63_0x21a1dd,{clientToken:_0x52d1d5}=this[_0x4b95d5(0x7d)][_0x4b95d5(0x95)],_0x3d4860=await axios_1[_0x4b95d5(0xae)]['post'](constants_1[_0x4b95d5(0xb9)][_0x4b95d5(0x7f)]('%clientToken%',_0x52d1d5),_0x4b95d5(0x8a))[_0x4b95d5(0xa3)](_0x5746c2=>_0x5746c2[_0x4b95d5(0xaf)]),{expires_in:_0x5288e9,access_token:_0x1923bd}=_0x3d4860;this[_0x4b95d5(0x7d)][_0x4b95d5(0x86)]({'bitbucket':{...this['authSettings'][_0x4b95d5(0x95)],'token':_0x1923bd}}),this[_0x4b95d5(0x9b)]=Date[_0x4b95d5(0xac)]()+_0x5288e9*0x3e8,this[_0x4b95d5(0x8e)]=_0x1923bd;}[a63_0x21a1dd(0x82)](){return{};}[a63_0x21a1dd(0xb3)](){const _0x3f34a1=a63_0x21a1dd;return this[_0x3f34a1(0x89)]['get'](_0x3f34a1(0x9c));}async[a63_0x21a1dd(0x9a)](){return await this['getCurrentUser'](),!![];}};BitbucketApiService=__decorate([typedi_1[a63_0x21a1dd(0x99)](),__param(0x0,typedi_1[a63_0x21a1dd(0x8c)]()),__metadata('design:paramtypes',[app_settings_service_1[a63_0x21a1dd(0x9e)],auth_settings_service_1['AuthSettingsService']])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;