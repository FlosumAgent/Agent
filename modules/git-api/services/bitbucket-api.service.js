function a64_0x4b79(){const _0x20898a=['50yreEen','now','Bearer\x20','object','%clientToken%','119JLquMM','toString','use','function','2439354jUhUkG','__param','getHeaders','11664927oDJKXv','AppSettingsService','Authorization','accessToken','Service','AuthSettingsService','constructor','update','48002470OnynLL','authSettings','then','371370QiNjMU','BITBUCKET_REFRESH_TOKEN_URL','__decorate','519024YAFnsp','request','data','7265tULxkO','metadata','../../shared/services/app-settings.service','checkAccessToken','search','refreshToken','getCurrentUser','__esModule','get','bitbucket','headers','(((.+)+)+)+$','6101760RPTnYr','getOwnPropertyDescriptor','BitbucketApiService','default','defineProperty','accessTokenExpiresAt','Inject','createRequest','post','decorate','grant_type=client_credentials','design:paramtypes','4FneeCf','typedi','interceptors','length','GitApiService'];a64_0x4b79=function(){return _0x20898a;};return a64_0x4b79();}function a64_0x3d8b(_0x2e9883,_0x13bdbd){const _0x203baa=a64_0x4b79();return a64_0x3d8b=function(_0x4a020f,_0x33fb92){_0x4a020f=_0x4a020f-0x113;let _0x4b79e4=_0x203baa[_0x4a020f];return _0x4b79e4;},a64_0x3d8b(_0x2e9883,_0x13bdbd);}const a64_0x37d039=a64_0x3d8b;(function(_0x1bfbef,_0x27c703){const _0x3af5f6=a64_0x3d8b,_0x433abd=_0x1bfbef();while(!![]){try{const _0x135ae4=parseInt(_0x3af5f6(0x123))/0x1*(parseInt(_0x3af5f6(0x140))/0x2)+parseInt(_0x3af5f6(0x149))/0x3*(-parseInt(_0x3af5f6(0x13b))/0x4)+-parseInt(_0x3af5f6(0x12f))/0x5+parseInt(_0x3af5f6(0x11d))/0x6*(-parseInt(_0x3af5f6(0x145))/0x7)+parseInt(_0x3af5f6(0x120))/0x8+-parseInt(_0x3af5f6(0x14c))/0x9+parseInt(_0x3af5f6(0x11a))/0xa;if(_0x135ae4===_0x27c703)break;else _0x433abd['push'](_0x433abd['shift']());}catch(_0x50220c){_0x433abd['push'](_0x433abd['shift']());}}}(a64_0x4b79,0xa2582));const a64_0x33fb92=function(){let _0x10f21d=!![];return function(_0x157e55,_0x56c553){const _0x8c1868=_0x10f21d?function(){if(_0x56c553){const _0x147f8d=_0x56c553['apply'](_0x157e55,arguments);return _0x56c553=null,_0x147f8d;}}:function(){};return _0x10f21d=![],_0x8c1868;};}(),a64_0x4a020f=a64_0x33fb92(this,function(){const _0x1e9f12=a64_0x3d8b;return a64_0x4a020f[_0x1e9f12(0x146)]()[_0x1e9f12(0x127)]('(((.+)+)+)+$')[_0x1e9f12(0x146)]()[_0x1e9f12(0x118)](a64_0x4a020f)[_0x1e9f12(0x127)](_0x1e9f12(0x12e));});a64_0x4a020f();'use strict';var __decorate=this&&this[a64_0x37d039(0x11f)]||function(_0x3bebbe,_0x4c5e08,_0x2075d7,_0x5b7276){const _0x51a65e=a64_0x37d039;var _0x4fc6b5=arguments[_0x51a65e(0x13e)],_0x521563=_0x4fc6b5<0x3?_0x4c5e08:_0x5b7276===null?_0x5b7276=Object[_0x51a65e(0x130)](_0x4c5e08,_0x2075d7):_0x5b7276,_0x13bb6;if(typeof Reflect==='object'&&typeof Reflect[_0x51a65e(0x138)]===_0x51a65e(0x148))_0x521563=Reflect[_0x51a65e(0x138)](_0x3bebbe,_0x4c5e08,_0x2075d7,_0x5b7276);else{for(var _0x58ab09=_0x3bebbe[_0x51a65e(0x13e)]-0x1;_0x58ab09>=0x0;_0x58ab09--)if(_0x13bb6=_0x3bebbe[_0x58ab09])_0x521563=(_0x4fc6b5<0x3?_0x13bb6(_0x521563):_0x4fc6b5>0x3?_0x13bb6(_0x4c5e08,_0x2075d7,_0x521563):_0x13bb6(_0x4c5e08,_0x2075d7))||_0x521563;}return _0x4fc6b5>0x3&&_0x521563&&Object[_0x51a65e(0x133)](_0x4c5e08,_0x2075d7,_0x521563),_0x521563;},__metadata=this&&this['__metadata']||function(_0x5059f9,_0x1c0af9){const _0x278d51=a64_0x37d039;if(typeof Reflect===_0x278d51(0x143)&&typeof Reflect[_0x278d51(0x124)]===_0x278d51(0x148))return Reflect[_0x278d51(0x124)](_0x5059f9,_0x1c0af9);},__param=this&&this[a64_0x37d039(0x14a)]||function(_0x53361d,_0x29c6a4){return function(_0x326257,_0x192d5c){_0x29c6a4(_0x326257,_0x192d5c,_0x53361d);};},__importDefault=this&&this['__importDefault']||function(_0x52c6d3){const _0x3c8a66=a64_0x37d039;return _0x52c6d3&&_0x52c6d3[_0x3c8a66(0x12a)]?_0x52c6d3:{'default':_0x52c6d3};};Object[a64_0x37d039(0x133)](exports,a64_0x37d039(0x12a),{'value':!![]}),exports[a64_0x37d039(0x131)]=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require(a64_0x37d039(0x125)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),axios_1=__importDefault(require('axios')),typedi_1=require(a64_0x37d039(0x13c)),git_api_service_1=require('./git-api.service');let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a64_0x37d039(0x13f)]{constructor(_0x23c437,_0x193ab4){const _0x3f51fa=a64_0x37d039;super(_0x23c437),this[_0x3f51fa(0x11b)]=_0x193ab4,this[_0x3f51fa(0x134)]=-0x1,this['MAX_REQUEST_PER_HOUR']=0x3e8,this[_0x3f51fa(0x121)]=this[_0x3f51fa(0x136)]();}get['apiRequest'](){return this['request'];}[a64_0x37d039(0x136)](_0x569044){const _0x4e96be=a64_0x37d039,_0x149540=super[_0x4e96be(0x136)](_0x569044);return _0x149540[_0x4e96be(0x13d)][_0x4e96be(0x121)][_0x4e96be(0x147)](async _0xadb140=>{const _0x29eb61=_0x4e96be;return await this[_0x29eb61(0x126)](),_0xadb140[_0x29eb61(0x12d)][_0x29eb61(0x114)]=_0x29eb61(0x142)+this[_0x29eb61(0x115)],_0xadb140;}),_0x149540;}async[a64_0x37d039(0x126)](){const _0x2f141b=a64_0x37d039;if(this[_0x2f141b(0x115)]&&Date[_0x2f141b(0x141)]()<this[_0x2f141b(0x134)])return;await this[_0x2f141b(0x128)]();}async[a64_0x37d039(0x128)](){const _0x363265=a64_0x37d039,{clientToken:_0x188655}=this[_0x363265(0x11b)][_0x363265(0x12c)],_0x313389=await axios_1[_0x363265(0x132)][_0x363265(0x137)](constants_1[_0x363265(0x11e)]['replace'](_0x363265(0x144),_0x188655),_0x363265(0x139))[_0x363265(0x11c)](_0x513b92=>_0x513b92[_0x363265(0x122)]),{expires_in:_0x3cc0fc,access_token:_0x273f1c}=_0x313389;this[_0x363265(0x11b)][_0x363265(0x119)]({'bitbucket':{...this['authSettings']['bitbucket'],'token':_0x273f1c}}),this[_0x363265(0x134)]=Date[_0x363265(0x141)]()+_0x3cc0fc*0x3e8,this['accessToken']=_0x273f1c;}[a64_0x37d039(0x14b)](){return{};}[a64_0x37d039(0x129)](){const _0x3c770f=a64_0x37d039;return this[_0x3c770f(0x121)][_0x3c770f(0x12b)]('user');}async['isLoggedIn'](){const _0x358e0d=a64_0x37d039;return await this[_0x358e0d(0x129)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a64_0x37d039(0x116)])(),__param(0x0,(0x0,typedi_1[a64_0x37d039(0x135)])()),__metadata(a64_0x37d039(0x13a),[app_settings_service_1[a64_0x37d039(0x113)],auth_settings_service_1[a64_0x37d039(0x117)]])],BitbucketApiService),exports[a64_0x37d039(0x131)]=BitbucketApiService;