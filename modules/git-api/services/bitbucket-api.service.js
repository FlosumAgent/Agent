function a64_0x508e(){const _0x432615=['18949491tSnjFq','MAX_REQUEST_PER_HOUR','../../shared/services/auth-settings.service','search','isLoggedIn','authSettings','2Ejcsmp','6tGNJag','headers','../../shared/services/app-settings.service','use','get','Inject','__param','16120omduwK','../../../constants','__importDefault','8988rZCXzY','object','getCurrentUser','3647709eTFHLj','__esModule','accessTokenExpiresAt','metadata','BitbucketApiService','360635jsvNsI','axios','BITBUCKET_REFRESH_TOKEN_URL','defineProperty','interceptors','design:paramtypes','1831602NPujKh','GitApiService','AppSettingsService','8145iTDFUe','constructor','default','AuthSettingsService','post','then','decorate','./git-api.service','createRequest','user','now','length','toString','apiRequest','Authorization','data','request','(((.+)+)+)+$','8536anARqQ','refreshToken','checkAccessToken','3508828XnnegU','accessToken','bitbucket','typedi','__metadata'];a64_0x508e=function(){return _0x432615;};return a64_0x508e();}const a64_0x104204=a64_0x4d10;(function(_0x22fe92,_0x326586){const _0x3b2de0=a64_0x4d10,_0x509f71=_0x22fe92();while(!![]){try{const _0x559e36=-parseInt(_0x3b2de0(0xa7))/0x1*(-parseInt(_0x3b2de0(0xc0))/0x2)+parseInt(_0x3b2de0(0xb5))/0x3+-parseInt(_0x3b2de0(0xd8))/0x4+-parseInt(_0x3b2de0(0xba))/0x5*(parseInt(_0x3b2de0(0xa8))/0x6)+parseInt(_0x3b2de0(0xb2))/0x7*(-parseInt(_0x3b2de0(0xd5))/0x8)+parseInt(_0x3b2de0(0xc3))/0x9*(-parseInt(_0x3b2de0(0xaf))/0xa)+parseInt(_0x3b2de0(0xa1))/0xb;if(_0x559e36===_0x326586)break;else _0x509f71['push'](_0x509f71['shift']());}catch(_0x55d388){_0x509f71['push'](_0x509f71['shift']());}}}(a64_0x508e,0xf22dc));const a64_0x298c81=function(){let _0x2dd27a=!![];return function(_0x328079,_0x18cb28){const _0x27a3f6=_0x2dd27a?function(){if(_0x18cb28){const _0x22c55=_0x18cb28['apply'](_0x328079,arguments);return _0x18cb28=null,_0x22c55;}}:function(){};return _0x2dd27a=![],_0x27a3f6;};}(),a64_0x3f000d=a64_0x298c81(this,function(){const _0x42aa27=a64_0x4d10;return a64_0x3f000d[_0x42aa27(0xcf)]()[_0x42aa27(0xa4)](_0x42aa27(0xd4))['toString']()[_0x42aa27(0xc4)](a64_0x3f000d)['search'](_0x42aa27(0xd4));});a64_0x3f000d();function a64_0x4d10(_0x222bda,_0x152f71){const _0x1400ba=a64_0x508e();return a64_0x4d10=function(_0x3f000d,_0x298c81){_0x3f000d=_0x3f000d-0x9d;let _0x508e5c=_0x1400ba[_0x3f000d];return _0x508e5c;},a64_0x4d10(_0x222bda,_0x152f71);}'use strict';var __decorate=this&&this['__decorate']||function(_0x527c1c,_0x50df73,_0x1aafa1,_0x68da31){const _0x4c9c42=a64_0x4d10;var _0x526dbe=arguments[_0x4c9c42(0xce)],_0x2128fe=_0x526dbe<0x3?_0x50df73:_0x68da31===null?_0x68da31=Object['getOwnPropertyDescriptor'](_0x50df73,_0x1aafa1):_0x68da31,_0x593c6f;if(typeof Reflect===_0x4c9c42(0xb3)&&typeof Reflect[_0x4c9c42(0xc9)]==='function')_0x2128fe=Reflect[_0x4c9c42(0xc9)](_0x527c1c,_0x50df73,_0x1aafa1,_0x68da31);else{for(var _0x386489=_0x527c1c[_0x4c9c42(0xce)]-0x1;_0x386489>=0x0;_0x386489--)if(_0x593c6f=_0x527c1c[_0x386489])_0x2128fe=(_0x526dbe<0x3?_0x593c6f(_0x2128fe):_0x526dbe>0x3?_0x593c6f(_0x50df73,_0x1aafa1,_0x2128fe):_0x593c6f(_0x50df73,_0x1aafa1))||_0x2128fe;}return _0x526dbe>0x3&&_0x2128fe&&Object[_0x4c9c42(0xbd)](_0x50df73,_0x1aafa1,_0x2128fe),_0x2128fe;},__metadata=this&&this[a64_0x104204(0xa0)]||function(_0x2d386e,_0x2209e2){const _0x2c7118=a64_0x104204;if(typeof Reflect===_0x2c7118(0xb3)&&typeof Reflect[_0x2c7118(0xb8)]==='function')return Reflect[_0x2c7118(0xb8)](_0x2d386e,_0x2209e2);},__param=this&&this[a64_0x104204(0xae)]||function(_0x53e04b,_0x3948ea){return function(_0xe0e19b,_0x3a4b22){_0x3948ea(_0xe0e19b,_0x3a4b22,_0x53e04b);};},__importDefault=this&&this[a64_0x104204(0xb1)]||function(_0x47db96){const _0x361a74=a64_0x104204;return _0x47db96&&_0x47db96[_0x361a74(0xb6)]?_0x47db96:{'default':_0x47db96};};Object[a64_0x104204(0xbd)](exports,a64_0x104204(0xb6),{'value':!![]}),exports[a64_0x104204(0xb9)]=void 0x0;const constants_1=require(a64_0x104204(0xb0)),app_settings_service_1=require(a64_0x104204(0xaa)),auth_settings_service_1=require(a64_0x104204(0xa3)),axios_1=__importDefault(require(a64_0x104204(0xbb))),typedi_1=require(a64_0x104204(0x9f)),git_api_service_1=require(a64_0x104204(0xca));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a64_0x104204(0xc1)]{constructor(_0xa2dd9d,_0x3f68cd){const _0x1ad1bb=a64_0x104204;super(_0xa2dd9d),this[_0x1ad1bb(0xa6)]=_0x3f68cd,this[_0x1ad1bb(0xb7)]=-0x1,this[_0x1ad1bb(0xa2)]=0x3e8,this[_0x1ad1bb(0xd3)]=this['createRequest']();}get[a64_0x104204(0xd0)](){const _0x49d84b=a64_0x104204;return this[_0x49d84b(0xd3)];}[a64_0x104204(0xcb)](_0x91f198){const _0x35842e=a64_0x104204,_0x101d3c=super[_0x35842e(0xcb)](_0x91f198);return _0x101d3c[_0x35842e(0xbe)][_0x35842e(0xd3)][_0x35842e(0xab)](async _0x338aa7=>{const _0x24ba3c=_0x35842e;return await this[_0x24ba3c(0xd7)](),_0x338aa7[_0x24ba3c(0xa9)][_0x24ba3c(0xd1)]='Bearer\x20'+this['accessToken'],_0x338aa7;}),_0x101d3c;}async[a64_0x104204(0xd7)](){const _0x5ce3c3=a64_0x104204;if(this[_0x5ce3c3(0x9d)]&&Date[_0x5ce3c3(0xcd)]()<this[_0x5ce3c3(0xb7)])return;await this[_0x5ce3c3(0xd6)]();}async['refreshToken'](){const _0x302f02=a64_0x104204,{clientToken:_0x47efaf}=this[_0x302f02(0xa6)][_0x302f02(0x9e)],_0x381ef6=await axios_1[_0x302f02(0xc5)][_0x302f02(0xc7)](constants_1[_0x302f02(0xbc)]['replace']('%clientToken%',_0x47efaf),'grant_type=client_credentials')[_0x302f02(0xc8)](_0x5dfcdc=>_0x5dfcdc[_0x302f02(0xd2)]),{expires_in:_0x549e44,access_token:_0x1dd5cb}=_0x381ef6;this[_0x302f02(0xa6)]['update']({'bitbucket':{...this[_0x302f02(0xa6)][_0x302f02(0x9e)],'token':_0x1dd5cb}}),this[_0x302f02(0xb7)]=Date[_0x302f02(0xcd)]()+_0x549e44*0x3e8,this[_0x302f02(0x9d)]=_0x1dd5cb;}['getHeaders'](){return{};}[a64_0x104204(0xb4)](){const _0xa6f7bf=a64_0x104204;return this[_0xa6f7bf(0xd3)][_0xa6f7bf(0xac)](_0xa6f7bf(0xcc));}async[a64_0x104204(0xa5)](){const _0x32d966=a64_0x104204;return await this[_0x32d966(0xb4)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1['Service'])(),__param(0x0,(0x0,typedi_1[a64_0x104204(0xad)])()),__metadata(a64_0x104204(0xbf),[app_settings_service_1[a64_0x104204(0xc2)],auth_settings_service_1[a64_0x104204(0xc6)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;