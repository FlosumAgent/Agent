const a63_0x3d9f=['__param','refreshToken','392660OfybjZ','axios','18175eKIgwQ','__esModule','accessToken','design:paramtypes','then','post','test','./git-api.service','194733YSZLHN','AuthSettingsService','../../../constants','typedi','createRequest','789402UQaOsc','data','../../shared/services/app-settings.service','user','headers','getCurrentUser','request','GitApiService','AppSettingsService','BitbucketApiService','Bearer\x20','object','isLoggedIn','constructor','24221KKRPDW','__importDefault','interceptors','function','bitbucket','__decorate','799391EfDQGo','length','use','apply','apiRequest','authSettings','__metadata','metadata','accessTokenExpiresAt','Service','decorate','%clientToken%','get','update','defineProperty','BITBUCKET_REFRESH_TOKEN_URL','default','now','1340426ndlPPz','checkAccessToken','grant_type=client_credentials'];const a63_0x145548=a63_0x2e7c;(function(_0x37aa41,_0x584d7f){const _0x838d30=a63_0x2e7c;while(!![]){try{const _0x31c251=parseInt(_0x838d30(0xe7))+parseInt(_0x838d30(0xca))+-parseInt(_0x838d30(0xcc))+parseInt(_0x838d30(0xed))+-parseInt(_0x838d30(0xd4))+parseInt(_0x838d30(0xd9))+-parseInt(_0x838d30(0xc5));if(_0x31c251===_0x584d7f)break;else _0x37aa41['push'](_0x37aa41['shift']());}catch(_0x357c40){_0x37aa41['push'](_0x37aa41['shift']());}}}(a63_0x3d9f,0x6e6f4));function a63_0x2e7c(_0x4f8ac3,_0x2039ec){return a63_0x2e7c=function(_0x2ea606,_0xb73858){_0x2ea606=_0x2ea606-0xc0;let _0x2942ce=a63_0x3d9f[_0x2ea606];return _0x2942ce;},a63_0x2e7c(_0x4f8ac3,_0x2039ec);}const a63_0x2942ce=function(){let _0x51ca86=!![];return function(_0x5c82e1,_0x5d5501){const _0x131daa=_0x51ca86?function(){const _0x54868e=a63_0x2e7c;if(_0x5d5501){const _0x356f7b=_0x5d5501[_0x54868e(0xf0)](_0x5c82e1,arguments);return _0x5d5501=null,_0x356f7b;}}:function(){};return _0x51ca86=![],_0x131daa;};}(),a63_0xb73858=a63_0x2942ce(this,function(){const _0x43a0b4=function(){const _0x27d2ee=a63_0x2e7c,_0x23e35b=_0x43a0b4[_0x27d2ee(0xe6)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x23e35b[_0x27d2ee(0xd2)](a63_0xb73858);};return _0x43a0b4();});a63_0xb73858();'use strict';var __decorate=this&&this[a63_0x145548(0xec)]||function(_0x5e6c50,_0x244694,_0x139095,_0x34f768){const _0x3af357=a63_0x145548;var _0x1ce2c9=arguments[_0x3af357(0xee)],_0x3f3524=_0x1ce2c9<0x3?_0x244694:_0x34f768===null?_0x34f768=Object['getOwnPropertyDescriptor'](_0x244694,_0x139095):_0x34f768,_0x49e5ca;if(typeof Reflect===_0x3af357(0xe4)&&typeof Reflect['decorate']===_0x3af357(0xea))_0x3f3524=Reflect[_0x3af357(0xf7)](_0x5e6c50,_0x244694,_0x139095,_0x34f768);else{for(var _0x291fb4=_0x5e6c50[_0x3af357(0xee)]-0x1;_0x291fb4>=0x0;_0x291fb4--)if(_0x49e5ca=_0x5e6c50[_0x291fb4])_0x3f3524=(_0x1ce2c9<0x3?_0x49e5ca(_0x3f3524):_0x1ce2c9>0x3?_0x49e5ca(_0x244694,_0x139095,_0x3f3524):_0x49e5ca(_0x244694,_0x139095))||_0x3f3524;}return _0x1ce2c9>0x3&&_0x3f3524&&Object[_0x3af357(0xc1)](_0x244694,_0x139095,_0x3f3524),_0x3f3524;},__metadata=this&&this[a63_0x145548(0xf3)]||function(_0x1a92a5,_0x3322ab){const _0x4421f1=a63_0x145548;if(typeof Reflect===_0x4421f1(0xe4)&&typeof Reflect[_0x4421f1(0xf4)]===_0x4421f1(0xea))return Reflect['metadata'](_0x1a92a5,_0x3322ab);},__param=this&&this[a63_0x145548(0xc8)]||function(_0x48f5a5,_0x551fea){return function(_0x130e8e,_0x576756){_0x551fea(_0x130e8e,_0x576756,_0x48f5a5);};},__importDefault=this&&this[a63_0x145548(0xe8)]||function(_0x55587e){const _0x56f400=a63_0x145548;return _0x55587e&&_0x55587e[_0x56f400(0xcd)]?_0x55587e:{'default':_0x55587e};};Object[a63_0x145548(0xc1)](exports,'__esModule',{'value':!![]}),exports['BitbucketApiService']=void 0x0;const constants_1=require(a63_0x145548(0xd6)),app_settings_service_1=require(a63_0x145548(0xdb)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),axios_1=__importDefault(require(a63_0x145548(0xcb))),typedi_1=require(a63_0x145548(0xd7)),git_api_service_1=require(a63_0x145548(0xd3));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x145548(0xe0)]{constructor(_0x4c8398,_0x27544d){const _0x41ab43=a63_0x145548;super(_0x4c8398),this[_0x41ab43(0xf2)]=_0x27544d,this[_0x41ab43(0xf5)]=-0x1,this[_0x41ab43(0xdf)]=this[_0x41ab43(0xd8)]();}get[a63_0x145548(0xf1)](){const _0x286de8=a63_0x145548;return this[_0x286de8(0xdf)];}[a63_0x145548(0xd8)](_0x401d26){const _0x1c4f4b=a63_0x145548,_0x32aa00=super[_0x1c4f4b(0xd8)](_0x401d26);return _0x32aa00[_0x1c4f4b(0xe9)][_0x1c4f4b(0xdf)][_0x1c4f4b(0xef)](async _0x258d36=>{const _0x2e0d86=_0x1c4f4b;return await this[_0x2e0d86(0xc6)](),_0x258d36[_0x2e0d86(0xdd)]['Authorization']=_0x2e0d86(0xe3)+this['accessToken'],_0x258d36;}),_0x32aa00;}async['checkAccessToken'](){const _0x78190d=a63_0x145548;if(this[_0x78190d(0xce)]&&Date[_0x78190d(0xc4)]()<this[_0x78190d(0xf5)])return;await this[_0x78190d(0xc9)]();}async[a63_0x145548(0xc9)](){const _0x50ea6f=a63_0x145548,{clientToken:_0x5e03a6}=this[_0x50ea6f(0xf2)][_0x50ea6f(0xeb)],_0x555fce=await axios_1[_0x50ea6f(0xc3)][_0x50ea6f(0xd1)](constants_1[_0x50ea6f(0xc2)]['replace'](_0x50ea6f(0xf8),_0x5e03a6),_0x50ea6f(0xc7))[_0x50ea6f(0xd0)](_0x2b7125=>_0x2b7125[_0x50ea6f(0xda)]),{expires_in:_0x2a2b75,access_token:_0x37bd78}=_0x555fce;this['authSettings'][_0x50ea6f(0xc0)]({'bitbucket':{...this[_0x50ea6f(0xf2)][_0x50ea6f(0xeb)],'token':_0x37bd78}}),this[_0x50ea6f(0xf5)]=Date['now']()+_0x2a2b75*0x3e8,this[_0x50ea6f(0xce)]=_0x37bd78;}['getHeaders'](){return{};}[a63_0x145548(0xde)](){const _0x12add4=a63_0x145548;return this[_0x12add4(0xdf)][_0x12add4(0xf9)](_0x12add4(0xdc));}async[a63_0x145548(0xe5)](){const _0x42524c=a63_0x145548;try{return await this[_0x42524c(0xde)](),!![];}catch(_0x2f0adc){return![];}}};BitbucketApiService=__decorate([typedi_1[a63_0x145548(0xf6)](),__param(0x0,typedi_1['Inject']()),__metadata(a63_0x145548(0xcf),[app_settings_service_1[a63_0x145548(0xe1)],auth_settings_service_1[a63_0x145548(0xd5)]])],BitbucketApiService),exports[a63_0x145548(0xe2)]=BitbucketApiService;