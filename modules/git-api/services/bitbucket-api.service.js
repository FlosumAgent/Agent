const a64_0x1e1879=a64_0x55b4;(function(_0x180df4,_0x59e831){const _0x5e7597=a64_0x55b4,_0x5b4955=_0x180df4();while(!![]){try{const _0x815346=parseInt(_0x5e7597(0x190))/0x1*(-parseInt(_0x5e7597(0x19d))/0x2)+parseInt(_0x5e7597(0x173))/0x3*(-parseInt(_0x5e7597(0x186))/0x4)+-parseInt(_0x5e7597(0x1a0))/0x5*(-parseInt(_0x5e7597(0x18b))/0x6)+parseInt(_0x5e7597(0x18e))/0x7+-parseInt(_0x5e7597(0x176))/0x8+parseInt(_0x5e7597(0x18c))/0x9*(parseInt(_0x5e7597(0x172))/0xa)+parseInt(_0x5e7597(0x179))/0xb*(-parseInt(_0x5e7597(0x170))/0xc);if(_0x815346===_0x59e831)break;else _0x5b4955['push'](_0x5b4955['shift']());}catch(_0x18defb){_0x5b4955['push'](_0x5b4955['shift']());}}}(a64_0x3337,0x64f26));const a64_0x3ee8ab=function(){let _0x2553cb=!![];return function(_0x168913,_0x28089e){const _0x3fd7a0=_0x2553cb?function(){const _0x43933b=a64_0x55b4;if(_0x28089e){const _0x3e24a9=_0x28089e[_0x43933b(0x196)](_0x168913,arguments);return _0x28089e=null,_0x3e24a9;}}:function(){};return _0x2553cb=![],_0x3fd7a0;};}(),a64_0xb274a8=a64_0x3ee8ab(this,function(){const _0x21d5bd=a64_0x55b4;return a64_0xb274a8[_0x21d5bd(0x16f)]()[_0x21d5bd(0x1a6)]('(((.+)+)+)+$')['toString']()['constructor'](a64_0xb274a8)[_0x21d5bd(0x1a6)](_0x21d5bd(0x1a3));});a64_0xb274a8();'use strict';var __decorate=this&&this['__decorate']||function(_0x522f2e,_0x872893,_0x1cb36d,_0x34c9a5){const _0x2d3685=a64_0x55b4;var _0x1e2c22=arguments[_0x2d3685(0x18d)],_0x57597a=_0x1e2c22<0x3?_0x872893:_0x34c9a5===null?_0x34c9a5=Object[_0x2d3685(0x1a5)](_0x872893,_0x1cb36d):_0x34c9a5,_0x217d8a;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x2d3685(0x177))_0x57597a=Reflect[_0x2d3685(0x194)](_0x522f2e,_0x872893,_0x1cb36d,_0x34c9a5);else{for(var _0xd4a7e5=_0x522f2e[_0x2d3685(0x18d)]-0x1;_0xd4a7e5>=0x0;_0xd4a7e5--)if(_0x217d8a=_0x522f2e[_0xd4a7e5])_0x57597a=(_0x1e2c22<0x3?_0x217d8a(_0x57597a):_0x1e2c22>0x3?_0x217d8a(_0x872893,_0x1cb36d,_0x57597a):_0x217d8a(_0x872893,_0x1cb36d))||_0x57597a;}return _0x1e2c22>0x3&&_0x57597a&&Object[_0x2d3685(0x175)](_0x872893,_0x1cb36d,_0x57597a),_0x57597a;},__metadata=this&&this[a64_0x1e1879(0x17f)]||function(_0x22aec1,_0x3f9d49){const _0x57cb14=a64_0x1e1879;if(typeof Reflect===_0x57cb14(0x17d)&&typeof Reflect[_0x57cb14(0x1a7)]==='function')return Reflect['metadata'](_0x22aec1,_0x3f9d49);},__param=this&&this[a64_0x1e1879(0x19c)]||function(_0x55e7df,_0x4bfab1){return function(_0x557b72,_0x3052ce){_0x4bfab1(_0x557b72,_0x3052ce,_0x55e7df);};},__importDefault=this&&this[a64_0x1e1879(0x197)]||function(_0x48a4e4){const _0x4d2700=a64_0x1e1879;return _0x48a4e4&&_0x48a4e4[_0x4d2700(0x187)]?_0x48a4e4:{'default':_0x48a4e4};};Object['defineProperty'](exports,a64_0x1e1879(0x187),{'value':!![]}),exports['BitbucketApiService']=void 0x0;function a64_0x3337(){const _0x27f4f9=['decorate','get','apply','__importDefault','accessToken','checkAccessToken','typedi','refreshToken','__param','201186ngnaDS','user','Authorization','374135bNNRXM','createRequest','bitbucket','(((.+)+)+)+$','axios','getOwnPropertyDescriptor','search','metadata','apiRequest','toString','847524hBshBB','getHeaders','10BrTkia','53349yWAcdX','BitbucketApiService','defineProperty','3120120BRkbDh','function','Bearer\x20','55fAfhAJ','accessTokenExpiresAt','./git-api.service','now','object','AppSettingsService','__metadata','../../shared/services/auth-settings.service','use','BITBUCKET_REFRESH_TOKEN_URL','../../../constants','isLoggedIn','request','12jdbXGh','__esModule','then','GitApiService','grant_type=client_credentials','12xoGiQw','6149259OzJKTY','length','4751957DiRNNS','Service','3hKrbZi','getCurrentUser','interceptors','Inject'];a64_0x3337=function(){return _0x27f4f9;};return a64_0x3337();}const constants_1=require(a64_0x1e1879(0x183)),app_settings_service_1=require('../../shared/services/app-settings.service'),auth_settings_service_1=require(a64_0x1e1879(0x180)),axios_1=__importDefault(require(a64_0x1e1879(0x1a4))),typedi_1=require(a64_0x1e1879(0x19a)),git_api_service_1=require(a64_0x1e1879(0x17b));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a64_0x1e1879(0x189)]{constructor(_0x576065,_0x34ddf9){const _0x6b2b5d=a64_0x1e1879;super(_0x576065),this['authSettings']=_0x34ddf9,this['accessTokenExpiresAt']=-0x1,this['MAX_REQUEST_PER_HOUR']=0x3e8,this[_0x6b2b5d(0x185)]=this[_0x6b2b5d(0x1a1)]();}get[a64_0x1e1879(0x16e)](){const _0x5cc6d9=a64_0x1e1879;return this[_0x5cc6d9(0x185)];}[a64_0x1e1879(0x1a1)](_0x30b4e2){const _0x4bd582=a64_0x1e1879,_0x98a415=super[_0x4bd582(0x1a1)](_0x30b4e2);return _0x98a415[_0x4bd582(0x192)][_0x4bd582(0x185)][_0x4bd582(0x181)](async _0x542b62=>{const _0x2c3580=_0x4bd582;return await this[_0x2c3580(0x199)](),_0x542b62['headers'][_0x2c3580(0x19f)]=_0x2c3580(0x178)+this[_0x2c3580(0x198)],_0x542b62;}),_0x98a415;}async[a64_0x1e1879(0x199)](){const _0x2bafb1=a64_0x1e1879;if(this[_0x2bafb1(0x198)]&&Date[_0x2bafb1(0x17c)]()<this[_0x2bafb1(0x17a)])return;await this[_0x2bafb1(0x19b)]();}async['refreshToken'](){const _0x4ef8ab=a64_0x1e1879,{clientToken:_0xf8c6c0}=this['authSettings'][_0x4ef8ab(0x1a2)],_0x2c7195=await axios_1['default']['post'](constants_1[_0x4ef8ab(0x182)]['replace']('%clientToken%',_0xf8c6c0),_0x4ef8ab(0x18a))[_0x4ef8ab(0x188)](_0x367a0d=>_0x367a0d['data']),{expires_in:_0x1acab7,access_token:_0xd4fcc2}=_0x2c7195;this['authSettings']['update']({'bitbucket':{...this['authSettings'][_0x4ef8ab(0x1a2)],'token':_0xd4fcc2}}),this[_0x4ef8ab(0x17a)]=Date[_0x4ef8ab(0x17c)]()+_0x1acab7*0x3e8,this[_0x4ef8ab(0x198)]=_0xd4fcc2;}[a64_0x1e1879(0x171)](){return{};}['getCurrentUser'](){const _0x4c0632=a64_0x1e1879;return this[_0x4c0632(0x185)][_0x4c0632(0x195)](_0x4c0632(0x19e));}async[a64_0x1e1879(0x184)](){const _0x121a6c=a64_0x1e1879;return await this[_0x121a6c(0x191)](),!![];}};function a64_0x55b4(_0x233f0b,_0x187c95){const _0x3d87f0=a64_0x3337();return a64_0x55b4=function(_0xb274a8,_0x3ee8ab){_0xb274a8=_0xb274a8-0x16e;let _0x333777=_0x3d87f0[_0xb274a8];return _0x333777;},a64_0x55b4(_0x233f0b,_0x187c95);}BitbucketApiService=__decorate([(0x0,typedi_1[a64_0x1e1879(0x18f)])(),__param(0x0,(0x0,typedi_1[a64_0x1e1879(0x193)])()),__metadata('design:paramtypes',[app_settings_service_1[a64_0x1e1879(0x17e)],auth_settings_service_1['AuthSettingsService']])],BitbucketApiService),exports[a64_0x1e1879(0x174)]=BitbucketApiService;