const a63_0x5a74=['isLoggedIn','__esModule','755603kHDvPS','default','interceptors','headers','getCurrentUser','data','../../shared/services/auth-settings.service','createRequest','function','Authorization','checkAccessToken','bitbucket','decorate','AppSettingsService','use','Service','typedi','47bgCfOA','AuthSettingsService','accessTokenExpiresAt','refreshToken','71YJvRRL','10481QEkiDK','__metadata','2OakxtR','GitApiService','1021108NooZXy','BITBUCKET_REFRESH_TOKEN_URL','BitbucketApiService','15239AynJFI','post','request','test','object','length','apply','authSettings','4605480oFfGPR','__param','now','defineProperty','../../shared/services/app-settings.service','getOwnPropertyDescriptor','user','metadata','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','constructor','%clientToken%','Inject','411413iqqVtc','grant_type=client_credentials','update','__importDefault','accessToken','./git-api.service','axios','replace','get','1527059OViqds'];const a63_0x1b67f9=a63_0x5aa5;function a63_0x5aa5(_0x3bebfd,_0x5318fd){return a63_0x5aa5=function(_0x212b75,_0x373653){_0x212b75=_0x212b75-0x1b4;let _0x47991b=a63_0x5a74[_0x212b75];return _0x47991b;},a63_0x5aa5(_0x3bebfd,_0x5318fd);}(function(_0x4994d9,_0x447b63){const _0x233e96=a63_0x5aa5;while(!![]){try{const _0x93dd7c=-parseInt(_0x233e96(0x1b4))+-parseInt(_0x233e96(0x1b7))*parseInt(_0x233e96(0x1e8))+-parseInt(_0x233e96(0x1d4))+parseInt(_0x233e96(0x1cb))+parseInt(_0x233e96(0x1ef))*-parseInt(_0x233e96(0x1d7))+-parseInt(_0x233e96(0x1ec))*-parseInt(_0x233e96(0x1ed))+parseInt(_0x233e96(0x1bf));if(_0x93dd7c===_0x447b63)break;else _0x4994d9['push'](_0x4994d9['shift']());}catch(_0x48ee6f){_0x4994d9['push'](_0x4994d9['shift']());}}}(a63_0x5a74,0xf095e));const a63_0x47991b=function(){let _0x104661=!![];return function(_0x1d3ffb,_0x75a383){const _0x4440ea=_0x104661?function(){const _0x99b774=a63_0x5aa5;if(_0x75a383){const _0x25ecda=_0x75a383[_0x99b774(0x1bd)](_0x1d3ffb,arguments);return _0x75a383=null,_0x25ecda;}}:function(){};return _0x104661=![],_0x4440ea;};}(),a63_0x373653=a63_0x47991b(this,function(){const _0x325bfc=function(){const _0x2c8387=a63_0x5aa5,_0x3fcf5a=_0x325bfc[_0x2c8387(0x1c8)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x2c8387(0x1c8)](_0x2c8387(0x1c7));return!_0x3fcf5a[_0x2c8387(0x1ba)](a63_0x373653);};return _0x325bfc();});a63_0x373653();'use strict';var __decorate=this&&this['__decorate']||function(_0x33dda5,_0x5d61e3,_0x3579ab,_0x3e8f68){const _0x5f1dd7=a63_0x5aa5;var _0x3df5fa=arguments[_0x5f1dd7(0x1bc)],_0x56ee9c=_0x3df5fa<0x3?_0x5d61e3:_0x3e8f68===null?_0x3e8f68=Object[_0x5f1dd7(0x1c4)](_0x5d61e3,_0x3579ab):_0x3e8f68,_0x274382;if(typeof Reflect===_0x5f1dd7(0x1bb)&&typeof Reflect['decorate']===_0x5f1dd7(0x1df))_0x56ee9c=Reflect[_0x5f1dd7(0x1e3)](_0x33dda5,_0x5d61e3,_0x3579ab,_0x3e8f68);else{for(var _0x1718c5=_0x33dda5[_0x5f1dd7(0x1bc)]-0x1;_0x1718c5>=0x0;_0x1718c5--)if(_0x274382=_0x33dda5[_0x1718c5])_0x56ee9c=(_0x3df5fa<0x3?_0x274382(_0x56ee9c):_0x3df5fa>0x3?_0x274382(_0x5d61e3,_0x3579ab,_0x56ee9c):_0x274382(_0x5d61e3,_0x3579ab))||_0x56ee9c;}return _0x3df5fa>0x3&&_0x56ee9c&&Object[_0x5f1dd7(0x1c2)](_0x5d61e3,_0x3579ab,_0x56ee9c),_0x56ee9c;},__metadata=this&&this[a63_0x1b67f9(0x1ee)]||function(_0x42f806,_0x1c8299){const _0x5814af=a63_0x1b67f9;if(typeof Reflect==='object'&&typeof Reflect[_0x5814af(0x1c6)]===_0x5814af(0x1df))return Reflect[_0x5814af(0x1c6)](_0x42f806,_0x1c8299);},__param=this&&this[a63_0x1b67f9(0x1c0)]||function(_0x2bd5db,_0x30122c){return function(_0x43ffac,_0x298453){_0x30122c(_0x43ffac,_0x298453,_0x2bd5db);};},__importDefault=this&&this[a63_0x1b67f9(0x1ce)]||function(_0x578b92){const _0x1b48d3=a63_0x1b67f9;return _0x578b92&&_0x578b92[_0x1b48d3(0x1d6)]?_0x578b92:{'default':_0x578b92};};Object[a63_0x1b67f9(0x1c2)](exports,a63_0x1b67f9(0x1d6),{'value':!![]}),exports[a63_0x1b67f9(0x1b6)]=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require(a63_0x1b67f9(0x1c3)),auth_settings_service_1=require(a63_0x1b67f9(0x1dd)),axios_1=__importDefault(require(a63_0x1b67f9(0x1d1))),typedi_1=require(a63_0x1b67f9(0x1e7)),git_api_service_1=require(a63_0x1b67f9(0x1d0));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a63_0x1b67f9(0x1f0)]{constructor(_0x434fdb,_0x51946b){const _0x54e312=a63_0x1b67f9;super(_0x434fdb),this[_0x54e312(0x1be)]=_0x51946b,this[_0x54e312(0x1ea)]=-0x1,this['request']=this[_0x54e312(0x1de)]();}get['apiRequest'](){return this['request'];}['createRequest'](_0x6638d9){const _0x5e97f0=a63_0x1b67f9,_0x39a989=super['createRequest'](_0x6638d9);return _0x39a989[_0x5e97f0(0x1d9)][_0x5e97f0(0x1b9)][_0x5e97f0(0x1e5)](async _0x13bac2=>{const _0xd46f72=_0x5e97f0;return await this[_0xd46f72(0x1e1)](),_0x13bac2[_0xd46f72(0x1da)][_0xd46f72(0x1e0)]='Bearer\x20'+this[_0xd46f72(0x1cf)],_0x13bac2;}),_0x39a989;}async[a63_0x1b67f9(0x1e1)](){const _0x73162a=a63_0x1b67f9;if(this[_0x73162a(0x1cf)]&&Date[_0x73162a(0x1c1)]()<this['accessTokenExpiresAt'])return;await this[_0x73162a(0x1eb)]();}async[a63_0x1b67f9(0x1eb)](){const _0x15b3f2=a63_0x1b67f9,{clientToken:_0x4d7deb}=this[_0x15b3f2(0x1be)][_0x15b3f2(0x1e2)],_0x2609cf=await axios_1[_0x15b3f2(0x1d8)][_0x15b3f2(0x1b8)](constants_1[_0x15b3f2(0x1b5)][_0x15b3f2(0x1d2)](_0x15b3f2(0x1c9),_0x4d7deb),_0x15b3f2(0x1cc))['then'](_0x5effcd=>_0x5effcd[_0x15b3f2(0x1dc)]),{expires_in:_0x26fb17,access_token:_0x29e441}=_0x2609cf;this[_0x15b3f2(0x1be)][_0x15b3f2(0x1cd)]({'bitbucket':{...this['authSettings']['bitbucket'],'token':_0x29e441}}),this[_0x15b3f2(0x1ea)]=Date['now']()+_0x26fb17*0x3e8,this[_0x15b3f2(0x1cf)]=_0x29e441;}['getHeaders'](){return{};}[a63_0x1b67f9(0x1db)](){const _0x2658b3=a63_0x1b67f9;return this[_0x2658b3(0x1b9)][_0x2658b3(0x1d3)](_0x2658b3(0x1c5));}async[a63_0x1b67f9(0x1d5)](){const _0x58d5b1=a63_0x1b67f9;try{return await this[_0x58d5b1(0x1db)](),!![];}catch(_0x5066ca){return![];}}};BitbucketApiService=__decorate([typedi_1[a63_0x1b67f9(0x1e6)](),__param(0x0,typedi_1[a63_0x1b67f9(0x1ca)]()),__metadata('design:paramtypes',[app_settings_service_1[a63_0x1b67f9(0x1e4)],auth_settings_service_1[a63_0x1b67f9(0x1e9)]])],BitbucketApiService),exports[a63_0x1b67f9(0x1b6)]=BitbucketApiService;