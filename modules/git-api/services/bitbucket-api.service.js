const a64_0x24bf43=a64_0xa758;(function(_0x2a6863,_0x590ccd){const _0x3710e5=a64_0xa758,_0x22510c=_0x2a6863();while(!![]){try{const _0x3f6fae=parseInt(_0x3710e5(0x12c))/0x1*(parseInt(_0x3710e5(0x11d))/0x2)+-parseInt(_0x3710e5(0x117))/0x3*(parseInt(_0x3710e5(0x11f))/0x4)+-parseInt(_0x3710e5(0x12b))/0x5*(parseInt(_0x3710e5(0x130))/0x6)+-parseInt(_0x3710e5(0x142))/0x7*(-parseInt(_0x3710e5(0x14c))/0x8)+-parseInt(_0x3710e5(0x12e))/0x9*(parseInt(_0x3710e5(0x12a))/0xa)+parseInt(_0x3710e5(0x11a))/0xb+parseInt(_0x3710e5(0x147))/0xc;if(_0x3f6fae===_0x590ccd)break;else _0x22510c['push'](_0x22510c['shift']());}catch(_0xf7f44b){_0x22510c['push'](_0x22510c['shift']());}}}(a64_0x4585,0x45143));const a64_0x258e2c=function(){let _0x17b6ae=!![];return function(_0x97e3ea,_0x2fb23b){const _0x264fe4=_0x17b6ae?function(){const _0x4ce844=a64_0xa758;if(_0x2fb23b){const _0x3195a2=_0x2fb23b[_0x4ce844(0x119)](_0x97e3ea,arguments);return _0x2fb23b=null,_0x3195a2;}}:function(){};return _0x17b6ae=![],_0x264fe4;};}(),a64_0x55e344=a64_0x258e2c(this,function(){const _0x2a0007=a64_0xa758;return a64_0x55e344[_0x2a0007(0x149)]()['search'](_0x2a0007(0x111))[_0x2a0007(0x149)]()[_0x2a0007(0x13d)](a64_0x55e344)[_0x2a0007(0x116)](_0x2a0007(0x111));});a64_0x55e344();'use strict';var __decorate=this&&this[a64_0x24bf43(0x114)]||function(_0x1c9e9d,_0x313014,_0x43f9e6,_0x27c8b8){const _0xb3dc7a=a64_0x24bf43;var _0x4184d9=arguments[_0xb3dc7a(0x122)],_0x224ddf=_0x4184d9<0x3?_0x313014:_0x27c8b8===null?_0x27c8b8=Object[_0xb3dc7a(0x139)](_0x313014,_0x43f9e6):_0x27c8b8,_0x28c4f6;if(typeof Reflect===_0xb3dc7a(0x12f)&&typeof Reflect['decorate']===_0xb3dc7a(0x10f))_0x224ddf=Reflect[_0xb3dc7a(0x13c)](_0x1c9e9d,_0x313014,_0x43f9e6,_0x27c8b8);else{for(var _0x52c1a6=_0x1c9e9d['length']-0x1;_0x52c1a6>=0x0;_0x52c1a6--)if(_0x28c4f6=_0x1c9e9d[_0x52c1a6])_0x224ddf=(_0x4184d9<0x3?_0x28c4f6(_0x224ddf):_0x4184d9>0x3?_0x28c4f6(_0x313014,_0x43f9e6,_0x224ddf):_0x28c4f6(_0x313014,_0x43f9e6))||_0x224ddf;}return _0x4184d9>0x3&&_0x224ddf&&Object[_0xb3dc7a(0x110)](_0x313014,_0x43f9e6,_0x224ddf),_0x224ddf;},__metadata=this&&this[a64_0x24bf43(0x131)]||function(_0x200ab1,_0x447586){const _0x2e4648=a64_0x24bf43;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x2e4648(0x10f))return Reflect['metadata'](_0x200ab1,_0x447586);},__param=this&&this[a64_0x24bf43(0x136)]||function(_0x504b52,_0xedee2d){return function(_0x57afea,_0x309216){_0xedee2d(_0x57afea,_0x309216,_0x504b52);};},__importDefault=this&&this[a64_0x24bf43(0x112)]||function(_0x580fe8){return _0x580fe8&&_0x580fe8['__esModule']?_0x580fe8:{'default':_0x580fe8};};Object[a64_0x24bf43(0x110)](exports,a64_0x24bf43(0x125),{'value':!![]}),exports[a64_0x24bf43(0x137)]=void 0x0;const constants_1=require(a64_0x24bf43(0x128)),app_settings_service_1=require(a64_0x24bf43(0x138)),auth_settings_service_1=require(a64_0x24bf43(0x134)),axios_1=__importDefault(require(a64_0x24bf43(0x143))),typedi_1=require(a64_0x24bf43(0x144)),git_api_service_1=require(a64_0x24bf43(0x11c));function a64_0x4585(){const _0x401fea=['BITBUCKET_REFRESH_TOKEN_URL','search','3VejEQj','request','apply','4423606sbXouH','design:paramtypes','./git-api.service','258OQlQcH','authSettings','1787028bSRElR','use','AuthSettingsService','length','Bearer\x20','accessToken','__esModule','accessTokenExpiresAt','getCurrentUser','../../../constants','user','30zTyNZb','10tfpxtx','1031BiYBuC','bitbucket','850347fkdKNl','object','1353498VPPfQY','__metadata','AppSettingsService','post','../../shared/services/auth-settings.service','MAX_REQUEST_PER_HOUR','__param','BitbucketApiService','../../shared/services/app-settings.service','getOwnPropertyDescriptor','now','Service','decorate','constructor','apiRequest','checkAccessToken','then','createRequest','1856106RVhCwT','axios','typedi','interceptors','isLoggedIn','7968192tzBckS','default','toString','update','Inject','8OWSZnt','function','defineProperty','(((.+)+)+)+$','__importDefault','%clientToken%','__decorate'];a64_0x4585=function(){return _0x401fea;};return a64_0x4585();}function a64_0xa758(_0x3ba68f,_0x16b7c9){const _0x40c0b9=a64_0x4585();return a64_0xa758=function(_0x55e344,_0x258e2c){_0x55e344=_0x55e344-0x10f;let _0x458559=_0x40c0b9[_0x55e344];return _0x458559;},a64_0xa758(_0x3ba68f,_0x16b7c9);}let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x2f620a,_0x2782de){const _0x40eed8=a64_0x24bf43;super(_0x2f620a),this[_0x40eed8(0x11e)]=_0x2782de,this[_0x40eed8(0x126)]=-0x1,this[_0x40eed8(0x135)]=0x3e8,this[_0x40eed8(0x118)]=this[_0x40eed8(0x141)]();}get[a64_0x24bf43(0x13e)](){const _0x4511c7=a64_0x24bf43;return this[_0x4511c7(0x118)];}[a64_0x24bf43(0x141)](_0xcde236){const _0x4db5e3=a64_0x24bf43,_0x579a01=super[_0x4db5e3(0x141)](_0xcde236);return _0x579a01[_0x4db5e3(0x145)][_0x4db5e3(0x118)][_0x4db5e3(0x120)](async _0x39bafc=>{const _0x13670c=_0x4db5e3;return await this[_0x13670c(0x13f)](),_0x39bafc['headers']['Authorization']=_0x13670c(0x123)+this['accessToken'],_0x39bafc;}),_0x579a01;}async[a64_0x24bf43(0x13f)](){const _0x378356=a64_0x24bf43;if(this[_0x378356(0x124)]&&Date[_0x378356(0x13a)]()<this['accessTokenExpiresAt'])return;await this['refreshToken']();}async['refreshToken'](){const _0xbb7cce=a64_0x24bf43,{clientToken:_0x4e320b}=this[_0xbb7cce(0x11e)][_0xbb7cce(0x12d)],_0x391b0d=await axios_1[_0xbb7cce(0x148)][_0xbb7cce(0x133)](constants_1[_0xbb7cce(0x115)]['replace'](_0xbb7cce(0x113),_0x4e320b),'grant_type=client_credentials')[_0xbb7cce(0x140)](_0x2d7d6c=>_0x2d7d6c['data']),{expires_in:_0x25b30d,access_token:_0xad48e1}=_0x391b0d;this[_0xbb7cce(0x11e)][_0xbb7cce(0x14a)]({'bitbucket':{...this['authSettings'][_0xbb7cce(0x12d)],'token':_0xad48e1}}),this[_0xbb7cce(0x126)]=Date['now']()+_0x25b30d*0x3e8,this[_0xbb7cce(0x124)]=_0xad48e1;}['getHeaders'](){return{};}[a64_0x24bf43(0x127)](){const _0x51d680=a64_0x24bf43;return this[_0x51d680(0x118)]['get'](_0x51d680(0x129));}async[a64_0x24bf43(0x146)](){return await this['getCurrentUser'](),!![];}};BitbucketApiService=__decorate([typedi_1[a64_0x24bf43(0x13b)](),__param(0x0,typedi_1[a64_0x24bf43(0x14b)]()),__metadata(a64_0x24bf43(0x11b),[app_settings_service_1[a64_0x24bf43(0x132)],auth_settings_service_1[a64_0x24bf43(0x121)]])],BitbucketApiService),exports[a64_0x24bf43(0x137)]=BitbucketApiService;