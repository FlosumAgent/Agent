const a63_0x396b=['27481JFvLqK','update','140263FqVCux','isLoggedIn','headers','BITBUCKET_REFRESH_TOKEN_URL','10PyLSzo','accessTokenExpiresAt','length','Service','__importDefault','grant_type=client_credentials','252670qvieMz','2dKANyL','defineProperty','accessToken','getOwnPropertyDescriptor','Inject','interceptors','data','../../../constants','use','AppSettingsService','createRequest','223qqdSII','BitbucketApiService','246116aUNWCm','Bearer\x20','request','3cfHjvd','axios','return\x20/\x22\x20+\x20this\x20+\x20\x22/','__param','apply','replace','default','checkAccessToken','authSettings','get','refreshToken','%clientToken%','../../shared/services/auth-settings.service','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','211gMFYNa','77425XNIjfy','function','../../shared/services/app-settings.service','metadata','constructor','Authorization','951257mvpsab','object','AuthSettingsService','decorate','test','then','user','now','__metadata','getCurrentUser'];function a63_0x2da5(_0x529187,_0x35d114){return a63_0x2da5=function(_0x1a426d,_0x4a23d3){_0x1a426d=_0x1a426d-0x6d;let _0x3a1669=a63_0x396b[_0x1a426d];return _0x3a1669;},a63_0x2da5(_0x529187,_0x35d114);}const a63_0x40e184=a63_0x2da5;(function(_0x1b8b16,_0xe8ab40){const _0x119236=a63_0x2da5;while(!![]){try{const _0x39bbc5=-parseInt(_0x119236(0x99))+parseInt(_0x119236(0x7c))*-parseInt(_0x119236(0xa5))+parseInt(_0x119236(0x93))*-parseInt(_0x119236(0x8d))+-parseInt(_0x119236(0xa7))+-parseInt(_0x119236(0x8f))*-parseInt(_0x119236(0x9a))+parseInt(_0x119236(0x6e))*-parseInt(_0x119236(0x7d))+parseInt(_0x119236(0x83));if(_0x39bbc5===_0xe8ab40)break;else _0x1b8b16['push'](_0x1b8b16['shift']());}catch(_0x48ef35){_0x1b8b16['push'](_0x1b8b16['shift']());}}}(a63_0x396b,0x2baab));const a63_0x3a1669=function(){let _0x3925c8=!![];return function(_0xce2d73,_0x3f49a1){const _0x519895=_0x3925c8?function(){const _0x561892=a63_0x2da5;if(_0x3f49a1){const _0x5dd644=_0x3f49a1[_0x561892(0x72)](_0xce2d73,arguments);return _0x3f49a1=null,_0x5dd644;}}:function(){};return _0x3925c8=![],_0x519895;};}(),a63_0x4a23d3=a63_0x3a1669(this,function(){const _0x267c3f=function(){const _0x3737fe=a63_0x2da5,_0x225f6a=_0x267c3f['constructor'](_0x3737fe(0x70))()[_0x3737fe(0x81)](_0x3737fe(0x7b));return!_0x225f6a[_0x3737fe(0x87)](a63_0x4a23d3);};return _0x267c3f();});a63_0x4a23d3();'use strict';var __decorate=this&&this['__decorate']||function(_0x15d691,_0x3681a0,_0xef693e,_0xe528da){const _0x16511a=a63_0x2da5;var _0x476bbd=arguments[_0x16511a(0x95)],_0x33755a=_0x476bbd<0x3?_0x3681a0:_0xe528da===null?_0xe528da=Object[_0x16511a(0x9d)](_0x3681a0,_0xef693e):_0xe528da,_0x1f34ea;if(typeof Reflect==='object'&&typeof Reflect[_0x16511a(0x86)]===_0x16511a(0x7e))_0x33755a=Reflect['decorate'](_0x15d691,_0x3681a0,_0xef693e,_0xe528da);else{for(var _0x3f0a57=_0x15d691[_0x16511a(0x95)]-0x1;_0x3f0a57>=0x0;_0x3f0a57--)if(_0x1f34ea=_0x15d691[_0x3f0a57])_0x33755a=(_0x476bbd<0x3?_0x1f34ea(_0x33755a):_0x476bbd>0x3?_0x1f34ea(_0x3681a0,_0xef693e,_0x33755a):_0x1f34ea(_0x3681a0,_0xef693e))||_0x33755a;}return _0x476bbd>0x3&&_0x33755a&&Object[_0x16511a(0x9b)](_0x3681a0,_0xef693e,_0x33755a),_0x33755a;},__metadata=this&&this[a63_0x40e184(0x8b)]||function(_0x37775e,_0x5551a8){const _0xf8016b=a63_0x40e184;if(typeof Reflect===_0xf8016b(0x84)&&typeof Reflect['metadata']===_0xf8016b(0x7e))return Reflect[_0xf8016b(0x80)](_0x37775e,_0x5551a8);},__param=this&&this[a63_0x40e184(0x71)]||function(_0x353dbe,_0x2daaaa){return function(_0x181f25,_0x588f22){_0x2daaaa(_0x181f25,_0x588f22,_0x353dbe);};},__importDefault=this&&this[a63_0x40e184(0x97)]||function(_0x369e21){return _0x369e21&&_0x369e21['__esModule']?_0x369e21:{'default':_0x369e21};};Object[a63_0x40e184(0x9b)](exports,'__esModule',{'value':!![]}),exports['BitbucketApiService']=void 0x0;const constants_1=require(a63_0x40e184(0xa1)),app_settings_service_1=require(a63_0x40e184(0x7f)),auth_settings_service_1=require(a63_0x40e184(0x7a)),axios_1=__importDefault(require(a63_0x40e184(0x6f))),typedi_1=require('typedi'),git_api_service_1=require('./git-api.service');let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x540a58,_0x1b6e7c){const _0x2b3117=a63_0x40e184;super(_0x540a58),this[_0x2b3117(0x76)]=_0x1b6e7c,this[_0x2b3117(0x94)]=-0x1,this[_0x2b3117(0x6d)]=this[_0x2b3117(0xa4)]();}get['apiRequest'](){const _0x2356ea=a63_0x40e184;return this[_0x2356ea(0x6d)];}[a63_0x40e184(0xa4)](_0x101aad){const _0x43956=a63_0x40e184,_0x15666c=super[_0x43956(0xa4)](_0x101aad);return _0x15666c[_0x43956(0x9f)][_0x43956(0x6d)][_0x43956(0xa2)](async _0x43aab0=>{const _0x20dba8=_0x43956;return await this['checkAccessToken'](),_0x43aab0[_0x20dba8(0x91)][_0x20dba8(0x82)]=_0x20dba8(0xa8)+this[_0x20dba8(0x9c)],_0x43aab0;}),_0x15666c;}async[a63_0x40e184(0x75)](){const _0x494a04=a63_0x40e184;if(this[_0x494a04(0x9c)]&&Date[_0x494a04(0x8a)]()<this[_0x494a04(0x94)])return;await this[_0x494a04(0x78)]();}async[a63_0x40e184(0x78)](){const _0x263d24=a63_0x40e184,{clientToken:_0x2879f9}=this[_0x263d24(0x76)]['bitbucket'],_0x5868b8=await axios_1[_0x263d24(0x74)]['post'](constants_1[_0x263d24(0x92)][_0x263d24(0x73)](_0x263d24(0x79),_0x2879f9),_0x263d24(0x98))[_0x263d24(0x88)](_0xc718db=>_0xc718db[_0x263d24(0xa0)]),{expires_in:_0x5b9210,access_token:_0x1fb483}=_0x5868b8;this['authSettings'][_0x263d24(0x8e)]({'bitbucket':{...this[_0x263d24(0x76)]['bitbucket'],'token':_0x1fb483}}),this[_0x263d24(0x94)]=Date[_0x263d24(0x8a)]()+_0x5b9210*0x3e8,this['accessToken']=_0x1fb483;}['getHeaders'](){return{};}[a63_0x40e184(0x8c)](){const _0x286045=a63_0x40e184;return this[_0x286045(0x6d)][_0x286045(0x77)](_0x286045(0x89));}async[a63_0x40e184(0x90)](){const _0x47fd9e=a63_0x40e184;try{return await this[_0x47fd9e(0x8c)](),!![];}catch(_0x4a6834){return![];}}};BitbucketApiService=__decorate([typedi_1[a63_0x40e184(0x96)](),__param(0x0,typedi_1[a63_0x40e184(0x9e)]()),__metadata('design:paramtypes',[app_settings_service_1[a63_0x40e184(0xa3)],auth_settings_service_1[a63_0x40e184(0x85)]])],BitbucketApiService),exports[a63_0x40e184(0xa6)]=BitbucketApiService;