const a82_0x2eace4=a82_0x1031;(function(_0x2ad651,_0x10865f){const _0x3c5643=a82_0x1031,_0x5ab134=_0x2ad651();while(!![]){try{const _0x2202a8=parseInt(_0x3c5643(0xfb))/0x1+-parseInt(_0x3c5643(0xfc))/0x2+-parseInt(_0x3c5643(0xf9))/0x3*(-parseInt(_0x3c5643(0xed))/0x4)+-parseInt(_0x3c5643(0x11d))/0x5+-parseInt(_0x3c5643(0x119))/0x6*(-parseInt(_0x3c5643(0x102))/0x7)+parseInt(_0x3c5643(0xf3))/0x8*(-parseInt(_0x3c5643(0x10e))/0x9)+parseInt(_0x3c5643(0x113))/0xa*(parseInt(_0x3c5643(0x118))/0xb);if(_0x2202a8===_0x10865f)break;else _0x5ab134['push'](_0x5ab134['shift']());}catch(_0x437de3){_0x5ab134['push'](_0x5ab134['shift']());}}}(a82_0x467a,0x1c677));const a82_0x43c2a9=function(){let _0x4c507d=!![];return function(_0x1ebcc1,_0x5f4455){const _0x44d43c=_0x4c507d?function(){const _0x352658=a82_0x1031;if(_0x5f4455){const _0x56e2c9=_0x5f4455[_0x352658(0x100)](_0x1ebcc1,arguments);return _0x5f4455=null,_0x56e2c9;}}:function(){};return _0x4c507d=![],_0x44d43c;};}(),a82_0x625140=a82_0x43c2a9(this,function(){const _0x44e1ef=a82_0x1031;return a82_0x625140[_0x44e1ef(0xea)]()[_0x44e1ef(0x116)](_0x44e1ef(0x11c))['toString']()[_0x44e1ef(0xec)](a82_0x625140)[_0x44e1ef(0x116)]('(((.+)+)+)+$');});function a82_0x1031(_0x3c785c,_0x463d79){const _0x5503c3=a82_0x467a();return a82_0x1031=function(_0x625140,_0x43c2a9){_0x625140=_0x625140-0xea;let _0x467ac4=_0x5503c3[_0x625140];return _0x467ac4;},a82_0x1031(_0x3c785c,_0x463d79);}a82_0x625140();function a82_0x467a(){const _0x3ce888=['all','35qRFZMm','removeFile','../../internal/fs.internal','../utils/xml','log','Xml','components','catch','MDApiRemover','keys','convertToString','pop','9dxRRDH','parse','start','removeChild','includes','2137410IsrlHh','makeDir','default','search','Unknown\x20child\x20type\x20','11qQajgf','48702zpKAvG','splice','sourceDir','(((.+)+)+)+$','946690UlVHkj','join','toString','-meta.xml','constructor','12cBCbkC','parentComponents','removeParent','isDir','split','__esModule','467592rPIXra','removeAt','type','writeFile','MAX_WRITES_PER_TICK','META_EXTENSION','200373oitZdG','path','63766memSqG','308670aaRIXr','../../../core','exists','length','apply'];a82_0x467a=function(){return _0x3ce888;};return a82_0x467a();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1f6e2f){return _0x1f6e2f&&_0x1f6e2f['__esModule']?_0x1f6e2f:{'default':_0x1f6e2f};};Object['defineProperty'](exports,a82_0x2eace4(0xf2),{'value':!![]}),exports[a82_0x2eace4(0x10a)]=void 0x0;const fs_internal_1=require(a82_0x2eace4(0x104)),core_1=require(a82_0x2eace4(0xfd)),xml_1=require(a82_0x2eace4(0x105)),child_types_1=__importDefault(require('./child-types')),child_types_map_1=__importDefault(require('./child-types-map')),path_1=__importDefault(require(a82_0x2eace4(0xfa))),logger=new core_1['Logger']('mdapi-remover');class MDApiRemover{constructor(_0xd8b65f,_0x2cfebd){const _0x192a7=a82_0x2eace4;this[_0x192a7(0x108)]=_0xd8b65f,this['sourceDir']=_0x2cfebd,this['META_EXTENSION']=_0x192a7(0xeb),this[_0x192a7(0xf7)]=0x64,this[_0x192a7(0xee)]={};}async['removeParent'](_0x1da0a3){const _0xaa4413=a82_0x2eace4,_0x46938a=path_1[_0xaa4413(0x115)][_0xaa4413(0x11e)](this[_0xaa4413(0x11b)],_0x1da0a3[_0xaa4413(0xfa)]),_0x4d9e2f=path_1['default']['join'](this['sourceDir'],''+_0x1da0a3[_0xaa4413(0xfa)]+this[_0xaa4413(0xf8)]);this[_0xaa4413(0xee)][_0x1da0a3['path']]&&delete this[_0xaa4413(0xee)][_0x1da0a3['path']];const _0x4dd733=await fs_internal_1['FS'][_0xaa4413(0xf0)](_0x46938a)[_0xaa4413(0x109)](()=>![]);if(_0x4dd733){await fs_internal_1['FS']['removeDir'](_0x46938a);return;}await Promise[_0xaa4413(0x101)]([fs_internal_1['FS'][_0xaa4413(0x103)](_0x46938a),fs_internal_1['FS']['removeFile'](_0x4d9e2f)]);}async[a82_0x2eace4(0x111)](_0x2bc6e4){const _0x1464ff=a82_0x2eace4,{fileName:_0x3977c3,type:_0x557954,path:_0x3c99bc}=_0x2bc6e4,_0x226ff6=child_types_map_1[_0x1464ff(0x115)][_0x557954];if(!_0x226ff6)throw new Error(_0x1464ff(0x117)+_0x557954);if(!this[_0x1464ff(0xee)][_0x3c99bc]){const _0x262fa7=path_1[_0x1464ff(0x115)][_0x1464ff(0x11e)](this[_0x1464ff(0x11b)],_0x3c99bc),_0x2ef92d=await fs_internal_1['FS']['exists'](_0x262fa7);if(!_0x2ef92d)return;const _0x5d8399=await fs_internal_1['FS']['readFile'](_0x262fa7);this[_0x1464ff(0xee)][_0x3c99bc]=await xml_1['Xml'][_0x1464ff(0x10f)](_0x5d8399);}const _0x144539=this[_0x1464ff(0xee)][_0x3c99bc],_0x16f615=_0x3977c3[_0x1464ff(0xf1)]('.')[_0x1464ff(0x10d)]();xml_1[_0x1464ff(0x107)][_0x1464ff(0xf4)](_0x144539,_0x226ff6,_0x16f615||_0x3977c3),xml_1[_0x1464ff(0x107)]['isEmptyXml'](_0x144539)?(await this[_0x1464ff(0xef)](_0x2bc6e4),delete this['parentComponents'][_0x3c99bc]):this[_0x1464ff(0xee)][_0x3c99bc]=_0x144539;}async[a82_0x2eace4(0x110)](){const _0x3daa81=a82_0x2eace4;!await fs_internal_1['FS'][_0x3daa81(0xfe)](this[_0x3daa81(0x11b)])&&await fs_internal_1['FS'][_0x3daa81(0x114)](this['sourceDir']);for(const _0x3d84d5 of this[_0x3daa81(0x108)]){!child_types_1[_0x3daa81(0x115)][_0x3daa81(0x112)](_0x3d84d5[_0x3daa81(0xf5)])?await this[_0x3daa81(0xef)](_0x3d84d5):await this[_0x3daa81(0x111)](_0x3d84d5);}const _0x270a86=Object[_0x3daa81(0x10b)](this[_0x3daa81(0xee)]);logger[_0x3daa81(0x106)]('have\x20to\x20update\x20%d\x20files',this['components'][_0x3daa81(0xff)]);while(_0x270a86[_0x3daa81(0xff)]){const _0x47880b=_0x270a86[_0x3daa81(0x11a)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x2fa82e of _0x47880b){await fs_internal_1['FS'][_0x3daa81(0xf6)](path_1[_0x3daa81(0x115)]['join'](this[_0x3daa81(0x11b)],_0x2fa82e),xml_1[_0x3daa81(0x107)][_0x3daa81(0x10c)](this[_0x3daa81(0xee)][_0x2fa82e]));}}this[_0x3daa81(0xee)]={};}}exports[a82_0x2eace4(0x10a)]=MDApiRemover;