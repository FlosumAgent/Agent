const a82_0x4ead0d=a82_0xd812;function a82_0x27f7(){const _0x529dff=['./child-types','all','removeAt','path','isDir','1399040BvnpUI','type','makeDir','removeParent','MAX_WRITES_PER_TICK','160080BvhqGt','default','../utils/xml','readFile','exists','length','toString','22bmxFQk','601581zrtCMa','4KtoMRD','pop','components','14xFlfUj','472908nKtXiB','495990KcXcRj','isEmptyXml','removeFile','parentComponents','constructor','mdapi-remover','META_EXTENSION','(((.+)+)+)+$','join','../../internal/fs.internal','search','sourceDir','apply','splice','Logger','-meta.xml','keys','split','34492exXCMU','__importDefault','88MeCwAm','__esModule','convertToString','Xml','includes','./child-types-map','have\x20to\x20update\x20%d\x20files','66069UANHTd','removeDir','../../../core','defineProperty'];a82_0x27f7=function(){return _0x529dff;};return a82_0x27f7();}(function(_0xc10cd5,_0x1ed199){const _0x4dfd69=a82_0xd812,_0x53bcef=_0xc10cd5();while(!![]){try{const _0x3e832c=-parseInt(_0x4dfd69(0x116))/0x1+parseInt(_0x4dfd69(0xf6))/0x2+-parseInt(_0x4dfd69(0xfe))/0x3*(parseInt(_0x4dfd69(0xff))/0x4)+parseInt(_0x4dfd69(0xf1))/0x5+parseInt(_0x4dfd69(0x103))/0x6*(-parseInt(_0x4dfd69(0x102))/0x7)+-parseInt(_0x4dfd69(0x118))/0x8*(-parseInt(_0x4dfd69(0x11f))/0x9)+-parseInt(_0x4dfd69(0x104))/0xa*(-parseInt(_0x4dfd69(0xfd))/0xb);if(_0x3e832c===_0x1ed199)break;else _0x53bcef['push'](_0x53bcef['shift']());}catch(_0xed8a70){_0x53bcef['push'](_0x53bcef['shift']());}}}(a82_0x27f7,0x23ec6));const a82_0x6bc256=function(){let _0x3818ec=!![];return function(_0x351587,_0x77b079){const _0x3c142c=_0x3818ec?function(){const _0x43b196=a82_0xd812;if(_0x77b079){const _0x379903=_0x77b079[_0x43b196(0x110)](_0x351587,arguments);return _0x77b079=null,_0x379903;}}:function(){};return _0x3818ec=![],_0x3c142c;};}(),a82_0x38a80e=a82_0x6bc256(this,function(){const _0x4b40a7=a82_0xd812;return a82_0x38a80e['toString']()[_0x4b40a7(0x10e)](_0x4b40a7(0x10b))[_0x4b40a7(0xfc)]()[_0x4b40a7(0x108)](a82_0x38a80e)['search'](_0x4b40a7(0x10b));});a82_0x38a80e();function a82_0xd812(_0x3a7676,_0x4e092f){const _0xa986fe=a82_0x27f7();return a82_0xd812=function(_0x38a80e,_0x6bc256){_0x38a80e=_0x38a80e-0xf0;let _0x27f70b=_0xa986fe[_0x38a80e];return _0x27f70b;},a82_0xd812(_0x3a7676,_0x4e092f);}'use strict';var __importDefault=this&&this[a82_0x4ead0d(0x117)]||function(_0x47e11e){const _0x49695e=a82_0x4ead0d;return _0x47e11e&&_0x47e11e[_0x49695e(0x119)]?_0x47e11e:{'default':_0x47e11e};};Object[a82_0x4ead0d(0x122)](exports,a82_0x4ead0d(0x119),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a82_0x4ead0d(0x10d)),core_1=require(a82_0x4ead0d(0x121)),xml_1=require(a82_0x4ead0d(0xf8)),child_types_1=__importDefault(require(a82_0x4ead0d(0x123))),child_types_map_1=__importDefault(require(a82_0x4ead0d(0x11d))),path_1=__importDefault(require(a82_0x4ead0d(0x126))),logger=new core_1[(a82_0x4ead0d(0x112))](a82_0x4ead0d(0x109));class MDApiRemover{constructor(_0x2bc6eb,_0x55b3c3){const _0x5b624e=a82_0x4ead0d;this[_0x5b624e(0x101)]=_0x2bc6eb,this['sourceDir']=_0x55b3c3,this[_0x5b624e(0x10a)]=_0x5b624e(0x113),this[_0x5b624e(0xf5)]=0x64,this[_0x5b624e(0x107)]={};}async[a82_0x4ead0d(0xf4)](_0x9bbea4){const _0x3dc1aa=a82_0x4ead0d,_0x3190fd=path_1['default']['join'](this[_0x3dc1aa(0x10f)],_0x9bbea4[_0x3dc1aa(0x126)]),_0x37207c=path_1[_0x3dc1aa(0xf7)][_0x3dc1aa(0x10c)](this[_0x3dc1aa(0x10f)],''+_0x9bbea4[_0x3dc1aa(0x126)]+this[_0x3dc1aa(0x10a)]);this[_0x3dc1aa(0x107)][_0x9bbea4[_0x3dc1aa(0x126)]]&&delete this[_0x3dc1aa(0x107)][_0x9bbea4[_0x3dc1aa(0x126)]];const _0x498049=await fs_internal_1['FS'][_0x3dc1aa(0xf0)](_0x3190fd)['catch'](()=>![]);if(_0x498049){await fs_internal_1['FS'][_0x3dc1aa(0x120)](_0x3190fd);return;}await Promise[_0x3dc1aa(0x124)]([fs_internal_1['FS'][_0x3dc1aa(0x106)](_0x3190fd),fs_internal_1['FS'][_0x3dc1aa(0x106)](_0x37207c)]);}async['removeChild'](_0x52b6a4){const _0x49b3b2=a82_0x4ead0d,{fileName:_0x4c92e4,type:_0x1a1948,path:_0x41393d}=_0x52b6a4,_0x2cd85=child_types_map_1[_0x49b3b2(0xf7)][_0x1a1948];if(!_0x2cd85)throw new Error('Unknown\x20child\x20type\x20'+_0x1a1948);if(!this[_0x49b3b2(0x107)][_0x41393d]){const _0x3dbee2=path_1[_0x49b3b2(0xf7)][_0x49b3b2(0x10c)](this[_0x49b3b2(0x10f)],_0x41393d),_0xaf4d28=await fs_internal_1['FS'][_0x49b3b2(0xfa)](_0x3dbee2);if(!_0xaf4d28)return;const _0x4d2305=await fs_internal_1['FS'][_0x49b3b2(0xf9)](_0x3dbee2);this[_0x49b3b2(0x107)][_0x41393d]=await xml_1[_0x49b3b2(0x11b)]['parse'](_0x4d2305);}const _0x1ddf6d=this[_0x49b3b2(0x107)][_0x41393d],_0x494201=_0x4c92e4[_0x49b3b2(0x115)]('.')[_0x49b3b2(0x100)]();xml_1['Xml'][_0x49b3b2(0x125)](_0x1ddf6d,_0x2cd85,_0x494201||_0x4c92e4),xml_1[_0x49b3b2(0x11b)][_0x49b3b2(0x105)](_0x1ddf6d)?(await this[_0x49b3b2(0xf4)](_0x52b6a4),delete this[_0x49b3b2(0x107)][_0x41393d]):this[_0x49b3b2(0x107)][_0x41393d]=_0x1ddf6d;}async['start'](){const _0x537fb3=a82_0x4ead0d;!await fs_internal_1['FS'][_0x537fb3(0xfa)](this[_0x537fb3(0x10f)])&&await fs_internal_1['FS'][_0x537fb3(0xf3)](this['sourceDir']);for(const _0x40675c of this['components']){!child_types_1['default'][_0x537fb3(0x11c)](_0x40675c[_0x537fb3(0xf2)])?await this['removeParent'](_0x40675c):await this['removeChild'](_0x40675c);}const _0x3252e1=Object[_0x537fb3(0x114)](this[_0x537fb3(0x107)]);logger['log'](_0x537fb3(0x11e),this[_0x537fb3(0x101)]['length']);while(_0x3252e1[_0x537fb3(0xfb)]){const _0x1c33ef=_0x3252e1[_0x537fb3(0x111)](0x0,this[_0x537fb3(0xf5)]);for(const _0xa3dcec of _0x1c33ef){await fs_internal_1['FS']['writeFile'](path_1[_0x537fb3(0xf7)]['join'](this[_0x537fb3(0x10f)],_0xa3dcec),xml_1['Xml'][_0x537fb3(0x11a)](this[_0x537fb3(0x107)][_0xa3dcec]));}}this[_0x537fb3(0x107)]={};}}exports['MDApiRemover']=MDApiRemover;