function a82_0x462f(){const _0xc806a0=['search','split','12789456RYjuoC','mdapi-remover','./child-types','Logger','convertToString','isEmptyXml','MDApiRemover','keys','path','isDir','log','../utils/xml','readFile','3090565bUZpgV','writeFile','removeFile','all','944310ovPEKY','261MvSBCN','default','makeDir','toString','exists','Xml','__esModule','removeParent','start','length','removeDir','components','../../../core','parse','apply','splice','./child-types-map','115014CRIMiH','6312124qCcrjN','(((.+)+)+)+$','META_EXTENSION','sourceDir','__importDefault','6768UqGqJo','1195120ujmacZ','-meta.xml','defineProperty','join','6gYRVGm','constructor','Unknown\x20child\x20type\x20','includes','915pQOCsc','removeChild','parentComponents','MAX_WRITES_PER_TICK'];a82_0x462f=function(){return _0xc806a0;};return a82_0x462f();}const a82_0x30b83e=a82_0x2b20;(function(_0x4cea55,_0x23d699){const _0x366dce=a82_0x2b20,_0x3f402b=_0x4cea55();while(!![]){try{const _0x43a52f=-parseInt(_0x366dce(0x78))/0x1+parseInt(_0x366dce(0x71))/0x2+-parseInt(_0x366dce(0x80))/0x3*(-parseInt(_0x366dce(0x77))/0x4)+-parseInt(_0x366dce(0x93))/0x5*(parseInt(_0x366dce(0x7c))/0x6)+parseInt(_0x366dce(0x72))/0x7+-parseInt(_0x366dce(0x86))/0x8+-parseInt(_0x366dce(0x98))/0x9*(-parseInt(_0x366dce(0x97))/0xa);if(_0x43a52f===_0x23d699)break;else _0x3f402b['push'](_0x3f402b['shift']());}catch(_0x3b6b67){_0x3f402b['push'](_0x3f402b['shift']());}}}(a82_0x462f,0xc3c5b));function a82_0x2b20(_0x149dbc,_0x2f0e73){const _0x415710=a82_0x462f();return a82_0x2b20=function(_0x21c3d8,_0xc5b7aa){_0x21c3d8=_0x21c3d8-0x70;let _0x462f50=_0x415710[_0x21c3d8];return _0x462f50;},a82_0x2b20(_0x149dbc,_0x2f0e73);}const a82_0xc5b7aa=function(){let _0x386d3a=!![];return function(_0x5ef9b4,_0x7133af){const _0x374df8=_0x386d3a?function(){const _0x46f75d=a82_0x2b20;if(_0x7133af){const _0x83d329=_0x7133af[_0x46f75d(0xa6)](_0x5ef9b4,arguments);return _0x7133af=null,_0x83d329;}}:function(){};return _0x386d3a=![],_0x374df8;};}(),a82_0x21c3d8=a82_0xc5b7aa(this,function(){const _0x234445=a82_0x2b20;return a82_0x21c3d8[_0x234445(0x9b)]()['search'](_0x234445(0x73))[_0x234445(0x9b)]()[_0x234445(0x7d)](a82_0x21c3d8)[_0x234445(0x84)](_0x234445(0x73));});a82_0x21c3d8();'use strict';var __importDefault=this&&this[a82_0x30b83e(0x76)]||function(_0x45fd10){const _0x360435=a82_0x30b83e;return _0x45fd10&&_0x45fd10[_0x360435(0x9e)]?_0x45fd10:{'default':_0x45fd10};};Object[a82_0x30b83e(0x7a)](exports,a82_0x30b83e(0x9e),{'value':!![]}),exports[a82_0x30b83e(0x8c)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a82_0x30b83e(0xa4)),xml_1=require(a82_0x30b83e(0x91)),child_types_1=__importDefault(require(a82_0x30b83e(0x88))),child_types_map_1=__importDefault(require(a82_0x30b83e(0x70))),path_1=__importDefault(require(a82_0x30b83e(0x8e))),logger=new core_1[(a82_0x30b83e(0x89))](a82_0x30b83e(0x87));class MDApiRemover{constructor(_0x4091dd,_0x16c1ea){const _0x2d3a5a=a82_0x30b83e;this[_0x2d3a5a(0xa3)]=_0x4091dd,this[_0x2d3a5a(0x75)]=_0x16c1ea,this['META_EXTENSION']=_0x2d3a5a(0x79),this[_0x2d3a5a(0x83)]=0x64,this[_0x2d3a5a(0x82)]={};}async[a82_0x30b83e(0x9f)](_0x596a0f){const _0x56983f=a82_0x30b83e,_0x34c160=path_1[_0x56983f(0x99)][_0x56983f(0x7b)](this[_0x56983f(0x75)],_0x596a0f[_0x56983f(0x8e)]),_0x301ce8=path_1['default']['join'](this[_0x56983f(0x75)],''+_0x596a0f['path']+this[_0x56983f(0x74)]);this['parentComponents'][_0x596a0f[_0x56983f(0x8e)]]&&delete this[_0x56983f(0x82)][_0x596a0f[_0x56983f(0x8e)]];const _0x52f9f9=await fs_internal_1['FS'][_0x56983f(0x8f)](_0x34c160)['catch'](()=>![]);if(_0x52f9f9){await fs_internal_1['FS'][_0x56983f(0xa2)](_0x34c160);return;}await Promise[_0x56983f(0x96)]([fs_internal_1['FS'][_0x56983f(0x95)](_0x34c160),fs_internal_1['FS'][_0x56983f(0x95)](_0x301ce8)]);}async[a82_0x30b83e(0x81)](_0x48e019){const _0x3de981=a82_0x30b83e,{fileName:_0x64c844,type:_0x4b9c0d,path:_0x129ac8}=_0x48e019,_0x5c87a2=child_types_map_1[_0x3de981(0x99)][_0x4b9c0d];if(!_0x5c87a2)throw new Error(_0x3de981(0x7e)+_0x4b9c0d);if(!this[_0x3de981(0x82)][_0x129ac8]){const _0x2d65e0=path_1[_0x3de981(0x99)][_0x3de981(0x7b)](this[_0x3de981(0x75)],_0x129ac8),_0x6793bb=await fs_internal_1['FS'][_0x3de981(0x9c)](_0x2d65e0);if(!_0x6793bb)return;const _0x4226ae=await fs_internal_1['FS'][_0x3de981(0x92)](_0x2d65e0);this[_0x3de981(0x82)][_0x129ac8]=await xml_1[_0x3de981(0x9d)][_0x3de981(0xa5)](_0x4226ae);}const _0x1d2a08=this[_0x3de981(0x82)][_0x129ac8],_0x33e385=_0x64c844[_0x3de981(0x85)]('.')['pop']();xml_1[_0x3de981(0x9d)]['removeAt'](_0x1d2a08,_0x5c87a2,_0x33e385||_0x64c844),xml_1['Xml'][_0x3de981(0x8b)](_0x1d2a08)?(await this[_0x3de981(0x9f)](_0x48e019),delete this[_0x3de981(0x82)][_0x129ac8]):this[_0x3de981(0x82)][_0x129ac8]=_0x1d2a08;}async[a82_0x30b83e(0xa0)](){const _0x5e4bf2=a82_0x30b83e;!await fs_internal_1['FS'][_0x5e4bf2(0x9c)](this[_0x5e4bf2(0x75)])&&await fs_internal_1['FS'][_0x5e4bf2(0x9a)](this['sourceDir']);for(const _0x5ebfff of this['components']){!child_types_1[_0x5e4bf2(0x99)][_0x5e4bf2(0x7f)](_0x5ebfff['type'])?await this['removeParent'](_0x5ebfff):await this[_0x5e4bf2(0x81)](_0x5ebfff);}const _0x257054=Object[_0x5e4bf2(0x8d)](this['parentComponents']);logger[_0x5e4bf2(0x90)]('have\x20to\x20update\x20%d\x20files',this['components'][_0x5e4bf2(0xa1)]);while(_0x257054[_0x5e4bf2(0xa1)]){const _0x3a677f=_0x257054[_0x5e4bf2(0xa7)](0x0,this[_0x5e4bf2(0x83)]);for(const _0x59ea33 of _0x3a677f){await fs_internal_1['FS'][_0x5e4bf2(0x94)](path_1[_0x5e4bf2(0x99)][_0x5e4bf2(0x7b)](this[_0x5e4bf2(0x75)],_0x59ea33),xml_1[_0x5e4bf2(0x9d)][_0x5e4bf2(0x8a)](this[_0x5e4bf2(0x82)][_0x59ea33]));}}this[_0x5e4bf2(0x82)]={};}}exports[a82_0x30b83e(0x8c)]=MDApiRemover;