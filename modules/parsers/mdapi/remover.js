function a91_0x4746(){const _0x3e7660=['toString','META_EXPERIENCE_BUNDLE','constructor','__esModule','path','-meta.xml','readFile','removeAt','pop','6YGpLpg','length','remove\x20child\x20component\x20%s\x20[%s]','181762julFoA','join','isEmptyXml','default','removeParent','298645MGZDOb','type','608nFglhH','Xml','splice','12VQUIyl','catch','exists','defineProperty','MAX_WRITES_PER_TICK','24rPHlkR','../utils/xml','MDApiRemover','site-meta.xml','Unknown\x20child\x20type\x20','start','Logger','apply','convertToString','writeFile','removeChild','63702LCUHXL','fileName','13674617fOqcuJ','__importDefault','removeFile','remove\x20parent\x20component\x20%s\x20[%s]','search','isDir','ExperienceBundle','remove\x20component\x20\x20%s\x20[%s]','parentComponents','4UwziYo','2472670oMVBRF','../../internal/fs.internal','have\x20to\x20update\x20%d\x20files','keys','components','logger','../data/child-types','7169100crbrcz','includes','sourceDir','log','310197FMPSvg','remove\x20component\x20directory\x20%s\x20[%s]','(((.+)+)+)+$'];a91_0x4746=function(){return _0x3e7660;};return a91_0x4746();}function a91_0x5815(_0x4aeb74,_0x5e33d7){const _0x4b5160=a91_0x4746();return a91_0x5815=function(_0xb6517e,_0x36e6b7){_0xb6517e=_0xb6517e-0x13c;let _0x4746e2=_0x4b5160[_0xb6517e];return _0x4746e2;},a91_0x5815(_0x4aeb74,_0x5e33d7);}const a91_0x50d90d=a91_0x5815;(function(_0x172238,_0x1e485e){const _0x27066d=a91_0x5815,_0x335de9=_0x172238();while(!![]){try{const _0x54ddb4=-parseInt(_0x27066d(0x151))/0x1+parseInt(_0x27066d(0x149))/0x2*(parseInt(_0x27066d(0x13d))/0x3)+-parseInt(_0x27066d(0x171))/0x4*(-parseInt(_0x27066d(0x172))/0x5)+-parseInt(_0x27066d(0x15b))/0x6*(parseInt(_0x27066d(0x14c))/0x7)+parseInt(_0x27066d(0x153))/0x8*(parseInt(_0x27066d(0x166))/0x9)+parseInt(_0x27066d(0x179))/0xa+-parseInt(_0x27066d(0x168))/0xb*(parseInt(_0x27066d(0x156))/0xc);if(_0x54ddb4===_0x1e485e)break;else _0x335de9['push'](_0x335de9['shift']());}catch(_0xbdb82f){_0x335de9['push'](_0x335de9['shift']());}}}(a91_0x4746,0x650d9));const a91_0x36e6b7=function(){let _0x3572c6=!![];return function(_0x293107,_0xd112da){const _0x44e681=_0x3572c6?function(){const _0x123e7e=a91_0x5815;if(_0xd112da){const _0x1215dd=_0xd112da[_0x123e7e(0x162)](_0x293107,arguments);return _0xd112da=null,_0x1215dd;}}:function(){};return _0x3572c6=![],_0x44e681;};}(),a91_0xb6517e=a91_0x36e6b7(this,function(){const _0x13c37d=a91_0x5815;return a91_0xb6517e['toString']()[_0x13c37d(0x16c)]('(((.+)+)+)+$')[_0x13c37d(0x140)]()[_0x13c37d(0x142)](a91_0xb6517e)[_0x13c37d(0x16c)](_0x13c37d(0x13f));});a91_0xb6517e();'use strict';var __importDefault=this&&this[a91_0x50d90d(0x169)]||function(_0x1c8f3c){const _0x1a09e6=a91_0x50d90d;return _0x1c8f3c&&_0x1c8f3c[_0x1a09e6(0x143)]?_0x1c8f3c:{'default':_0x1c8f3c};};Object[a91_0x50d90d(0x159)](exports,a91_0x50d90d(0x143),{'value':!![]}),exports[a91_0x50d90d(0x15d)]=void 0x0;const fs_internal_1=require(a91_0x50d90d(0x173)),core_1=require('../../../core'),xml_1=require(a91_0x50d90d(0x15c)),child_types_1=__importDefault(require(a91_0x50d90d(0x178))),child_types_map_1=__importDefault(require('../data/child-types-map')),path_1=__importDefault(require('path'));class MDApiRemover{constructor(_0x27a797,_0x5678d9){const _0x5ccfe4=a91_0x50d90d;this[_0x5ccfe4(0x176)]=_0x27a797,this['sourceDir']=_0x5678d9,this['META_EXTENSION']=_0x5ccfe4(0x145),this[_0x5ccfe4(0x141)]=_0x5ccfe4(0x15e),this[_0x5ccfe4(0x15a)]=0x64,this[_0x5ccfe4(0x177)]=new core_1[(_0x5ccfe4(0x161))](MDApiRemover['name']),this[_0x5ccfe4(0x170)]={};}async[a91_0x50d90d(0x150)](_0x4e582c){const _0x52d55a=a91_0x50d90d,_0x5f0b8a=path_1[_0x52d55a(0x14f)][_0x52d55a(0x14d)](this['sourceDir'],_0x4e582c['path']),_0x2e3002=path_1[_0x52d55a(0x14f)][_0x52d55a(0x14d)](this[_0x52d55a(0x17b)],''+_0x4e582c[_0x52d55a(0x144)]+this['META_EXTENSION']);this[_0x52d55a(0x170)][_0x4e582c['path']]&&delete this[_0x52d55a(0x170)][_0x4e582c[_0x52d55a(0x144)]];const _0x2316c2=await fs_internal_1['FS'][_0x52d55a(0x16d)](_0x5f0b8a)[_0x52d55a(0x157)](()=>![]);if(_0x2316c2){this[_0x52d55a(0x177)][_0x52d55a(0x13c)](_0x52d55a(0x13e),_0x5f0b8a,_0x4e582c[_0x52d55a(0x152)]),await fs_internal_1['FS']['removeDir'](_0x5f0b8a);_0x4e582c[_0x52d55a(0x152)]===_0x52d55a(0x16e)&&await fs_internal_1['FS'][_0x52d55a(0x16a)](''+_0x5f0b8a+this[_0x52d55a(0x141)])[_0x52d55a(0x157)](()=>void 0x0);return;}this[_0x52d55a(0x177)][_0x52d55a(0x13c)](_0x52d55a(0x16f),_0x5f0b8a,_0x4e582c[_0x52d55a(0x152)]),await Promise['all']([fs_internal_1['FS'][_0x52d55a(0x16a)](_0x5f0b8a),fs_internal_1['FS'][_0x52d55a(0x16a)](_0x2e3002)]);}async[a91_0x50d90d(0x165)](_0x3dee74){const _0x2175c1=a91_0x50d90d,{fileName:_0x3daf12,type:_0xa3ed99,path:_0x506a61}=_0x3dee74,_0x3ac3c8=child_types_map_1[_0x2175c1(0x14f)][_0xa3ed99];if(!_0x3ac3c8)throw new Error(_0x2175c1(0x15f)+_0xa3ed99);if(!this[_0x2175c1(0x170)][_0x506a61]){const _0x16e875=path_1['default'][_0x2175c1(0x14d)](this[_0x2175c1(0x17b)],_0x506a61),_0x2236be=await fs_internal_1['FS'][_0x2175c1(0x158)](_0x16e875);if(!_0x2236be)return;const _0x5bb1d6=await fs_internal_1['FS'][_0x2175c1(0x146)](_0x16e875);this[_0x2175c1(0x170)][_0x506a61]=await xml_1['Xml']['parse'](_0x5bb1d6);}const _0x325900=this['parentComponents'][_0x506a61],_0x28dd91=_0x3daf12['split']('.')[_0x2175c1(0x148)]();xml_1[_0x2175c1(0x154)][_0x2175c1(0x147)](_0x325900,_0x3ac3c8,_0x28dd91||_0x3daf12),xml_1[_0x2175c1(0x154)][_0x2175c1(0x14e)](_0x325900)?(this[_0x2175c1(0x177)][_0x2175c1(0x13c)]('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x3dee74['path'],_0x3dee74[_0x2175c1(0x167)]),await this['removeParent'](_0x3dee74),delete this['parentComponents'][_0x506a61]):this[_0x2175c1(0x170)][_0x506a61]=_0x325900;}async[a91_0x50d90d(0x160)](){const _0x1dc102=a91_0x50d90d;!await fs_internal_1['FS'][_0x1dc102(0x158)](this[_0x1dc102(0x17b)])&&await fs_internal_1['FS']['makeDir'](this[_0x1dc102(0x17b)]);for(const _0x2f7872 of this[_0x1dc102(0x176)]){!child_types_1[_0x1dc102(0x14f)][_0x1dc102(0x17a)](_0x2f7872['type'])?(this[_0x1dc102(0x177)][_0x1dc102(0x13c)](_0x1dc102(0x16b),_0x2f7872[_0x1dc102(0x167)],_0x2f7872['type']),await this[_0x1dc102(0x150)](_0x2f7872)):(this[_0x1dc102(0x177)]['log'](_0x1dc102(0x14b),_0x2f7872[_0x1dc102(0x167)],_0x2f7872[_0x1dc102(0x152)]),await this['removeChild'](_0x2f7872));}const _0x1ff37f=Object[_0x1dc102(0x175)](this[_0x1dc102(0x170)]);this[_0x1dc102(0x177)]['log'](_0x1dc102(0x174),this[_0x1dc102(0x176)][_0x1dc102(0x14a)]);while(_0x1ff37f[_0x1dc102(0x14a)]){const _0x2c2270=_0x1ff37f[_0x1dc102(0x155)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0xf37f4 of _0x2c2270){await fs_internal_1['FS'][_0x1dc102(0x164)](path_1['default'][_0x1dc102(0x14d)](this[_0x1dc102(0x17b)],_0xf37f4),xml_1[_0x1dc102(0x154)][_0x1dc102(0x163)](this[_0x1dc102(0x170)][_0xf37f4]));}}this['parentComponents']={};}}exports['MDApiRemover']=MDApiRemover;