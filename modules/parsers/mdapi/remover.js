const a81_0x4625=['mdapi-remover','1241GvcLUl','../../../core','MDApiRemover','Unknown\x20child\x20type\x20','return\x20/\x22\x20+\x20this\x20+\x20\x22/','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','__importDefault','removeParent','pop','keys','parentComponents','sourceDir','../../internal/fs.internal','428310EzcGTS','length','89709HTlXDi','apply','Logger','META_EXTENSION','readFile','5ByUEXh','isDir','Xml','40190LTMGuC','parse','232492PZSIys','all','writeFile','splice','includes','__esModule','type','exists','removeFile','join','348OlLckx','-meta.xml','485391OrYzzb','default','defineProperty','path','MAX_WRITES_PER_TICK','components','640662tQPTKn','constructor','./child-types-map'];const a81_0xc738dd=a81_0x3f85;(function(_0x28db61,_0x9a54b9){const _0x2a42b1=a81_0x3f85;while(!![]){try{const _0x6fb3fe=parseInt(_0x2a42b1(0x1db))+-parseInt(_0x2a42b1(0x204))+-parseInt(_0x2a42b1(0x1f6))+-parseInt(_0x2a42b1(0x1f8))+parseInt(_0x2a42b1(0x1ee))*parseInt(_0x2a42b1(0x1f3))+-parseInt(_0x2a42b1(0x1ec))+-parseInt(_0x2a42b1(0x202))*-parseInt(_0x2a42b1(0x1df));if(_0x6fb3fe===_0x9a54b9)break;else _0x28db61['push'](_0x28db61['shift']());}catch(_0x30cc8e){_0x28db61['push'](_0x28db61['shift']());}}}(a81_0x4625,0x51b64));const a81_0x317f39=function(){let _0x341b7d=!![];return function(_0x58a76b,_0x120fd6){const _0x2e588f=_0x341b7d?function(){const _0x5e2a66=a81_0x3f85;if(_0x120fd6){const _0x4545cf=_0x120fd6[_0x5e2a66(0x1ef)](_0x58a76b,arguments);return _0x120fd6=null,_0x4545cf;}}:function(){};return _0x341b7d=![],_0x2e588f;};}(),a81_0x2adc88=a81_0x317f39(this,function(){const _0x5b1916=function(){const _0x3e370b=a81_0x3f85,_0x2707cd=_0x5b1916[_0x3e370b(0x1dc)](_0x3e370b(0x1e3))()[_0x3e370b(0x1dc)](_0x3e370b(0x1e4));return!_0x2707cd['test'](a81_0x2adc88);};return _0x5b1916();});a81_0x2adc88();'use strict';var __importDefault=this&&this[a81_0xc738dd(0x1e5)]||function(_0x3e292b){const _0x475ce2=a81_0xc738dd;return _0x3e292b&&_0x3e292b[_0x475ce2(0x1fd)]?_0x3e292b:{'default':_0x3e292b};};function a81_0x3f85(_0x241a39,_0x4461e7){return a81_0x3f85=function(_0xc4bca9,_0x2adc88){_0xc4bca9=_0xc4bca9-0x1d8;let _0x317f39=a81_0x4625[_0xc4bca9];return _0x317f39;},a81_0x3f85(_0x241a39,_0x4461e7);}Object[a81_0xc738dd(0x206)](exports,a81_0xc738dd(0x1fd),{'value':!![]}),exports[a81_0xc738dd(0x1e1)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a81_0xc738dd(0x1e0)),fs_internal_1=require(a81_0xc738dd(0x1eb)),xml_1=require('../utils/xml'),child_types_1=__importDefault(require('./child-types')),child_types_map_1=__importDefault(require(a81_0xc738dd(0x1dd))),logger=new core_1[(a81_0xc738dd(0x1f0))](a81_0xc738dd(0x1de));class MDApiRemover{constructor(_0x197d3d,_0x267569){const _0x459b96=a81_0xc738dd;this[_0x459b96(0x1da)]=_0x197d3d,this[_0x459b96(0x1ea)]=_0x267569,this[_0x459b96(0x1f1)]=_0x459b96(0x203),this[_0x459b96(0x1d9)]=0x64,this[_0x459b96(0x1e9)]={};}async[a81_0xc738dd(0x1e6)](_0x23c27d){const _0x419a1f=a81_0xc738dd,_0x386047=path_1['default']['join'](this[_0x419a1f(0x1ea)],_0x23c27d[_0x419a1f(0x1d8)]),_0x8d6179=path_1[_0x419a1f(0x205)][_0x419a1f(0x201)](this[_0x419a1f(0x1ea)],''+_0x23c27d[_0x419a1f(0x1d8)]+this[_0x419a1f(0x1f1)]);if(await fs_internal_1['FS'][_0x419a1f(0x1f4)](_0x386047)){await fs_internal_1['FS']['removeDir'](_0x386047);return;}await Promise[_0x419a1f(0x1f9)]([fs_internal_1['FS'][_0x419a1f(0x200)](_0x386047),fs_internal_1['FS'][_0x419a1f(0x200)](_0x8d6179)]);}async['removeChild'](_0x4d836b){const _0x151261=a81_0xc738dd,{fileName:_0x23d011,type:_0xd46435,path:_0x3c622e}=_0x4d836b,_0x5f184d=child_types_map_1[_0x151261(0x205)][_0xd46435];if(!_0x5f184d)throw new Error(_0x151261(0x1e2)+_0xd46435);if(!this[_0x151261(0x1e9)][_0x3c622e]){const _0x2a7c19=path_1['default'][_0x151261(0x201)](this[_0x151261(0x1ea)],_0x3c622e),_0x4413cb=await fs_internal_1['FS'][_0x151261(0x1ff)](_0x2a7c19);if(!_0x4413cb)return;const _0x3080a4=await fs_internal_1['FS'][_0x151261(0x1f2)](_0x2a7c19);this['parentComponents'][_0x3c622e]=await xml_1[_0x151261(0x1f5)][_0x151261(0x1f7)](_0x3080a4);}const _0x3c6507=this[_0x151261(0x1e9)][_0x3c622e],_0x51151e=_0x23d011['split']('.')[_0x151261(0x1e7)]();xml_1[_0x151261(0x1f5)]['removeAt'](_0x3c6507,_0x5f184d,_0x51151e||_0x23d011),this[_0x151261(0x1e9)][_0x3c622e]=_0x3c6507;}async['start'](){const _0x2f6263=a81_0xc738dd;!await fs_internal_1['FS'][_0x2f6263(0x1ff)](this['sourceDir'])&&await fs_internal_1['FS']['makeDir'](this[_0x2f6263(0x1ea)]);for(const _0x5c90eb of this[_0x2f6263(0x1da)]){!child_types_1[_0x2f6263(0x205)][_0x2f6263(0x1fc)](_0x5c90eb[_0x2f6263(0x1fe)])?await this[_0x2f6263(0x1e6)](_0x5c90eb):await this['removeChild'](_0x5c90eb);}const _0x12227d=Object[_0x2f6263(0x1e8)](this[_0x2f6263(0x1e9)]);logger['log']('have\x20to\x20update\x20%d\x20files',this['components'][_0x2f6263(0x1ed)]);while(_0x12227d[_0x2f6263(0x1ed)]){const _0x11887f=_0x12227d[_0x2f6263(0x1fb)](0x0,this[_0x2f6263(0x1d9)]);for(const _0x26ee4e of _0x11887f){await fs_internal_1['FS'][_0x2f6263(0x1fa)](path_1[_0x2f6263(0x205)][_0x2f6263(0x201)](this['sourceDir'],_0x26ee4e),xml_1['Xml']['convertToString'](this['parentComponents'][_0x26ee4e]));}}this[_0x2f6263(0x1e9)]={};}}exports['MDApiRemover']=MDApiRemover;