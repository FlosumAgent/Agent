const a83_0x3736b5=a83_0x5c3b;(function(_0xa5f9ee,_0x174157){const _0x474405=a83_0x5c3b,_0x4869f3=_0xa5f9ee();while(!![]){try{const _0x5ebde7=-parseInt(_0x474405(0x198))/0x1*(parseInt(_0x474405(0x185))/0x2)+parseInt(_0x474405(0x193))/0x3+parseInt(_0x474405(0x19b))/0x4+parseInt(_0x474405(0x192))/0x5*(parseInt(_0x474405(0x19d))/0x6)+-parseInt(_0x474405(0x18a))/0x7*(-parseInt(_0x474405(0x190))/0x8)+-parseInt(_0x474405(0x17c))/0x9+-parseInt(_0x474405(0x17b))/0xa;if(_0x5ebde7===_0x174157)break;else _0x4869f3['push'](_0x4869f3['shift']());}catch(_0x3c7244){_0x4869f3['push'](_0x4869f3['shift']());}}}(a83_0x1ea7,0x7ff54));const a83_0xc833e0=function(){let _0x255132=!![];return function(_0x86ec39,_0x357e61){const _0xf1bc90=_0x255132?function(){const _0x238f08=a83_0x5c3b;if(_0x357e61){const _0x26c64=_0x357e61[_0x238f08(0x164)](_0x86ec39,arguments);return _0x357e61=null,_0x26c64;}}:function(){};return _0x255132=![],_0xf1bc90;};}(),a83_0xcbd904=a83_0xc833e0(this,function(){const _0x49e954=a83_0x5c3b;return a83_0xcbd904[_0x49e954(0x178)]()[_0x49e954(0x18e)](_0x49e954(0x169))[_0x49e954(0x178)]()[_0x49e954(0x16c)](a83_0xcbd904)[_0x49e954(0x18e)](_0x49e954(0x169));});a83_0xcbd904();'use strict';function a83_0x1ea7(){const _0x54fd57=['start','type','splice','defineProperty','have\x20to\x20update\x20%d\x20files','MAX_WRITES_PER_TICK','MDApiRemover','META_EXTENSION','toString','__esModule','keys','7880680qYxIGW','1193634XGTHMe','fileName','pop','parse','path','remove\x20component\x20\x20%s\x20[%s]','components','removeDir','log','1048xGJTHb','makeDir','__importDefault','writeFile','removeAt','1128043CHwFBY','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','convertToString','Xml','search','./child-types-map','32mQuAks','Unknown\x20child\x20type\x20','545ElfFFC','274434IwoDGi','removeFile','includes','isEmptyXml','split','361qiRaqi','isDir','default','1405496sSckBe','join','30084DLsyrG','catch','Logger','name','remove\x20parent\x20component\x20%s\x20[%s]','../../internal/fs.internal','./child-types','apply','length','-meta.xml','parentComponents','sourceDir','(((.+)+)+)+$','removeParent','../../../core','constructor','exists','logger','removeChild'];a83_0x1ea7=function(){return _0x54fd57;};return a83_0x1ea7();}var __importDefault=this&&this[a83_0x3736b5(0x187)]||function(_0x1b8df2){const _0x26fd90=a83_0x3736b5;return _0x1b8df2&&_0x1b8df2[_0x26fd90(0x179)]?_0x1b8df2:{'default':_0x1b8df2};};Object[a83_0x3736b5(0x173)](exports,a83_0x3736b5(0x179),{'value':!![]}),exports[a83_0x3736b5(0x176)]=void 0x0;const fs_internal_1=require(a83_0x3736b5(0x162)),core_1=require(a83_0x3736b5(0x16b)),xml_1=require('../utils/xml'),child_types_1=__importDefault(require(a83_0x3736b5(0x163))),child_types_map_1=__importDefault(require(a83_0x3736b5(0x18f))),path_1=__importDefault(require('path'));class MDApiRemover{constructor(_0x4d9c75,_0x44d26c){const _0x8657c9=a83_0x3736b5;this[_0x8657c9(0x182)]=_0x4d9c75,this[_0x8657c9(0x168)]=_0x44d26c,this[_0x8657c9(0x177)]=_0x8657c9(0x166),this[_0x8657c9(0x175)]=0x64,this['logger']=new core_1[(_0x8657c9(0x15f))](MDApiRemover[_0x8657c9(0x160)]),this[_0x8657c9(0x167)]={};}async[a83_0x3736b5(0x16a)](_0xa1781){const _0x5ee488=a83_0x3736b5,_0x1b2391=path_1['default'][_0x5ee488(0x19c)](this[_0x5ee488(0x168)],_0xa1781[_0x5ee488(0x180)]),_0x1771f8=path_1[_0x5ee488(0x19a)]['join'](this[_0x5ee488(0x168)],''+_0xa1781[_0x5ee488(0x180)]+this['META_EXTENSION']);this[_0x5ee488(0x167)][_0xa1781[_0x5ee488(0x180)]]&&delete this[_0x5ee488(0x167)][_0xa1781[_0x5ee488(0x180)]];const _0x5d9e93=await fs_internal_1['FS'][_0x5ee488(0x199)](_0x1b2391)[_0x5ee488(0x19e)](()=>![]);if(_0x5d9e93){this['logger'][_0x5ee488(0x184)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x1b2391,_0xa1781['type']),await fs_internal_1['FS'][_0x5ee488(0x183)](_0x1b2391);return;}this[_0x5ee488(0x16e)][_0x5ee488(0x184)](_0x5ee488(0x181),_0x1b2391,_0xa1781[_0x5ee488(0x171)]),await Promise['all']([fs_internal_1['FS'][_0x5ee488(0x194)](_0x1b2391),fs_internal_1['FS'][_0x5ee488(0x194)](_0x1771f8)]);}async[a83_0x3736b5(0x16f)](_0x5a13b8){const _0x15285c=a83_0x3736b5,{fileName:_0x55891a,type:_0x3dcddb,path:_0x860958}=_0x5a13b8,_0x3daf91=child_types_map_1['default'][_0x3dcddb];if(!_0x3daf91)throw new Error(_0x15285c(0x191)+_0x3dcddb);if(!this[_0x15285c(0x167)][_0x860958]){const _0x3659a6=path_1[_0x15285c(0x19a)][_0x15285c(0x19c)](this['sourceDir'],_0x860958),_0x185e36=await fs_internal_1['FS']['exists'](_0x3659a6);if(!_0x185e36)return;const _0x576d7d=await fs_internal_1['FS']['readFile'](_0x3659a6);this[_0x15285c(0x167)][_0x860958]=await xml_1[_0x15285c(0x18d)][_0x15285c(0x17f)](_0x576d7d);}const _0x33b02f=this[_0x15285c(0x167)][_0x860958],_0x15b682=_0x55891a[_0x15285c(0x197)]('.')[_0x15285c(0x17e)]();xml_1[_0x15285c(0x18d)][_0x15285c(0x189)](_0x33b02f,_0x3daf91,_0x15b682||_0x55891a),xml_1[_0x15285c(0x18d)][_0x15285c(0x196)](_0x33b02f)?(this[_0x15285c(0x16e)]['log'](_0x15285c(0x18b),_0x5a13b8[_0x15285c(0x180)],_0x5a13b8[_0x15285c(0x17d)]),await this[_0x15285c(0x16a)](_0x5a13b8),delete this[_0x15285c(0x167)][_0x860958]):this['parentComponents'][_0x860958]=_0x33b02f;}async[a83_0x3736b5(0x170)](){const _0x36871e=a83_0x3736b5;!await fs_internal_1['FS'][_0x36871e(0x16d)](this[_0x36871e(0x168)])&&await fs_internal_1['FS'][_0x36871e(0x186)](this[_0x36871e(0x168)]);for(const _0x4464c9 of this[_0x36871e(0x182)]){!child_types_1['default'][_0x36871e(0x195)](_0x4464c9[_0x36871e(0x171)])?(this['logger']['log'](_0x36871e(0x161),_0x4464c9['fileName'],_0x4464c9[_0x36871e(0x171)]),await this[_0x36871e(0x16a)](_0x4464c9)):(this[_0x36871e(0x16e)][_0x36871e(0x184)]('remove\x20child\x20component\x20%s\x20[%s]',_0x4464c9[_0x36871e(0x17d)],_0x4464c9[_0x36871e(0x171)]),await this[_0x36871e(0x16f)](_0x4464c9));}const _0x518c95=Object[_0x36871e(0x17a)](this[_0x36871e(0x167)]);this[_0x36871e(0x16e)]['log'](_0x36871e(0x174),this[_0x36871e(0x182)]['length']);while(_0x518c95[_0x36871e(0x165)]){const _0x630d17=_0x518c95[_0x36871e(0x172)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x1de3f7 of _0x630d17){await fs_internal_1['FS'][_0x36871e(0x188)](path_1[_0x36871e(0x19a)][_0x36871e(0x19c)](this[_0x36871e(0x168)],_0x1de3f7),xml_1[_0x36871e(0x18d)][_0x36871e(0x18c)](this[_0x36871e(0x167)][_0x1de3f7]));}}this[_0x36871e(0x167)]={};}}function a83_0x5c3b(_0x5a4687,_0x1c225e){const _0x499a5b=a83_0x1ea7();return a83_0x5c3b=function(_0xcbd904,_0xc833e0){_0xcbd904=_0xcbd904-0x15f;let _0x1ea751=_0x499a5b[_0xcbd904];return _0x1ea751;},a83_0x5c3b(_0x5a4687,_0x1c225e);}exports['MDApiRemover']=MDApiRemover;