const a81_0x2743=['start','default','1pItVSa','path','248859YvoxaB','removeFile','removeAt','includes','__esModule','convertToString','Logger','202247oTdlCj','21221QYFFqd','mdapi-remover','splice','writeFile','length','-meta.xml','MAX_WRITES_PER_TICK','./child-types-map','keys','pop','META_EXTENSION','Xml','parse','11gfNhSm','1WPIbqN','removeChild','1ZGdLkl','1mZmkdR','../../../core','213523pLtcdt','constructor','173029ToXJXU','exists','isDir','sourceDir','MDApiRemover','join','../utils/xml','return\x20/\x22\x20+\x20this\x20+\x20\x22/','defineProperty','parentComponents','removeDir','removeParent','Unknown\x20child\x20type\x20','readFile','113652QuMUHc','299501KowLao','split','log','components','apply'];const a81_0x1737b9=a81_0x1e73;(function(_0x27c280,_0x2208bd){const _0x47d31c=a81_0x1e73;while(!![]){try{const _0x155c66=-parseInt(_0x47d31c(0x1cb))*-parseInt(_0x47d31c(0x1cf))+-parseInt(_0x47d31c(0x1c8))*-parseInt(_0x47d31c(0x1ee))+-parseInt(_0x47d31c(0x1ef))*parseInt(_0x47d31c(0x1c7))+parseInt(_0x47d31c(0x1e5))*-parseInt(_0x47d31c(0x1de))+parseInt(_0x47d31c(0x1cd))+-parseInt(_0x47d31c(0x1ca))*-parseInt(_0x47d31c(0x1e7))+-parseInt(_0x47d31c(0x1dd));if(_0x155c66===_0x2208bd)break;else _0x27c280['push'](_0x27c280['shift']());}catch(_0x31e46e){_0x27c280['push'](_0x27c280['shift']());}}}(a81_0x2743,0x2ea62));const a81_0x3d12c8=function(){let _0x4d3d0d=!![];return function(_0x113e65,_0x11fd34){const _0x2df173=_0x4d3d0d?function(){const _0x47af4=a81_0x1e73;if(_0x11fd34){const _0x3d8c2d=_0x11fd34[_0x47af4(0x1e2)](_0x113e65,arguments);return _0x11fd34=null,_0x3d8c2d;}}:function(){};return _0x4d3d0d=![],_0x2df173;};}(),a81_0x518156=a81_0x3d12c8(this,function(){const _0x38478b=function(){const _0x9381d9=a81_0x1e73,_0x2aa8f0=_0x38478b[_0x9381d9(0x1ce)](_0x9381d9(0x1d6))()[_0x9381d9(0x1ce)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x2aa8f0['test'](a81_0x518156);};return _0x38478b();});a81_0x518156();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x55ef18){return _0x55ef18&&_0x55ef18['__esModule']?_0x55ef18:{'default':_0x55ef18};};function a81_0x1e73(_0x5dfbe1,_0x1e3556){return a81_0x1e73=function(_0x513407,_0x518156){_0x513407=_0x513407-0x1c3;let _0x3d12c8=a81_0x2743[_0x513407];return _0x3d12c8;},a81_0x1e73(_0x5dfbe1,_0x1e3556);}Object[a81_0x1737b9(0x1d7)](exports,a81_0x1737b9(0x1eb),{'value':!![]}),exports[a81_0x1737b9(0x1d3)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a81_0x1737b9(0x1cc)),fs_internal_1=require('../../internal/fs.internal'),xml_1=require(a81_0x1737b9(0x1d5)),child_types_1=__importDefault(require('./child-types')),child_types_map_1=__importDefault(require(a81_0x1737b9(0x1f6))),logger=new core_1[(a81_0x1737b9(0x1ed))](a81_0x1737b9(0x1f0));class MDApiRemover{constructor(_0x17ad75,_0x26d160){const _0x227021=a81_0x1737b9;this[_0x227021(0x1e1)]=_0x17ad75,this['sourceDir']=_0x26d160,this[_0x227021(0x1c4)]=_0x227021(0x1f4),this[_0x227021(0x1f5)]=0x64,this[_0x227021(0x1d8)]={};}async[a81_0x1737b9(0x1da)](_0x18f7fb){const _0xd22945=a81_0x1737b9,_0x441e35=path_1[_0xd22945(0x1e4)][_0xd22945(0x1d4)](this[_0xd22945(0x1d2)],_0x18f7fb[_0xd22945(0x1e6)]),_0x1ee2d2=path_1[_0xd22945(0x1e4)][_0xd22945(0x1d4)](this['sourceDir'],''+_0x18f7fb[_0xd22945(0x1e6)]+this[_0xd22945(0x1c4)]);if(await fs_internal_1['FS'][_0xd22945(0x1d1)](_0x441e35)){await fs_internal_1['FS'][_0xd22945(0x1d9)](_0x441e35);return;}await Promise['all']([fs_internal_1['FS'][_0xd22945(0x1e8)](_0x441e35),fs_internal_1['FS'][_0xd22945(0x1e8)](_0x1ee2d2)]);}async[a81_0x1737b9(0x1c9)](_0x517b37){const _0x24f6a8=a81_0x1737b9,{fileName:_0x14112,type:_0x188cd4,path:_0x39cf74}=_0x517b37,_0x4f1534=child_types_map_1[_0x24f6a8(0x1e4)][_0x188cd4];if(!_0x4f1534)throw new Error(_0x24f6a8(0x1db)+_0x188cd4);if(!this['parentComponents'][_0x39cf74]){const _0x4e97a9=path_1[_0x24f6a8(0x1e4)][_0x24f6a8(0x1d4)](this[_0x24f6a8(0x1d2)],_0x39cf74),_0x1e5d5f=await fs_internal_1['FS'][_0x24f6a8(0x1d0)](_0x4e97a9);if(!_0x1e5d5f)return;const _0x254969=await fs_internal_1['FS'][_0x24f6a8(0x1dc)](_0x4e97a9);this['parentComponents'][_0x39cf74]=await xml_1[_0x24f6a8(0x1c5)][_0x24f6a8(0x1c6)](_0x254969);}const _0x9675f7=this['parentComponents'][_0x39cf74],_0x27f28f=_0x14112[_0x24f6a8(0x1df)]('.')[_0x24f6a8(0x1c3)]();xml_1[_0x24f6a8(0x1c5)][_0x24f6a8(0x1e9)](_0x9675f7,_0x4f1534,_0x27f28f||_0x14112),this[_0x24f6a8(0x1d8)][_0x39cf74]=_0x9675f7;}async[a81_0x1737b9(0x1e3)](){const _0x47e693=a81_0x1737b9;!await fs_internal_1['FS'][_0x47e693(0x1d0)](this[_0x47e693(0x1d2)])&&await fs_internal_1['FS']['makeDir'](this[_0x47e693(0x1d2)]);for(const _0x29065a of this[_0x47e693(0x1e1)]){!child_types_1['default'][_0x47e693(0x1ea)](_0x29065a['type'])?await this[_0x47e693(0x1da)](_0x29065a):await this[_0x47e693(0x1c9)](_0x29065a);}const _0x51ee34=Object[_0x47e693(0x1f7)](this[_0x47e693(0x1d8)]);logger[_0x47e693(0x1e0)]('have\x20to\x20update\x20%d\x20files',this[_0x47e693(0x1e1)][_0x47e693(0x1f3)]);while(_0x51ee34['length']){const _0x503d3b=_0x51ee34[_0x47e693(0x1f1)](0x0,this[_0x47e693(0x1f5)]);for(const _0x21ef4a of _0x503d3b){await fs_internal_1['FS'][_0x47e693(0x1f2)](path_1[_0x47e693(0x1e4)][_0x47e693(0x1d4)](this[_0x47e693(0x1d2)],_0x21ef4a),xml_1[_0x47e693(0x1c5)][_0x47e693(0x1ec)](this[_0x47e693(0x1d8)][_0x21ef4a]));}}this[_0x47e693(0x1d8)]={};}}exports[a81_0x1737b9(0x1d3)]=MDApiRemover;