const a81_0x4145=['removeParent','-meta.xml','Unknown\x20child\x20type\x20','isDir','path','default','2jBUopA','join','1wBtQLy','return\x20/\x22\x20+\x20this\x20+\x20\x22/','sourceDir','defineProperty','META_EXTENSION','split','parse','constructor','test','have\x20to\x20update\x20%d\x20files','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../utils/xml','941QSVCHy','MAX_WRITES_PER_TICK','505951ldZgVQ','145976rVAJHk','__esModule','isEmptyXml','makeDir','keys','../../../core','removeChild','../../internal/fs.internal','__importDefault','length','320170BnxNRf','splice','mdapi-remover','components','all','./child-types','MDApiRemover','start','parentComponents','363299QoFhtc','Xml','977951gyoAuV','2115923xrLxYY','removeFile','type','23wrAmMF','removeDir','pop','removeAt','1oYsrIi','exists'];function a81_0x4198(_0x5c7327,_0x946b70){return a81_0x4198=function(_0x4c4bd5,_0x3b1ca7){_0x4c4bd5=_0x4c4bd5-0xee;let _0x2b4a78=a81_0x4145[_0x4c4bd5];return _0x2b4a78;},a81_0x4198(_0x5c7327,_0x946b70);}const a81_0x3b88fa=a81_0x4198;(function(_0x2f9cc5,_0x232bea){const _0x57fea5=a81_0x4198;while(!![]){try{const _0x443523=parseInt(_0x57fea5(0x108))*parseInt(_0x57fea5(0x122))+-parseInt(_0x57fea5(0x102))+parseInt(_0x57fea5(0xee))*parseInt(_0x57fea5(0x116))+-parseInt(_0x57fea5(0x104))+-parseInt(_0x57fea5(0xef))+-parseInt(_0x57fea5(0x114))*parseInt(_0x57fea5(0xf9))+-parseInt(_0x57fea5(0x105))*-parseInt(_0x57fea5(0x10c));if(_0x443523===_0x232bea)break;else _0x2f9cc5['push'](_0x2f9cc5['shift']());}catch(_0x37e160){_0x2f9cc5['push'](_0x2f9cc5['shift']());}}}(a81_0x4145,0x7df6f));const a81_0x2b4a78=function(){let _0x5c22ea=!![];return function(_0x3e56f8,_0x211c38){const _0x9f24cd=_0x5c22ea?function(){if(_0x211c38){const _0x4a7f62=_0x211c38['apply'](_0x3e56f8,arguments);return _0x211c38=null,_0x4a7f62;}}:function(){};return _0x5c22ea=![],_0x9f24cd;};}(),a81_0x3b1ca7=a81_0x2b4a78(this,function(){const _0xcb9edf=function(){const _0x115681=a81_0x4198,_0x45c706=_0xcb9edf[_0x115681(0x11d)](_0x115681(0x117))()[_0x115681(0x11d)](_0x115681(0x120));return!_0x45c706[_0x115681(0x11e)](a81_0x3b1ca7);};return _0xcb9edf();});a81_0x3b1ca7();'use strict';var __importDefault=this&&this[a81_0x3b88fa(0xf7)]||function(_0x44e77b){const _0x405121=a81_0x3b88fa;return _0x44e77b&&_0x44e77b[_0x405121(0xf0)]?_0x44e77b:{'default':_0x44e77b};};Object[a81_0x3b88fa(0x119)](exports,a81_0x3b88fa(0xf0),{'value':!![]}),exports[a81_0x3b88fa(0xff)]=void 0x0;const path_1=__importDefault(require(a81_0x3b88fa(0x112))),core_1=require(a81_0x3b88fa(0xf4)),fs_internal_1=require(a81_0x3b88fa(0xf6)),xml_1=require(a81_0x3b88fa(0x121)),child_types_1=__importDefault(require(a81_0x3b88fa(0xfe))),child_types_map_1=__importDefault(require('./child-types-map')),logger=new core_1['Logger'](a81_0x3b88fa(0xfb));class MDApiRemover{constructor(_0x57cc87,_0x3b5377){const _0x448a20=a81_0x3b88fa;this[_0x448a20(0xfc)]=_0x57cc87,this[_0x448a20(0x118)]=_0x3b5377,this[_0x448a20(0x11a)]=_0x448a20(0x10f),this[_0x448a20(0x123)]=0x64,this[_0x448a20(0x101)]={};}async[a81_0x3b88fa(0x10e)](_0x2f93f2){const _0x5a9fea=a81_0x3b88fa,_0x1d71d7=path_1[_0x5a9fea(0x113)][_0x5a9fea(0x115)](this[_0x5a9fea(0x118)],_0x2f93f2['path']),_0x4dabc9=path_1[_0x5a9fea(0x113)][_0x5a9fea(0x115)](this['sourceDir'],''+_0x2f93f2[_0x5a9fea(0x112)]+this['META_EXTENSION']);if(await fs_internal_1['FS'][_0x5a9fea(0x111)](_0x1d71d7)){await fs_internal_1['FS'][_0x5a9fea(0x109)](_0x1d71d7);return;}await Promise[_0x5a9fea(0xfd)]([fs_internal_1['FS'][_0x5a9fea(0x106)](_0x1d71d7),fs_internal_1['FS']['removeFile'](_0x4dabc9)]);}async[a81_0x3b88fa(0xf5)](_0x5bc097){const _0x118828=a81_0x3b88fa,{fileName:_0x3977ad,type:_0x26a8a7,path:_0x4e6239}=_0x5bc097,_0x324296=child_types_map_1['default'][_0x26a8a7];if(!_0x324296)throw new Error(_0x118828(0x110)+_0x26a8a7);if(!this[_0x118828(0x101)][_0x4e6239]){const _0x56f03d=path_1[_0x118828(0x113)]['join'](this[_0x118828(0x118)],_0x4e6239),_0x39a8e5=await fs_internal_1['FS'][_0x118828(0x10d)](_0x56f03d);if(!_0x39a8e5)return;const _0x2039de=await fs_internal_1['FS']['readFile'](_0x56f03d);this[_0x118828(0x101)][_0x4e6239]=await xml_1[_0x118828(0x103)][_0x118828(0x11c)](_0x2039de);}const _0x52c275=this[_0x118828(0x101)][_0x4e6239],_0x4a5ced=_0x3977ad[_0x118828(0x11b)]('.')[_0x118828(0x10a)]();xml_1[_0x118828(0x103)][_0x118828(0x10b)](_0x52c275,_0x324296,_0x4a5ced||_0x3977ad),xml_1['Xml'][_0x118828(0xf1)](_0x52c275)?(await this[_0x118828(0x10e)](_0x5bc097),delete this[_0x118828(0x101)][_0x4e6239]):this[_0x118828(0x101)][_0x4e6239]=_0x52c275;}async[a81_0x3b88fa(0x100)](){const _0x539fb6=a81_0x3b88fa;!await fs_internal_1['FS'][_0x539fb6(0x10d)](this[_0x539fb6(0x118)])&&await fs_internal_1['FS'][_0x539fb6(0xf2)](this[_0x539fb6(0x118)]);for(const _0x115fda of this[_0x539fb6(0xfc)]){!child_types_1[_0x539fb6(0x113)]['includes'](_0x115fda[_0x539fb6(0x107)])?await this[_0x539fb6(0x10e)](_0x115fda):await this['removeChild'](_0x115fda);}const _0x2d080f=Object[_0x539fb6(0xf3)](this[_0x539fb6(0x101)]);logger['log'](_0x539fb6(0x11f),this[_0x539fb6(0xfc)]['length']);while(_0x2d080f[_0x539fb6(0xf8)]){const _0x36037c=_0x2d080f[_0x539fb6(0xfa)](0x0,this[_0x539fb6(0x123)]);for(const _0x58e94d of _0x36037c){await fs_internal_1['FS']['writeFile'](path_1[_0x539fb6(0x113)][_0x539fb6(0x115)](this['sourceDir'],_0x58e94d),xml_1[_0x539fb6(0x103)]['convertToString'](this[_0x539fb6(0x101)][_0x58e94d]));}}this[_0x539fb6(0x101)]={};}}exports[a81_0x3b88fa(0xff)]=MDApiRemover;