const a81_0x25b4=['path','have\x20to\x20update\x20%d\x20files','readFile','convertToString','2192181qSijlg','defineProperty','sourceDir','removeDir','removeChild','removeParent','../utils/xml','766087ragRyh','length','splice','type','374236tZZKkQ','pop','test','log','return\x20/\x22\x20+\x20this\x20+\x20\x22/','1AYsCyd','2HkByER','constructor','isEmptyXml','all','Unknown\x20child\x20type\x20','join','split','../../../core','parse','writeFile','552498IzYNaT','212332QzWcTN','makeDir','start','388201PfrqUq','./child-types','default','parentComponents','mdapi-remover','META_EXTENSION','removeAt','apply','exists','Logger','MDApiRemover','components','isDir','includes','./child-types-map','Xml','__esModule','__importDefault','removeFile','181702ArLtbg'];function a81_0x5c8e(_0x4e8ab6,_0xd94f46){return a81_0x5c8e=function(_0x2699a0,_0x119d04){_0x2699a0=_0x2699a0-0x1ad;let _0x41a4d7=a81_0x25b4[_0x2699a0];return _0x41a4d7;},a81_0x5c8e(_0x4e8ab6,_0xd94f46);}const a81_0x3bc7d9=a81_0x5c8e;(function(_0x19bcf9,_0x1d3bea){const _0x4fc9db=a81_0x5c8e;while(!![]){try{const _0x2a2e2e=parseInt(_0x4fc9db(0x1b1))+parseInt(_0x4fc9db(0x1d8))*parseInt(_0x4fc9db(0x1b7))+parseInt(_0x4fc9db(0x1c1))+parseInt(_0x4fc9db(0x1c5))+-parseInt(_0x4fc9db(0x1b6))*-parseInt(_0x4fc9db(0x1ad))+parseInt(_0x4fc9db(0x1c2))+-parseInt(_0x4fc9db(0x1dd));if(_0x2a2e2e===_0x1d3bea)break;else _0x19bcf9['push'](_0x19bcf9['shift']());}catch(_0x3c9143){_0x19bcf9['push'](_0x19bcf9['shift']());}}}(a81_0x25b4,0x716c1));const a81_0x41a4d7=function(){let _0x476ec1=!![];return function(_0xd104c7,_0x13d557){const _0x5ecef8=_0x476ec1?function(){const _0x4b50ac=a81_0x5c8e;if(_0x13d557){const _0x22f633=_0x13d557[_0x4b50ac(0x1cc)](_0xd104c7,arguments);return _0x13d557=null,_0x22f633;}}:function(){};return _0x476ec1=![],_0x5ecef8;};}(),a81_0x119d04=a81_0x41a4d7(this,function(){const _0x391e2a=function(){const _0x5ebfaa=a81_0x5c8e,_0x54ed64=_0x391e2a[_0x5ebfaa(0x1b8)](_0x5ebfaa(0x1b5))()[_0x5ebfaa(0x1b8)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x54ed64[_0x5ebfaa(0x1b3)](a81_0x119d04);};return _0x391e2a();});a81_0x119d04();'use strict';var __importDefault=this&&this[a81_0x3bc7d9(0x1d6)]||function(_0x64155d){const _0x18f147=a81_0x3bc7d9;return _0x64155d&&_0x64155d[_0x18f147(0x1d5)]?_0x64155d:{'default':_0x64155d};};Object[a81_0x3bc7d9(0x1de)](exports,a81_0x3bc7d9(0x1d5),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a81_0x3bc7d9(0x1be)),xml_1=require(a81_0x3bc7d9(0x1e3)),child_types_1=__importDefault(require(a81_0x3bc7d9(0x1c6))),child_types_map_1=__importDefault(require(a81_0x3bc7d9(0x1d3))),path_1=__importDefault(require('path')),logger=new core_1[(a81_0x3bc7d9(0x1ce))](a81_0x3bc7d9(0x1c9));class MDApiRemover{constructor(_0x51e904,_0x41609b){const _0x40ffc5=a81_0x3bc7d9;this[_0x40ffc5(0x1d0)]=_0x51e904,this[_0x40ffc5(0x1df)]=_0x41609b,this[_0x40ffc5(0x1ca)]='-meta.xml',this['MAX_WRITES_PER_TICK']=0x64,this[_0x40ffc5(0x1c8)]={};}async[a81_0x3bc7d9(0x1e2)](_0x5f05ec){const _0x57f9f8=a81_0x3bc7d9,_0xe36169=path_1[_0x57f9f8(0x1c7)][_0x57f9f8(0x1bc)](this[_0x57f9f8(0x1df)],_0x5f05ec[_0x57f9f8(0x1d9)]),_0x400438=path_1[_0x57f9f8(0x1c7)][_0x57f9f8(0x1bc)](this[_0x57f9f8(0x1df)],''+_0x5f05ec[_0x57f9f8(0x1d9)]+this[_0x57f9f8(0x1ca)]);this[_0x57f9f8(0x1c8)][_0x5f05ec[_0x57f9f8(0x1d9)]]&&delete this[_0x57f9f8(0x1c8)][_0x5f05ec[_0x57f9f8(0x1d9)]];const _0x363af2=await fs_internal_1['FS'][_0x57f9f8(0x1d1)](_0xe36169)['catch'](()=>![]);if(_0x363af2){await fs_internal_1['FS'][_0x57f9f8(0x1e0)](_0xe36169);return;}await Promise[_0x57f9f8(0x1ba)]([fs_internal_1['FS'][_0x57f9f8(0x1d7)](_0xe36169),fs_internal_1['FS']['removeFile'](_0x400438)]);}async['removeChild'](_0x39ecd9){const _0x1296ac=a81_0x3bc7d9,{fileName:_0x13241f,type:_0x365c57,path:_0x5597e5}=_0x39ecd9,_0x5229cd=child_types_map_1['default'][_0x365c57];if(!_0x5229cd)throw new Error(_0x1296ac(0x1bb)+_0x365c57);if(!this[_0x1296ac(0x1c8)][_0x5597e5]){const _0x559b16=path_1['default'][_0x1296ac(0x1bc)](this[_0x1296ac(0x1df)],_0x5597e5),_0x33dda1=await fs_internal_1['FS']['exists'](_0x559b16);if(!_0x33dda1)return;const _0x27099a=await fs_internal_1['FS'][_0x1296ac(0x1db)](_0x559b16);this['parentComponents'][_0x5597e5]=await xml_1[_0x1296ac(0x1d4)][_0x1296ac(0x1bf)](_0x27099a);}const _0x495300=this['parentComponents'][_0x5597e5],_0x37817d=_0x13241f[_0x1296ac(0x1bd)]('.')[_0x1296ac(0x1b2)]();xml_1[_0x1296ac(0x1d4)][_0x1296ac(0x1cb)](_0x495300,_0x5229cd,_0x37817d||_0x13241f),xml_1[_0x1296ac(0x1d4)][_0x1296ac(0x1b9)](_0x495300)?(await this[_0x1296ac(0x1e2)](_0x39ecd9),delete this['parentComponents'][_0x5597e5]):this[_0x1296ac(0x1c8)][_0x5597e5]=_0x495300;}async[a81_0x3bc7d9(0x1c4)](){const _0x6d0cf5=a81_0x3bc7d9;!await fs_internal_1['FS'][_0x6d0cf5(0x1cd)](this[_0x6d0cf5(0x1df)])&&await fs_internal_1['FS'][_0x6d0cf5(0x1c3)](this['sourceDir']);for(const _0x426c41 of this[_0x6d0cf5(0x1d0)]){!child_types_1['default'][_0x6d0cf5(0x1d2)](_0x426c41[_0x6d0cf5(0x1b0)])?await this[_0x6d0cf5(0x1e2)](_0x426c41):await this[_0x6d0cf5(0x1e1)](_0x426c41);}const _0x13ad59=Object['keys'](this[_0x6d0cf5(0x1c8)]);logger[_0x6d0cf5(0x1b4)](_0x6d0cf5(0x1da),this[_0x6d0cf5(0x1d0)][_0x6d0cf5(0x1ae)]);while(_0x13ad59['length']){const _0x2c06a1=_0x13ad59[_0x6d0cf5(0x1af)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x5230a9 of _0x2c06a1){await fs_internal_1['FS'][_0x6d0cf5(0x1c0)](path_1['default'][_0x6d0cf5(0x1bc)](this['sourceDir'],_0x5230a9),xml_1['Xml'][_0x6d0cf5(0x1dc)](this[_0x6d0cf5(0x1c8)][_0x5230a9]));}}this[_0x6d0cf5(0x1c8)]={};}}exports[a81_0x3bc7d9(0x1cf)]=MDApiRemover;