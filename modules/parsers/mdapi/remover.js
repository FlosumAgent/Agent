const a81_0xe1a3=['length','../../internal/fs.internal','19pDskid','285819miOgMF','splice','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','__esModule','mdapi-remover','isEmptyXml','catch','all','-meta.xml','Xml','Logger','144139BsNkZG','./child-types-map','path','172MFWtgZ','MAX_WRITES_PER_TICK','readFile','META_EXTENSION','isDir','start','test','340335rHhTgn','removeDir','removeChild','default','../../../core','1zlYiFw','type','log','parse','writeFile','convertToString','removeParent','return\x20/\x22\x20+\x20this\x20+\x20\x22/','13433yLQzVL','pop','exists','constructor','components','parentComponents','1499qwsIsA','apply','join','removeFile','13109JjQpuz','./child-types','sourceDir','../utils/xml','414944djavVw'];function a81_0x57ec(_0x4d0565,_0x4ae881){return a81_0x57ec=function(_0x151eee,_0x4c1feb){_0x151eee=_0x151eee-0xeb;let _0x393b3c=a81_0xe1a3[_0x151eee];return _0x393b3c;},a81_0x57ec(_0x4d0565,_0x4ae881);}const a81_0x1f4158=a81_0x57ec;(function(_0x58d97f,_0x1cd61c){const _0x5ceea5=a81_0x57ec;while(!![]){try{const _0x7902e6=parseInt(_0x5ceea5(0x107))+parseInt(_0x5ceea5(0x10d))*parseInt(_0x5ceea5(0xf3))+-parseInt(_0x5ceea5(0xf0))+parseInt(_0x5ceea5(0x119))+parseInt(_0x5ceea5(0x118))*-parseInt(_0x5ceea5(0x111))+-parseInt(_0x5ceea5(0xff))*-parseInt(_0x5ceea5(0x115))+-parseInt(_0x5ceea5(0xfa));if(_0x7902e6===_0x1cd61c)break;else _0x58d97f['push'](_0x58d97f['shift']());}catch(_0x4e6016){_0x58d97f['push'](_0x58d97f['shift']());}}}(a81_0xe1a3,0x3a38f));const a81_0x393b3c=function(){let _0x58f332=!![];return function(_0xeec64d,_0x2c8ac){const _0x394859=_0x58f332?function(){const _0x28aa79=a81_0x57ec;if(_0x2c8ac){const _0x14df5b=_0x2c8ac[_0x28aa79(0x10e)](_0xeec64d,arguments);return _0x2c8ac=null,_0x14df5b;}}:function(){};return _0x58f332=![],_0x394859;};}(),a81_0x4c1feb=a81_0x393b3c(this,function(){const _0x135fe3=function(){const _0x7c2e88=a81_0x57ec,_0x4e304a=_0x135fe3[_0x7c2e88(0x10a)](_0x7c2e88(0x106))()['constructor'](_0x7c2e88(0x11b));return!_0x4e304a[_0x7c2e88(0xf9)](a81_0x4c1feb);};return _0x135fe3();});a81_0x4c1feb();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xcecd0d){const _0x3931c1=a81_0x57ec;return _0xcecd0d&&_0xcecd0d[_0x3931c1(0x11c)]?_0xcecd0d:{'default':_0xcecd0d};};Object['defineProperty'](exports,a81_0x1f4158(0x11c),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a81_0x1f4158(0x117)),core_1=require(a81_0x1f4158(0xfe)),xml_1=require(a81_0x1f4158(0x114)),child_types_1=__importDefault(require(a81_0x1f4158(0x112))),child_types_map_1=__importDefault(require(a81_0x1f4158(0xf1))),path_1=__importDefault(require(a81_0x1f4158(0xf2))),logger=new core_1[(a81_0x1f4158(0xef))](a81_0x1f4158(0x11d));class MDApiRemover{constructor(_0x1f1e1e,_0x348158){const _0x5a49df=a81_0x1f4158;this[_0x5a49df(0x10b)]=_0x1f1e1e,this[_0x5a49df(0x113)]=_0x348158,this[_0x5a49df(0xf6)]=_0x5a49df(0xed),this[_0x5a49df(0xf4)]=0x64,this[_0x5a49df(0x10c)]={};}async['removeParent'](_0x1cce94){const _0x108e0d=a81_0x1f4158,_0xfc470=path_1[_0x108e0d(0xfd)][_0x108e0d(0x10f)](this[_0x108e0d(0x113)],_0x1cce94[_0x108e0d(0xf2)]),_0x3b2df0=path_1[_0x108e0d(0xfd)][_0x108e0d(0x10f)](this[_0x108e0d(0x113)],''+_0x1cce94[_0x108e0d(0xf2)]+this['META_EXTENSION']);this[_0x108e0d(0x10c)][_0x1cce94[_0x108e0d(0xf2)]]&&delete this['parentComponents'][_0x1cce94[_0x108e0d(0xf2)]];const _0x1a0176=await fs_internal_1['FS'][_0x108e0d(0xf7)](_0xfc470)[_0x108e0d(0xeb)](()=>![]);if(_0x1a0176){await fs_internal_1['FS'][_0x108e0d(0xfb)](_0xfc470);return;}await Promise[_0x108e0d(0xec)]([fs_internal_1['FS'][_0x108e0d(0x110)](_0xfc470),fs_internal_1['FS']['removeFile'](_0x3b2df0)]);}async[a81_0x1f4158(0xfc)](_0x50c904){const _0x8ee468=a81_0x1f4158,{fileName:_0x7e5f21,type:_0x1b2440,path:_0x2c0292}=_0x50c904,_0x478201=child_types_map_1[_0x8ee468(0xfd)][_0x1b2440];if(!_0x478201)throw new Error('Unknown\x20child\x20type\x20'+_0x1b2440);if(!this[_0x8ee468(0x10c)][_0x2c0292]){const _0x50a1f7=path_1['default'][_0x8ee468(0x10f)](this[_0x8ee468(0x113)],_0x2c0292),_0x2f77ba=await fs_internal_1['FS'][_0x8ee468(0x109)](_0x50a1f7);if(!_0x2f77ba)return;const _0x4d5987=await fs_internal_1['FS'][_0x8ee468(0xf5)](_0x50a1f7);this[_0x8ee468(0x10c)][_0x2c0292]=await xml_1[_0x8ee468(0xee)][_0x8ee468(0x102)](_0x4d5987);}const _0x254d40=this[_0x8ee468(0x10c)][_0x2c0292],_0x46dadf=_0x7e5f21['split']('.')[_0x8ee468(0x108)]();xml_1['Xml']['removeAt'](_0x254d40,_0x478201,_0x46dadf||_0x7e5f21),xml_1['Xml'][_0x8ee468(0x11e)](_0x254d40)?(await this[_0x8ee468(0x105)](_0x50c904),delete this[_0x8ee468(0x10c)][_0x2c0292]):this['parentComponents'][_0x2c0292]=_0x254d40;}async[a81_0x1f4158(0xf8)](){const _0x5a6156=a81_0x1f4158;!await fs_internal_1['FS'][_0x5a6156(0x109)](this[_0x5a6156(0x113)])&&await fs_internal_1['FS']['makeDir'](this[_0x5a6156(0x113)]);for(const _0x20482f of this[_0x5a6156(0x10b)]){!child_types_1[_0x5a6156(0xfd)]['includes'](_0x20482f[_0x5a6156(0x100)])?await this[_0x5a6156(0x105)](_0x20482f):await this[_0x5a6156(0xfc)](_0x20482f);}const _0x4ddf17=Object['keys'](this[_0x5a6156(0x10c)]);logger[_0x5a6156(0x101)]('have\x20to\x20update\x20%d\x20files',this[_0x5a6156(0x10b)][_0x5a6156(0x116)]);while(_0x4ddf17[_0x5a6156(0x116)]){const _0x5aaa30=_0x4ddf17[_0x5a6156(0x11a)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x5d2513 of _0x5aaa30){await fs_internal_1['FS'][_0x5a6156(0x103)](path_1[_0x5a6156(0xfd)][_0x5a6156(0x10f)](this[_0x5a6156(0x113)],_0x5d2513),xml_1[_0x5a6156(0xee)][_0x5a6156(0x104)](this[_0x5a6156(0x10c)][_0x5d2513]));}}this[_0x5a6156(0x10c)]={};}}exports['MDApiRemover']=MDApiRemover;