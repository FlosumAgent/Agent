const a81_0x3a1aef=a81_0x1a75;(function(_0x1ee4b2,_0x537c17){const _0x465c3e=a81_0x1a75,_0x4ece68=_0x1ee4b2();while(!![]){try{const _0x4fa26b=parseInt(_0x465c3e(0xad))/0x1*(parseInt(_0x465c3e(0xac))/0x2)+parseInt(_0x465c3e(0x97))/0x3*(-parseInt(_0x465c3e(0x96))/0x4)+parseInt(_0x465c3e(0x8c))/0x5*(parseInt(_0x465c3e(0x9a))/0x6)+-parseInt(_0x465c3e(0xb2))/0x7*(-parseInt(_0x465c3e(0x85))/0x8)+parseInt(_0x465c3e(0xb3))/0x9*(-parseInt(_0x465c3e(0x9b))/0xa)+parseInt(_0x465c3e(0xa7))/0xb*(-parseInt(_0x465c3e(0x83))/0xc)+parseInt(_0x465c3e(0x9c))/0xd*(parseInt(_0x465c3e(0x90))/0xe);if(_0x4fa26b===_0x537c17)break;else _0x4ece68['push'](_0x4ece68['shift']());}catch(_0x3cb30c){_0x4ece68['push'](_0x4ece68['shift']());}}}(a81_0x2191,0x23aa1));const a81_0x3b9d97=function(){let _0xd70834=!![];return function(_0x35327c,_0x4e9049){const _0x5c3a7d=_0xd70834?function(){const _0x2fe17f=a81_0x1a75;if(_0x4e9049){const _0x78f88f=_0x4e9049[_0x2fe17f(0xa6)](_0x35327c,arguments);return _0x4e9049=null,_0x78f88f;}}:function(){};return _0xd70834=![],_0x5c3a7d;};}(),a81_0x2278e3=a81_0x3b9d97(this,function(){const _0x6078bc=a81_0x1a75;return a81_0x2278e3[_0x6078bc(0x8f)]()[_0x6078bc(0xae)](_0x6078bc(0xa8))[_0x6078bc(0x8f)]()[_0x6078bc(0x8e)](a81_0x2278e3)[_0x6078bc(0xae)](_0x6078bc(0xa8));});a81_0x2278e3();function a81_0x1a75(_0x202d17,_0x3e39e5){const _0xa806c6=a81_0x2191();return a81_0x1a75=function(_0x2278e3,_0x3b9d97){_0x2278e3=_0x2278e3-0x82;let _0x219152=_0xa806c6[_0x2278e3];return _0x219152;},a81_0x1a75(_0x202d17,_0x3e39e5);}function a81_0x2191(){const _0x55ffb2=['61978XyXtuo','9yeUhlL','have\x20to\x20update\x20%d\x20files','log','defineProperty','sourceDir','writeFile','length','components','360LgSRzj','MDApiRemover','112YRLPuX','../../../core','removeChild','./child-types','all','./child-types-map','parse','182345eprzSX','path','constructor','toString','28wmeUyN','MAX_WRITES_PER_TICK','join','keys','parentComponents','pop','108VUPCxo','13569SbjtaA','type','removeAt','24TbnjPM','489010ajPzXu','78377xQksQP','splice','includes','Xml','catch','start','isEmptyXml','exists','../utils/xml','convertToString','apply','67595LrsyxM','(((.+)+)+)+$','removeParent','__esModule','mdapi-remover','4934qXUeLL','89sUGIhf','search','META_EXTENSION','removeFile','default'];a81_0x2191=function(){return _0x55ffb2;};return a81_0x2191();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0xea79c){const _0x51b189=a81_0x1a75;return _0xea79c&&_0xea79c[_0x51b189(0xaa)]?_0xea79c:{'default':_0xea79c};};Object[a81_0x3a1aef(0xb6)](exports,a81_0x3a1aef(0xaa),{'value':!![]}),exports[a81_0x3a1aef(0x84)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a81_0x3a1aef(0x86)),xml_1=require(a81_0x3a1aef(0xa4)),child_types_1=__importDefault(require(a81_0x3a1aef(0x88))),child_types_map_1=__importDefault(require(a81_0x3a1aef(0x8a))),path_1=__importDefault(require(a81_0x3a1aef(0x8d))),logger=new core_1['Logger'](a81_0x3a1aef(0xab));class MDApiRemover{constructor(_0x43a0be,_0x457625){const _0x4406b0=a81_0x3a1aef;this[_0x4406b0(0x82)]=_0x43a0be,this['sourceDir']=_0x457625,this[_0x4406b0(0xaf)]='-meta.xml',this[_0x4406b0(0x91)]=0x64,this['parentComponents']={};}async[a81_0x3a1aef(0xa9)](_0x139209){const _0x58b8ac=a81_0x3a1aef,_0x5abc3a=path_1[_0x58b8ac(0xb1)]['join'](this[_0x58b8ac(0xb7)],_0x139209[_0x58b8ac(0x8d)]),_0x527c71=path_1[_0x58b8ac(0xb1)][_0x58b8ac(0x92)](this['sourceDir'],''+_0x139209[_0x58b8ac(0x8d)]+this[_0x58b8ac(0xaf)]);this[_0x58b8ac(0x94)][_0x139209[_0x58b8ac(0x8d)]]&&delete this[_0x58b8ac(0x94)][_0x139209['path']];const _0x44ee88=await fs_internal_1['FS']['isDir'](_0x5abc3a)[_0x58b8ac(0xa0)](()=>![]);if(_0x44ee88){await fs_internal_1['FS']['removeDir'](_0x5abc3a);return;}await Promise[_0x58b8ac(0x89)]([fs_internal_1['FS'][_0x58b8ac(0xb0)](_0x5abc3a),fs_internal_1['FS'][_0x58b8ac(0xb0)](_0x527c71)]);}async['removeChild'](_0x48a70e){const _0x53736a=a81_0x3a1aef,{fileName:_0x4e6bf1,type:_0x542ebe,path:_0x4c66dd}=_0x48a70e,_0x4d9542=child_types_map_1[_0x53736a(0xb1)][_0x542ebe];if(!_0x4d9542)throw new Error('Unknown\x20child\x20type\x20'+_0x542ebe);if(!this['parentComponents'][_0x4c66dd]){const _0x504a6e=path_1[_0x53736a(0xb1)][_0x53736a(0x92)](this[_0x53736a(0xb7)],_0x4c66dd),_0xf0fd9=await fs_internal_1['FS']['exists'](_0x504a6e);if(!_0xf0fd9)return;const _0x4774f5=await fs_internal_1['FS']['readFile'](_0x504a6e);this[_0x53736a(0x94)][_0x4c66dd]=await xml_1[_0x53736a(0x9f)][_0x53736a(0x8b)](_0x4774f5);}const _0x2ffad5=this['parentComponents'][_0x4c66dd],_0x44c5c1=_0x4e6bf1['split']('.')[_0x53736a(0x95)]();xml_1[_0x53736a(0x9f)][_0x53736a(0x99)](_0x2ffad5,_0x4d9542,_0x44c5c1||_0x4e6bf1),xml_1['Xml'][_0x53736a(0xa2)](_0x2ffad5)?(await this['removeParent'](_0x48a70e),delete this[_0x53736a(0x94)][_0x4c66dd]):this[_0x53736a(0x94)][_0x4c66dd]=_0x2ffad5;}async[a81_0x3a1aef(0xa1)](){const _0x5ca6af=a81_0x3a1aef;!await fs_internal_1['FS'][_0x5ca6af(0xa3)](this['sourceDir'])&&await fs_internal_1['FS']['makeDir'](this['sourceDir']);for(const _0x275b2b of this[_0x5ca6af(0x82)]){!child_types_1[_0x5ca6af(0xb1)][_0x5ca6af(0x9e)](_0x275b2b[_0x5ca6af(0x98)])?await this['removeParent'](_0x275b2b):await this[_0x5ca6af(0x87)](_0x275b2b);}const _0x2e66da=Object[_0x5ca6af(0x93)](this[_0x5ca6af(0x94)]);logger[_0x5ca6af(0xb5)](_0x5ca6af(0xb4),this['components'][_0x5ca6af(0xb9)]);while(_0x2e66da[_0x5ca6af(0xb9)]){const _0x55afcd=_0x2e66da[_0x5ca6af(0x9d)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x289768 of _0x55afcd){await fs_internal_1['FS'][_0x5ca6af(0xb8)](path_1['default'][_0x5ca6af(0x92)](this[_0x5ca6af(0xb7)],_0x289768),xml_1[_0x5ca6af(0x9f)][_0x5ca6af(0xa5)](this['parentComponents'][_0x289768]));}}this[_0x5ca6af(0x94)]={};}}exports['MDApiRemover']=MDApiRemover;