const a81_0x1ad9b9=a81_0x3690;function a81_0x3690(_0x31219a,_0x28b19d){const _0x24fd04=a81_0x2d24();return a81_0x3690=function(_0x224c9a,_0x14b534){_0x224c9a=_0x224c9a-0xad;let _0x2d24f2=_0x24fd04[_0x224c9a];return _0x2d24f2;},a81_0x3690(_0x31219a,_0x28b19d);}function a81_0x2d24(){const _0x5d4796=['removeDir','META_EXTENSION','./child-types','removeFile','2757030ZPYDBF','includes','37327TbxEGG','parentComponents','Xml','keys','log','removeChild','__importDefault','search','28QgFvnY','default','(((.+)+)+)+$','../../../core','parse','isDir','30842WyxaPb','../../internal/fs.internal','removeParent','mdapi-remover','4448288tlhGri','exists','sourceDir','9uLepNO','apply','4848ORSgMb','join','628780taJjJj','13370951fGBLZO','removeAt','MAX_WRITES_PER_TICK','pop','toString','./child-types-map','defineProperty','__esModule','Logger','path','-meta.xml','start','1408ruJrpP','Unknown\x20child\x20type\x20','120Ocnkyi','../utils/xml','writeFile','components'];a81_0x2d24=function(){return _0x5d4796;};return a81_0x2d24();}(function(_0x4fda0b,_0x55d3f4){const _0x3af16e=a81_0x3690,_0x5cf8cd=_0x4fda0b();while(!![]){try{const _0x26b6cd=parseInt(_0x3af16e(0xc9))/0x1*(-parseInt(_0x3af16e(0xd1))/0x2)+-parseInt(_0x3af16e(0xae))/0x3*(-parseInt(_0x3af16e(0xbd))/0x4)+-parseInt(_0x3af16e(0xc7))/0x5+parseInt(_0x3af16e(0xbf))/0x6*(parseInt(_0x3af16e(0xd7))/0x7)+parseInt(_0x3af16e(0xdb))/0x8*(-parseInt(_0x3af16e(0xde))/0x9)+parseInt(_0x3af16e(0xb0))/0xa+parseInt(_0x3af16e(0xb1))/0xb;if(_0x26b6cd===_0x55d3f4)break;else _0x5cf8cd['push'](_0x5cf8cd['shift']());}catch(_0x4ccfe1){_0x5cf8cd['push'](_0x5cf8cd['shift']());}}}(a81_0x2d24,0x4a8c7));const a81_0x14b534=function(){let _0x1d5c05=!![];return function(_0xd0cbfa,_0x1b4833){const _0x581961=_0x1d5c05?function(){const _0x52e661=a81_0x3690;if(_0x1b4833){const _0x11f85f=_0x1b4833[_0x52e661(0xad)](_0xd0cbfa,arguments);return _0x1b4833=null,_0x11f85f;}}:function(){};return _0x1d5c05=![],_0x581961;};}(),a81_0x224c9a=a81_0x14b534(this,function(){const _0x2b3410=a81_0x3690;return a81_0x224c9a[_0x2b3410(0xb5)]()[_0x2b3410(0xd0)]('(((.+)+)+)+$')[_0x2b3410(0xb5)]()['constructor'](a81_0x224c9a)[_0x2b3410(0xd0)](_0x2b3410(0xd3));});a81_0x224c9a();'use strict';var __importDefault=this&&this[a81_0x1ad9b9(0xcf)]||function(_0x3ce5f1){return _0x3ce5f1&&_0x3ce5f1['__esModule']?_0x3ce5f1:{'default':_0x3ce5f1};};Object[a81_0x1ad9b9(0xb7)](exports,a81_0x1ad9b9(0xb8),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a81_0x1ad9b9(0xd8)),core_1=require(a81_0x1ad9b9(0xd4)),xml_1=require(a81_0x1ad9b9(0xc0)),child_types_1=__importDefault(require(a81_0x1ad9b9(0xc5))),child_types_map_1=__importDefault(require(a81_0x1ad9b9(0xb6))),path_1=__importDefault(require(a81_0x1ad9b9(0xba))),logger=new core_1[(a81_0x1ad9b9(0xb9))](a81_0x1ad9b9(0xda));class MDApiRemover{constructor(_0x3a88a5,_0x23f37e){const _0x3237d1=a81_0x1ad9b9;this[_0x3237d1(0xc2)]=_0x3a88a5,this[_0x3237d1(0xdd)]=_0x23f37e,this['META_EXTENSION']=_0x3237d1(0xbb),this[_0x3237d1(0xb3)]=0x64,this[_0x3237d1(0xca)]={};}async[a81_0x1ad9b9(0xd9)](_0x3a812f){const _0x585db7=a81_0x1ad9b9,_0x20aa7b=path_1['default'][_0x585db7(0xaf)](this['sourceDir'],_0x3a812f[_0x585db7(0xba)]),_0x2fa8f4=path_1[_0x585db7(0xd2)][_0x585db7(0xaf)](this[_0x585db7(0xdd)],''+_0x3a812f[_0x585db7(0xba)]+this[_0x585db7(0xc4)]);this['parentComponents'][_0x3a812f[_0x585db7(0xba)]]&&delete this[_0x585db7(0xca)][_0x3a812f['path']];const _0x4109be=await fs_internal_1['FS'][_0x585db7(0xd6)](_0x20aa7b)['catch'](()=>![]);if(_0x4109be){await fs_internal_1['FS'][_0x585db7(0xc3)](_0x20aa7b);return;}await Promise['all']([fs_internal_1['FS'][_0x585db7(0xc6)](_0x20aa7b),fs_internal_1['FS'][_0x585db7(0xc6)](_0x2fa8f4)]);}async['removeChild'](_0x12f951){const _0xee8f0e=a81_0x1ad9b9,{fileName:_0xfe7033,type:_0x467c2a,path:_0xa5b9ae}=_0x12f951,_0x21e627=child_types_map_1['default'][_0x467c2a];if(!_0x21e627)throw new Error(_0xee8f0e(0xbe)+_0x467c2a);if(!this[_0xee8f0e(0xca)][_0xa5b9ae]){const _0x402c56=path_1['default'][_0xee8f0e(0xaf)](this[_0xee8f0e(0xdd)],_0xa5b9ae),_0x15998e=await fs_internal_1['FS'][_0xee8f0e(0xdc)](_0x402c56);if(!_0x15998e)return;const _0x29c3a1=await fs_internal_1['FS']['readFile'](_0x402c56);this[_0xee8f0e(0xca)][_0xa5b9ae]=await xml_1['Xml'][_0xee8f0e(0xd5)](_0x29c3a1);}const _0x152193=this[_0xee8f0e(0xca)][_0xa5b9ae],_0x2a4683=_0xfe7033['split']('.')[_0xee8f0e(0xb4)]();xml_1['Xml'][_0xee8f0e(0xb2)](_0x152193,_0x21e627,_0x2a4683||_0xfe7033),xml_1[_0xee8f0e(0xcb)]['isEmptyXml'](_0x152193)?(await this[_0xee8f0e(0xd9)](_0x12f951),delete this[_0xee8f0e(0xca)][_0xa5b9ae]):this[_0xee8f0e(0xca)][_0xa5b9ae]=_0x152193;}async[a81_0x1ad9b9(0xbc)](){const _0x3bbabd=a81_0x1ad9b9;!await fs_internal_1['FS'][_0x3bbabd(0xdc)](this[_0x3bbabd(0xdd)])&&await fs_internal_1['FS']['makeDir'](this[_0x3bbabd(0xdd)]);for(const _0x1305a0 of this[_0x3bbabd(0xc2)]){!child_types_1[_0x3bbabd(0xd2)][_0x3bbabd(0xc8)](_0x1305a0['type'])?await this[_0x3bbabd(0xd9)](_0x1305a0):await this[_0x3bbabd(0xce)](_0x1305a0);}const _0x49a1ff=Object[_0x3bbabd(0xcc)](this['parentComponents']);logger[_0x3bbabd(0xcd)]('have\x20to\x20update\x20%d\x20files',this['components']['length']);while(_0x49a1ff['length']){const _0x22e00e=_0x49a1ff['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x2de647 of _0x22e00e){await fs_internal_1['FS'][_0x3bbabd(0xc1)](path_1[_0x3bbabd(0xd2)][_0x3bbabd(0xaf)](this['sourceDir'],_0x2de647),xml_1[_0x3bbabd(0xcb)]['convertToString'](this[_0x3bbabd(0xca)][_0x2de647]));}}this['parentComponents']={};}}exports['MDApiRemover']=MDApiRemover;