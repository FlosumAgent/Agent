const a81_0x976c=['default','9qBZzpS','-meta.xml','convertToString','removeDir','path','removeParent','keys','839400YuIPHJ','removeChild','Logger','12659fCiacx','3151FIibwe','MDApiRemover','have\x20to\x20update\x20%d\x20files','log','Unknown\x20child\x20type\x20','../../../core','defineProperty','start','parse','mdapi-remover','pop','constructor','return\x20/\x22\x20+\x20this\x20+\x20\x22/','META_EXTENSION','length','splice','101AwebJr','./child-types','15206XGocFG','sourceDir','51CLTzHe','parentComponents','MAX_WRITES_PER_TICK','apply','773774IcoNeh','3lhwsmV','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','exists','./child-types-map','__esModule','Xml','writeFile','199410qDFomB','join','1178946xTAFMc','removeFile','split','components'];const a81_0x2760ce=a81_0x204a;(function(_0x23a4c7,_0x44bcaf){const _0x504ea6=a81_0x204a;while(!![]){try{const _0x539d81=parseInt(_0x504ea6(0xd6))*parseInt(_0x504ea6(0xe6))+parseInt(_0x504ea6(0xee))+-parseInt(_0x504ea6(0xef))*parseInt(_0x504ea6(0xe8))+parseInt(_0x504ea6(0xc6))+parseInt(_0x504ea6(0xd2))+parseInt(_0x504ea6(0xea))*-parseInt(_0x504ea6(0xd5))+parseInt(_0x504ea6(0xc4))*-parseInt(_0x504ea6(0xcb));if(_0x539d81===_0x44bcaf)break;else _0x23a4c7['push'](_0x23a4c7['shift']());}catch(_0x2e1971){_0x23a4c7['push'](_0x23a4c7['shift']());}}}(a81_0x976c,0x98746));const a81_0x10197b=function(){let _0x36b400=!![];return function(_0x2ba485,_0x361165){const _0x4e29b0=_0x36b400?function(){const _0x39a9e4=a81_0x204a;if(_0x361165){const _0x215cf9=_0x361165[_0x39a9e4(0xed)](_0x2ba485,arguments);return _0x361165=null,_0x215cf9;}}:function(){};return _0x36b400=![],_0x4e29b0;};}(),a81_0x37c083=a81_0x10197b(this,function(){const _0x4f3acb=function(){const _0x472ef2=a81_0x204a,_0x48fe53=_0x4f3acb['constructor'](_0x472ef2(0xe2))()[_0x472ef2(0xe1)](_0x472ef2(0xf0));return!_0x48fe53['test'](a81_0x37c083);};return _0x4f3acb();});a81_0x37c083();'use strict';function a81_0x204a(_0x4884b5,_0x465fa8){return a81_0x204a=function(_0xae6965,_0x37c083){_0xae6965=_0xae6965-0xc0;let _0x10197b=a81_0x976c[_0xae6965];return _0x10197b;},a81_0x204a(_0x4884b5,_0x465fa8);}var __importDefault=this&&this['__importDefault']||function(_0x34f1bd){const _0xce7136=a81_0x204a;return _0x34f1bd&&_0x34f1bd[_0xce7136(0xc1)]?_0x34f1bd:{'default':_0x34f1bd};};Object[a81_0x2760ce(0xdc)](exports,a81_0x2760ce(0xc1),{'value':!![]}),exports[a81_0x2760ce(0xd7)]=void 0x0;const path_1=__importDefault(require(a81_0x2760ce(0xcf))),core_1=require(a81_0x2760ce(0xdb)),fs_internal_1=require('../../internal/fs.internal'),xml_1=require('../utils/xml'),child_types_1=__importDefault(require(a81_0x2760ce(0xe7))),child_types_map_1=__importDefault(require(a81_0x2760ce(0xc0))),logger=new core_1[(a81_0x2760ce(0xd4))](a81_0x2760ce(0xdf));class MDApiRemover{constructor(_0x52263f,_0x1b2239){const _0x466fcf=a81_0x2760ce;this[_0x466fcf(0xc9)]=_0x52263f,this[_0x466fcf(0xe9)]=_0x1b2239,this[_0x466fcf(0xe3)]=_0x466fcf(0xcc),this[_0x466fcf(0xec)]=0x64,this['parentComponents']={};}async[a81_0x2760ce(0xd0)](_0x16609d){const _0x581eb3=a81_0x2760ce,_0x369c10=path_1[_0x581eb3(0xca)][_0x581eb3(0xc5)](this[_0x581eb3(0xe9)],_0x16609d[_0x581eb3(0xcf)]),_0x51cc61=path_1['default'][_0x581eb3(0xc5)](this[_0x581eb3(0xe9)],''+_0x16609d[_0x581eb3(0xcf)]+this[_0x581eb3(0xe3)]);if(await fs_internal_1['FS']['isDir'](_0x369c10)){await fs_internal_1['FS'][_0x581eb3(0xce)](_0x369c10);return;}await Promise['all']([fs_internal_1['FS'][_0x581eb3(0xc7)](_0x369c10),fs_internal_1['FS']['removeFile'](_0x51cc61)]);}async[a81_0x2760ce(0xd3)](_0x10a798){const _0x21bbf3=a81_0x2760ce,{fileName:_0x62aa4d,type:_0x2f1ace,path:_0x2899ea}=_0x10a798,_0x30a5d9=child_types_map_1[_0x21bbf3(0xca)][_0x2f1ace];if(!_0x30a5d9)throw new Error(_0x21bbf3(0xda)+_0x2f1ace);if(!this[_0x21bbf3(0xeb)][_0x2899ea]){const _0x5bb7d9=path_1[_0x21bbf3(0xca)]['join'](this[_0x21bbf3(0xe9)],_0x2899ea),_0x5c084d=await fs_internal_1['FS']['exists'](_0x5bb7d9);if(!_0x5c084d)return;const _0x4119b2=await fs_internal_1['FS']['readFile'](_0x5bb7d9);this[_0x21bbf3(0xeb)][_0x2899ea]=await xml_1[_0x21bbf3(0xc2)][_0x21bbf3(0xde)](_0x4119b2);}const _0x4a94c5=this['parentComponents'][_0x2899ea],_0x1904cf=_0x62aa4d[_0x21bbf3(0xc8)]('.')[_0x21bbf3(0xe0)]();xml_1[_0x21bbf3(0xc2)]['removeAt'](_0x4a94c5,_0x30a5d9,_0x1904cf||_0x62aa4d),xml_1[_0x21bbf3(0xc2)]['isEmptyXml'](_0x4a94c5)?(await this['removeParent'](_0x10a798),delete this[_0x21bbf3(0xeb)][_0x2899ea]):this['parentComponents'][_0x2899ea]=_0x4a94c5;}async[a81_0x2760ce(0xdd)](){const _0x49fd3c=a81_0x2760ce;!await fs_internal_1['FS'][_0x49fd3c(0xf1)](this[_0x49fd3c(0xe9)])&&await fs_internal_1['FS']['makeDir'](this['sourceDir']);for(const _0x10e9a of this[_0x49fd3c(0xc9)]){!child_types_1[_0x49fd3c(0xca)]['includes'](_0x10e9a['type'])?await this[_0x49fd3c(0xd0)](_0x10e9a):await this[_0x49fd3c(0xd3)](_0x10e9a);}const _0x348fd8=Object[_0x49fd3c(0xd1)](this[_0x49fd3c(0xeb)]);logger[_0x49fd3c(0xd9)](_0x49fd3c(0xd8),this[_0x49fd3c(0xc9)][_0x49fd3c(0xe4)]);while(_0x348fd8[_0x49fd3c(0xe4)]){const _0x2a8e74=_0x348fd8[_0x49fd3c(0xe5)](0x0,this[_0x49fd3c(0xec)]);for(const _0xcf084d of _0x2a8e74){await fs_internal_1['FS'][_0x49fd3c(0xc3)](path_1[_0x49fd3c(0xca)][_0x49fd3c(0xc5)](this[_0x49fd3c(0xe9)],_0xcf084d),xml_1[_0x49fd3c(0xc2)][_0x49fd3c(0xcd)](this[_0x49fd3c(0xeb)][_0xcf084d]));}}this['parentComponents']={};}}exports[a81_0x2760ce(0xd7)]=MDApiRemover;