const a81_0x1b62=['removeAt','length','778965xfRXuT','convertToString','237338DDnXau','Logger','parentComponents','__importDefault','parse','all','./child-types','defineProperty','mdapi-remover','MAX_WRITES_PER_TICK','211MiIKiJ','removeParent','removeDir','Unknown\x20child\x20type\x20','join','__esModule','writeFile','default','11tmGMON','apply','1cjzZSN','log','2872vABnHn','2VBIiTC','components','655738yXQScI','../../internal/fs.internal','sourceDir','includes','MDApiRemover','start','isDir','removeFile','9jWYYdA','Xml','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','type','733603MuEMFt','../utils/xml','53993JFWMSo','path','META_EXTENSION','exists','have\x20to\x20update\x20%d\x20files','removeChild','constructor','82285WsyWXc'];const a81_0x3e833c=a81_0x3c58;(function(_0x5b9f77,_0x8ad199){const _0x34eb54=a81_0x3c58;while(!![]){try{const _0x261a94=-parseInt(_0x34eb54(0x105))*-parseInt(_0x34eb54(0xde))+parseInt(_0x34eb54(0xfb))*parseInt(_0x34eb54(0xdf))+-parseInt(_0x34eb54(0xdc))*parseInt(_0x34eb54(0xe1))+parseInt(_0x34eb54(0xed))+-parseInt(_0x34eb54(0xe9))*-parseInt(_0x34eb54(0xf6))+-parseInt(_0x34eb54(0xf9))+-parseInt(_0x34eb54(0xef))*parseInt(_0x34eb54(0x10d));if(_0x261a94===_0x8ad199)break;else _0x5b9f77['push'](_0x5b9f77['shift']());}catch(_0x292fdc){_0x5b9f77['push'](_0x5b9f77['shift']());}}}(a81_0x1b62,0x80782));function a81_0x3c58(_0x489034,_0x44c6ab){return a81_0x3c58=function(_0x5150cf,_0x358cd0){_0x5150cf=_0x5150cf-0xdb;let _0x1df942=a81_0x1b62[_0x5150cf];return _0x1df942;},a81_0x3c58(_0x489034,_0x44c6ab);}const a81_0x1df942=function(){let _0x51d118=!![];return function(_0x25c8ec,_0x5d0566){const _0x5ba158=_0x51d118?function(){const _0x5b36ed=a81_0x3c58;if(_0x5d0566){const _0x31c9a4=_0x5d0566[_0x5b36ed(0xdb)](_0x25c8ec,arguments);return _0x5d0566=null,_0x31c9a4;}}:function(){};return _0x51d118=![],_0x5ba158;};}(),a81_0x358cd0=a81_0x1df942(this,function(){const _0x1666ec=function(){const _0x3c28aa=a81_0x3c58,_0x2ca215=_0x1666ec[_0x3c28aa(0xf5)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x3c28aa(0xf5)](_0x3c28aa(0xeb));return!_0x2ca215['test'](a81_0x358cd0);};return _0x1666ec();});a81_0x358cd0();'use strict';var __importDefault=this&&this[a81_0x3e833c(0xfe)]||function(_0x3de82c){const _0x39e487=a81_0x3e833c;return _0x3de82c&&_0x3de82c[_0x39e487(0x10a)]?_0x3de82c:{'default':_0x3de82c};};Object[a81_0x3e833c(0x102)](exports,a81_0x3e833c(0x10a),{'value':!![]}),exports[a81_0x3e833c(0xe5)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require('../../../core'),fs_internal_1=require(a81_0x3e833c(0xe2)),xml_1=require(a81_0x3e833c(0xee)),child_types_1=__importDefault(require(a81_0x3e833c(0x101))),child_types_map_1=__importDefault(require('./child-types-map')),logger=new core_1[(a81_0x3e833c(0xfc))](a81_0x3e833c(0x103));class MDApiRemover{constructor(_0x16c10b,_0x42d402){const _0x242e9d=a81_0x3e833c;this['components']=_0x16c10b,this['sourceDir']=_0x42d402,this[_0x242e9d(0xf1)]='-meta.xml',this[_0x242e9d(0x104)]=0x64,this[_0x242e9d(0xfd)]={};}async[a81_0x3e833c(0x106)](_0x5a838d){const _0x3e9651=a81_0x3e833c,_0x470900=path_1[_0x3e9651(0x10c)]['join'](this[_0x3e9651(0xe3)],_0x5a838d[_0x3e9651(0xf0)]),_0x3e76c5=path_1['default'][_0x3e9651(0x109)](this[_0x3e9651(0xe3)],''+_0x5a838d['path']+this[_0x3e9651(0xf1)]);if(await fs_internal_1['FS'][_0x3e9651(0xe7)](_0x470900)){await fs_internal_1['FS'][_0x3e9651(0x107)](_0x470900);return;}await Promise[_0x3e9651(0x100)]([fs_internal_1['FS'][_0x3e9651(0xe8)](_0x470900),fs_internal_1['FS'][_0x3e9651(0xe8)](_0x3e76c5)]);}async[a81_0x3e833c(0xf4)](_0x432a96){const _0x3c5749=a81_0x3e833c,{fileName:_0x4a9b45,type:_0x4005d6,path:_0x3f8e12}=_0x432a96,_0x306ecf=child_types_map_1[_0x3c5749(0x10c)][_0x4005d6];if(!_0x306ecf)throw new Error(_0x3c5749(0x108)+_0x4005d6);if(!this[_0x3c5749(0xfd)][_0x3f8e12]){const _0x5c4833=path_1[_0x3c5749(0x10c)][_0x3c5749(0x109)](this[_0x3c5749(0xe3)],_0x3f8e12),_0x4ede5c=await fs_internal_1['FS'][_0x3c5749(0xf2)](_0x5c4833);if(!_0x4ede5c)return;const _0x229bb6=await fs_internal_1['FS']['readFile'](_0x5c4833);this[_0x3c5749(0xfd)][_0x3f8e12]=await xml_1[_0x3c5749(0xea)][_0x3c5749(0xff)](_0x229bb6);}const _0x41b3ac=this[_0x3c5749(0xfd)][_0x3f8e12],_0x23bddb=_0x4a9b45['split']('.')['pop']();xml_1[_0x3c5749(0xea)][_0x3c5749(0xf7)](_0x41b3ac,_0x306ecf,_0x23bddb||_0x4a9b45),this[_0x3c5749(0xfd)][_0x3f8e12]=_0x41b3ac;}async[a81_0x3e833c(0xe6)](){const _0x1fb15b=a81_0x3e833c;!await fs_internal_1['FS'][_0x1fb15b(0xf2)](this[_0x1fb15b(0xe3)])&&await fs_internal_1['FS']['makeDir'](this[_0x1fb15b(0xe3)]);for(const _0x2077df of this['components']){!child_types_1['default'][_0x1fb15b(0xe4)](_0x2077df[_0x1fb15b(0xec)])?await this[_0x1fb15b(0x106)](_0x2077df):await this[_0x1fb15b(0xf4)](_0x2077df);}const _0x396c58=Object['keys'](this[_0x1fb15b(0xfd)]);logger[_0x1fb15b(0xdd)](_0x1fb15b(0xf3),this[_0x1fb15b(0xe0)][_0x1fb15b(0xf8)]);while(_0x396c58[_0x1fb15b(0xf8)]){const _0x2a46f5=_0x396c58['splice'](0x0,this[_0x1fb15b(0x104)]);for(const _0x197c7a of _0x2a46f5){await fs_internal_1['FS'][_0x1fb15b(0x10b)](path_1[_0x1fb15b(0x10c)]['join'](this[_0x1fb15b(0xe3)],_0x197c7a),xml_1[_0x1fb15b(0xea)][_0x1fb15b(0xfa)](this[_0x1fb15b(0xfd)][_0x197c7a]));}}this['parentComponents']={};}}exports['MDApiRemover']=MDApiRemover;