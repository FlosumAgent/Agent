const a91_0x360b97=a91_0x84b2;(function(_0x5bd325,_0xd37633){const _0x3f19b1=a91_0x84b2,_0x1393cd=_0x5bd325();while(!![]){try{const _0xa33bba=parseInt(_0x3f19b1(0x10b))/0x1*(parseInt(_0x3f19b1(0x121))/0x2)+parseInt(_0x3f19b1(0x13a))/0x3*(-parseInt(_0x3f19b1(0x136))/0x4)+parseInt(_0x3f19b1(0x10f))/0x5+parseInt(_0x3f19b1(0x134))/0x6*(parseInt(_0x3f19b1(0x132))/0x7)+-parseInt(_0x3f19b1(0x11d))/0x8*(parseInt(_0x3f19b1(0x13b))/0x9)+parseInt(_0x3f19b1(0x13e))/0xa+parseInt(_0x3f19b1(0x140))/0xb;if(_0xa33bba===_0xd37633)break;else _0x1393cd['push'](_0x1393cd['shift']());}catch(_0xd06242){_0x1393cd['push'](_0x1393cd['shift']());}}}(a91_0x1500,0x3aef4));const a91_0x127026=function(){let _0x39f671=!![];return function(_0xe4def4,_0x47e46d){const _0x21c42c=_0x39f671?function(){const _0x1fa09d=a91_0x84b2;if(_0x47e46d){const _0x2598de=_0x47e46d[_0x1fa09d(0x129)](_0xe4def4,arguments);return _0x47e46d=null,_0x2598de;}}:function(){};return _0x39f671=![],_0x21c42c;};}(),a91_0x4d41ed=a91_0x127026(this,function(){const _0x197b6c=a91_0x84b2;return a91_0x4d41ed[_0x197b6c(0x144)]()[_0x197b6c(0x116)]('(((.+)+)+)+$')['toString']()[_0x197b6c(0x123)](a91_0x4d41ed)[_0x197b6c(0x116)](_0x197b6c(0x10c));});a91_0x4d41ed();function a91_0x84b2(_0x1dc0bd,_0x3f968e){const _0x9831d9=a91_0x1500();return a91_0x84b2=function(_0x4d41ed,_0x127026){_0x4d41ed=_0x4d41ed-0x10a;let _0x1500b8=_0x9831d9[_0x4d41ed];return _0x1500b8;},a91_0x84b2(_0x1dc0bd,_0x3f968e);}'use strict';var __importDefault=this&&this[a91_0x360b97(0x112)]||function(_0xb5e188){const _0x18e752=a91_0x360b97;return _0xb5e188&&_0xb5e188[_0x18e752(0x142)]?_0xb5e188:{'default':_0xb5e188};};Object[a91_0x360b97(0x119)](exports,a91_0x360b97(0x142),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a91_0x360b97(0x138)),core_1=require(a91_0x360b97(0x137)),xml_1=require(a91_0x360b97(0x14a)),child_types_1=__importDefault(require(a91_0x360b97(0x12e))),child_types_map_1=__importDefault(require(a91_0x360b97(0x12c))),path_1=__importDefault(require(a91_0x360b97(0x11a)));function a91_0x1500(){const _0x1875ba=['type','apply','exists','META_EXTENSION','../data/child-types-map','includes','../data/child-types','Xml','removeDir','site-meta.xml','7728rBNZYz','remove\x20component\x20\x20%s\x20[%s]','582kUawZk','removeChild','32uLeukr','../../../core','../../internal/fs.internal','length','87252liCvVJ','9caVHBO','components','isDir','3489970TJqHNb','ExperienceBundle','1248830GxVtzd','start','__esModule','default','toString','writeFile','convertToString','isEmptyXml','split','log','../utils/xml','remove\x20child\x20component\x20%s\x20[%s]','Logger','catch','all','-meta.xml','113973gFDRNJ','(((.+)+)+)+$','pop','MAX_WRITES_PER_TICK','414910HKUOPx','remove\x20component\x20directory\x20%s\x20[%s]','join','__importDefault','fileName','removeParent','makeDir','search','removeFile','parse','defineProperty','path','MDApiRemover','META_EXPERIENCE_BUNDLE','2340016qCyJGj','logger','splice','Unknown\x20child\x20type\x20','2ddvtBK','have\x20to\x20update\x20%d\x20files','constructor','readFile','parentComponents','remove\x20parent\x20component\x20%s\x20[%s]','sourceDir'];a91_0x1500=function(){return _0x1875ba;};return a91_0x1500();}class MDApiRemover{constructor(_0x1e7383,_0x1853fb){const _0x10988b=a91_0x360b97;this['components']=_0x1e7383,this[_0x10988b(0x127)]=_0x1853fb,this['META_EXTENSION']=_0x10988b(0x10a),this['META_EXPERIENCE_BUNDLE']=_0x10988b(0x131),this['MAX_WRITES_PER_TICK']=0x64,this[_0x10988b(0x11e)]=new core_1[(_0x10988b(0x14c))](MDApiRemover['name']),this[_0x10988b(0x125)]={};}async['removeParent'](_0x272664){const _0x3b8231=a91_0x360b97,_0x56216d=path_1[_0x3b8231(0x143)][_0x3b8231(0x111)](this[_0x3b8231(0x127)],_0x272664[_0x3b8231(0x11a)]),_0xea7091=path_1[_0x3b8231(0x143)]['join'](this[_0x3b8231(0x127)],''+_0x272664[_0x3b8231(0x11a)]+this[_0x3b8231(0x12b)]);this['parentComponents'][_0x272664['path']]&&delete this[_0x3b8231(0x125)][_0x272664[_0x3b8231(0x11a)]];const _0x3967b3=await fs_internal_1['FS'][_0x3b8231(0x13d)](_0x56216d)[_0x3b8231(0x14d)](()=>![]);if(_0x3967b3){this[_0x3b8231(0x11e)]['log'](_0x3b8231(0x110),_0x56216d,_0x272664[_0x3b8231(0x128)]),await fs_internal_1['FS'][_0x3b8231(0x130)](_0x56216d);_0x272664[_0x3b8231(0x128)]===_0x3b8231(0x13f)&&await fs_internal_1['FS'][_0x3b8231(0x117)](''+_0x56216d+this[_0x3b8231(0x11c)])[_0x3b8231(0x14d)](()=>void 0x0);return;}this[_0x3b8231(0x11e)][_0x3b8231(0x149)](_0x3b8231(0x133),_0x56216d,_0x272664[_0x3b8231(0x128)]),await Promise[_0x3b8231(0x14e)]([fs_internal_1['FS'][_0x3b8231(0x117)](_0x56216d),fs_internal_1['FS'][_0x3b8231(0x117)](_0xea7091)]);}async[a91_0x360b97(0x135)](_0x4ab46b){const _0x54cf8d=a91_0x360b97,{fileName:_0x4cf47a,type:_0x32f15a,path:_0x4e9300}=_0x4ab46b,_0x17285c=child_types_map_1[_0x54cf8d(0x143)][_0x32f15a];if(!_0x17285c)throw new Error(_0x54cf8d(0x120)+_0x32f15a);if(!this['parentComponents'][_0x4e9300]){const _0x40c29e=path_1[_0x54cf8d(0x143)]['join'](this[_0x54cf8d(0x127)],_0x4e9300),_0x291a5f=await fs_internal_1['FS'][_0x54cf8d(0x12a)](_0x40c29e);if(!_0x291a5f)return;const _0x68fb36=await fs_internal_1['FS'][_0x54cf8d(0x124)](_0x40c29e);this[_0x54cf8d(0x125)][_0x4e9300]=await xml_1[_0x54cf8d(0x12f)][_0x54cf8d(0x118)](_0x68fb36);}const _0x4edc29=this[_0x54cf8d(0x125)][_0x4e9300],_0x3a19b4=_0x4cf47a[_0x54cf8d(0x148)]('.')[_0x54cf8d(0x10d)]();xml_1['Xml']['removeAt'](_0x4edc29,_0x17285c,_0x3a19b4||_0x4cf47a),xml_1[_0x54cf8d(0x12f)][_0x54cf8d(0x147)](_0x4edc29)?(this[_0x54cf8d(0x11e)][_0x54cf8d(0x149)]('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x4ab46b[_0x54cf8d(0x11a)],_0x4ab46b['fileName']),await this['removeParent'](_0x4ab46b),delete this[_0x54cf8d(0x125)][_0x4e9300]):this[_0x54cf8d(0x125)][_0x4e9300]=_0x4edc29;}async[a91_0x360b97(0x141)](){const _0x5751b7=a91_0x360b97;!await fs_internal_1['FS']['exists'](this[_0x5751b7(0x127)])&&await fs_internal_1['FS'][_0x5751b7(0x115)](this['sourceDir']);for(const _0x4ff4ff of this[_0x5751b7(0x13c)]){!child_types_1['default'][_0x5751b7(0x12d)](_0x4ff4ff['type'])?(this['logger'][_0x5751b7(0x149)](_0x5751b7(0x126),_0x4ff4ff[_0x5751b7(0x113)],_0x4ff4ff[_0x5751b7(0x128)]),await this[_0x5751b7(0x114)](_0x4ff4ff)):(this[_0x5751b7(0x11e)]['log'](_0x5751b7(0x14b),_0x4ff4ff[_0x5751b7(0x113)],_0x4ff4ff[_0x5751b7(0x128)]),await this[_0x5751b7(0x135)](_0x4ff4ff));}const _0x5b84f7=Object['keys'](this['parentComponents']);this[_0x5751b7(0x11e)][_0x5751b7(0x149)](_0x5751b7(0x122),this[_0x5751b7(0x13c)][_0x5751b7(0x139)]);while(_0x5b84f7[_0x5751b7(0x139)]){const _0x508fe2=_0x5b84f7[_0x5751b7(0x11f)](0x0,this[_0x5751b7(0x10e)]);for(const _0x132a82 of _0x508fe2){await fs_internal_1['FS'][_0x5751b7(0x145)](path_1[_0x5751b7(0x143)][_0x5751b7(0x111)](this['sourceDir'],_0x132a82),xml_1[_0x5751b7(0x12f)][_0x5751b7(0x146)](this['parentComponents'][_0x132a82]));}}this[_0x5751b7(0x125)]={};}}exports[a91_0x360b97(0x11b)]=MDApiRemover;