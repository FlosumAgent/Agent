const a83_0x16716a=a83_0x1610;(function(_0x5c369d,_0x1c11b1){const _0x2b9714=a83_0x1610,_0x201337=_0x5c369d();while(!![]){try{const _0x2f7994=-parseInt(_0x2b9714(0xe5))/0x1*(-parseInt(_0x2b9714(0xc7))/0x2)+-parseInt(_0x2b9714(0xd7))/0x3*(parseInt(_0x2b9714(0xc2))/0x4)+parseInt(_0x2b9714(0xe1))/0x5+parseInt(_0x2b9714(0xd8))/0x6+-parseInt(_0x2b9714(0xbb))/0x7+-parseInt(_0x2b9714(0xd3))/0x8*(parseInt(_0x2b9714(0xba))/0x9)+parseInt(_0x2b9714(0xb8))/0xa*(parseInt(_0x2b9714(0xe7))/0xb);if(_0x2f7994===_0x1c11b1)break;else _0x201337['push'](_0x201337['shift']());}catch(_0xda19fb){_0x201337['push'](_0x201337['shift']());}}}(a83_0x5f1d,0x83741));const a83_0x5c5148=function(){let _0x430710=!![];return function(_0x1e8f70,_0x3c4702){const _0x34af3d=_0x430710?function(){const _0x357334=a83_0x1610;if(_0x3c4702){const _0x305630=_0x3c4702[_0x357334(0xde)](_0x1e8f70,arguments);return _0x3c4702=null,_0x305630;}}:function(){};return _0x430710=![],_0x34af3d;};}(),a83_0x18fd80=a83_0x5c5148(this,function(){const _0x462878=a83_0x1610;return a83_0x18fd80[_0x462878(0xc5)]()['search'](_0x462878(0xdd))[_0x462878(0xc5)]()[_0x462878(0xcc)](a83_0x18fd80)[_0x462878(0xe8)]('(((.+)+)+)+$');});function a83_0x5f1d(){const _0x465e67=['1595880OQnOFr','sourceDir','default','join','313NCSwDW','META_EXTENSION','6259DSwzoY','search','removeParent','remove\x20component\x20\x20%s\x20[%s]','__esModule','removeDir','MAX_WRITES_PER_TICK','start','pop','remove\x20child\x20component\x20%s\x20[%s]','30820KURDrB','removeFile','7481583SuwGYv','6967128HVKvsS','type','parse','isDir','__importDefault','MDApiRemover','../utils/xml','4HdTHro','splice','removeChild','toString','exists','1588FaKvPA','keys','../../../core','fileName','log','constructor','-meta.xml','Logger','length','writeFile','defineProperty','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','8tMdVqM','parentComponents','Xml','components','1565049QeoCGe','3392106FFPwRL','removeAt','logger','remove\x20parent\x20component\x20%s\x20[%s]','path','(((.+)+)+)+$','apply','makeDir','isEmptyXml'];a83_0x5f1d=function(){return _0x465e67;};return a83_0x5f1d();}a83_0x18fd80();'use strict';var __importDefault=this&&this[a83_0x16716a(0xbf)]||function(_0x53146c){const _0x39e753=a83_0x16716a;return _0x53146c&&_0x53146c[_0x39e753(0xeb)]?_0x53146c:{'default':_0x53146c};};Object[a83_0x16716a(0xd1)](exports,a83_0x16716a(0xeb),{'value':!![]}),exports[a83_0x16716a(0xc0)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a83_0x16716a(0xc9)),xml_1=require(a83_0x16716a(0xc1)),child_types_1=__importDefault(require('./child-types')),child_types_map_1=__importDefault(require('./child-types-map')),path_1=__importDefault(require(a83_0x16716a(0xdc)));class MDApiRemover{constructor(_0x17ab13,_0xcbbe27){const _0x3611a5=a83_0x16716a;this[_0x3611a5(0xd6)]=_0x17ab13,this[_0x3611a5(0xe2)]=_0xcbbe27,this[_0x3611a5(0xe6)]=_0x3611a5(0xcd),this[_0x3611a5(0xed)]=0x64,this[_0x3611a5(0xda)]=new core_1[(_0x3611a5(0xce))](MDApiRemover['name']),this['parentComponents']={};}async[a83_0x16716a(0xe9)](_0x4de29b){const _0x46c710=a83_0x16716a,_0x5cb6b4=path_1[_0x46c710(0xe3)]['join'](this[_0x46c710(0xe2)],_0x4de29b[_0x46c710(0xdc)]),_0x32b0c1=path_1[_0x46c710(0xe3)][_0x46c710(0xe4)](this[_0x46c710(0xe2)],''+_0x4de29b[_0x46c710(0xdc)]+this[_0x46c710(0xe6)]);this[_0x46c710(0xd4)][_0x4de29b[_0x46c710(0xdc)]]&&delete this['parentComponents'][_0x4de29b[_0x46c710(0xdc)]];const _0x200081=await fs_internal_1['FS'][_0x46c710(0xbe)](_0x5cb6b4)['catch'](()=>![]);if(_0x200081){this[_0x46c710(0xda)][_0x46c710(0xcb)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x5cb6b4,_0x4de29b[_0x46c710(0xbc)]),await fs_internal_1['FS'][_0x46c710(0xec)](_0x5cb6b4);return;}this['logger'][_0x46c710(0xcb)](_0x46c710(0xea),_0x5cb6b4,_0x4de29b[_0x46c710(0xbc)]),await Promise['all']([fs_internal_1['FS'][_0x46c710(0xb9)](_0x5cb6b4),fs_internal_1['FS']['removeFile'](_0x32b0c1)]);}async[a83_0x16716a(0xc4)](_0x1d5c94){const _0x1adf8e=a83_0x16716a,{fileName:_0x2b888f,type:_0x21704a,path:_0x48022e}=_0x1d5c94,_0x2d3f12=child_types_map_1[_0x1adf8e(0xe3)][_0x21704a];if(!_0x2d3f12)throw new Error('Unknown\x20child\x20type\x20'+_0x21704a);if(!this[_0x1adf8e(0xd4)][_0x48022e]){const _0x4a6c05=path_1[_0x1adf8e(0xe3)][_0x1adf8e(0xe4)](this[_0x1adf8e(0xe2)],_0x48022e),_0x544646=await fs_internal_1['FS'][_0x1adf8e(0xc6)](_0x4a6c05);if(!_0x544646)return;const _0x3fbf87=await fs_internal_1['FS']['readFile'](_0x4a6c05);this[_0x1adf8e(0xd4)][_0x48022e]=await xml_1[_0x1adf8e(0xd5)][_0x1adf8e(0xbd)](_0x3fbf87);}const _0x27f805=this[_0x1adf8e(0xd4)][_0x48022e],_0x2592e2=_0x2b888f['split']('.')[_0x1adf8e(0xb6)]();xml_1[_0x1adf8e(0xd5)][_0x1adf8e(0xd9)](_0x27f805,_0x2d3f12,_0x2592e2||_0x2b888f),xml_1[_0x1adf8e(0xd5)][_0x1adf8e(0xe0)](_0x27f805)?(this[_0x1adf8e(0xda)][_0x1adf8e(0xcb)](_0x1adf8e(0xd2),_0x1d5c94[_0x1adf8e(0xdc)],_0x1d5c94[_0x1adf8e(0xca)]),await this['removeParent'](_0x1d5c94),delete this[_0x1adf8e(0xd4)][_0x48022e]):this['parentComponents'][_0x48022e]=_0x27f805;}async[a83_0x16716a(0xee)](){const _0x642e87=a83_0x16716a;!await fs_internal_1['FS'][_0x642e87(0xc6)](this['sourceDir'])&&await fs_internal_1['FS'][_0x642e87(0xdf)](this[_0x642e87(0xe2)]);for(const _0x31a827 of this[_0x642e87(0xd6)]){!child_types_1[_0x642e87(0xe3)]['includes'](_0x31a827[_0x642e87(0xbc)])?(this['logger']['log'](_0x642e87(0xdb),_0x31a827['fileName'],_0x31a827[_0x642e87(0xbc)]),await this[_0x642e87(0xe9)](_0x31a827)):(this[_0x642e87(0xda)][_0x642e87(0xcb)](_0x642e87(0xb7),_0x31a827[_0x642e87(0xca)],_0x31a827[_0x642e87(0xbc)]),await this[_0x642e87(0xc4)](_0x31a827));}const _0x24ab44=Object[_0x642e87(0xc8)](this[_0x642e87(0xd4)]);this['logger'][_0x642e87(0xcb)]('have\x20to\x20update\x20%d\x20files',this[_0x642e87(0xd6)][_0x642e87(0xcf)]);while(_0x24ab44['length']){const _0x13e481=_0x24ab44[_0x642e87(0xc3)](0x0,this[_0x642e87(0xed)]);for(const _0x78f425 of _0x13e481){await fs_internal_1['FS'][_0x642e87(0xd0)](path_1[_0x642e87(0xe3)][_0x642e87(0xe4)](this[_0x642e87(0xe2)],_0x78f425),xml_1['Xml']['convertToString'](this['parentComponents'][_0x78f425]));}}this[_0x642e87(0xd4)]={};}}function a83_0x1610(_0x126259,_0x1846ba){const _0x2502ff=a83_0x5f1d();return a83_0x1610=function(_0x18fd80,_0x5c5148){_0x18fd80=_0x18fd80-0xb6;let _0x5f1dfc=_0x2502ff[_0x18fd80];return _0x5f1dfc;},a83_0x1610(_0x126259,_0x1846ba);}exports[a83_0x16716a(0xc0)]=MDApiRemover;