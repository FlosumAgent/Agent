const a81_0x4b48=['includes','538bLOaFr','__importDefault','readFile','sourceDir','split','removeFile','writeFile','splice','518838kUQoBl','-meta.xml','__esModule','468697wVROcb','components','isDir','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','start','default','test','../../../core','1518103lZWZKj','Xml','MAX_WRITES_PER_TICK','apply','pop','49XpsChX','52905gPqDjs','removeChild','151678mwJVQN','keys','1dJAyuW','removeParent','exists','length','all','../../internal/fs.internal','convertToString','removeAt','constructor','isEmptyXml','join','path','META_EXTENSION','../utils/xml','Unknown\x20child\x20type\x20','type','3OtqUug','1624429hNcKQe','catch','parentComponents','mdapi-remover','defineProperty','2699TkrqyZ','1bflFPW','MDApiRemover'];const a81_0x118159=a81_0x301e;function a81_0x301e(_0x48b8c9,_0x2971cd){return a81_0x301e=function(_0x491fc9,_0x3fd4d9){_0x491fc9=_0x491fc9-0x14c;let _0x24d44d=a81_0x4b48[_0x491fc9];return _0x24d44d;},a81_0x301e(_0x48b8c9,_0x2971cd);}(function(_0x5a2c9d,_0x2ecde8){const _0x259636=a81_0x301e;while(!![]){try{const _0x31fa9e=-parseInt(_0x259636(0x176))*parseInt(_0x259636(0x161))+parseInt(_0x259636(0x167))*-parseInt(_0x259636(0x16b))+parseInt(_0x259636(0x173))*-parseInt(_0x259636(0x168))+parseInt(_0x259636(0x162))*-parseInt(_0x259636(0x151))+-parseInt(_0x259636(0x17e))+-parseInt(_0x259636(0x14d))+-parseInt(_0x259636(0x14c))*-parseInt(_0x259636(0x14f));if(_0x31fa9e===_0x2ecde8)break;else _0x5a2c9d['push'](_0x5a2c9d['shift']());}catch(_0x251e48){_0x5a2c9d['push'](_0x5a2c9d['shift']());}}}(a81_0x4b48,0xd1e92));const a81_0x24d44d=function(){let _0x273a08=!![];return function(_0x5bd4df,_0x10d024){const _0xb0d67e=_0x273a08?function(){const _0x191e51=a81_0x301e;if(_0x10d024){const _0x52dff4=_0x10d024[_0x191e51(0x181)](_0x5bd4df,arguments);return _0x10d024=null,_0x52dff4;}}:function(){};return _0x273a08=![],_0xb0d67e;};}(),a81_0x3fd4d9=a81_0x24d44d(this,function(){const _0x1f40a2=function(){const _0x166ec7=a81_0x301e,_0x15c9db=_0x1f40a2['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x166ec7(0x159)](_0x166ec7(0x179));return!_0x15c9db[_0x166ec7(0x17c)](a81_0x3fd4d9);};return _0x1f40a2();});a81_0x3fd4d9();'use strict';var __importDefault=this&&this[a81_0x118159(0x16c)]||function(_0x5cb194){const _0x541fc3=a81_0x118159;return _0x5cb194&&_0x5cb194[_0x541fc3(0x175)]?_0x5cb194:{'default':_0x5cb194};};Object[a81_0x118159(0x166)](exports,'__esModule',{'value':!![]}),exports[a81_0x118159(0x169)]=void 0x0;const fs_internal_1=require(a81_0x118159(0x156)),core_1=require(a81_0x118159(0x17d)),xml_1=require(a81_0x118159(0x15e)),child_types_1=__importDefault(require('./child-types')),child_types_map_1=__importDefault(require('./child-types-map')),path_1=__importDefault(require(a81_0x118159(0x15c))),logger=new core_1['Logger'](a81_0x118159(0x165));class MDApiRemover{constructor(_0xc2ca56,_0x22bbb7){const _0x1688b4=a81_0x118159;this[_0x1688b4(0x177)]=_0xc2ca56,this['sourceDir']=_0x22bbb7,this['META_EXTENSION']=_0x1688b4(0x174),this[_0x1688b4(0x180)]=0x64,this[_0x1688b4(0x164)]={};}async[a81_0x118159(0x152)](_0x1fee4f){const _0x15984a=a81_0x118159,_0x369dd0=path_1[_0x15984a(0x17b)][_0x15984a(0x15b)](this[_0x15984a(0x16e)],_0x1fee4f['path']),_0x512f17=path_1[_0x15984a(0x17b)][_0x15984a(0x15b)](this[_0x15984a(0x16e)],''+_0x1fee4f[_0x15984a(0x15c)]+this[_0x15984a(0x15d)]);this[_0x15984a(0x164)][_0x1fee4f[_0x15984a(0x15c)]]&&delete this['parentComponents'][_0x1fee4f[_0x15984a(0x15c)]];const _0x2d44d5=await fs_internal_1['FS'][_0x15984a(0x178)](_0x369dd0)[_0x15984a(0x163)](()=>![]);if(_0x2d44d5){await fs_internal_1['FS']['removeDir'](_0x369dd0);return;}await Promise[_0x15984a(0x155)]([fs_internal_1['FS'][_0x15984a(0x170)](_0x369dd0),fs_internal_1['FS'][_0x15984a(0x170)](_0x512f17)]);}async[a81_0x118159(0x14e)](_0x4f8655){const _0x22805f=a81_0x118159,{fileName:_0x2c49fb,type:_0xfe2ab5,path:_0xcd801e}=_0x4f8655,_0x612d2e=child_types_map_1[_0x22805f(0x17b)][_0xfe2ab5];if(!_0x612d2e)throw new Error(_0x22805f(0x15f)+_0xfe2ab5);if(!this[_0x22805f(0x164)][_0xcd801e]){const _0x59faa5=path_1[_0x22805f(0x17b)][_0x22805f(0x15b)](this['sourceDir'],_0xcd801e),_0x2ab168=await fs_internal_1['FS'][_0x22805f(0x153)](_0x59faa5);if(!_0x2ab168)return;const _0x4c16b6=await fs_internal_1['FS'][_0x22805f(0x16d)](_0x59faa5);this[_0x22805f(0x164)][_0xcd801e]=await xml_1[_0x22805f(0x17f)]['parse'](_0x4c16b6);}const _0x312ca9=this[_0x22805f(0x164)][_0xcd801e],_0x575664=_0x2c49fb[_0x22805f(0x16f)]('.')[_0x22805f(0x182)]();xml_1[_0x22805f(0x17f)][_0x22805f(0x158)](_0x312ca9,_0x612d2e,_0x575664||_0x2c49fb),xml_1[_0x22805f(0x17f)][_0x22805f(0x15a)](_0x312ca9)?(await this['removeParent'](_0x4f8655),delete this[_0x22805f(0x164)][_0xcd801e]):this[_0x22805f(0x164)][_0xcd801e]=_0x312ca9;}async[a81_0x118159(0x17a)](){const _0x376f1c=a81_0x118159;!await fs_internal_1['FS'][_0x376f1c(0x153)](this[_0x376f1c(0x16e)])&&await fs_internal_1['FS']['makeDir'](this[_0x376f1c(0x16e)]);for(const _0x3de5af of this[_0x376f1c(0x177)]){!child_types_1['default'][_0x376f1c(0x16a)](_0x3de5af[_0x376f1c(0x160)])?await this[_0x376f1c(0x152)](_0x3de5af):await this[_0x376f1c(0x14e)](_0x3de5af);}const _0x27ac9a=Object[_0x376f1c(0x150)](this[_0x376f1c(0x164)]);logger['log']('have\x20to\x20update\x20%d\x20files',this[_0x376f1c(0x177)]['length']);while(_0x27ac9a[_0x376f1c(0x154)]){const _0x1edaae=_0x27ac9a[_0x376f1c(0x172)](0x0,this[_0x376f1c(0x180)]);for(const _0x486344 of _0x1edaae){await fs_internal_1['FS'][_0x376f1c(0x171)](path_1[_0x376f1c(0x17b)][_0x376f1c(0x15b)](this[_0x376f1c(0x16e)],_0x486344),xml_1[_0x376f1c(0x17f)][_0x376f1c(0x157)](this[_0x376f1c(0x164)][_0x486344]));}}this[_0x376f1c(0x164)]={};}}exports[a81_0x118159(0x169)]=MDApiRemover;