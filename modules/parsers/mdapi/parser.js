const a95_0x26ad45=a95_0xe9e4;(function(_0x5723db,_0x4690a4){const _0xea0db3=a95_0xe9e4,_0x294a93=_0x5723db();while(!![]){try{const _0x24de64=-parseInt(_0xea0db3(0x1b3))/0x1+-parseInt(_0xea0db3(0x192))/0x2+parseInt(_0xea0db3(0x19d))/0x3*(parseInt(_0xea0db3(0x196))/0x4)+parseInt(_0xea0db3(0x191))/0x5*(parseInt(_0xea0db3(0x1a5))/0x6)+parseInt(_0xea0db3(0x17e))/0x7+parseInt(_0xea0db3(0x186))/0x8*(-parseInt(_0xea0db3(0x1ab))/0x9)+-parseInt(_0xea0db3(0x1a2))/0xa;if(_0x24de64===_0x4690a4)break;else _0x294a93['push'](_0x294a93['shift']());}catch(_0x412b84){_0x294a93['push'](_0x294a93['shift']());}}}(a95_0xe5ef,0x4ae1e));const a95_0xc5a306=function(){let _0x28736f=!![];return function(_0x284ed3,_0x45eee2){const _0x1a0e81=_0x28736f?function(){const _0x367add=a95_0xe9e4;if(_0x45eee2){const _0x17a1a6=_0x45eee2[_0x367add(0x1b9)](_0x284ed3,arguments);return _0x45eee2=null,_0x17a1a6;}}:function(){};return _0x28736f=![],_0x1a0e81;};}(),a95_0x499195=a95_0xc5a306(this,function(){const _0x52fc28=a95_0xe9e4;return a95_0x499195['toString']()[_0x52fc28(0x1bb)](_0x52fc28(0x1b5))[_0x52fc28(0x1b7)]()['constructor'](a95_0x499195)[_0x52fc28(0x1bb)](_0x52fc28(0x1b5));});a95_0x499195();function a95_0xe5ef(){const _0x31aca9=['search','type','extractFilenameFromPath','relative','2675505xXuUnF','paths','convertToCleanPaths','readBundledFiles','../../../core','experiences','BUNDLED_FOLDERS_REGEXP','../../../constants','1422704CNNNnh','Cannot\x20parse\x20childs\x20in\x20','test','__importDefault','META_EXTENSION','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','name','isDir','readChildComponents','hasChildNodes','push','10VeKkxQ','487460MuJyrc','all','join','Component\x20\x22','12rLIety','utf-8','crc','split','calculateCRC32','../utils','parse','288234bKuzqz','readFile','extractComponentTypeFromFiles','extname','defineProperty','2530440uSytRE','default','files','1403886lLQxyP','dir','Xml','__esModule','readComponentFiles','logger','9EkuUOY','catch','META_EXPERIENCES_EXTENSION','waveTemplates','startsWith','MDApiParser','readDir','values','157081XbzepW','Logger','(((.+)+)+)+$','reduce','toString','getChildsByName','apply','endsWith'];a95_0xe5ef=function(){return _0x31aca9;};return a95_0xe5ef();}'use strict';var __importDefault=this&&this[a95_0x26ad45(0x189)]||function(_0x5ccb5d){const _0x5def28=a95_0x26ad45;return _0x5ccb5d&&_0x5ccb5d[_0x5def28(0x1a8)]?_0x5ccb5d:{'default':_0x5ccb5d};};Object[a95_0x26ad45(0x1a1)](exports,a95_0x26ad45(0x1a8),{'value':!![]}),exports[a95_0x26ad45(0x1b0)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a95_0x26ad45(0x19b)),path_1=require('path'),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a95_0x26ad45(0x185)),core_1=require(a95_0x26ad45(0x182)),git_commit_utils_1=require('../../web-hooks/utils/git-commit.utils'),CHILD_XML_KEYS=Object[a95_0x26ad45(0x1b2)](child_types_map_1[a95_0x26ad45(0x1a3)]);function a95_0xe9e4(_0x24df9f,_0x1761c6){const _0x174b8d=a95_0xe5ef();return a95_0xe9e4=function(_0x499195,_0xc5a306){_0x499195=_0x499195-0x17b;let _0xe5ef5c=_0x174b8d[_0x499195];return _0xe5ef5c;},a95_0xe9e4(_0x24df9f,_0x1761c6);}class MDApiParser{constructor(_0x94d52e,_0x3b50de){const _0x1ffe48=a95_0x26ad45;this['dir']=_0x94d52e,this[_0x1ffe48(0x1aa)]=new core_1[(_0x1ffe48(0x1b4))](MDApiParser[_0x1ffe48(0x18c)]),this[_0x1ffe48(0x18a)]='-meta.xml',this[_0x1ffe48(0x1ad)]='.site-meta.xml',this['paths']=utils_1[_0x1ffe48(0x180)](_0x3b50de);}async[a95_0x26ad45(0x18e)](_0x39700d){const _0x5649b2=a95_0x26ad45;try{const _0x534542=await xml_1[_0x5649b2(0x1a7)]['parse'](Object['values'](_0x39700d['files'])[0x0][_0x5649b2(0x1b7)](_0x5649b2(0x197))),_0x14162e=CHILD_XML_KEYS['filter'](_0x500978=>xml_1[_0x5649b2(0x1a7)][_0x5649b2(0x18f)](_0x534542,_0x500978))[_0x5649b2(0x1b6)]((_0x1311b5,_0x4f0b6d)=>[..._0x1311b5,...xml_1[_0x5649b2(0x1a7)][_0x5649b2(0x1b8)](_0x534542,_0x4f0b6d)],[]);return utils_1['createChildComponentsFromParent'](_0x39700d,_0x534542,_0x14162e);}catch(_0x965e40){throw new Error(_0x5649b2(0x187)+_0x39700d['name']+'\x20['+_0x39700d[_0x5649b2(0x17b)]+']');}}async[a95_0x26ad45(0x181)](_0x49e157){const _0x19a33a=a95_0x26ad45,_0x52ff80=path_1[_0x19a33a(0x194)](this['dir'],_0x49e157),_0x53827f=_0x49e157+(_0x49e157['startsWith'](_0x19a33a(0x183))?this['META_EXPERIENCES_EXTENSION']:this['META_EXTENSION']),_0x1baf5b=await fs_internal_1['FS'][_0x19a33a(0x1b1)](_0x52ff80,!![]),_0x206f26=await fs_internal_1['FS'][_0x19a33a(0x19e)](path_1[_0x19a33a(0x194)](this[_0x19a33a(0x1a6)],_0x53827f),!![])['catch'](()=>null),_0x3eda45={};for(const _0x45792c of _0x1baf5b){_0x3eda45[_0x45792c]=await fs_internal_1['FS'][_0x19a33a(0x19e)](_0x45792c,!![]);}return _0x206f26&&(_0x3eda45[_0x53827f]=_0x206f26),_0x3eda45;}async[a95_0x26ad45(0x1a9)](_0x46849a){const _0x43252c=a95_0x26ad45;let _0x3c3dc1=_0x46849a+this[_0x43252c(0x18a)];if(constants_1[_0x43252c(0x184)][_0x43252c(0x188)](_0x46849a))return this[_0x43252c(0x181)](_0x46849a);if(await fs_internal_1['FS'][_0x43252c(0x18d)](path_1['join'](this['dir'],_0x46849a)))return{[_0x3c3dc1]:await fs_internal_1['FS']['readFile'](path_1[_0x43252c(0x194)](this[_0x43252c(0x1a6)],_0x3c3dc1),!![])};if(!path_1[_0x43252c(0x1a0)](_0x46849a)){const _0x5bcdfc=_0x46849a[_0x43252c(0x199)]('/')[0x0],_0x32b536=(await fs_internal_1['FS'][_0x43252c(0x1b1)](path_1[_0x43252c(0x194)](this['dir'],_0x5bcdfc)))['find'](_0x6ed833=>git_commit_utils_1['isPathsEquals'](_0x6ed833,path_1[_0x43252c(0x194)](this['dir'],_0x46849a)));if(!_0x32b536)throw new Error(_0x43252c(0x195)+_0x46849a+'\x22\x20not\x20found\x20in\x20\x22'+_0x5bcdfc+'\x22');_0x46849a=path_1[_0x43252c(0x17d)](this[_0x43252c(0x1a6)],_0x32b536),_0x3c3dc1=_0x46849a+this[_0x43252c(0x18a)];}const [_0x1f8470,_0x51747c]=await Promise[_0x43252c(0x193)]([fs_internal_1['FS'][_0x43252c(0x19e)](path_1[_0x43252c(0x194)](this[_0x43252c(0x1a6)],_0x46849a),!![]),fs_internal_1['FS'][_0x43252c(0x19e)](path_1[_0x43252c(0x194)](this[_0x43252c(0x1a6)],_0x3c3dc1),!![])[_0x43252c(0x1ac)](()=>null)]);return{[_0x46849a]:_0x1f8470,..._0x51747c?{[_0x3c3dc1]:_0x51747c}:{}};}async[a95_0x26ad45(0x19c)](){const _0x141764=a95_0x26ad45,_0x142dd3=[];for(const _0x33c66f of this[_0x141764(0x17f)]){if(_0x33c66f[_0x141764(0x1ba)]('package.xml'))continue;const _0x1a4836={};_0x1a4836['filePath']=_0x33c66f;try{_0x1a4836['files']=await this[_0x141764(0x1a9)](_0x33c66f),_0x33c66f[_0x141764(0x1af)](_0x141764(0x1ae))?_0x1a4836[_0x141764(0x17b)]='WaveTemplateBundle':_0x1a4836['type']=await utils_1[_0x141764(0x19f)]({'files':_0x1a4836[_0x141764(0x1a4)]});}catch(_0xfdf5fd){this[_0x141764(0x1aa)]['error'](_0x141764(0x18b),_0x33c66f,_0xfdf5fd);continue;}_0x1a4836[_0x141764(0x18c)]=utils_1[_0x141764(0x17c)](_0x33c66f),_0x1a4836[_0x141764(0x198)]=utils_1[_0x141764(0x19a)](_0x1a4836);if(utils_1['isParentComponent'](_0x1a4836)){const _0x1987dc=await this[_0x141764(0x18e)](_0x1a4836);_0x142dd3['push'](..._0x1987dc);}_0x142dd3[_0x141764(0x190)](_0x1a4836);}return _0x142dd3;}}exports['MDApiParser']=MDApiParser;