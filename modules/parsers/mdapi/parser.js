const a90_0x3bf328=a90_0x4114;function a90_0x4114(_0x3e9b9d,_0x1d8300){const _0x2dde05=a90_0x4c2e();return a90_0x4114=function(_0x12f8ca,_0x34556e){_0x12f8ca=_0x12f8ca-0x1ba;let _0x4c2eac=_0x2dde05[_0x12f8ca];return _0x4c2eac;},a90_0x4114(_0x3e9b9d,_0x1d8300);}(function(_0x55fd72,_0x4c6a84){const _0x4c78b9=a90_0x4114,_0x4e0ef3=_0x55fd72();while(!![]){try{const _0x19000d=-parseInt(_0x4c78b9(0x1f2))/0x1*(-parseInt(_0x4c78b9(0x1f6))/0x2)+parseInt(_0x4c78b9(0x1db))/0x3+-parseInt(_0x4c78b9(0x1dc))/0x4+-parseInt(_0x4c78b9(0x1ef))/0x5+parseInt(_0x4c78b9(0x1ba))/0x6+-parseInt(_0x4c78b9(0x1d4))/0x7+-parseInt(_0x4c78b9(0x1d1))/0x8*(parseInt(_0x4c78b9(0x1e9))/0x9);if(_0x19000d===_0x4c6a84)break;else _0x4e0ef3['push'](_0x4e0ef3['shift']());}catch(_0x4bbe4f){_0x4e0ef3['push'](_0x4e0ef3['shift']());}}}(a90_0x4c2e,0xa5c13));const a90_0x34556e=function(){let _0x237281=!![];return function(_0x171a18,_0xe3d7b7){const _0x5e9d24=_0x237281?function(){const _0x4b60fe=a90_0x4114;if(_0xe3d7b7){const _0xe3f10a=_0xe3d7b7[_0x4b60fe(0x1c0)](_0x171a18,arguments);return _0xe3d7b7=null,_0xe3f10a;}}:function(){};return _0x237281=![],_0x5e9d24;};}(),a90_0x12f8ca=a90_0x34556e(this,function(){const _0x59b48b=a90_0x4114;return a90_0x12f8ca[_0x59b48b(0x1d9)]()['search'](_0x59b48b(0x1d2))[_0x59b48b(0x1d9)]()['constructor'](a90_0x12f8ca)['search'](_0x59b48b(0x1d2));});a90_0x12f8ca();function a90_0x4c2e(){const _0x3a762f=['META_EXPERIENCES_EXTENSION','filter','63117sVfKeW','getChildsByName','MDApiParser','Logger','BUNDLED_FOLDERS_REGEXP','utf-8','2958855lspnhz','filePath','isDir','1idGjmY','calculateCRC32','type','paths','595908cpMwBK','7975332NuuIxn','default','join','dir','../utils/xml','readComponentFiles','apply','.site-meta.xml','test','WaveTemplateBundle','catch','readFile','../../../core','defineProperty','readBundledFiles','convertToCleanPaths','../../internal/fs.internal','crc','isParentComponent','META_EXTENSION','package.xml','experiences','files','1304aYrPsQ','(((.+)+)+)+$','readChildComponents','1268722WUDXOv','startsWith','../data/child-types-map','Xml','parse','toString','readDir','3179145CKKYIB','367296zHAVqf','values','path','push','extractFilenameFromPath','reduce','extractComponentTypeFromFiles','logger','../utils','name','../../../constants'];a90_0x4c2e=function(){return _0x3a762f;};return a90_0x4c2e();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4a9e53){return _0x4a9e53&&_0x4a9e53['__esModule']?_0x4a9e53:{'default':_0x4a9e53};};Object[a90_0x3bf328(0x1c7)](exports,'__esModule',{'value':!![]}),exports[a90_0x3bf328(0x1eb)]=void 0x0;const fs_internal_1=require(a90_0x3bf328(0x1ca)),utils_1=require(a90_0x3bf328(0x1e4)),path_1=require(a90_0x3bf328(0x1de)),xml_1=require(a90_0x3bf328(0x1be)),child_types_map_1=__importDefault(require(a90_0x3bf328(0x1d6))),constants_1=require(a90_0x3bf328(0x1e6)),core_1=require(a90_0x3bf328(0x1c6)),CHILD_XML_KEYS=Object[a90_0x3bf328(0x1dd)](child_types_map_1[a90_0x3bf328(0x1bb)]);class MDApiParser{constructor(_0x5d7ddb,_0x1ead4f){const _0x18dd0b=a90_0x3bf328;this[_0x18dd0b(0x1bd)]=_0x5d7ddb,this[_0x18dd0b(0x1e3)]=new core_1[(_0x18dd0b(0x1ec))](MDApiParser[_0x18dd0b(0x1e5)]),this[_0x18dd0b(0x1cd)]='-meta.xml',this[_0x18dd0b(0x1e7)]=_0x18dd0b(0x1c1),this[_0x18dd0b(0x1f5)]=utils_1[_0x18dd0b(0x1c9)](_0x1ead4f);}async[a90_0x3bf328(0x1d3)](_0x3500aa){const _0x37952e=a90_0x3bf328;try{const _0x2b2ab3=await xml_1[_0x37952e(0x1d7)][_0x37952e(0x1d8)](Object[_0x37952e(0x1dd)](_0x3500aa[_0x37952e(0x1d0)])[0x0][_0x37952e(0x1d9)](_0x37952e(0x1ee))),_0x5260d2=CHILD_XML_KEYS[_0x37952e(0x1e8)](_0x54430a=>xml_1[_0x37952e(0x1d7)]['hasChildNodes'](_0x2b2ab3,_0x54430a))[_0x37952e(0x1e1)]((_0x226571,_0xd2b50c)=>[..._0x226571,...xml_1['Xml'][_0x37952e(0x1ea)](_0x2b2ab3,_0xd2b50c)],[]);return utils_1['createChildComponentsFromParent'](_0x3500aa,_0x2b2ab3,_0x5260d2);}catch(_0x445b68){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x3500aa[_0x37952e(0x1e5)]+'\x20['+_0x3500aa[_0x37952e(0x1f4)]+']');}}async['readBundledFiles'](_0x54cfd2){const _0xcbe0a7=a90_0x3bf328,_0x167d8a=path_1[_0xcbe0a7(0x1bc)](this[_0xcbe0a7(0x1bd)],_0x54cfd2),_0xdbb8fd=_0x54cfd2+(_0x54cfd2[_0xcbe0a7(0x1d5)](_0xcbe0a7(0x1cf))?this[_0xcbe0a7(0x1e7)]:this[_0xcbe0a7(0x1cd)]),_0x62200=await fs_internal_1['FS'][_0xcbe0a7(0x1da)](_0x167d8a,!![]),_0x59227b=await fs_internal_1['FS'][_0xcbe0a7(0x1c5)](path_1['join'](this['dir'],_0xdbb8fd),!![])[_0xcbe0a7(0x1c4)](()=>null),_0x1e3eb3={};for(const _0x14499b of _0x62200){_0x1e3eb3[_0x14499b]=await fs_internal_1['FS'][_0xcbe0a7(0x1c5)](_0x14499b,!![]);}return _0x59227b&&(_0x1e3eb3[_0xdbb8fd]=_0x59227b),_0x1e3eb3;}async[a90_0x3bf328(0x1bf)](_0x4c8cb3){const _0xbb637a=a90_0x3bf328,_0x3fe753=_0x4c8cb3+this[_0xbb637a(0x1cd)];if(constants_1[_0xbb637a(0x1ed)][_0xbb637a(0x1c2)](_0x4c8cb3))return this[_0xbb637a(0x1c8)](_0x4c8cb3);if(await fs_internal_1['FS'][_0xbb637a(0x1f1)](path_1['join'](this[_0xbb637a(0x1bd)],_0x4c8cb3)))return{[_0x3fe753]:await fs_internal_1['FS'][_0xbb637a(0x1c5)](path_1[_0xbb637a(0x1bc)](this[_0xbb637a(0x1bd)],_0x3fe753),!![])};const [_0x152cad,_0x43f178]=await Promise['all']([fs_internal_1['FS'][_0xbb637a(0x1c5)](path_1[_0xbb637a(0x1bc)](this[_0xbb637a(0x1bd)],_0x4c8cb3),!![]),fs_internal_1['FS']['readFile'](path_1[_0xbb637a(0x1bc)](this[_0xbb637a(0x1bd)],_0x3fe753),!![])['catch'](()=>null)]);return{[_0x4c8cb3]:_0x152cad,..._0x43f178?{[_0x3fe753]:_0x43f178}:{}};}async['parse'](){const _0x198a51=a90_0x3bf328,_0xb0d7d2=[];for(const _0x1a5dbc of this[_0x198a51(0x1f5)]){if(_0x1a5dbc['endsWith'](_0x198a51(0x1ce)))continue;const _0x14288d={};_0x14288d[_0x198a51(0x1f0)]=_0x1a5dbc;try{_0x14288d['files']=await this['readComponentFiles'](_0x1a5dbc),_0x1a5dbc[_0x198a51(0x1d5)]('waveTemplates')?_0x14288d[_0x198a51(0x1f4)]=_0x198a51(0x1c3):_0x14288d[_0x198a51(0x1f4)]=await utils_1[_0x198a51(0x1e2)]({'files':_0x14288d[_0x198a51(0x1d0)]});}catch(_0x26dca7){this['logger']['error']('error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x1a5dbc,_0x26dca7);continue;}_0x14288d[_0x198a51(0x1e5)]=utils_1[_0x198a51(0x1e0)](_0x1a5dbc),_0x14288d[_0x198a51(0x1cb)]=utils_1[_0x198a51(0x1f3)](_0x14288d);if(utils_1[_0x198a51(0x1cc)](_0x14288d)){const _0x35730c=await this[_0x198a51(0x1d3)](_0x14288d);_0xb0d7d2[_0x198a51(0x1df)](..._0x35730c);}_0xb0d7d2['push'](_0x14288d);}return _0xb0d7d2;}}exports[a90_0x3bf328(0x1eb)]=MDApiParser;