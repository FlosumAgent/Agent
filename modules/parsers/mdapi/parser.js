const a95_0x4b0350=a95_0x5605;function a95_0x5605(_0x4a8241,_0x4699c1){const _0x823f19=a95_0x4996();return a95_0x5605=function(_0x2f9811,_0xddd8c8){_0x2f9811=_0x2f9811-0x152;let _0x499656=_0x823f19[_0x2f9811];return _0x499656;},a95_0x5605(_0x4a8241,_0x4699c1);}(function(_0x463989,_0x34d6a6){const _0x48e36f=a95_0x5605,_0x600d6c=_0x463989();while(!![]){try{const _0x31b0eb=-parseInt(_0x48e36f(0x16f))/0x1*(-parseInt(_0x48e36f(0x153))/0x2)+-parseInt(_0x48e36f(0x172))/0x3*(-parseInt(_0x48e36f(0x180))/0x4)+parseInt(_0x48e36f(0x15e))/0x5*(parseInt(_0x48e36f(0x18b))/0x6)+parseInt(_0x48e36f(0x165))/0x7*(-parseInt(_0x48e36f(0x185))/0x8)+parseInt(_0x48e36f(0x16b))/0x9*(parseInt(_0x48e36f(0x169))/0xa)+-parseInt(_0x48e36f(0x17f))/0xb*(-parseInt(_0x48e36f(0x190))/0xc)+-parseInt(_0x48e36f(0x18f))/0xd*(parseInt(_0x48e36f(0x15a))/0xe);if(_0x31b0eb===_0x34d6a6)break;else _0x600d6c['push'](_0x600d6c['shift']());}catch(_0x2c4b03){_0x600d6c['push'](_0x600d6c['shift']());}}}(a95_0x4996,0x608c9));const a95_0xddd8c8=function(){let _0x17f91c=!![];return function(_0xb29972,_0x1e515b){const _0x2df52e=_0x17f91c?function(){const _0x4ea217=a95_0x5605;if(_0x1e515b){const _0x34145d=_0x1e515b[_0x4ea217(0x163)](_0xb29972,arguments);return _0x1e515b=null,_0x34145d;}}:function(){};return _0x17f91c=![],_0x2df52e;};}(),a95_0x2f9811=a95_0xddd8c8(this,function(){const _0x38f9bf=a95_0x5605;return a95_0x2f9811[_0x38f9bf(0x187)]()['search']('(((.+)+)+)+$')[_0x38f9bf(0x187)]()['constructor'](a95_0x2f9811)['search'](_0x38f9bf(0x16d));});a95_0x2f9811();function a95_0x4996(){const _0x9a7ad=['extname','push','values','\x22\x20not\x20found\x20in\x20\x22','8ZqIMWa','path','toString','BUNDLED_FOLDERS_REGEXP','MDApiParser','catch','5274DLwPZp','extractFilenameFromPath','type','../utils/xml','39zzbYuX','9210108iiXOqz','parse','paths','Component\x20\x22','utf-8','readComponentFiles','find','package.xml','META_EXPERIENCES_EXTENSION','4ZBBiul','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','isDir','dir','getChildsByName','isPathsEquals','Xml','8119174VnlHRc','../utils','hasChildNodes','.site-meta.xml','4145WtTUnt','isParentComponent','defineProperty','join','calculateCRC32','apply','readBundledFiles','5362399GwEGFV','readChildComponents','filter','../data/child-types-map','196250pmnWpX','Logger','351GklcZM','endsWith','(((.+)+)+)+$','readFile','85571UVVxvD','Cannot\x20parse\x20childs\x20in\x20','-meta.xml','17796vONkyV','createChildComponentsFromParent','logger','readDir','../../web-hooks/utils/git-commit.utils','name','experiences','startsWith','../../internal/fs.internal','files','META_EXTENSION','waveTemplates','split','11nhBjFO','316oWERJN'];a95_0x4996=function(){return _0x9a7ad;};return a95_0x4996();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x29d002){return _0x29d002&&_0x29d002['__esModule']?_0x29d002:{'default':_0x29d002};};Object[a95_0x4b0350(0x160)](exports,'__esModule',{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a95_0x4b0350(0x17a)),utils_1=require(a95_0x4b0350(0x15b)),path_1=require(a95_0x4b0350(0x186)),xml_1=require(a95_0x4b0350(0x18e)),child_types_map_1=__importDefault(require(a95_0x4b0350(0x168))),constants_1=require('../../../constants'),core_1=require('../../../core'),git_commit_utils_1=require(a95_0x4b0350(0x176)),CHILD_XML_KEYS=Object[a95_0x4b0350(0x183)](child_types_map_1['default']);class MDApiParser{constructor(_0x56af72,_0x72c81){const _0x139b80=a95_0x4b0350;this[_0x139b80(0x156)]=_0x56af72,this['logger']=new core_1[(_0x139b80(0x16a))](MDApiParser[_0x139b80(0x177)]),this[_0x139b80(0x17c)]=_0x139b80(0x171),this['META_EXPERIENCES_EXTENSION']=_0x139b80(0x15d),this[_0x139b80(0x192)]=utils_1['convertToCleanPaths'](_0x72c81);}async[a95_0x4b0350(0x166)](_0x12d8b0){const _0x2777a5=a95_0x4b0350;try{const _0x126921=await xml_1['Xml'][_0x2777a5(0x191)](Object[_0x2777a5(0x183)](_0x12d8b0[_0x2777a5(0x17b)])[0x0][_0x2777a5(0x187)](_0x2777a5(0x194))),_0x32910b=CHILD_XML_KEYS[_0x2777a5(0x167)](_0x32da03=>xml_1['Xml'][_0x2777a5(0x15c)](_0x126921,_0x32da03))['reduce']((_0x2ad5db,_0x5db9ca)=>[..._0x2ad5db,...xml_1[_0x2777a5(0x159)][_0x2777a5(0x157)](_0x126921,_0x5db9ca)],[]);return utils_1[_0x2777a5(0x173)](_0x12d8b0,_0x126921,_0x32910b);}catch(_0x55c37d){throw new Error(_0x2777a5(0x170)+_0x12d8b0['name']+'\x20['+_0x12d8b0[_0x2777a5(0x18d)]+']');}}async[a95_0x4b0350(0x164)](_0x179ccb){const _0x4f2e58=a95_0x4b0350,_0x2be578=path_1[_0x4f2e58(0x161)](this[_0x4f2e58(0x156)],_0x179ccb),_0x7d549d=_0x179ccb+(_0x179ccb['startsWith'](_0x4f2e58(0x178))?this[_0x4f2e58(0x152)]:this[_0x4f2e58(0x17c)]),_0xcecd0f=await fs_internal_1['FS']['readDir'](_0x2be578,!![]),_0x5d298b=await fs_internal_1['FS'][_0x4f2e58(0x16e)](path_1[_0x4f2e58(0x161)](this[_0x4f2e58(0x156)],_0x7d549d),!![])[_0x4f2e58(0x18a)](()=>null),_0x5da4ed={};for(const _0xb16aad of _0xcecd0f){_0x5da4ed[_0xb16aad]=await fs_internal_1['FS'][_0x4f2e58(0x16e)](_0xb16aad,!![]);}return _0x5d298b&&(_0x5da4ed[_0x7d549d]=_0x5d298b),_0x5da4ed;}async[a95_0x4b0350(0x195)](_0x3fc529){const _0x20e527=a95_0x4b0350;let _0x53b8ae=_0x3fc529+this[_0x20e527(0x17c)];if(constants_1[_0x20e527(0x188)]['test'](_0x3fc529))return this['readBundledFiles'](_0x3fc529);if(await fs_internal_1['FS'][_0x20e527(0x155)](path_1['join'](this[_0x20e527(0x156)],_0x3fc529)))return{[_0x53b8ae]:await fs_internal_1['FS'][_0x20e527(0x16e)](path_1['join'](this['dir'],_0x53b8ae),!![])};if(!path_1[_0x20e527(0x181)](_0x3fc529)){const _0x17ef73=_0x3fc529[_0x20e527(0x17e)]('/')[0x0],_0x239cf6=(await fs_internal_1['FS'][_0x20e527(0x175)](path_1[_0x20e527(0x161)](this[_0x20e527(0x156)],_0x17ef73)))[_0x20e527(0x196)](_0x39538a=>git_commit_utils_1[_0x20e527(0x158)](_0x39538a,path_1[_0x20e527(0x161)](this[_0x20e527(0x156)],_0x3fc529)));if(!_0x239cf6)throw new Error(_0x20e527(0x193)+_0x3fc529+_0x20e527(0x184)+_0x17ef73+'\x22');_0x3fc529=path_1['relative'](this['dir'],_0x239cf6),_0x53b8ae=_0x3fc529+this[_0x20e527(0x17c)];}const [_0x44b371,_0x118175]=await Promise['all']([fs_internal_1['FS'][_0x20e527(0x16e)](path_1[_0x20e527(0x161)](this[_0x20e527(0x156)],_0x3fc529),!![]),fs_internal_1['FS'][_0x20e527(0x16e)](path_1[_0x20e527(0x161)](this[_0x20e527(0x156)],_0x53b8ae),!![])[_0x20e527(0x18a)](()=>null)]);return{[_0x3fc529]:_0x44b371,..._0x118175?{[_0x53b8ae]:_0x118175}:{}};}async[a95_0x4b0350(0x191)](){const _0x21e3e0=a95_0x4b0350,_0x395436=[];for(const _0x5e649e of this[_0x21e3e0(0x192)]){if(_0x5e649e[_0x21e3e0(0x16c)](_0x21e3e0(0x197)))continue;const _0x5b6870={};_0x5b6870['filePath']=_0x5e649e;try{_0x5b6870['files']=await this[_0x21e3e0(0x195)](_0x5e649e),_0x5e649e[_0x21e3e0(0x179)](_0x21e3e0(0x17d))?_0x5b6870[_0x21e3e0(0x18d)]='WaveTemplateBundle':_0x5b6870[_0x21e3e0(0x18d)]=await utils_1['extractComponentTypeFromFiles']({'files':_0x5b6870[_0x21e3e0(0x17b)]});}catch(_0x968e06){this[_0x21e3e0(0x174)]['error'](_0x21e3e0(0x154),_0x5e649e,_0x968e06);continue;}_0x5b6870[_0x21e3e0(0x177)]=utils_1[_0x21e3e0(0x18c)](_0x5e649e),_0x5b6870['crc']=utils_1[_0x21e3e0(0x162)](_0x5b6870);if(utils_1[_0x21e3e0(0x15f)](_0x5b6870)){const _0x5459e7=await this[_0x21e3e0(0x166)](_0x5b6870);_0x395436[_0x21e3e0(0x182)](..._0x5459e7);}_0x395436['push'](_0x5b6870);}return _0x395436;}}exports[a95_0x4b0350(0x189)]=MDApiParser;