const a82_0x2f5a=['convertToString','join','parse','readZip','./child-types','__esModule','test','path','log','MAX_WRITES_PER_TICK','keys','body','defineProperty','An\x20error\x20occurred\x20when\x20proceeding\x20component\x20[','].\x20Original\x20error:\x20','apply','start','Xml','length','text','default','fileName','writeParent','includes','fileType','files','parentComponents','967117HNHNAq','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','writeChild','Zip','Logger','constructor','30OMaRJc','MDApiWriter','843046WeaJRK','1525243Wccauk','writeFile','push','70905eyRMeg','60841rdDMcc','1898156taffHI','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../internal/fs.internal','15XynfZL','sourceDir','replaceOrAppend','../utils/xml','exists','async','have\x20to\x20write\x20%d\x20files','../../../core','490747WOIyKO','__importDefault','all','mdapi-writer','components'];const a82_0x57e227=a82_0x2574;(function(_0x1286be,_0x5f24b5){const _0x5e5005=a82_0x2574;while(!![]){try{const _0x5b7272=parseInt(_0x5e5005(0xaf))+-parseInt(_0x5e5005(0xa1))+-parseInt(_0x5e5005(0xa9))+parseInt(_0x5e5005(0xad))*parseInt(_0x5e5005(0xb2))+parseInt(_0x5e5005(0xae))*parseInt(_0x5e5005(0xa7))+-parseInt(_0x5e5005(0xba))+-parseInt(_0x5e5005(0xaa));if(_0x5b7272===_0x5f24b5)break;else _0x1286be['push'](_0x1286be['shift']());}catch(_0xcf01b7){_0x1286be['push'](_0x1286be['shift']());}}}(a82_0x2f5a,0xea928));const a82_0x3ba30b=function(){let _0x27d380=!![];return function(_0x49ab2,_0x3d9ac2){const _0xa6a5e2=_0x27d380?function(){const _0x41bb53=a82_0x2574;if(_0x3d9ac2){const _0x55ba1a=_0x3d9ac2[_0x41bb53(0x95)](_0x49ab2,arguments);return _0x3d9ac2=null,_0x55ba1a;}}:function(){};return _0x27d380=![],_0xa6a5e2;};}(),a82_0x3c5ddc=a82_0x3ba30b(this,function(){const _0x4d92e4=function(){const _0x3b9866=a82_0x2574,_0x348d77=_0x4d92e4[_0x3b9866(0xa6)](_0x3b9866(0xb0))()[_0x3b9866(0xa6)](_0x3b9866(0xa2));return!_0x348d77[_0x3b9866(0x8c)](a82_0x3c5ddc);};return _0x4d92e4();});a82_0x3c5ddc();'use strict';function a82_0x2574(_0x2a88b4,_0x901324){return a82_0x2574=function(_0x18e12b,_0x3c5ddc){_0x18e12b=_0x18e12b-0x83;let _0x3ba30b=a82_0x2f5a[_0x18e12b];return _0x3ba30b;},a82_0x2574(_0x2a88b4,_0x901324);}var __importDefault=this&&this[a82_0x57e227(0xbb)]||function(_0x348185){const _0x42dd0e=a82_0x57e227;return _0x348185&&_0x348185[_0x42dd0e(0x8b)]?_0x348185:{'default':_0x348185};};Object[a82_0x57e227(0x92)](exports,'__esModule',{'value':!![]}),exports[a82_0x57e227(0xa8)]=void 0x0;const path_1=__importDefault(require(a82_0x57e227(0x8d))),core_1=require(a82_0x57e227(0xb9)),fs_internal_1=require(a82_0x57e227(0xb1)),xml_1=require(a82_0x57e227(0xb5)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a82_0x57e227(0x8a))),logger=new core_1[(a82_0x57e227(0xa5))](a82_0x57e227(0x84));class MDApiWriter{constructor(_0x4b1b22,_0x5c825a){const _0x534efd=a82_0x57e227;this[_0x534efd(0x85)]=_0x4b1b22,this[_0x534efd(0xb3)]=_0x5c825a,this[_0x534efd(0x8f)]=0x64,this['parentComponents']={};}async[a82_0x57e227(0x89)](_0x5323e9){const _0x1c7157=a82_0x57e227,_0x280b2a=await zip_1[_0x1c7157(0xa4)]['unzip'](_0x5323e9),_0x220e77=[];for(const _0x393d08 of Object[_0x1c7157(0x90)](_0x280b2a[_0x1c7157(0x9f)])){_0x220e77[_0x1c7157(0xac)]({'filename':_0x393d08,'body':await _0x280b2a[_0x1c7157(0x9f)][_0x393d08][_0x1c7157(0xb7)](_0x1c7157(0x99))});}return _0x220e77;}async[a82_0x57e227(0x9c)](_0xa8dd2){const _0x230bcf=a82_0x57e227,_0x3f0e1f=await this['readZip'](_0xa8dd2[_0x230bcf(0x91)]);await Promise[_0x230bcf(0x83)](_0x3f0e1f['map'](({filename:_0xd779c9,body:_0x30fed9})=>fs_internal_1['FS'][_0x230bcf(0xab)](path_1[_0x230bcf(0x9a)][_0x230bcf(0x87)](this['sourceDir'],_0xd779c9),_0x30fed9)));}async[a82_0x57e227(0xa3)](_0x204305){const _0x737f99=a82_0x57e227,{filename:_0x36144e,body:_0x3423e6}=(await this[_0x737f99(0x89)](_0x204305[_0x737f99(0x91)]))[0x0];try{if(!this[_0x737f99(0xa0)][_0x36144e]){const _0x49ebcf=path_1[_0x737f99(0x9a)]['join'](this['sourceDir'],_0x36144e);if(await fs_internal_1['FS'][_0x737f99(0xb6)](_0x49ebcf)){const _0x57c1e5=await fs_internal_1['FS']['readFile'](_0x49ebcf);this[_0x737f99(0xa0)][_0x36144e]=await xml_1[_0x737f99(0x97)]['parse'](_0x57c1e5);}else{this[_0x737f99(0xa0)][_0x36144e]=await xml_1['Xml'][_0x737f99(0x88)](_0x3423e6);return;}}const _0x3e6da8=this['parentComponents'][_0x36144e],_0x591663=await xml_1[_0x737f99(0x97)][_0x737f99(0x88)](_0x3423e6);xml_1[_0x737f99(0x97)][_0x737f99(0xb4)](_0x3e6da8,_0x591663);}catch(_0x2ad0aa){throw new Error(_0x737f99(0x93)+_0x204305[_0x737f99(0x9b)]+_0x737f99(0x94)+_0x2ad0aa);}}async[a82_0x57e227(0x96)](){const _0x1ecc57=a82_0x57e227;!await fs_internal_1['FS'][_0x1ecc57(0xb6)](this['sourceDir'])&&await fs_internal_1['FS']['makeDir'](this[_0x1ecc57(0xb3)]);for(const _0x1748f6 of this[_0x1ecc57(0x85)]){!child_types_1[_0x1ecc57(0x9a)][_0x1ecc57(0x9d)](_0x1748f6[_0x1ecc57(0x9e)])?await this[_0x1ecc57(0x9c)](_0x1748f6):await this['writeChild'](_0x1748f6);}const _0x457a16=Object['keys'](this[_0x1ecc57(0xa0)]);logger[_0x1ecc57(0x8e)](_0x1ecc57(0xb8),this[_0x1ecc57(0x85)][_0x1ecc57(0x98)]);while(_0x457a16[_0x1ecc57(0x98)]){const _0x40c28c=_0x457a16['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x3530 of _0x40c28c){await fs_internal_1['FS'][_0x1ecc57(0xab)](path_1[_0x1ecc57(0x9a)][_0x1ecc57(0x87)](this[_0x1ecc57(0xb3)],_0x3530),xml_1['Xml'][_0x1ecc57(0x86)](this['parentComponents'][_0x3530]));}}this[_0x1ecc57(0xa0)]={};}}exports['MDApiWriter']=MDApiWriter;