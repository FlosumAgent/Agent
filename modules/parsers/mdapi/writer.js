const a82_0x5744=['Xml','convertToString','fileName','path','An\x20error\x20occurred\x20when\x20proceeding\x20component\x20[','async','1309710MKsBmu','push','1ZKpjKf','exists','parentComponents','1663435nBerjQ','return\x20/\x22\x20+\x20this\x20+\x20\x22/','apply','parse','__importDefault','mdapi-writer','1100363jHgpie','1UPfHHf','1291410lNiGTY','writeParent','fileType','MDApiWriter','start','constructor','files','default','../utils/zip','892576eTxzhE','join','readZip','components','text','unzip','136WicYYe','splice','1cUfMYf','writeFile','makeDir','body','readFile','all','writeChild','sourceDir','MAX_WRITES_PER_TICK','1272795ZTrVaS','12994RDEccD','includes','length','have\x20to\x20write\x20%d\x20files','Logger','keys','defineProperty'];const a82_0x3da47b=a82_0x4727;(function(_0x354117,_0x1c55a8){const _0x341c24=a82_0x4727;while(!![]){try{const _0xefe3d0=parseInt(_0x341c24(0x1e0))+parseInt(_0x341c24(0x1d6))*parseInt(_0x341c24(0x1d7))+parseInt(_0x341c24(0x1cf))+-parseInt(_0x341c24(0x1cc))*-parseInt(_0x341c24(0x1bc))+-parseInt(_0x341c24(0x1d5))*parseInt(_0x341c24(0x1e8))+-parseInt(_0x341c24(0x1e6))*parseInt(_0x341c24(0x1bd))+-parseInt(_0x341c24(0x1ca));if(_0xefe3d0===_0x1c55a8)break;else _0x354117['push'](_0x354117['shift']());}catch(_0x5a8f12){_0x354117['push'](_0x354117['shift']());}}}(a82_0x5744,0xe636f));const a82_0x2315d7=function(){let _0x3ef2dd=!![];return function(_0x4afb15,_0x37a3ab){const _0x4ff2d9=_0x3ef2dd?function(){const _0x45228a=a82_0x4727;if(_0x37a3ab){const _0x28421a=_0x37a3ab[_0x45228a(0x1d1)](_0x4afb15,arguments);return _0x37a3ab=null,_0x28421a;}}:function(){};return _0x3ef2dd=![],_0x4ff2d9;};}(),a82_0xff05f=a82_0x2315d7(this,function(){const _0x4a5e86=function(){const _0x4aa653=a82_0x4727,_0x595edb=_0x4a5e86['constructor'](_0x4aa653(0x1d0))()[_0x4aa653(0x1dc)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x595edb['test'](a82_0xff05f);};return _0x4a5e86();});a82_0xff05f();function a82_0x4727(_0x81d3,_0x5c7fd2){return a82_0x4727=function(_0xc11a22,_0xff05f){_0xc11a22=_0xc11a22-0x1ba;let _0x2315d7=a82_0x5744[_0xc11a22];return _0x2315d7;},a82_0x4727(_0x81d3,_0x5c7fd2);}'use strict';var __importDefault=this&&this[a82_0x3da47b(0x1d3)]||function(_0xda7f04){return _0xda7f04&&_0xda7f04['__esModule']?_0xda7f04:{'default':_0xda7f04};};Object[a82_0x3da47b(0x1c3)](exports,'__esModule',{'value':!![]}),exports[a82_0x3da47b(0x1da)]=void 0x0;const path_1=__importDefault(require(a82_0x3da47b(0x1c7))),core_1=require('../../../core'),fs_internal_1=require('../../internal/fs.internal'),xml_1=require('../utils/xml'),zip_1=require(a82_0x3da47b(0x1df)),child_types_1=__importDefault(require('./child-types')),logger=new core_1[(a82_0x3da47b(0x1c1))](a82_0x3da47b(0x1d4));class MDApiWriter{constructor(_0x245c47,_0x19dbf6){const _0x1b79ee=a82_0x3da47b;this[_0x1b79ee(0x1e3)]=_0x245c47,this[_0x1b79ee(0x1ba)]=_0x19dbf6,this[_0x1b79ee(0x1bb)]=0x64,this['parentComponents']={};}async[a82_0x3da47b(0x1e2)](_0x22d248){const _0x1a130c=a82_0x3da47b,_0x5db20e=await zip_1['Zip'][_0x1a130c(0x1e5)](_0x22d248),_0x2e68f6=[];for(const _0x33e15e of Object[_0x1a130c(0x1c2)](_0x5db20e[_0x1a130c(0x1dd)])){_0x2e68f6[_0x1a130c(0x1cb)]({'filename':_0x33e15e,'body':await _0x5db20e['files'][_0x33e15e][_0x1a130c(0x1c9)](_0x1a130c(0x1e4))});}return _0x2e68f6;}async[a82_0x3da47b(0x1d8)](_0x7bdad1){const _0x59399d=a82_0x3da47b,_0x5604cd=await this[_0x59399d(0x1e2)](_0x7bdad1[_0x59399d(0x1eb)]);await Promise[_0x59399d(0x1ed)](_0x5604cd['map'](({filename:_0x4a7a59,body:_0x5a315d})=>fs_internal_1['FS'][_0x59399d(0x1e9)](path_1[_0x59399d(0x1de)][_0x59399d(0x1e1)](this[_0x59399d(0x1ba)],_0x4a7a59),_0x5a315d)));}async['writeChild'](_0x5c0f48){const _0x45cbf9=a82_0x3da47b,{filename:_0x12ed33,body:_0x4ed97a}=(await this[_0x45cbf9(0x1e2)](_0x5c0f48[_0x45cbf9(0x1eb)]))[0x0];try{if(!this[_0x45cbf9(0x1ce)][_0x12ed33]){const _0x5abe44=path_1['default'][_0x45cbf9(0x1e1)](this['sourceDir'],_0x12ed33);if(await fs_internal_1['FS'][_0x45cbf9(0x1cd)](_0x5abe44)){const _0x148a00=await fs_internal_1['FS'][_0x45cbf9(0x1ec)](_0x5abe44);this[_0x45cbf9(0x1ce)][_0x12ed33]=await xml_1['Xml'][_0x45cbf9(0x1d2)](_0x148a00);}else{this[_0x45cbf9(0x1ce)][_0x12ed33]=await xml_1['Xml'][_0x45cbf9(0x1d2)](_0x4ed97a);return;}}const _0x415390=this['parentComponents'][_0x12ed33],_0x137ff0=await xml_1[_0x45cbf9(0x1c4)]['parse'](_0x4ed97a);xml_1[_0x45cbf9(0x1c4)]['replaceOrAppend'](_0x415390,_0x137ff0);}catch(_0x1eb865){throw new Error(_0x45cbf9(0x1c8)+_0x5c0f48[_0x45cbf9(0x1c6)]+'].\x20Original\x20error:\x20'+_0x1eb865);}}async[a82_0x3da47b(0x1db)](){const _0x977f91=a82_0x3da47b;!await fs_internal_1['FS'][_0x977f91(0x1cd)](this[_0x977f91(0x1ba)])&&await fs_internal_1['FS'][_0x977f91(0x1ea)](this['sourceDir']);for(const _0x2c1c1e of this[_0x977f91(0x1e3)]){!child_types_1['default'][_0x977f91(0x1be)](_0x2c1c1e[_0x977f91(0x1d9)])?await this[_0x977f91(0x1d8)](_0x2c1c1e):await this[_0x977f91(0x1ee)](_0x2c1c1e);}const _0x3b1e3a=Object[_0x977f91(0x1c2)](this[_0x977f91(0x1ce)]);logger['log'](_0x977f91(0x1c0),this[_0x977f91(0x1e3)][_0x977f91(0x1bf)]);while(_0x3b1e3a['length']){const _0x4bce1a=_0x3b1e3a[_0x977f91(0x1e7)](0x0,this[_0x977f91(0x1bb)]);for(const _0x3198de of _0x4bce1a){await fs_internal_1['FS'][_0x977f91(0x1e9)](path_1[_0x977f91(0x1de)][_0x977f91(0x1e1)](this[_0x977f91(0x1ba)],_0x3198de),xml_1[_0x977f91(0x1c4)][_0x977f91(0x1c5)](this[_0x977f91(0x1ce)][_0x3198de]));}}this[_0x977f91(0x1ce)]={};}}exports[a82_0x3da47b(0x1da)]=MDApiWriter;