const a82_0x41ec=['11DLuzUX','have\x20to\x20write\x20%d\x20files','replaceOrAppend','length','makeDir','files','readFile','map','apply','__esModule','parentComponents','default','fileName','readZip','479boJhAM','async','351186suLpHy','includes','../../../core','5eLFTjw','return\x20/\x22\x20+\x20this\x20+\x20\x22/','MAX_WRITES_PER_TICK','log','407694UqEwnw','convertToString','all','components','Xml','writeChild','fileType','writeParent','push','78167MGGnIA','mdapi-writer','MDApiWriter','].\x20Original\x20error:\x20','join','sourceDir','body','start','splice','./child-types','An\x20error\x20occurred\x20when\x20proceeding\x20component\x20','__importDefault','writeFile','../../internal/fs.internal','686861vvchEt','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','603763UqGBGg','Logger','../utils/zip','parse','531838JZxUXa','constructor'];const a82_0x2dcb4c=a82_0x4d3d;(function(_0x2b6059,_0x13c8eb){const _0x4d9320=a82_0x4d3d;while(!![]){try{const _0x2b0b3f=parseInt(_0x4d9320(0x1b1))*-parseInt(_0x4d9320(0x1bf))+-parseInt(_0x4d9320(0x1af))+parseInt(_0x4d9320(0x1ab))+-parseInt(_0x4d9320(0x1d1))*parseInt(_0x4d9320(0x1c4))+-parseInt(_0x4d9320(0x1c8))+parseInt(_0x4d9320(0x1c1))+parseInt(_0x4d9320(0x1a9));if(_0x2b0b3f===_0x13c8eb)break;else _0x2b6059['push'](_0x2b6059['shift']());}catch(_0x4297bc){_0x2b6059['push'](_0x2b6059['shift']());}}}(a82_0x41ec,0x4abfe));const a82_0x1f7696=function(){let _0x54a4cd=!![];return function(_0x487286,_0x438cef){const _0x415f2f=_0x54a4cd?function(){const _0x117669=a82_0x4d3d;if(_0x438cef){const _0x3a72c0=_0x438cef[_0x117669(0x1b9)](_0x487286,arguments);return _0x438cef=null,_0x3a72c0;}}:function(){};return _0x54a4cd=![],_0x415f2f;};}(),a82_0x17980f=a82_0x1f7696(this,function(){const _0x1dc633=function(){const _0xb84bd=a82_0x4d3d,_0x1cd6d7=_0x1dc633[_0xb84bd(0x1b0)](_0xb84bd(0x1c5))()[_0xb84bd(0x1b0)](_0xb84bd(0x1aa));return!_0x1cd6d7['test'](a82_0x17980f);};return _0x1dc633();});a82_0x17980f();function a82_0x4d3d(_0x318093,_0x3593a1){return a82_0x4d3d=function(_0x4ada2c,_0x17980f){_0x4ada2c=_0x4ada2c-0x1a5;let _0x1f7696=a82_0x41ec[_0x4ada2c];return _0x1f7696;},a82_0x4d3d(_0x318093,_0x3593a1);}'use strict';var __importDefault=this&&this[a82_0x2dcb4c(0x1a6)]||function(_0x64a125){const _0xb0b5d9=a82_0x2dcb4c;return _0x64a125&&_0x64a125[_0xb0b5d9(0x1ba)]?_0x64a125:{'default':_0x64a125};};Object['defineProperty'](exports,a82_0x2dcb4c(0x1ba),{'value':!![]}),exports[a82_0x2dcb4c(0x1d3)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a82_0x2dcb4c(0x1c3)),fs_internal_1=require(a82_0x2dcb4c(0x1a8)),xml_1=require('../utils/xml'),zip_1=require(a82_0x2dcb4c(0x1ad)),child_types_1=__importDefault(require(a82_0x2dcb4c(0x1da))),logger=new core_1[(a82_0x2dcb4c(0x1ac))](a82_0x2dcb4c(0x1d2));class MDApiWriter{constructor(_0x1e2bff,_0x44357b){const _0x53be19=a82_0x2dcb4c;this[_0x53be19(0x1cb)]=_0x1e2bff,this[_0x53be19(0x1d6)]=_0x44357b,this[_0x53be19(0x1c6)]=0x64,this[_0x53be19(0x1bb)]={};}async[a82_0x2dcb4c(0x1be)](_0x7ba987){const _0x13dea8=a82_0x2dcb4c,_0x3d316f=await zip_1['Zip']['unzip'](_0x7ba987),_0x5054e2=[];for(const _0x422467 of Object['keys'](_0x3d316f[_0x13dea8(0x1b6)])){_0x5054e2[_0x13dea8(0x1d0)]({'filename':_0x422467,'body':await _0x3d316f[_0x13dea8(0x1b6)][_0x422467][_0x13dea8(0x1c0)]('text')});}return _0x5054e2;}async['writeParent'](_0x2c2b41){const _0x4bee94=a82_0x2dcb4c;try{const _0x489a4a=await this[_0x4bee94(0x1be)](_0x2c2b41[_0x4bee94(0x1d7)]);await Promise[_0x4bee94(0x1ca)](_0x489a4a[_0x4bee94(0x1b8)](({filename:_0xc46cb2,body:_0x216cf4})=>fs_internal_1['FS'][_0x4bee94(0x1a7)](path_1[_0x4bee94(0x1bc)]['join'](this[_0x4bee94(0x1d6)],_0xc46cb2),_0x216cf4)));}catch(_0x52555e){throw new Error('An\x20error\x20occured\x20when\x20proceeding\x20component\x20'+_0x2c2b41[_0x4bee94(0x1bd)]+'\x20['+_0x2c2b41[_0x4bee94(0x1ce)]+_0x4bee94(0x1d4)+_0x52555e);}}async['writeChild'](_0x2f95e5){const _0x46a655=a82_0x2dcb4c,{filename:_0x2b11c4,body:_0xb79e08}=(await this[_0x46a655(0x1be)](_0x2f95e5['body']))[0x0];try{if(!this['parentComponents'][_0x2b11c4]){const _0x339e77=path_1[_0x46a655(0x1bc)]['join'](this['sourceDir'],_0x2b11c4);if(await fs_internal_1['FS']['exists'](_0x339e77)){const _0x11782a=await fs_internal_1['FS'][_0x46a655(0x1b7)](_0x339e77);this[_0x46a655(0x1bb)][_0x2b11c4]=await xml_1[_0x46a655(0x1cc)][_0x46a655(0x1ae)](_0x11782a);}else{this['parentComponents'][_0x2b11c4]=await xml_1[_0x46a655(0x1cc)]['parse'](_0xb79e08);return;}}const _0x1c769a=this[_0x46a655(0x1bb)][_0x2b11c4],_0x58a85b=await xml_1[_0x46a655(0x1cc)][_0x46a655(0x1ae)](_0xb79e08);xml_1[_0x46a655(0x1cc)][_0x46a655(0x1b3)](_0x1c769a,_0x58a85b);}catch(_0x4432d1){throw new Error(_0x46a655(0x1a5)+_0x2f95e5[_0x46a655(0x1bd)]+'\x20['+_0x2f95e5['fileType']+'].\x20Original\x20error:\x20'+_0x4432d1);}}async[a82_0x2dcb4c(0x1d8)](){const _0x2c17ec=a82_0x2dcb4c;!await fs_internal_1['FS']['exists'](this[_0x2c17ec(0x1d6)])&&await fs_internal_1['FS'][_0x2c17ec(0x1b5)](this[_0x2c17ec(0x1d6)]);for(const _0x213978 of this[_0x2c17ec(0x1cb)]){!child_types_1['default'][_0x2c17ec(0x1c2)](_0x213978[_0x2c17ec(0x1ce)])?await this[_0x2c17ec(0x1cf)](_0x213978):await this[_0x2c17ec(0x1cd)](_0x213978);}const _0x4a7a9a=Object['keys'](this[_0x2c17ec(0x1bb)]);logger[_0x2c17ec(0x1c7)](_0x2c17ec(0x1b2),this['components'][_0x2c17ec(0x1b4)]);while(_0x4a7a9a[_0x2c17ec(0x1b4)]){const _0x354083=_0x4a7a9a[_0x2c17ec(0x1d9)](0x0,this[_0x2c17ec(0x1c6)]);for(const _0x4935b3 of _0x354083){await fs_internal_1['FS'][_0x2c17ec(0x1a7)](path_1[_0x2c17ec(0x1bc)][_0x2c17ec(0x1d5)](this['sourceDir'],_0x4935b3),xml_1[_0x2c17ec(0x1cc)][_0x2c17ec(0x1c9)](this[_0x2c17ec(0x1bb)][_0x4935b3]));}}this[_0x2c17ec(0x1bb)]={};}}exports[a82_0x2dcb4c(0x1d3)]=MDApiWriter;