const a81_0x4f8c=['mdapi-writer','utf-8','splice','makeDir','have\x20to\x20write\x20%d\x20files','constructor','convertToString','name','all','writeParent','readFile','componentType','MDApiWriter','from','log','Xml','333oSyYmG','329540yVLdyC','692mwshNq','length','84670aRoCUH','writed\x20%d\x20files','writeFile','test','__esModule','472oZiEPj','2238uxvqcL','apply','sourceComponents','Logger','child','sourceDir','../../internal/fs.internal','body','writeChild','5509ivNbpg','382233tDBRWW','parent','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','toString','38uFKJPh','keys','MAX_WRITES_PER_TICK','1MVPyYA','files','container','defineProperty','parsedComponents','join','exists','348017wslFrA','path','return\x20/\x22\x20+\x20this\x20+\x20\x22/','default'];const a81_0x41cd10=a81_0x17ac;(function(_0x47f8e4,_0x3e954a){const _0x544c0b=a81_0x17ac;while(!![]){try{const _0x66353=-parseInt(_0x544c0b(0x1c9))*parseInt(_0x544c0b(0x1c2))+parseInt(_0x544c0b(0x1c6))*-parseInt(_0x544c0b(0x1c1))+-parseInt(_0x544c0b(0x19a))+-parseInt(_0x544c0b(0x1af))+-parseInt(_0x544c0b(0x1ae))*parseInt(_0x544c0b(0x1b7))+parseInt(_0x544c0b(0x1b2))+parseInt(_0x544c0b(0x1b0))*parseInt(_0x544c0b(0x1b8));if(_0x66353===_0x3e954a)break;else _0x47f8e4['push'](_0x47f8e4['shift']());}catch(_0x39193c){_0x47f8e4['push'](_0x47f8e4['shift']());}}}(a81_0x4f8c,0x328d2));const a81_0x24db5d=function(){let _0x51d965=!![];return function(_0x362f39,_0x4bc1dd){const _0x47c598=_0x51d965?function(){const _0x39d503=a81_0x17ac;if(_0x4bc1dd){const _0x256e1a=_0x4bc1dd[_0x39d503(0x1b9)](_0x362f39,arguments);return _0x4bc1dd=null,_0x256e1a;}}:function(){};return _0x51d965=![],_0x47c598;};}(),a81_0x44d607=a81_0x24db5d(this,function(){const _0x1030e6=function(){const _0x511865=a81_0x17ac,_0xfd1f2d=_0x1030e6[_0x511865(0x1a3)](_0x511865(0x19c))()['constructor'](_0x511865(0x1c4));return!_0xfd1f2d[_0x511865(0x1b5)](a81_0x44d607);};return _0x1030e6();});a81_0x44d607();'use strict';function a81_0x17ac(_0x16d64a,_0x43f05e){return a81_0x17ac=function(_0x2cd15f,_0x44d607){_0x2cd15f=_0x2cd15f-0x197;let _0x24db5d=a81_0x4f8c[_0x2cd15f];return _0x24db5d;},a81_0x17ac(_0x16d64a,_0x43f05e);}var __importDefault=this&&this['__importDefault']||function(_0x1e4336){const _0x5465d3=a81_0x17ac;return _0x1e4336&&_0x1e4336[_0x5465d3(0x1b6)]?_0x1e4336:{'default':_0x1e4336};};Object[a81_0x41cd10(0x1cc)](exports,a81_0x41cd10(0x1b6),{'value':!![]}),exports[a81_0x41cd10(0x1aa)]=void 0x0;const path_1=__importDefault(require(a81_0x41cd10(0x19b))),core_1=require('../../../core'),fs_internal_1=require(a81_0x41cd10(0x1be)),xml_1=require('../utils/xml'),logger=new core_1[(a81_0x41cd10(0x1bb))](a81_0x41cd10(0x19e));class MDApiWriter{constructor(_0x163ac6,_0x53de95){const _0x399b05=a81_0x41cd10;this['parsedComponents']=_0x163ac6,this[_0x399b05(0x1bd)]=_0x53de95,this[_0x399b05(0x1c8)]=0x64,this[_0x399b05(0x1ba)]={};}async[a81_0x41cd10(0x1a7)](_0x27a4b4){const _0x2e020a=a81_0x41cd10;for(const _0x2e9ab9 of _0x27a4b4){this[_0x2e020a(0x1ba)][_0x2e9ab9['name']]=_0x2e9ab9['body'];}}async[a81_0x41cd10(0x1c0)](_0x15d943){const _0x21fb20=a81_0x41cd10;if(!this[_0x21fb20(0x1ba)][_0x15d943[_0x21fb20(0x1a5)]]){const _0x51ad1f=path_1['default']['join'](this[_0x21fb20(0x1bd)],_0x15d943['name']);if(await fs_internal_1['FS'][_0x21fb20(0x199)](_0x51ad1f)){const _0x15ddce=await fs_internal_1['FS'][_0x21fb20(0x1a8)](_0x51ad1f);this[_0x21fb20(0x1ba)][_0x15d943[_0x21fb20(0x1a5)]]=Buffer[_0x21fb20(0x1ab)](_0x15ddce);}else{this[_0x21fb20(0x1ba)][_0x15d943[_0x21fb20(0x1a5)]]=_0x15d943['body'];return;}}const [_0x109a21,_0x28d24d]=await Promise[_0x21fb20(0x1a6)]([xml_1[_0x21fb20(0x1ad)]['parse'](this[_0x21fb20(0x1ba)][_0x15d943[_0x21fb20(0x1a5)]][_0x21fb20(0x1c5)](_0x21fb20(0x19f))),xml_1[_0x21fb20(0x1ad)]['parse'](_0x15d943[_0x21fb20(0x1bf)][_0x21fb20(0x1c5)]('utf-8'))]);xml_1['Xml']['replaceOrAppend'](_0x109a21,_0x28d24d),this['sourceComponents'][_0x15d943[_0x21fb20(0x1a5)]]=Buffer['from'](xml_1[_0x21fb20(0x1ad)][_0x21fb20(0x1a4)](_0x109a21));}async['start'](){const _0x108fe4=a81_0x41cd10;!await fs_internal_1['FS']['exists'](this['sourceDir'])&&await fs_internal_1['FS'][_0x108fe4(0x1a1)](this[_0x108fe4(0x1bd)]);for(const _0x581f4a of this[_0x108fe4(0x197)]){if(_0x581f4a[_0x108fe4(0x1a9)]===_0x108fe4(0x1c3)||_0x581f4a[_0x108fe4(0x1a9)]===_0x108fe4(0x1cb))await this['writeParent'](_0x581f4a[_0x108fe4(0x1ca)]);else _0x581f4a[_0x108fe4(0x1a9)]===_0x108fe4(0x1bc)&&await this[_0x108fe4(0x1c0)](_0x581f4a['files'][0x0]);}const _0x40de45=Object[_0x108fe4(0x1c7)](this[_0x108fe4(0x1ba)]);logger[_0x108fe4(0x1ac)](_0x108fe4(0x1a2),_0x40de45[_0x108fe4(0x1b1)]);while(_0x40de45[_0x108fe4(0x1b1)]){const _0x3ae475=_0x40de45[_0x108fe4(0x1a0)](0x0,this[_0x108fe4(0x1c8)]);await Promise[_0x108fe4(0x1a6)](_0x3ae475['map'](_0x3746d6=>fs_internal_1['FS'][_0x108fe4(0x1b4)](path_1[_0x108fe4(0x19d)][_0x108fe4(0x198)](this['sourceDir'],_0x3746d6),this[_0x108fe4(0x1ba)][_0x3746d6]))),logger['log'](_0x108fe4(0x1b3),_0x3ae475[_0x108fe4(0x1b1)]);}this[_0x108fe4(0x1ba)]={};}}exports[a81_0x41cd10(0x1aa)]=MDApiWriter;