const a82_0x4899=['].\x20Original\x20error:\x20','78cMsvsP','exists','body','start','mdapi-writer','__esModule','length','parentComponents','convertToString','__importDefault','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','defineProperty','../../internal/fs.internal','join','1669joPxlX','writeChild','Xml','745799FMPgTv','async','path','files','components','Zip','keys','writeFile','default','fileType','5287HNHaYB','test','return\x20/\x22\x20+\x20this\x20+\x20\x22/','unzip','809lQguiv','writeParent','readFile','sourceDir','makeDir','constructor','push','773659qUnhMM','MDApiWriter','MAX_WRITES_PER_TICK','./child-types','39WfIBuT','readZip','13TFpgYx','replaceOrAppend','splice','198rKVQvS','923522SSPedX','86017JabCRU','parse'];const a82_0x3fcca6=a82_0x2aa9;(function(_0x468805,_0x26a0ee){const _0x3c649d=a82_0x2aa9;while(!![]){try{const _0x13db10=parseInt(_0x3c649d(0x112))*-parseInt(_0x3c649d(0x117))+parseInt(_0x3c649d(0x109))+parseInt(_0x3c649d(0xf4))+-parseInt(_0x3c649d(0x113))+-parseInt(_0x3c649d(0xfe))*parseInt(_0x3c649d(0x10d))+-parseInt(_0x3c649d(0x114))*parseInt(_0x3c649d(0x10f))+parseInt(_0x3c649d(0xf1))*parseInt(_0x3c649d(0x102));if(_0x13db10===_0x26a0ee)break;else _0x468805['push'](_0x468805['shift']());}catch(_0x57b147){_0x468805['push'](_0x468805['shift']());}}}(a82_0x4899,0x9405b));const a82_0x22e3d2=function(){let _0x800463=!![];return function(_0x3b98f2,_0x154e21){const _0x53d21a=_0x800463?function(){if(_0x154e21){const _0x2ce0b8=_0x154e21['apply'](_0x3b98f2,arguments);return _0x154e21=null,_0x2ce0b8;}}:function(){};return _0x800463=![],_0x53d21a;};}(),a82_0x3573d0=a82_0x22e3d2(this,function(){const _0x207c45=function(){const _0x2ea7d8=a82_0x2aa9,_0xe1400f=_0x207c45[_0x2ea7d8(0x107)](_0x2ea7d8(0x100))()[_0x2ea7d8(0x107)](_0x2ea7d8(0x121));return!_0xe1400f[_0x2ea7d8(0xff)](a82_0x3573d0);};return _0x207c45();});a82_0x3573d0();'use strict';var __importDefault=this&&this[a82_0x3fcca6(0x120)]||function(_0x4dfd8c){return _0x4dfd8c&&_0x4dfd8c['__esModule']?_0x4dfd8c:{'default':_0x4dfd8c};};Object[a82_0x3fcca6(0x122)](exports,a82_0x3fcca6(0x11c),{'value':!![]}),exports[a82_0x3fcca6(0x10a)]=void 0x0;const path_1=__importDefault(require(a82_0x3fcca6(0xf6))),core_1=require('../../../core'),fs_internal_1=require(a82_0x3fcca6(0x123)),xml_1=require('../utils/xml'),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a82_0x3fcca6(0x10c))),logger=new core_1['Logger'](a82_0x3fcca6(0x11b));function a82_0x2aa9(_0x1d363f,_0x8de141){return a82_0x2aa9=function(_0x4e34d6,_0x3573d0){_0x4e34d6=_0x4e34d6-0xf0;let _0x22e3d2=a82_0x4899[_0x4e34d6];return _0x22e3d2;},a82_0x2aa9(_0x1d363f,_0x8de141);}class MDApiWriter{constructor(_0x453bb6,_0x56f6b2){const _0x1d51ea=a82_0x3fcca6;this[_0x1d51ea(0xf8)]=_0x453bb6,this[_0x1d51ea(0x105)]=_0x56f6b2,this['MAX_WRITES_PER_TICK']=0x64,this['parentComponents']={};}async[a82_0x3fcca6(0x10e)](_0x2d874c){const _0x210ba2=a82_0x3fcca6,_0x3055b2=await zip_1[_0x210ba2(0xf9)][_0x210ba2(0x101)](_0x2d874c),_0x904bc1=[];for(const _0x45c79b of Object[_0x210ba2(0xfa)](_0x3055b2[_0x210ba2(0xf7)])){_0x904bc1[_0x210ba2(0x108)]({'filename':_0x45c79b,'body':await _0x3055b2[_0x210ba2(0xf7)][_0x45c79b][_0x210ba2(0xf5)]('text')});}return _0x904bc1;}async['writeParent'](_0xd0ee70){const _0x7fb71c=a82_0x3fcca6,_0x5e7e5c=await this[_0x7fb71c(0x10e)](_0xd0ee70[_0x7fb71c(0x119)]);await Promise['all'](_0x5e7e5c['map'](({filename:_0x4d0504,body:_0x2c098b})=>fs_internal_1['FS'][_0x7fb71c(0xfb)](path_1['default'][_0x7fb71c(0xf0)](this['sourceDir'],_0x4d0504),_0x2c098b)));}async[a82_0x3fcca6(0xf2)](_0x260c54){const _0x2ca520=a82_0x3fcca6,{filename:_0x4d146d,body:_0x5007bb}=(await this[_0x2ca520(0x10e)](_0x260c54['body']))[0x0];try{if(!this[_0x2ca520(0x11e)][_0x4d146d]){const _0x396343=path_1[_0x2ca520(0xfc)][_0x2ca520(0xf0)](this['sourceDir'],_0x4d146d);if(await fs_internal_1['FS'][_0x2ca520(0x118)](_0x396343)){const _0x17d7e3=await fs_internal_1['FS'][_0x2ca520(0x104)](_0x396343);this[_0x2ca520(0x11e)][_0x4d146d]=await xml_1[_0x2ca520(0xf3)][_0x2ca520(0x115)](_0x17d7e3);}else{this[_0x2ca520(0x11e)][_0x4d146d]=await xml_1[_0x2ca520(0xf3)][_0x2ca520(0x115)](_0x5007bb);return;}}const _0x50cb99=this[_0x2ca520(0x11e)][_0x4d146d],_0x4d0d5c=await xml_1[_0x2ca520(0xf3)]['parse'](_0x5007bb);xml_1[_0x2ca520(0xf3)][_0x2ca520(0x110)](_0x50cb99,_0x4d0d5c);}catch(_0x1fe544){throw new Error('An\x20error\x20occurred\x20when\x20proceeding\x20component\x20['+_0x260c54['fileName']+_0x2ca520(0x116)+_0x1fe544);}}async[a82_0x3fcca6(0x11a)](){const _0x1b6092=a82_0x3fcca6;!await fs_internal_1['FS'][_0x1b6092(0x118)](this[_0x1b6092(0x105)])&&await fs_internal_1['FS'][_0x1b6092(0x106)](this[_0x1b6092(0x105)]);for(const _0x395181 of this[_0x1b6092(0xf8)]){!child_types_1[_0x1b6092(0xfc)]['includes'](_0x395181[_0x1b6092(0xfd)])?await this[_0x1b6092(0x103)](_0x395181):await this[_0x1b6092(0xf2)](_0x395181);}const _0x1a6faa=Object[_0x1b6092(0xfa)](this[_0x1b6092(0x11e)]);logger['log']('have\x20to\x20write\x20%d\x20files',this[_0x1b6092(0xf8)][_0x1b6092(0x11d)]);while(_0x1a6faa[_0x1b6092(0x11d)]){const _0x35bac6=_0x1a6faa[_0x1b6092(0x111)](0x0,this[_0x1b6092(0x10b)]);for(const _0x1a62d5 of _0x35bac6){await fs_internal_1['FS'][_0x1b6092(0xfb)](path_1['default']['join'](this[_0x1b6092(0x105)],_0x1a62d5),xml_1[_0x1b6092(0xf3)][_0x1b6092(0x11f)](this[_0x1b6092(0x11e)][_0x1a62d5]));}}this['parentComponents']={};}}exports[a82_0x3fcca6(0x10a)]=MDApiWriter;