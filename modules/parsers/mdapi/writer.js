const a83_0x3237a3=a83_0x1267;(function(_0x5be913,_0x12d20f){const _0x286fd1=a83_0x1267,_0x21aab7=_0x5be913();while(!![]){try{const _0x1e588f=-parseInt(_0x286fd1(0xaa))/0x1*(-parseInt(_0x286fd1(0x92))/0x2)+-parseInt(_0x286fd1(0x94))/0x3+-parseInt(_0x286fd1(0xb1))/0x4+parseInt(_0x286fd1(0xbe))/0x5+-parseInt(_0x286fd1(0xb0))/0x6+parseInt(_0x286fd1(0xac))/0x7+-parseInt(_0x286fd1(0xc1))/0x8*(-parseInt(_0x286fd1(0xbc))/0x9);if(_0x1e588f===_0x12d20f)break;else _0x21aab7['push'](_0x21aab7['shift']());}catch(_0x2cc01f){_0x21aab7['push'](_0x21aab7['shift']());}}}(a83_0x3f82,0xbfa5e));const a83_0x56fc12=function(){let _0x5b9225=!![];return function(_0x124100,_0x3d7382){const _0x307e46=_0x5b9225?function(){if(_0x3d7382){const _0x1efbb3=_0x3d7382['apply'](_0x124100,arguments);return _0x3d7382=null,_0x1efbb3;}}:function(){};return _0x5b9225=![],_0x307e46;};}(),a83_0x2fd058=a83_0x56fc12(this,function(){const _0xafc19a=a83_0x1267;return a83_0x2fd058[_0xafc19a(0x99)]()[_0xafc19a(0xbb)](_0xafc19a(0xc4))[_0xafc19a(0x99)]()[_0xafc19a(0xb8)](a83_0x2fd058)[_0xafc19a(0xbb)](_0xafc19a(0xc4));});a83_0x2fd058();'use strict';function a83_0x1267(_0x248432,_0x412959){const _0x99b39f=a83_0x3f82();return a83_0x1267=function(_0x2fd058,_0x56fc12){_0x2fd058=_0x2fd058-0x92;let _0x3f8286=_0x99b39f[_0x2fd058];return _0x3f8286;},a83_0x1267(_0x248432,_0x412959);}var __importDefault=this&&this[a83_0x3237a3(0x9d)]||function(_0x4d22c0){return _0x4d22c0&&_0x4d22c0['__esModule']?_0x4d22c0:{'default':_0x4d22c0};};Object['defineProperty'](exports,a83_0x3237a3(0xc2),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a83_0x3237a3(0xad))),core_1=require(a83_0x3237a3(0xc8)),fs_internal_1=require(a83_0x3237a3(0xc7)),xml_1=require('../utils/xml'),zip_1=require(a83_0x3237a3(0x95)),child_types_1=__importDefault(require(a83_0x3237a3(0x9f))),logger=new core_1[(a83_0x3237a3(0xa7))](a83_0x3237a3(0xb5));class MDApiWriter{constructor(_0x15c81e,_0x1ac4ff){const _0x10beb1=a83_0x3237a3;this['components']=_0x15c81e,this[_0x10beb1(0xa2)]=_0x1ac4ff,this[_0x10beb1(0x96)]=0x64,this[_0x10beb1(0xa5)]={};}async[a83_0x3237a3(0xa4)](_0x4f8614){const _0x50f7a0=a83_0x3237a3,_0x30a7c=await zip_1['Zip'][_0x50f7a0(0xb4)](_0x4f8614),_0x354577=[];for(const _0x56cf18 of Object['keys'](_0x30a7c['files'])){!_0x30a7c[_0x50f7a0(0x9b)][_0x56cf18]['dir']&&_0x354577[_0x50f7a0(0xae)]({'filename':_0x56cf18,'body':await _0x30a7c[_0x50f7a0(0x9b)][_0x56cf18][_0x50f7a0(0xa9)](_0x50f7a0(0xbd))});}return _0x354577;}async['writeParent'](_0x5106a3){const _0x4cc475=a83_0x3237a3;try{const _0x41a983=await this[_0x4cc475(0xa4)](_0x5106a3[_0x4cc475(0xb7)]);await Promise[_0x4cc475(0xab)](_0x41a983[_0x4cc475(0x9c)](({filename:_0x45bb23,body:_0x3b2b9a})=>fs_internal_1['FS'][_0x4cc475(0x97)](path_1['default'][_0x4cc475(0xa6)](this['sourceDir'],_0x45bb23),_0x3b2b9a)));}catch(_0x425235){throw new Error(_0x4cc475(0xbf)+_0x5106a3['fileName']+'\x20['+_0x5106a3[_0x4cc475(0xb6)]+'].\x20Original\x20error:\x20'+_0x425235);}}async['writeChild'](_0x25abe6){const _0x3fa2db=a83_0x3237a3,{filename:_0x5b96c2,body:_0x9ba573}=(await this[_0x3fa2db(0xa4)](_0x25abe6[_0x3fa2db(0xb7)]))[0x0];try{if(!this['parentComponents'][_0x5b96c2]){const _0x3d6c5e=path_1[_0x3fa2db(0xa1)][_0x3fa2db(0xa6)](this['sourceDir'],_0x5b96c2);if(await fs_internal_1['FS'][_0x3fa2db(0xb9)](_0x3d6c5e)){const _0x407487=await fs_internal_1['FS']['readFile'](_0x3d6c5e);this['parentComponents'][_0x5b96c2]=await xml_1[_0x3fa2db(0xa0)][_0x3fa2db(0x9e)](_0x407487);}else{this[_0x3fa2db(0xa5)][_0x5b96c2]=await xml_1[_0x3fa2db(0xa0)][_0x3fa2db(0x9e)](_0x9ba573);return;}}const _0x14ddd5=this['parentComponents'][_0x5b96c2],_0x220c17=await xml_1[_0x3fa2db(0xa0)][_0x3fa2db(0x9e)](_0x9ba573);xml_1[_0x3fa2db(0xa0)][_0x3fa2db(0xc5)](_0x14ddd5,_0x220c17);}catch(_0x171c4f){throw new Error(_0x3fa2db(0xba)+_0x25abe6[_0x3fa2db(0x93)]+'\x20['+_0x25abe6[_0x3fa2db(0xb6)]+_0x3fa2db(0xc0)+_0x171c4f);}}async['start'](){const _0x5c5f64=a83_0x3237a3;!await fs_internal_1['FS']['exists'](this[_0x5c5f64(0xa2)])&&await fs_internal_1['FS']['makeDir'](this[_0x5c5f64(0xa2)]);for(const _0x3c11d3 of this[_0x5c5f64(0xc3)]){!child_types_1[_0x5c5f64(0xa1)][_0x5c5f64(0x98)](_0x3c11d3[_0x5c5f64(0xb6)])?await this['writeParent'](_0x3c11d3):await this[_0x5c5f64(0xb2)](_0x3c11d3);}const _0x310548=Object[_0x5c5f64(0x9a)](this['parentComponents']);logger[_0x5c5f64(0xa8)](_0x5c5f64(0xb3),this[_0x5c5f64(0xc3)]['length']);while(_0x310548['length']){const _0x543b00=_0x310548[_0x5c5f64(0xc6)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x4cfae3 of _0x543b00){await fs_internal_1['FS'][_0x5c5f64(0x97)](path_1['default']['join'](this[_0x5c5f64(0xa2)],_0x4cfae3),xml_1[_0x5c5f64(0xa0)][_0x5c5f64(0xa3)](this[_0x5c5f64(0xa5)][_0x4cfae3]));}}this[_0x5c5f64(0xa5)]={};}}function a83_0x3f82(){const _0x1c2b0a=['exists','An\x20error\x20occurred\x20when\x20proceeding\x20component\x20','search','1098081TDicSh','text','6399555ooRVNK','An\x20error\x20occured\x20when\x20proceeding\x20component\x20','].\x20Original\x20error:\x20','8VshcJG','__esModule','components','(((.+)+)+)+$','replaceOrAppend','splice','../../internal/fs.internal','../../../core','1916CiodJI','fileName','921276tKFKHp','../utils/zip','MAX_WRITES_PER_TICK','writeFile','includes','toString','keys','files','map','__importDefault','parse','./child-types','Xml','default','sourceDir','convertToString','readZip','parentComponents','join','Logger','log','async','764RTCLBn','all','9830289LfsrIq','path','push','MDApiWriter','8789034KbGfxQ','3924952rueuIO','writeChild','have\x20to\x20write\x20%d\x20files','unzip','mdapi-writer','fileType','body','constructor'];a83_0x3f82=function(){return _0x1c2b0a;};return a83_0x3f82();}exports[a83_0x3237a3(0xaf)]=MDApiWriter;