const a77_0x1e56=['body','from','default','defineProperty','utf-8','length','703627AqjrTl','__esModule','exists','../../../core','name','../../internal/fs.internal','MDApiWriter','map','log','return\x20/\x22\x20+\x20this\x20+\x20\x22/','splice','writeChild','907527rwIBzf','convertToString','components','writed\x20%d\x20files','makeDir','1701430ClzYgn','MAX_WRITES_PER_TICK','readFile','writeParent','2257tHsrSl','Logger','have\x20to\x20write\x20%d\x20files','componentType','parse','apply','sourceDir','sourceComponents','files','join','2822tZICON','256kZoCjp','test','494fAyeMh','1242503iAnSLL','all','3saHfIl','start','toString','constructor','parent','path','__importDefault','keys','947900eMDXCM','Xml'];const a77_0x456d55=a77_0x40c2;(function(_0x2cf147,_0x364a23){const _0x968f03=a77_0x40c2;while(!![]){try{const _0x4c9a45=parseInt(_0x968f03(0x143))+parseInt(_0x968f03(0x14c))*parseInt(_0x968f03(0x159))+parseInt(_0x968f03(0x16c))+parseInt(_0x968f03(0x164))+parseInt(_0x968f03(0x148))+-parseInt(_0x968f03(0x157))*parseInt(_0x968f03(0x156))+-parseInt(_0x968f03(0x15a))*parseInt(_0x968f03(0x15c));if(_0x4c9a45===_0x364a23)break;else _0x2cf147['push'](_0x2cf147['shift']());}catch(_0x2ce47a){_0x2cf147['push'](_0x2cf147['shift']());}}}(a77_0x1e56,0xe1f3d));const a77_0x146f93=function(){let _0x16ff3a=!![];return function(_0x26cd35,_0xa4e25a){const _0x4aef1b=_0x16ff3a?function(){const _0x3b0bf6=a77_0x40c2;if(_0xa4e25a){const _0x468f32=_0xa4e25a[_0x3b0bf6(0x151)](_0x26cd35,arguments);return _0xa4e25a=null,_0x468f32;}}:function(){};return _0x16ff3a=![],_0x4aef1b;};}(),a77_0x4fff24=a77_0x146f93(this,function(){const _0x1565e8=function(){const _0x543653=a77_0x40c2,_0x90f8da=_0x1565e8[_0x543653(0x15f)](_0x543653(0x175))()[_0x543653(0x15f)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x90f8da[_0x543653(0x158)](a77_0x4fff24);};return _0x1565e8();});a77_0x4fff24();'use strict';var __importDefault=this&&this[a77_0x456d55(0x162)]||function(_0x20c3a9){return _0x20c3a9&&_0x20c3a9['__esModule']?_0x20c3a9:{'default':_0x20c3a9};};Object[a77_0x456d55(0x169)](exports,a77_0x456d55(0x16d),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a77_0x456d55(0x161))),core_1=require(a77_0x456d55(0x16f)),fs_internal_1=require(a77_0x456d55(0x171)),xml_1=require('../utils/xml'),logger=new core_1[(a77_0x456d55(0x14d))]('mdapi-writer');class MDApiWriter{constructor(_0xa2cf9c,_0x313b80){const _0x3aef8e=a77_0x456d55;this[_0x3aef8e(0x145)]=_0xa2cf9c,this[_0x3aef8e(0x152)]=_0x313b80,this['MAX_WRITES_PER_TICK']=0x64,this[_0x3aef8e(0x153)]={};}async[a77_0x456d55(0x14b)](_0x557ce5){const _0x301a45=a77_0x456d55;for(const _0xbbf567 of _0x557ce5){this[_0x301a45(0x153)][_0xbbf567[_0x301a45(0x170)]]=_0xbbf567['body'];}}async[a77_0x456d55(0x142)](_0x3dd7b0){const _0x3305c6=a77_0x456d55;if(!this['sourceComponents'][_0x3dd7b0[_0x3305c6(0x170)]]){const _0x42b230=path_1[_0x3305c6(0x168)]['join'](this['sourceDir'],_0x3dd7b0[_0x3305c6(0x170)]);if(await fs_internal_1['FS'][_0x3305c6(0x16e)](_0x42b230)){const _0x4bd5f9=await fs_internal_1['FS'][_0x3305c6(0x14a)](_0x42b230);this[_0x3305c6(0x153)][_0x3dd7b0[_0x3305c6(0x170)]]=Buffer[_0x3305c6(0x167)](_0x4bd5f9);}else{this[_0x3305c6(0x153)][_0x3dd7b0[_0x3305c6(0x170)]]=_0x3dd7b0[_0x3305c6(0x166)];return;}}const [_0x342683,_0x2dd68e]=await Promise['all']([xml_1[_0x3305c6(0x165)][_0x3305c6(0x150)](this[_0x3305c6(0x153)][_0x3dd7b0[_0x3305c6(0x170)]][_0x3305c6(0x15e)]('utf-8')),xml_1[_0x3305c6(0x165)][_0x3305c6(0x150)](_0x3dd7b0[_0x3305c6(0x166)][_0x3305c6(0x15e)](_0x3305c6(0x16a)))]);xml_1[_0x3305c6(0x165)]['replaceOrAppend'](_0x342683,_0x2dd68e),this[_0x3305c6(0x153)][_0x3dd7b0[_0x3305c6(0x170)]]=Buffer[_0x3305c6(0x167)](xml_1['Xml'][_0x3305c6(0x144)](_0x342683));}async[a77_0x456d55(0x15d)](){const _0x4c4924=a77_0x456d55;!await fs_internal_1['FS'][_0x4c4924(0x16e)](this[_0x4c4924(0x152)])&&await fs_internal_1['FS'][_0x4c4924(0x147)](this[_0x4c4924(0x152)]);for(const _0x5ac096 of this[_0x4c4924(0x145)]){if(_0x5ac096[_0x4c4924(0x14f)]===_0x4c4924(0x160)||_0x5ac096[_0x4c4924(0x14f)]==='container')await this[_0x4c4924(0x14b)](_0x5ac096[_0x4c4924(0x154)]);else _0x5ac096[_0x4c4924(0x14f)]==='child'&&await this[_0x4c4924(0x142)](_0x5ac096['files'][0x0]);}const _0x31946c=Object[_0x4c4924(0x163)](this['sourceComponents']);logger['log'](_0x4c4924(0x14e),_0x31946c[_0x4c4924(0x16b)]);while(_0x31946c[_0x4c4924(0x16b)]){const _0x11189f=_0x31946c[_0x4c4924(0x176)](0x0,this[_0x4c4924(0x149)]);await Promise[_0x4c4924(0x15b)](_0x11189f[_0x4c4924(0x173)](_0x3cb38c=>fs_internal_1['FS']['writeFile'](path_1['default'][_0x4c4924(0x155)](this['sourceDir'],_0x3cb38c),this['sourceComponents'][_0x3cb38c]))),logger[_0x4c4924(0x174)](_0x4c4924(0x146),_0x11189f[_0x4c4924(0x16b)]);}this['sourceComponents']={};}}function a77_0x40c2(_0x2935ac,_0x1f39ec){return a77_0x40c2=function(_0x6e5903,_0x4fff24){_0x6e5903=_0x6e5903-0x142;let _0x146f93=a77_0x1e56[_0x6e5903];return _0x146f93;},a77_0x40c2(_0x2935ac,_0x1f39ec);}exports[a77_0x456d55(0x172)]=MDApiWriter;