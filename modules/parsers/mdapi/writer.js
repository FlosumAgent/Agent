const a82_0x4bf3=['path','have\x20to\x20write\x20%d\x20files','MDApiWriter','parentComponents','return\x20/\x22\x20+\x20this\x20+\x20\x22/','103IDSCZh','default','components','287430XCWrWy','keys','MAX_WRITES_PER_TICK','./child-types','length','makeDir','log','writeChild','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','constructor','map','exists','__esModule','text','2439MCOtVA','apply','53WEVelH','17lZApkS','parse','splice','5118LNZCBd','convertToString','843664fBaovK','join','Xml','writeFile','unzip','An\x20error\x20occured\x20when\x20proceeding\x20component\x20','all','An\x20error\x20occurred\x20when\x20proceeding\x20component\x20','readFile','4GgqUkY','210050RmiceY','Logger','body','sourceDir','fileType','defineProperty','files','36086HipYAw','writeParent','readZip','fileName','../../internal/fs.internal','async','includes','26353cYsDAK','../utils/zip','__importDefault'];const a82_0x2d967a=a82_0x4a47;(function(_0x25a604,_0x5e5286){const _0x8bfca8=a82_0x4a47;while(!![]){try{const _0x5cce51=parseInt(_0x8bfca8(0x137))+-parseInt(_0x8bfca8(0x150))+parseInt(_0x8bfca8(0x12b))*parseInt(_0x8bfca8(0x14d))+-parseInt(_0x8bfca8(0x160))*-parseInt(_0x8bfca8(0x15e))+parseInt(_0x8bfca8(0x13e))*parseInt(_0x8bfca8(0x161))+-parseInt(_0x8bfca8(0x12d))+-parseInt(_0x8bfca8(0x145))*-parseInt(_0x8bfca8(0x136));if(_0x5cce51===_0x5e5286)break;else _0x25a604['push'](_0x25a604['shift']());}catch(_0x25c21f){_0x25a604['push'](_0x25a604['shift']());}}}(a82_0x4bf3,0x6ee6b));const a82_0x3edf81=function(){let _0x50f422=!![];return function(_0x1aaa9a,_0x1b4fc9){const _0x52c4=_0x50f422?function(){const _0x35c05a=a82_0x4a47;if(_0x1b4fc9){const _0x849777=_0x1b4fc9[_0x35c05a(0x15f)](_0x1aaa9a,arguments);return _0x1b4fc9=null,_0x849777;}}:function(){};return _0x50f422=![],_0x52c4;};}(),a82_0x44933a=a82_0x3edf81(this,function(){const _0x40460b=function(){const _0x5e5744=a82_0x4a47,_0x540716=_0x40460b['constructor'](_0x5e5744(0x14c))()[_0x5e5744(0x159)](_0x5e5744(0x158));return!_0x540716['test'](a82_0x44933a);};return _0x40460b();});a82_0x44933a();function a82_0x4a47(_0x411f04,_0x441e91){return a82_0x4a47=function(_0x17a452,_0x44933a){_0x17a452=_0x17a452-0x12b;let _0x3edf81=a82_0x4bf3[_0x17a452];return _0x3edf81;},a82_0x4a47(_0x411f04,_0x441e91);}'use strict';var __importDefault=this&&this[a82_0x2d967a(0x147)]||function(_0x4e0a2e){const _0x517145=a82_0x2d967a;return _0x4e0a2e&&_0x4e0a2e[_0x517145(0x15c)]?_0x4e0a2e:{'default':_0x4e0a2e};};Object[a82_0x2d967a(0x13c)](exports,a82_0x2d967a(0x15c),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a82_0x2d967a(0x148))),core_1=require('../../../core'),fs_internal_1=require(a82_0x2d967a(0x142)),xml_1=require('../utils/xml'),zip_1=require(a82_0x2d967a(0x146)),child_types_1=__importDefault(require(a82_0x2d967a(0x153))),logger=new core_1[(a82_0x2d967a(0x138))]('mdapi-writer');class MDApiWriter{constructor(_0x48e249,_0x3befe8){const _0x3a933f=a82_0x2d967a;this[_0x3a933f(0x14f)]=_0x48e249,this[_0x3a933f(0x13a)]=_0x3befe8,this[_0x3a933f(0x152)]=0x64,this[_0x3a933f(0x14b)]={};}async['readZip'](_0x5544da){const _0x3fe92a=a82_0x2d967a,_0x371c23=await zip_1['Zip'][_0x3fe92a(0x131)](_0x5544da),_0x4cc0fc=[];for(const _0x571c5e of Object[_0x3fe92a(0x151)](_0x371c23[_0x3fe92a(0x13d)])){_0x4cc0fc['push']({'filename':_0x571c5e,'body':await _0x371c23['files'][_0x571c5e][_0x3fe92a(0x143)](_0x3fe92a(0x15d))});}return _0x4cc0fc;}async[a82_0x2d967a(0x13f)](_0x3e54f2){const _0x4535f8=a82_0x2d967a;try{const _0xece5f6=await this[_0x4535f8(0x140)](_0x3e54f2['body']);await Promise[_0x4535f8(0x133)](_0xece5f6[_0x4535f8(0x15a)](({filename:_0x8a716b,body:_0x5b2ef1})=>fs_internal_1['FS']['writeFile'](path_1[_0x4535f8(0x14e)][_0x4535f8(0x12e)](this[_0x4535f8(0x13a)],_0x8a716b),_0x5b2ef1)));}catch(_0x599c03){throw new Error(_0x4535f8(0x132)+_0x3e54f2[_0x4535f8(0x141)]+'\x20['+_0x3e54f2['fileType']+'].\x20Original\x20error:\x20'+_0x599c03);}}async['writeChild'](_0x51f840){const _0x2e629f=a82_0x2d967a,{filename:_0x47f06d,body:_0x3203ea}=(await this[_0x2e629f(0x140)](_0x51f840[_0x2e629f(0x139)]))[0x0];try{if(!this[_0x2e629f(0x14b)][_0x47f06d]){const _0x151800=path_1[_0x2e629f(0x14e)]['join'](this[_0x2e629f(0x13a)],_0x47f06d);if(await fs_internal_1['FS'][_0x2e629f(0x15b)](_0x151800)){const _0x3f83cb=await fs_internal_1['FS'][_0x2e629f(0x135)](_0x151800);this[_0x2e629f(0x14b)][_0x47f06d]=await xml_1[_0x2e629f(0x12f)][_0x2e629f(0x162)](_0x3f83cb);}else{this[_0x2e629f(0x14b)][_0x47f06d]=await xml_1[_0x2e629f(0x12f)]['parse'](_0x3203ea);return;}}const _0xf288e4=this[_0x2e629f(0x14b)][_0x47f06d],_0x15b97f=await xml_1[_0x2e629f(0x12f)][_0x2e629f(0x162)](_0x3203ea);xml_1[_0x2e629f(0x12f)]['replaceOrAppend'](_0xf288e4,_0x15b97f);}catch(_0x1262fd){throw new Error(_0x2e629f(0x134)+_0x51f840[_0x2e629f(0x141)]+'\x20['+_0x51f840[_0x2e629f(0x13b)]+'].\x20Original\x20error:\x20'+_0x1262fd);}}async['start'](){const _0x35ace8=a82_0x2d967a;!await fs_internal_1['FS'][_0x35ace8(0x15b)](this[_0x35ace8(0x13a)])&&await fs_internal_1['FS'][_0x35ace8(0x155)](this[_0x35ace8(0x13a)]);for(const _0x49ff8f of this[_0x35ace8(0x14f)]){!child_types_1[_0x35ace8(0x14e)][_0x35ace8(0x144)](_0x49ff8f[_0x35ace8(0x13b)])?await this['writeParent'](_0x49ff8f):await this[_0x35ace8(0x157)](_0x49ff8f);}const _0xb82364=Object['keys'](this[_0x35ace8(0x14b)]);logger[_0x35ace8(0x156)](_0x35ace8(0x149),this[_0x35ace8(0x14f)][_0x35ace8(0x154)]);while(_0xb82364[_0x35ace8(0x154)]){const _0x18eb79=_0xb82364[_0x35ace8(0x163)](0x0,this[_0x35ace8(0x152)]);for(const _0x4849b0 of _0x18eb79){await fs_internal_1['FS'][_0x35ace8(0x130)](path_1[_0x35ace8(0x14e)][_0x35ace8(0x12e)](this['sourceDir'],_0x4849b0),xml_1['Xml'][_0x35ace8(0x12c)](this[_0x35ace8(0x14b)][_0x4849b0]));}}this[_0x35ace8(0x14b)]={};}}exports[a82_0x2d967a(0x14a)]=MDApiWriter;