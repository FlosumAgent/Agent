const a97_0x1136c0=a97_0x4ac6;(function(_0x2d1c3,_0x31774e){const _0x3f4e28=a97_0x4ac6,_0x4ac1ab=_0x2d1c3();while(!![]){try{const _0x49a43e=-parseInt(_0x3f4e28(0x194))/0x1+parseInt(_0x3f4e28(0x17d))/0x2+parseInt(_0x3f4e28(0x1a0))/0x3+parseInt(_0x3f4e28(0x167))/0x4*(parseInt(_0x3f4e28(0x192))/0x5)+parseInt(_0x3f4e28(0x188))/0x6+-parseInt(_0x3f4e28(0x18e))/0x7*(parseInt(_0x3f4e28(0x183))/0x8)+parseInt(_0x3f4e28(0x173))/0x9*(-parseInt(_0x3f4e28(0x177))/0xa);if(_0x49a43e===_0x31774e)break;else _0x4ac1ab['push'](_0x4ac1ab['shift']());}catch(_0x4afbf3){_0x4ac1ab['push'](_0x4ac1ab['shift']());}}}(a97_0x39f3,0x5e963));function a97_0x4ac6(_0x1babe7,_0x1553aa){const _0x3adfc8=a97_0x39f3();return a97_0x4ac6=function(_0x22cbd2,_0x343ead){_0x22cbd2=_0x22cbd2-0x165;let _0x39f3a4=_0x3adfc8[_0x22cbd2];return _0x39f3a4;},a97_0x4ac6(_0x1babe7,_0x1553aa);}const a97_0x343ead=function(){let _0x4de227=!![];return function(_0x178870,_0x467009){const _0x241880=_0x4de227?function(){if(_0x467009){const _0x1053a1=_0x467009['apply'](_0x178870,arguments);return _0x467009=null,_0x1053a1;}}:function(){};return _0x4de227=![],_0x241880;};}(),a97_0x22cbd2=a97_0x343ead(this,function(){const _0x4f5a81=a97_0x4ac6;return a97_0x22cbd2[_0x4f5a81(0x17e)]()[_0x4f5a81(0x16f)](_0x4f5a81(0x18d))[_0x4f5a81(0x17e)]()['constructor'](a97_0x22cbd2)[_0x4f5a81(0x16f)](_0x4f5a81(0x18d));});a97_0x22cbd2();'use strict';var __importDefault=this&&this[a97_0x1136c0(0x19f)]||function(_0x5ab79c){return _0x5ab79c&&_0x5ab79c['__esModule']?_0x5ab79c:{'default':_0x5ab79c};};Object['defineProperty'](exports,a97_0x1136c0(0x1a3),{'value':!![]}),exports[a97_0x1136c0(0x181)]=void 0x0;const path_1=__importDefault(require(a97_0x1136c0(0x189))),core_1=require(a97_0x1136c0(0x18b)),fs_internal_1=require(a97_0x1136c0(0x184)),invalid_xml_error_1=require(a97_0x1136c0(0x191)),xml_1=require(a97_0x1136c0(0x17b)),zip_1=require(a97_0x1136c0(0x180)),child_types_1=__importDefault(require(a97_0x1136c0(0x175)));class MDApiWriter{constructor({components:_0x10b051,sourceDir:_0x2de98d,skipChildErrors:_0x56d95d}){const _0x553853=a97_0x1136c0;this[_0x553853(0x16d)]=0x64,this[_0x553853(0x170)]={},this[_0x553853(0x19c)]=new core_1[(_0x553853(0x19a))](MDApiWriter['name']),this[_0x553853(0x19e)]=_0x10b051,this[_0x553853(0x18a)]=_0x2de98d,this[_0x553853(0x166)]=_0x56d95d;}async[a97_0x1136c0(0x17c)](_0x556d63){const _0x315097=a97_0x1136c0,_0x430e15=await zip_1[_0x315097(0x198)]['unzip'](_0x556d63),_0x261d21=[];for(const _0x253b73 of Object[_0x315097(0x17a)](_0x430e15[_0x315097(0x171)])){!_0x430e15[_0x315097(0x171)][_0x253b73][_0x315097(0x193)]&&_0x261d21[_0x315097(0x195)]({'filename':_0x253b73,'body':await _0x430e15[_0x315097(0x171)][_0x253b73][_0x315097(0x16b)](_0x315097(0x172))});}return _0x261d21;}async['writeParent'](_0x539140){const _0x421ad0=a97_0x1136c0;try{const _0x4c64eb=await this[_0x421ad0(0x17c)](_0x539140[_0x421ad0(0x18c)]);await Promise[_0x421ad0(0x169)](_0x4c64eb[_0x421ad0(0x186)](({filename:_0x6e3da7,body:_0x29093d})=>fs_internal_1['FS']['writeFile'](path_1['default']['join'](this[_0x421ad0(0x18a)],_0x6e3da7),_0x29093d)));}catch(_0x412429){throw new Error(_0x421ad0(0x19d)+_0x539140[_0x421ad0(0x17f)]+'\x20['+_0x539140[_0x421ad0(0x178)]+_0x421ad0(0x165)+_0x412429);}}[a97_0x1136c0(0x16a)](_0x1dc0e5,_0x52964d){const _0x2e38ea=a97_0x1136c0;throw new invalid_xml_error_1[(_0x2e38ea(0x16e))](_0x2e38ea(0x185)+_0x52964d['fileName']+'\x20['+_0x52964d['fileType']+'].\x20Original\x20error:\x20'+_0x1dc0e5);}async[a97_0x1136c0(0x199)](_0x49c63a){const _0x5e62a2=a97_0x1136c0,{filename:_0x2ea939,body:_0x30f188}=(await this['readZip'](_0x49c63a[_0x5e62a2(0x18c)]))[0x0];try{if(!this[_0x5e62a2(0x170)][_0x2ea939]){const _0x5dbbf3=path_1['default'][_0x5e62a2(0x1a8)](this[_0x5e62a2(0x18a)],_0x2ea939);if(await fs_internal_1['FS'][_0x5e62a2(0x16c)](_0x5dbbf3)){const _0x44ad49=await fs_internal_1['FS'][_0x5e62a2(0x1a5)](_0x5dbbf3);this[_0x5e62a2(0x170)][_0x2ea939]=await xml_1[_0x5e62a2(0x196)][_0x5e62a2(0x1a7)](_0x44ad49)['catch'](_0x2bda4e=>this[_0x5e62a2(0x16a)](_0x2bda4e,_0x49c63a));}else{this[_0x5e62a2(0x170)][_0x2ea939]=await xml_1[_0x5e62a2(0x196)][_0x5e62a2(0x1a7)](_0x30f188)[_0x5e62a2(0x179)](_0x3806d1=>this[_0x5e62a2(0x16a)](_0x3806d1,_0x49c63a));return;}}const _0x1fbe42=this[_0x5e62a2(0x170)][_0x2ea939],_0x35a7b6=await xml_1['Xml'][_0x5e62a2(0x1a7)](_0x30f188)[_0x5e62a2(0x179)](_0xc007c9=>this[_0x5e62a2(0x16a)](_0xc007c9,_0x49c63a));xml_1[_0x5e62a2(0x196)]['replaceOrAppend'](_0x1fbe42,_0x35a7b6);}catch(_0x4ba1c9){if(_0x4ba1c9 instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x5e62a2(0x166)])return;else throw _0x4ba1c9;}throw new Error(_0x5e62a2(0x176)+_0x49c63a['fileName']+'\x20['+_0x49c63a['fileType']+_0x5e62a2(0x165)+_0x4ba1c9);}}async[a97_0x1136c0(0x1a6)](){const _0xe8ae01=a97_0x1136c0;!await fs_internal_1['FS']['exists'](this[_0xe8ae01(0x18a)])&&await fs_internal_1['FS'][_0xe8ae01(0x1a1)](this[_0xe8ae01(0x18a)]);for(const _0x1f9572 of this[_0xe8ae01(0x19e)]){!child_types_1[_0xe8ae01(0x1a4)][_0xe8ae01(0x182)](_0x1f9572[_0xe8ae01(0x178)])?(this[_0xe8ae01(0x19c)][_0xe8ae01(0x19b)](_0xe8ae01(0x190),_0x1f9572[_0xe8ae01(0x17f)],_0x1f9572[_0xe8ae01(0x178)]),await this[_0xe8ae01(0x197)](_0x1f9572)):(this[_0xe8ae01(0x19c)][_0xe8ae01(0x19b)](_0xe8ae01(0x168),_0x1f9572[_0xe8ae01(0x17f)],_0x1f9572['fileType']),await this[_0xe8ae01(0x199)](_0x1f9572));}const _0x9fd3ca=Object[_0xe8ae01(0x17a)](this[_0xe8ae01(0x170)]);this[_0xe8ae01(0x19c)][_0xe8ae01(0x19b)]('have\x20to\x20write\x20%d\x20files',this[_0xe8ae01(0x19e)]['length']);while(_0x9fd3ca[_0xe8ae01(0x187)]){const _0x3cd1ac=_0x9fd3ca[_0xe8ae01(0x174)](0x0,this[_0xe8ae01(0x16d)]);for(const _0xc7cd2 of _0x3cd1ac){await fs_internal_1['FS'][_0xe8ae01(0x1a2)](path_1[_0xe8ae01(0x1a4)][_0xe8ae01(0x1a8)](this[_0xe8ae01(0x18a)],_0xc7cd2),xml_1[_0xe8ae01(0x196)][_0xe8ae01(0x18f)](this[_0xe8ae01(0x170)][_0xc7cd2]));}}this[_0xe8ae01(0x170)]={};}}function a97_0x39f3(){const _0x241ab0=['components','__importDefault','1941060AiGnuW','makeDir','writeFile','__esModule','default','readFile','start','parse','join','].\x20Original\x20error:\x20','skipChildErrors','18948YcUjJa','write\x20child\x20-\x20%s\x20[%s]','all','handleXmlParsingError','async','exists','MAX_WRITES_PER_TICK','InvalidXmlError','search','parentComponents','files','text','288WLHqDL','splice','../data/child-types','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','326790ghsNQy','fileType','catch','keys','../utils/xml','readZip','838000PoMBWO','toString','fileName','../utils/zip','MDApiWriter','includes','190472pyfAnY','../../internal/fs.internal','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','map','length','2989998lRLdow','path','sourceDir','../../../core','body','(((.+)+)+)+$','21HTZnMW','convertToString','write\x20parent\x20-\x20%s\x20[%s]','../errors/invalid-xml.error','115dOlLYa','dir','168722ZqDYgJ','push','Xml','writeParent','Zip','writeChild','Logger','log','internalLogger','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20'];a97_0x39f3=function(){return _0x241ab0;};return a97_0x39f3();}exports[a97_0x1136c0(0x181)]=MDApiWriter;