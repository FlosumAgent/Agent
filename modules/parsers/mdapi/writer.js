const a82_0x18d6=['MAX_WRITES_PER_TICK','Zip','test','].\x20Original\x20error:\x20','Xml','keys','447382oGtCak','607805YfIkbp','parse','MDApiWriter','splice','body','../../internal/fs.internal','return\x20/\x22\x20+\x20this\x20+\x20\x22/','mdapi-writer','./child-types','143323CbsWWk','readFile','makeDir','308973pnqWBm','../utils/xml','exists','default','5VbWMpq','Logger','422585dgZzba','components','sourceDir','join','fileName','length','convertToString','writeFile','path','includes','log','push','parentComponents','../utils/zip','all','49431blVAqo','7mHkSmB','readZip','start','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','have\x20to\x20write\x20%d\x20files','async','writeParent','writeChild','text','366148DbgXQi','files','replaceOrAppend','defineProperty','1Wvignl','../../../core','__esModule','map'];const a82_0x184165=a82_0x57b0;(function(_0x284092,_0x51a63e){const _0x324a89=a82_0x57b0;while(!![]){try{const _0x2f3f69=-parseInt(_0x324a89(0x189))+-parseInt(_0x324a89(0x16e))*-parseInt(_0x324a89(0x1a1))+-parseInt(_0x324a89(0x180))*-parseInt(_0x324a89(0x17f))+-parseInt(_0x324a89(0x18d))*-parseInt(_0x324a89(0x197))+parseInt(_0x324a89(0x1a4))+-parseInt(_0x324a89(0x170))+-parseInt(_0x324a89(0x198));if(_0x2f3f69===_0x51a63e)break;else _0x284092['push'](_0x284092['shift']());}catch(_0x45f1b3){_0x284092['push'](_0x284092['shift']());}}}(a82_0x18d6,0x67231));const a82_0x395bc2=function(){let _0x4233a8=!![];return function(_0x54626c,_0x1e152f){const _0x2f4ec9=_0x4233a8?function(){if(_0x1e152f){const _0x30a5ab=_0x1e152f['apply'](_0x54626c,arguments);return _0x1e152f=null,_0x30a5ab;}}:function(){};return _0x4233a8=![],_0x2f4ec9;};}(),a82_0x26b8ad=a82_0x395bc2(this,function(){const _0x59c787=function(){const _0x37bcdf=a82_0x57b0,_0xbcf869=_0x59c787['constructor'](_0x37bcdf(0x19e))()['constructor'](_0x37bcdf(0x183));return!_0xbcf869[_0x37bcdf(0x193)](a82_0x26b8ad);};return _0x59c787();});a82_0x26b8ad();'use strict';function a82_0x57b0(_0x488b9e,_0x58aa55){return a82_0x57b0=function(_0x13756c,_0x26b8ad){_0x13756c=_0x13756c-0x16d;let _0x395bc2=a82_0x18d6[_0x13756c];return _0x395bc2;},a82_0x57b0(_0x488b9e,_0x58aa55);}var __importDefault=this&&this['__importDefault']||function(_0x272f9c){return _0x272f9c&&_0x272f9c['__esModule']?_0x272f9c:{'default':_0x272f9c};};Object[a82_0x184165(0x18c)](exports,a82_0x184165(0x18f),{'value':!![]}),exports[a82_0x184165(0x19a)]=void 0x0;const path_1=__importDefault(require(a82_0x184165(0x178))),core_1=require(a82_0x184165(0x18e)),fs_internal_1=require(a82_0x184165(0x19d)),xml_1=require(a82_0x184165(0x1a5)),zip_1=require(a82_0x184165(0x17d)),child_types_1=__importDefault(require(a82_0x184165(0x1a0))),logger=new core_1[(a82_0x184165(0x16f))](a82_0x184165(0x19f));class MDApiWriter{constructor(_0x503df4,_0x1562d8){const _0x385c7b=a82_0x184165;this['components']=_0x503df4,this[_0x385c7b(0x172)]=_0x1562d8,this[_0x385c7b(0x191)]=0x64,this['parentComponents']={};}async['readZip'](_0x2b2ec1){const _0x4e0a63=a82_0x184165,_0xf4a6ee=await zip_1[_0x4e0a63(0x192)]['unzip'](_0x2b2ec1),_0x5ca05d=[];for(const _0x49eaec of Object[_0x4e0a63(0x196)](_0xf4a6ee[_0x4e0a63(0x18a)])){_0x5ca05d[_0x4e0a63(0x17b)]({'filename':_0x49eaec,'body':await _0xf4a6ee[_0x4e0a63(0x18a)][_0x49eaec][_0x4e0a63(0x185)](_0x4e0a63(0x188))});}return _0x5ca05d;}async[a82_0x184165(0x186)](_0x5c37b){const _0x493de4=a82_0x184165;try{const _0x3bf975=await this[_0x493de4(0x181)](_0x5c37b['body']);await Promise[_0x493de4(0x17e)](_0x3bf975[_0x493de4(0x190)](({filename:_0x5b516a,body:_0x178e74})=>fs_internal_1['FS'][_0x493de4(0x177)](path_1[_0x493de4(0x16d)]['join'](this[_0x493de4(0x172)],_0x5b516a),_0x178e74)));}catch(_0x512249){throw new Error('An\x20error\x20occured\x20when\x20proceeding\x20component\x20'+_0x5c37b[_0x493de4(0x174)]+'\x20['+_0x5c37b['fileType']+'].\x20Original\x20error:\x20'+_0x512249);}}async[a82_0x184165(0x187)](_0xfd4c1d){const _0x20cacf=a82_0x184165,{filename:_0x4b4915,body:_0x5e75db}=(await this['readZip'](_0xfd4c1d[_0x20cacf(0x19c)]))[0x0];try{if(!this[_0x20cacf(0x17c)][_0x4b4915]){const _0x4df596=path_1[_0x20cacf(0x16d)][_0x20cacf(0x173)](this['sourceDir'],_0x4b4915);if(await fs_internal_1['FS'][_0x20cacf(0x1a6)](_0x4df596)){const _0x2a8c2d=await fs_internal_1['FS'][_0x20cacf(0x1a2)](_0x4df596);this['parentComponents'][_0x4b4915]=await xml_1[_0x20cacf(0x195)][_0x20cacf(0x199)](_0x2a8c2d);}else{this[_0x20cacf(0x17c)][_0x4b4915]=await xml_1[_0x20cacf(0x195)][_0x20cacf(0x199)](_0x5e75db);return;}}const _0xddb884=this[_0x20cacf(0x17c)][_0x4b4915],_0x15f545=await xml_1[_0x20cacf(0x195)][_0x20cacf(0x199)](_0x5e75db);xml_1[_0x20cacf(0x195)][_0x20cacf(0x18b)](_0xddb884,_0x15f545);}catch(_0x3e3473){throw new Error('An\x20error\x20occurred\x20when\x20proceeding\x20component\x20'+_0xfd4c1d[_0x20cacf(0x174)]+'\x20['+_0xfd4c1d['fileType']+_0x20cacf(0x194)+_0x3e3473);}}async[a82_0x184165(0x182)](){const _0x3385ca=a82_0x184165;!await fs_internal_1['FS'][_0x3385ca(0x1a6)](this[_0x3385ca(0x172)])&&await fs_internal_1['FS'][_0x3385ca(0x1a3)](this[_0x3385ca(0x172)]);for(const _0x4eb46e of this[_0x3385ca(0x171)]){!child_types_1['default'][_0x3385ca(0x179)](_0x4eb46e['fileType'])?await this[_0x3385ca(0x186)](_0x4eb46e):await this['writeChild'](_0x4eb46e);}const _0x6b71e7=Object[_0x3385ca(0x196)](this[_0x3385ca(0x17c)]);logger[_0x3385ca(0x17a)](_0x3385ca(0x184),this[_0x3385ca(0x171)]['length']);while(_0x6b71e7[_0x3385ca(0x175)]){const _0x165d75=_0x6b71e7[_0x3385ca(0x19b)](0x0,this[_0x3385ca(0x191)]);for(const _0xe323ec of _0x165d75){await fs_internal_1['FS']['writeFile'](path_1[_0x3385ca(0x16d)][_0x3385ca(0x173)](this[_0x3385ca(0x172)],_0xe323ec),xml_1[_0x3385ca(0x195)][_0x3385ca(0x176)](this['parentComponents'][_0xe323ec]));}}this[_0x3385ca(0x17c)]={};}}exports[a82_0x184165(0x19a)]=MDApiWriter;