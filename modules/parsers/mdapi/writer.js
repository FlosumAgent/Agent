const a82_0x555b=['Logger','Zip','232777derJSY','makeDir','An\x20error\x20occured\x20when\x20proceeding\x20component\x20','test','__importDefault','25BrUdNc','Xml','exists','apply','72383IGdOkr','body','mdapi-writer','readZip','9231viHBId','../utils/xml','constructor','join','start','keys','default','includes','MAX_WRITES_PER_TICK','unzip','../../../core','text','parentComponents','splice','MDApiWriter','writeChild','181128YjhtQK','fileName','push','components','all','async','1EMBxFt','288141fhGtWc','sourceDir','writeFile','readFile','defineProperty','../utils/zip','writeParent','log','replaceOrAppend','238924yEcPSS','__esModule','216744wbjrOS','].\x20Original\x20error:\x20','1sBxxOh','An\x20error\x20occurred\x20when\x20proceeding\x20component\x20','parse','files','fileType','../../internal/fs.internal'];const a82_0xb58e36=a82_0x4145;function a82_0x4145(_0x4eb3d0,_0x352526){return a82_0x4145=function(_0x1b8512,_0x4b745b){_0x1b8512=_0x1b8512-0xf3;let _0x38234e=a82_0x555b[_0x1b8512];return _0x38234e;},a82_0x4145(_0x4eb3d0,_0x352526);}(function(_0x420f68,_0x48c4ab){const _0x2ff7fa=a82_0x4145;while(!![]){try{const _0x558f4b=-parseInt(_0x2ff7fa(0x103))+-parseInt(_0x2ff7fa(0xf3))+parseInt(_0x2ff7fa(0x118))*parseInt(_0x2ff7fa(0x107))+parseInt(_0x2ff7fa(0xfa))+parseInt(_0x2ff7fa(0x114))*parseInt(_0x2ff7fa(0x11c))+-parseInt(_0x2ff7fa(0xf9))*-parseInt(_0x2ff7fa(0x10f))+-parseInt(_0x2ff7fa(0x105));if(_0x558f4b===_0x48c4ab)break;else _0x420f68['push'](_0x420f68['shift']());}catch(_0x51dfec){_0x420f68['push'](_0x420f68['shift']());}}}(a82_0x555b,0x2db90));const a82_0x38234e=function(){let _0x41cca9=!![];return function(_0x5f48a2,_0xb58733){const _0x5ecf10=_0x41cca9?function(){const _0x459592=a82_0x4145;if(_0xb58733){const _0x213415=_0xb58733[_0x459592(0x117)](_0x5f48a2,arguments);return _0xb58733=null,_0x213415;}}:function(){};return _0x41cca9=![],_0x5ecf10;};}(),a82_0x4b745b=a82_0x38234e(this,function(){const _0x2f70ec=function(){const _0x1aaa3d=a82_0x4145,_0x46de48=_0x2f70ec[_0x1aaa3d(0x11e)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x1aaa3d(0x11e)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x46de48[_0x1aaa3d(0x112)](a82_0x4b745b);};return _0x2f70ec();});a82_0x4b745b();'use strict';var __importDefault=this&&this[a82_0xb58e36(0x113)]||function(_0x4e862e){const _0x5e141e=a82_0xb58e36;return _0x4e862e&&_0x4e862e[_0x5e141e(0x104)]?_0x4e862e:{'default':_0x4e862e};};Object[a82_0xb58e36(0xfe)](exports,a82_0xb58e36(0x104),{'value':!![]}),exports[a82_0xb58e36(0x12a)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a82_0xb58e36(0x126)),fs_internal_1=require(a82_0xb58e36(0x10c)),xml_1=require(a82_0xb58e36(0x11d)),zip_1=require(a82_0xb58e36(0xff)),child_types_1=__importDefault(require('./child-types')),logger=new core_1[(a82_0xb58e36(0x10d))](a82_0xb58e36(0x11a));class MDApiWriter{constructor(_0x336f46,_0x41f9f9){const _0x4c9a1c=a82_0xb58e36;this[_0x4c9a1c(0xf6)]=_0x336f46,this[_0x4c9a1c(0xfb)]=_0x41f9f9,this[_0x4c9a1c(0x124)]=0x64,this[_0x4c9a1c(0x128)]={};}async[a82_0xb58e36(0x11b)](_0x3d1062){const _0x444385=a82_0xb58e36,_0x28dfe8=await zip_1[_0x444385(0x10e)][_0x444385(0x125)](_0x3d1062),_0x331034=[];for(const _0x2ca311 of Object[_0x444385(0x121)](_0x28dfe8[_0x444385(0x10a)])){_0x331034[_0x444385(0xf5)]({'filename':_0x2ca311,'body':await _0x28dfe8['files'][_0x2ca311][_0x444385(0xf8)](_0x444385(0x127))});}return _0x331034;}async[a82_0xb58e36(0x100)](_0x57cc7c){const _0x14ca75=a82_0xb58e36;try{const _0x56bd6d=await this[_0x14ca75(0x11b)](_0x57cc7c[_0x14ca75(0x119)]);await Promise[_0x14ca75(0xf7)](_0x56bd6d['map'](({filename:_0x22ee40,body:_0x7dfafc})=>fs_internal_1['FS']['writeFile'](path_1[_0x14ca75(0x122)][_0x14ca75(0x11f)](this[_0x14ca75(0xfb)],_0x22ee40),_0x7dfafc)));}catch(_0x11f49a){throw new Error(_0x14ca75(0x111)+_0x57cc7c[_0x14ca75(0xf4)]+'\x20['+_0x57cc7c[_0x14ca75(0x10b)]+_0x14ca75(0x106)+_0x11f49a);}}async[a82_0xb58e36(0x12b)](_0x57d2c1){const _0x403ace=a82_0xb58e36,{filename:_0x57f040,body:_0x34bada}=(await this['readZip'](_0x57d2c1[_0x403ace(0x119)]))[0x0];try{if(!this['parentComponents'][_0x57f040]){const _0x534b5b=path_1[_0x403ace(0x122)][_0x403ace(0x11f)](this[_0x403ace(0xfb)],_0x57f040);if(await fs_internal_1['FS'][_0x403ace(0x116)](_0x534b5b)){const _0x80b0fb=await fs_internal_1['FS'][_0x403ace(0xfd)](_0x534b5b);this[_0x403ace(0x128)][_0x57f040]=await xml_1['Xml']['parse'](_0x80b0fb);}else{this[_0x403ace(0x128)][_0x57f040]=await xml_1[_0x403ace(0x115)][_0x403ace(0x109)](_0x34bada);return;}}const _0x545721=this[_0x403ace(0x128)][_0x57f040],_0x5026af=await xml_1['Xml'][_0x403ace(0x109)](_0x34bada);xml_1[_0x403ace(0x115)][_0x403ace(0x102)](_0x545721,_0x5026af);}catch(_0x4e782e){throw new Error(_0x403ace(0x108)+_0x57d2c1['fileName']+'\x20['+_0x57d2c1[_0x403ace(0x10b)]+'].\x20Original\x20error:\x20'+_0x4e782e);}}async[a82_0xb58e36(0x120)](){const _0xf669ca=a82_0xb58e36;!await fs_internal_1['FS'][_0xf669ca(0x116)](this[_0xf669ca(0xfb)])&&await fs_internal_1['FS'][_0xf669ca(0x110)](this['sourceDir']);for(const _0x259365 of this['components']){!child_types_1['default'][_0xf669ca(0x123)](_0x259365[_0xf669ca(0x10b)])?await this[_0xf669ca(0x100)](_0x259365):await this['writeChild'](_0x259365);}const _0x182660=Object[_0xf669ca(0x121)](this[_0xf669ca(0x128)]);logger[_0xf669ca(0x101)]('have\x20to\x20write\x20%d\x20files',this[_0xf669ca(0xf6)]['length']);while(_0x182660['length']){const _0x363419=_0x182660[_0xf669ca(0x129)](0x0,this[_0xf669ca(0x124)]);for(const _0x373d5d of _0x363419){await fs_internal_1['FS'][_0xf669ca(0xfc)](path_1[_0xf669ca(0x122)]['join'](this[_0xf669ca(0xfb)],_0x373d5d),xml_1[_0xf669ca(0x115)]['convertToString'](this[_0xf669ca(0x128)][_0x373d5d]));}}this[_0xf669ca(0x128)]={};}}exports[a82_0xb58e36(0x12a)]=MDApiWriter;