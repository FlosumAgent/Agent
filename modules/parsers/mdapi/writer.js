const a83_0x13db=['parse','path','push','length','Zip','__esModule','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','writeFile','test','./child-types','includes','files','convertToString','1649072pBMCID','writeChild','213376nfdIkG','apply','readZip','Xml','default','MAX_WRITES_PER_TICK','10238mEKjHU','139WpIkvy','fileType','map','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../internal/fs.internal','MDApiWriter','body','1371037iYdPLY','components','../utils/zip','makeDir','535334PYlGaL','mdapi-writer','splice','unzip','writeParent','constructor','start','8qgHLTQ','all','1587143JuJOoL','1czXErW','join','1yiMNtO','exists','1398497MQFxHv','readFile','parentComponents','sourceDir','__importDefault','text','replaceOrAppend','keys'];const a83_0x35a2f3=a83_0x1704;function a83_0x1704(_0x525c2e,_0x1f42f1){return a83_0x1704=function(_0x1aea28,_0x5d1c99){_0x1aea28=_0x1aea28-0x1c3;let _0x47de00=a83_0x13db[_0x1aea28];return _0x47de00;},a83_0x1704(_0x525c2e,_0x1f42f1);}(function(_0x32f1ef,_0x336dce){const _0x5d2c85=a83_0x1704;while(!![]){try{const _0xbc835=-parseInt(_0x5d2c85(0x1f5))*-parseInt(_0x5d2c85(0x1d7))+-parseInt(_0x5d2c85(0x1d9))*parseInt(_0x5d2c85(0x1da))+parseInt(_0x5d2c85(0x1f3))*parseInt(_0x5d2c85(0x1dc))+parseInt(_0x5d2c85(0x1d0))+parseInt(_0x5d2c85(0x1c5))*-parseInt(_0x5d2c85(0x1c4))+parseInt(_0x5d2c85(0x1cc))+-parseInt(_0x5d2c85(0x1de));if(_0xbc835===_0x336dce)break;else _0x32f1ef['push'](_0x32f1ef['shift']());}catch(_0x542356){_0x32f1ef['push'](_0x32f1ef['shift']());}}}(a83_0x13db,0xd06e1));const a83_0x47de00=function(){let _0x53232b=!![];return function(_0x4ecfc0,_0x497fd8){const _0xf7d41c=_0x53232b?function(){const _0x68890d=a83_0x1704;if(_0x497fd8){const _0x5cbfca=_0x497fd8[_0x68890d(0x1f6)](_0x4ecfc0,arguments);return _0x497fd8=null,_0x5cbfca;}}:function(){};return _0x53232b=![],_0xf7d41c;};}(),a83_0x5d1c99=a83_0x47de00(this,function(){const _0x3bdf10=function(){const _0x1d2b03=a83_0x1704,_0xdc6e99=_0x3bdf10[_0x1d2b03(0x1d5)](_0x1d2b03(0x1c8))()[_0x1d2b03(0x1d5)](_0x1d2b03(0x1ec));return!_0xdc6e99[_0x1d2b03(0x1ee)](a83_0x5d1c99);};return _0x3bdf10();});a83_0x5d1c99();'use strict';var __importDefault=this&&this[a83_0x35a2f3(0x1e2)]||function(_0x483845){const _0x3d3728=a83_0x35a2f3;return _0x483845&&_0x483845[_0x3d3728(0x1eb)]?_0x483845:{'default':_0x483845};};Object['defineProperty'](exports,a83_0x35a2f3(0x1eb),{'value':!![]}),exports[a83_0x35a2f3(0x1ca)]=void 0x0;const path_1=__importDefault(require(a83_0x35a2f3(0x1e7))),core_1=require('../../../core'),fs_internal_1=require(a83_0x35a2f3(0x1c9)),xml_1=require('../utils/xml'),zip_1=require(a83_0x35a2f3(0x1ce)),child_types_1=__importDefault(require(a83_0x35a2f3(0x1ef))),logger=new core_1['Logger'](a83_0x35a2f3(0x1d1));class MDApiWriter{constructor(_0x58c7dc,_0x3dc62d){const _0x3e63a1=a83_0x35a2f3;this['components']=_0x58c7dc,this[_0x3e63a1(0x1e1)]=_0x3dc62d,this[_0x3e63a1(0x1c3)]=0x64,this['parentComponents']={};}async['readZip'](_0x36b3ed){const _0x19bdf9=a83_0x35a2f3,_0x4994cb=await zip_1[_0x19bdf9(0x1ea)][_0x19bdf9(0x1d3)](_0x36b3ed),_0x58ad6b=[];for(const _0xcf80c7 of Object[_0x19bdf9(0x1e5)](_0x4994cb[_0x19bdf9(0x1f1)])){_0x58ad6b[_0x19bdf9(0x1e8)]({'filename':_0xcf80c7,'body':await _0x4994cb[_0x19bdf9(0x1f1)][_0xcf80c7]['async'](_0x19bdf9(0x1e3))});}return _0x58ad6b;}async[a83_0x35a2f3(0x1d4)](_0x24cd72){const _0x690b3d=a83_0x35a2f3,_0x4eada3=await this['readZip'](_0x24cd72[_0x690b3d(0x1cb)]);await Promise[_0x690b3d(0x1d8)](_0x4eada3[_0x690b3d(0x1c7)](({filename:_0x81d20a,body:_0x4974f0})=>fs_internal_1['FS'][_0x690b3d(0x1ed)](path_1[_0x690b3d(0x1f9)][_0x690b3d(0x1db)](this[_0x690b3d(0x1e1)],_0x81d20a),_0x4974f0)));}async['writeChild'](_0x541b5e){const _0x45f8a0=a83_0x35a2f3,{filename:_0x50e544,body:_0x132061}=(await this[_0x45f8a0(0x1f7)](_0x541b5e[_0x45f8a0(0x1cb)]))[0x0];if(!this[_0x45f8a0(0x1e0)][_0x50e544]){const _0x323bdb=path_1[_0x45f8a0(0x1f9)][_0x45f8a0(0x1db)](this[_0x45f8a0(0x1e1)],_0x50e544);if(await fs_internal_1['FS'][_0x45f8a0(0x1dd)](_0x323bdb)){const _0x4fd523=await fs_internal_1['FS'][_0x45f8a0(0x1df)](_0x323bdb);this[_0x45f8a0(0x1e0)][_0x50e544]=await xml_1[_0x45f8a0(0x1f8)][_0x45f8a0(0x1e6)](_0x4fd523);}else{this[_0x45f8a0(0x1e0)][_0x50e544]=await xml_1[_0x45f8a0(0x1f8)][_0x45f8a0(0x1e6)](_0x132061);return;}}const _0x2846d1=this[_0x45f8a0(0x1e0)][_0x50e544],_0x17f657=await xml_1['Xml'][_0x45f8a0(0x1e6)](_0x132061);xml_1[_0x45f8a0(0x1f8)][_0x45f8a0(0x1e4)](_0x2846d1,_0x17f657);}async[a83_0x35a2f3(0x1d6)](){const _0x1f4ec6=a83_0x35a2f3;!await fs_internal_1['FS'][_0x1f4ec6(0x1dd)](this[_0x1f4ec6(0x1e1)])&&await fs_internal_1['FS'][_0x1f4ec6(0x1cf)](this[_0x1f4ec6(0x1e1)]);for(const _0x46ca10 of this[_0x1f4ec6(0x1cd)]){!child_types_1['default'][_0x1f4ec6(0x1f0)](_0x46ca10[_0x1f4ec6(0x1c6)])?await this['writeParent'](_0x46ca10):await this[_0x1f4ec6(0x1f4)](_0x46ca10);}const _0x14d924=Object[_0x1f4ec6(0x1e5)](this[_0x1f4ec6(0x1e0)]);logger['log']('have\x20to\x20write\x20%d\x20files',this[_0x1f4ec6(0x1cd)]['length']);while(_0x14d924[_0x1f4ec6(0x1e9)]){const _0x3af60d=_0x14d924[_0x1f4ec6(0x1d2)](0x0,this[_0x1f4ec6(0x1c3)]);for(const _0x5aa68b of _0x3af60d){await fs_internal_1['FS']['writeFile'](path_1[_0x1f4ec6(0x1f9)][_0x1f4ec6(0x1db)](this[_0x1f4ec6(0x1e1)],_0x5aa68b),xml_1[_0x1f4ec6(0x1f8)][_0x1f4ec6(0x1f2)](this[_0x1f4ec6(0x1e0)][_0x5aa68b]));}}this[_0x1f4ec6(0x1e0)]={};}}exports[a83_0x35a2f3(0x1ca)]=MDApiWriter;