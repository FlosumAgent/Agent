const a81_0x4645=['files','__importDefault','writeChild','11DFoLOW','apply','writed\x20%d\x20files','Xml','204477MlHKTy','MAX_WRITES_PER_TICK','from','child','body','__esModule','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','8wiKyjs','keys','MDApiWriter','toString','componentType','2XXhjoi','72242gWVZPY','Logger','341726DXCqvg','sourceComponents','default','length','891970CxzuiY','name','10044YMjvmm','parent','parse','replaceOrAppend','convertToString','test','33188dGKmRr','constructor','path','exists','../../../core','readFile','../utils/xml','log','360658uzhzEB','writeParent','utf-8','return\x20/\x22\x20+\x20this\x20+\x20\x22/','makeDir','mdapi-writer','sourceDir','splice','join','have\x20to\x20write\x20%d\x20files'];const a81_0x22e528=a81_0x187d;(function(_0x3d8026,_0x36811a){const _0x2bc462=a81_0x187d;while(!![]){try{const _0x4ff61c=parseInt(_0x2bc462(0x11b))*-parseInt(_0x2bc462(0x11c))+-parseInt(_0x2bc462(0x10f))+-parseInt(_0x2bc462(0x11e))+-parseInt(_0x2bc462(0x116))*parseInt(_0x2bc462(0x12a))+parseInt(_0x2bc462(0x132))+parseInt(_0x2bc462(0x10b))*-parseInt(_0x2bc462(0x124))+parseInt(_0x2bc462(0x122));if(_0x4ff61c===_0x36811a)break;else _0x3d8026['push'](_0x3d8026['shift']());}catch(_0x2ae822){_0x3d8026['push'](_0x3d8026['shift']());}}}(a81_0x4645,0x2d661));const a81_0x17e5a9=function(){let _0x351fb9=!![];return function(_0x529aba,_0x11bfd1){const _0xdb8a9f=_0x351fb9?function(){const _0xadac78=a81_0x187d;if(_0x11bfd1){const _0x9ab47b=_0x11bfd1[_0xadac78(0x10c)](_0x529aba,arguments);return _0x11bfd1=null,_0x9ab47b;}}:function(){};return _0x351fb9=![],_0xdb8a9f;};}(),a81_0x2b1a12=a81_0x17e5a9(this,function(){const _0x6c7a13=function(){const _0x129461=a81_0x187d,_0x1bb05d=_0x6c7a13[_0x129461(0x12b)](_0x129461(0x135))()[_0x129461(0x12b)](_0x129461(0x115));return!_0x1bb05d[_0x129461(0x129)](a81_0x2b1a12);};return _0x6c7a13();});a81_0x2b1a12();function a81_0x187d(_0xc92266,_0xf21a39){return a81_0x187d=function(_0x3a3119,_0x2b1a12){_0x3a3119=_0x3a3119-0x108;let _0x17e5a9=a81_0x4645[_0x3a3119];return _0x17e5a9;},a81_0x187d(_0xc92266,_0xf21a39);}'use strict';var __importDefault=this&&this[a81_0x22e528(0x109)]||function(_0x352ab5){const _0x1b6eff=a81_0x22e528;return _0x352ab5&&_0x352ab5[_0x1b6eff(0x114)]?_0x352ab5:{'default':_0x352ab5};};Object['defineProperty'](exports,a81_0x22e528(0x114),{'value':!![]}),exports[a81_0x22e528(0x118)]=void 0x0;const path_1=__importDefault(require(a81_0x22e528(0x12c))),core_1=require(a81_0x22e528(0x12e)),fs_internal_1=require('../../internal/fs.internal'),xml_1=require(a81_0x22e528(0x130)),logger=new core_1[(a81_0x22e528(0x11d))](a81_0x22e528(0x137));class MDApiWriter{constructor(_0x2743bc,_0x427e49){const _0x51b0f3=a81_0x22e528;this['parsedComponents']=_0x2743bc,this[_0x51b0f3(0x138)]=_0x427e49,this[_0x51b0f3(0x110)]=0x64,this['sourceComponents']={};}async[a81_0x22e528(0x133)](_0x233d5a){const _0x32f82d=a81_0x22e528;for(const _0xb23f7c of _0x233d5a){this['sourceComponents'][_0xb23f7c[_0x32f82d(0x123)]]=_0xb23f7c[_0x32f82d(0x113)];}}async[a81_0x22e528(0x10a)](_0x2671a8){const _0x38c1e5=a81_0x22e528;if(!this[_0x38c1e5(0x11f)][_0x2671a8[_0x38c1e5(0x123)]]){const _0x253ff3=path_1[_0x38c1e5(0x120)][_0x38c1e5(0x13a)](this['sourceDir'],_0x2671a8['name']);if(await fs_internal_1['FS'][_0x38c1e5(0x12d)](_0x253ff3)){const _0x283ee0=await fs_internal_1['FS'][_0x38c1e5(0x12f)](_0x253ff3);this[_0x38c1e5(0x11f)][_0x2671a8[_0x38c1e5(0x123)]]=Buffer[_0x38c1e5(0x111)](_0x283ee0);}else{this[_0x38c1e5(0x11f)][_0x2671a8[_0x38c1e5(0x123)]]=_0x2671a8[_0x38c1e5(0x113)];return;}}const [_0x264ecf,_0x15beec]=await Promise['all']([xml_1[_0x38c1e5(0x10e)][_0x38c1e5(0x126)](this[_0x38c1e5(0x11f)][_0x2671a8[_0x38c1e5(0x123)]][_0x38c1e5(0x119)](_0x38c1e5(0x134))),xml_1['Xml'][_0x38c1e5(0x126)](_0x2671a8['body']['toString'](_0x38c1e5(0x134)))]);xml_1[_0x38c1e5(0x10e)][_0x38c1e5(0x127)](_0x264ecf,_0x15beec),this[_0x38c1e5(0x11f)][_0x2671a8[_0x38c1e5(0x123)]]=Buffer[_0x38c1e5(0x111)](xml_1['Xml'][_0x38c1e5(0x128)](_0x264ecf));}async['start'](){const _0x5360ae=a81_0x22e528;!await fs_internal_1['FS'][_0x5360ae(0x12d)](this['sourceDir'])&&await fs_internal_1['FS'][_0x5360ae(0x136)](this[_0x5360ae(0x138)]);for(const _0x178cc2 of this['parsedComponents']){if(_0x178cc2[_0x5360ae(0x11a)]===_0x5360ae(0x125)||_0x178cc2[_0x5360ae(0x11a)]==='container')await this['writeParent'](_0x178cc2[_0x5360ae(0x108)]);else _0x178cc2[_0x5360ae(0x11a)]===_0x5360ae(0x112)&&await this['writeChild'](_0x178cc2[_0x5360ae(0x108)][0x0]);}const _0x4689d4=Object[_0x5360ae(0x117)](this['sourceComponents']);logger[_0x5360ae(0x131)](_0x5360ae(0x13b),_0x4689d4[_0x5360ae(0x121)]);while(_0x4689d4[_0x5360ae(0x121)]){const _0x5e922a=_0x4689d4[_0x5360ae(0x139)](0x0,this[_0x5360ae(0x110)]);await Promise['all'](_0x5e922a['map'](_0x4ecebd=>fs_internal_1['FS']['writeFile'](path_1[_0x5360ae(0x120)][_0x5360ae(0x13a)](this['sourceDir'],_0x4ecebd),this['sourceComponents'][_0x4ecebd]))),logger['log'](_0x5360ae(0x10d),_0x5e922a['length']);}this[_0x5360ae(0x11f)]={};}}exports[a81_0x22e528(0x118)]=MDApiWriter;