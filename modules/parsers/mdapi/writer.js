const a92_0x55f6dd=a92_0x2238;(function(_0x3ad062,_0x151950){const _0x2b978d=a92_0x2238,_0x16dfc1=_0x3ad062();while(!![]){try{const _0x19048d=-parseInt(_0x2b978d(0x12e))/0x1*(-parseInt(_0x2b978d(0xf4))/0x2)+parseInt(_0x2b978d(0xf0))/0x3*(-parseInt(_0x2b978d(0x108))/0x4)+-parseInt(_0x2b978d(0x128))/0x5+parseInt(_0x2b978d(0x106))/0x6*(-parseInt(_0x2b978d(0xf6))/0x7)+parseInt(_0x2b978d(0x110))/0x8*(parseInt(_0x2b978d(0x103))/0x9)+-parseInt(_0x2b978d(0x12d))/0xa*(-parseInt(_0x2b978d(0x10d))/0xb)+-parseInt(_0x2b978d(0xfc))/0xc;if(_0x19048d===_0x151950)break;else _0x16dfc1['push'](_0x16dfc1['shift']());}catch(_0x1cce9d){_0x16dfc1['push'](_0x16dfc1['shift']());}}}(a92_0x16ec,0xc4718));const a92_0x20bdba=function(){let _0x594d0f=!![];return function(_0x39d555,_0x571d01){const _0x14bb2e=_0x594d0f?function(){if(_0x571d01){const _0x343da5=_0x571d01['apply'](_0x39d555,arguments);return _0x571d01=null,_0x343da5;}}:function(){};return _0x594d0f=![],_0x14bb2e;};}(),a92_0x320a1a=a92_0x20bdba(this,function(){const _0x574da7=a92_0x2238;return a92_0x320a1a[_0x574da7(0x120)]()[_0x574da7(0x121)](_0x574da7(0xfa))[_0x574da7(0x120)]()[_0x574da7(0x12f)](a92_0x320a1a)[_0x574da7(0x121)](_0x574da7(0xfa));});a92_0x320a1a();'use strict';var __importDefault=this&&this[a92_0x55f6dd(0x12a)]||function(_0x5a2a1d){return _0x5a2a1d&&_0x5a2a1d['__esModule']?_0x5a2a1d:{'default':_0x5a2a1d};};Object[a92_0x55f6dd(0x129)](exports,a92_0x55f6dd(0x11c),{'value':!![]}),exports[a92_0x55f6dd(0x10c)]=void 0x0;function a92_0x2238(_0x184daa,_0x1c1551){const _0x13fb9e=a92_0x16ec();return a92_0x2238=function(_0x320a1a,_0x20bdba){_0x320a1a=_0x320a1a-0xf0;let _0x16ecab=_0x13fb9e[_0x320a1a];return _0x16ecab;},a92_0x2238(_0x184daa,_0x1c1551);}const path_1=__importDefault(require(a92_0x55f6dd(0xf9))),core_1=require('../../../core'),fs_internal_1=require(a92_0x55f6dd(0x11d)),invalid_xml_error_1=require(a92_0x55f6dd(0x10e)),xml_1=require(a92_0x55f6dd(0xfe)),zip_1=require(a92_0x55f6dd(0x10b)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x2d03f2,sourceDir:_0x413c99,skipChildErrors:_0x46ce85}){const _0x4940a0=a92_0x55f6dd;this[_0x4940a0(0x101)]=0x64,this[_0x4940a0(0x124)]={},this[_0x4940a0(0x10a)]=new core_1[(_0x4940a0(0xf8))](MDApiWriter['name']),this[_0x4940a0(0x111)]=_0x2d03f2,this[_0x4940a0(0x100)]=_0x413c99,this[_0x4940a0(0x126)]=_0x46ce85;}async[a92_0x55f6dd(0xf3)](_0x876336){const _0x383528=a92_0x55f6dd,_0x17bff8=await zip_1['Zip'][_0x383528(0x11b)](_0x876336),_0x149142=[];for(const _0x30bda8 of Object['keys'](_0x17bff8[_0x383528(0xf2)])){!_0x17bff8[_0x383528(0xf2)][_0x30bda8][_0x383528(0x115)]&&_0x149142['push']({'filename':_0x30bda8,'body':await _0x17bff8[_0x383528(0xf2)][_0x30bda8][_0x383528(0xf7)](_0x383528(0x113))});}return _0x149142;}async['writeParent'](_0x28a30f){const _0x466d30=a92_0x55f6dd;try{const _0x2d4be1=await this[_0x466d30(0xf3)](_0x28a30f[_0x466d30(0x116)]);await Promise[_0x466d30(0x119)](_0x2d4be1[_0x466d30(0x11e)](({filename:_0x157813,body:_0x5159a1})=>fs_internal_1['FS']['writeFile'](path_1[_0x466d30(0xfb)][_0x466d30(0xf1)](this[_0x466d30(0x100)],_0x157813),_0x5159a1)));}catch(_0x3c0d65){throw new Error(_0x466d30(0xfd)+_0x28a30f['fileName']+'\x20['+_0x28a30f[_0x466d30(0x104)]+_0x466d30(0x10f)+_0x3c0d65);}}[a92_0x55f6dd(0x114)](_0x168231,_0x520163){const _0x23c83c=a92_0x55f6dd;throw new invalid_xml_error_1[(_0x23c83c(0xf5))](_0x23c83c(0x102)+_0x520163['fileName']+'\x20['+_0x520163[_0x23c83c(0x104)]+_0x23c83c(0x10f)+_0x168231);}async[a92_0x55f6dd(0x122)](_0x4c898a){const _0x124406=a92_0x55f6dd,{filename:_0xd082d7,body:_0x2a7120}=(await this['readZip'](_0x4c898a[_0x124406(0x116)]))[0x0];try{if(!this['parentComponents'][_0xd082d7]){const _0x22b494=path_1['default'][_0x124406(0xf1)](this[_0x124406(0x100)],_0xd082d7);if(await fs_internal_1['FS'][_0x124406(0x112)](_0x22b494)){const _0x1ccd54=await fs_internal_1['FS']['readFile'](_0x22b494);this[_0x124406(0x124)][_0xd082d7]=await xml_1[_0x124406(0x109)][_0x124406(0x11f)](_0x1ccd54)[_0x124406(0x123)](_0x436c78=>this[_0x124406(0x114)](_0x436c78,_0x4c898a));}else{this[_0x124406(0x124)][_0xd082d7]=await xml_1[_0x124406(0x109)][_0x124406(0x11f)](_0x2a7120)[_0x124406(0x123)](_0x522c81=>this[_0x124406(0x114)](_0x522c81,_0x4c898a));return;}}const _0x4b6539=this[_0x124406(0x124)][_0xd082d7],_0x146cb0=await xml_1['Xml']['parse'](_0x2a7120)[_0x124406(0x123)](_0x5e75d8=>this[_0x124406(0x114)](_0x5e75d8,_0x4c898a));xml_1['Xml']['replaceOrAppend'](_0x4b6539,_0x146cb0);}catch(_0x34c3ad){if(_0x34c3ad instanceof invalid_xml_error_1[_0x124406(0xf5)]){if(this['skipChildErrors'])return;else throw _0x34c3ad;}throw new Error(_0x124406(0x12b)+_0x4c898a[_0x124406(0xff)]+'\x20['+_0x4c898a[_0x124406(0x104)]+_0x124406(0x10f)+_0x34c3ad);}}async[a92_0x55f6dd(0x117)](){const _0x277eae=a92_0x55f6dd;!await fs_internal_1['FS']['exists'](this[_0x277eae(0x100)])&&await fs_internal_1['FS']['makeDir'](this[_0x277eae(0x100)]);for(const _0x5db1c6 of this[_0x277eae(0x111)]){!child_types_1[_0x277eae(0xfb)]['includes'](_0x5db1c6['fileType'])?(this[_0x277eae(0x10a)][_0x277eae(0x125)](_0x277eae(0x118),_0x5db1c6[_0x277eae(0xff)],_0x5db1c6[_0x277eae(0x104)]),await this[_0x277eae(0x12c)](_0x5db1c6)):(this[_0x277eae(0x10a)]['log'](_0x277eae(0x11a),_0x5db1c6[_0x277eae(0xff)],_0x5db1c6[_0x277eae(0x104)]),await this[_0x277eae(0x122)](_0x5db1c6));}const _0x5efa42=Object[_0x277eae(0x127)](this[_0x277eae(0x124)]);this[_0x277eae(0x10a)]['log']('have\x20to\x20write\x20%d\x20files',this[_0x277eae(0x111)][_0x277eae(0x107)]);while(_0x5efa42[_0x277eae(0x107)]){const _0x11d4f3=_0x5efa42['splice'](0x0,this[_0x277eae(0x101)]);for(const _0x359049 of _0x11d4f3){await fs_internal_1['FS'][_0x277eae(0x105)](path_1[_0x277eae(0xfb)]['join'](this[_0x277eae(0x100)],_0x359049),xml_1[_0x277eae(0x109)]['convertToString'](this[_0x277eae(0x124)][_0x359049]));}}this[_0x277eae(0x124)]={};}}exports[a92_0x55f6dd(0x10c)]=MDApiWriter;function a92_0x16ec(){const _0x38be4d=['handleXmlParsingError','dir','body','start','write\x20parent\x20-\x20%s\x20[%s]','all','write\x20child\x20-\x20%s\x20[%s]','unzip','__esModule','../../internal/fs.internal','map','parse','toString','search','writeChild','catch','parentComponents','log','skipChildErrors','keys','3624225nimHtG','defineProperty','__importDefault','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','writeParent','6447190xgtqVS','723Luback','constructor','132123mYOith','join','files','readZip','3466wnUGTG','InvalidXmlError','20804ZyemNV','async','Logger','path','(((.+)+)+)+$','default','6962616YFOfiD','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','../utils/xml','fileName','sourceDir','MAX_WRITES_PER_TICK','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','1805499TonYXJ','fileType','writeFile','834NHUdTj','length','20GoLgDX','Xml','internalLogger','../utils/zip','MDApiWriter','22adSiHb','../errors/invalid-xml.error','].\x20Original\x20error:\x20','8pRJtVP','components','exists','text'];a92_0x16ec=function(){return _0x38be4d;};return a92_0x16ec();}