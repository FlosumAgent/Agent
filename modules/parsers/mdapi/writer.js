const a81_0x23ff=['96948xtyJpz','mdapi-writer','all','../../../core','log','default','readFile','utf-8','1886657VsERzc','1378830kzqRyp','keys','136792nRaNIX','Logger','writeChild','1ThTrzP','apply','writeParent','523119uYeKXH','1081746HiuVFX','splice','return\x20/\x22\x20+\x20this\x20+\x20\x22/','files','have\x20to\x20write\x20%d\x20files','start','componentType','__esModule','defineProperty','../../internal/fs.internal','child','map','sourceDir','body','length','Xml','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','1420151KQLKFa','exists','parent','constructor','toString','container','from','1NKbLVC','parse','parsedComponents','sourceComponents','path','convertToString','name','__importDefault','join','writed\x20%d\x20files','MDApiWriter'];const a81_0x1a1975=a81_0x26fc;(function(_0x31e3a0,_0x5df55c){const _0x138831=a81_0x26fc;while(!![]){try{const _0x4f1a81=parseInt(_0x138831(0xea))*parseInt(_0x138831(0x11c))+parseInt(_0x138831(0x119))+-parseInt(_0x138831(0x103))*parseInt(_0x138831(0xfc))+-parseInt(_0x138831(0x10e))+-parseInt(_0x138831(0x117))+parseInt(_0x138831(0xeb))+parseInt(_0x138831(0x116));if(_0x4f1a81===_0x5df55c)break;else _0x31e3a0['push'](_0x31e3a0['shift']());}catch(_0x5f354e){_0x31e3a0['push'](_0x31e3a0['shift']());}}}(a81_0x23ff,0xb2ce1));const a81_0x2c9dda=function(){let _0x1aa34c=!![];return function(_0x19cf58,_0x14e970){const _0x517bf7=_0x1aa34c?function(){const _0x4e47a5=a81_0x26fc;if(_0x14e970){const _0x30eed2=_0x14e970[_0x4e47a5(0x11d)](_0x19cf58,arguments);return _0x14e970=null,_0x30eed2;}}:function(){};return _0x1aa34c=![],_0x517bf7;};}(),a81_0x28fe1e=a81_0x2c9dda(this,function(){const _0x42d20e=function(){const _0x30a10e=a81_0x26fc,_0x3a8d80=_0x42d20e[_0x30a10e(0xff)](_0x30a10e(0xed))()[_0x30a10e(0xff)](_0x30a10e(0xfb));return!_0x3a8d80['test'](a81_0x28fe1e);};return _0x42d20e();});a81_0x28fe1e();'use strict';var __importDefault=this&&this[a81_0x1a1975(0x10a)]||function(_0x4a39da){const _0xae7562=a81_0x1a1975;return _0x4a39da&&_0x4a39da[_0xae7562(0xf2)]?_0x4a39da:{'default':_0x4a39da};};Object[a81_0x1a1975(0xf3)](exports,a81_0x1a1975(0xf2),{'value':!![]}),exports[a81_0x1a1975(0x10d)]=void 0x0;function a81_0x26fc(_0xbc333e,_0x166097){return a81_0x26fc=function(_0x1dec19,_0x28fe1e){_0x1dec19=_0x1dec19-0xea;let _0x2c9dda=a81_0x23ff[_0x1dec19];return _0x2c9dda;},a81_0x26fc(_0xbc333e,_0x166097);}const path_1=__importDefault(require(a81_0x1a1975(0x107))),core_1=require(a81_0x1a1975(0x111)),fs_internal_1=require(a81_0x1a1975(0xf4)),xml_1=require('../utils/xml'),logger=new core_1[(a81_0x1a1975(0x11a))](a81_0x1a1975(0x10f));class MDApiWriter{constructor(_0x4472e0,_0x6a9972){const _0x227dcd=a81_0x1a1975;this[_0x227dcd(0x105)]=_0x4472e0,this[_0x227dcd(0xf7)]=_0x6a9972,this['MAX_WRITES_PER_TICK']=0x64,this[_0x227dcd(0x106)]={};}async[a81_0x1a1975(0x11e)](_0x49c74d){const _0x1b37c6=a81_0x1a1975;for(const _0xb0b87e of _0x49c74d){this[_0x1b37c6(0x106)][_0xb0b87e[_0x1b37c6(0x109)]]=_0xb0b87e[_0x1b37c6(0xf8)];}}async[a81_0x1a1975(0x11b)](_0x5cf1bd){const _0x22fd10=a81_0x1a1975;if(!this[_0x22fd10(0x106)][_0x5cf1bd[_0x22fd10(0x109)]]){const _0x13e8b7=path_1[_0x22fd10(0x113)][_0x22fd10(0x10b)](this[_0x22fd10(0xf7)],_0x5cf1bd[_0x22fd10(0x109)]);if(await fs_internal_1['FS'][_0x22fd10(0xfd)](_0x13e8b7)){const _0x8a35e1=await fs_internal_1['FS'][_0x22fd10(0x114)](_0x13e8b7);this[_0x22fd10(0x106)][_0x5cf1bd[_0x22fd10(0x109)]]=Buffer[_0x22fd10(0x102)](_0x8a35e1);}else{this['sourceComponents'][_0x5cf1bd['name']]=_0x5cf1bd[_0x22fd10(0xf8)];return;}}const [_0x3ced6e,_0x5864e5]=await Promise[_0x22fd10(0x110)]([xml_1['Xml']['parse'](this[_0x22fd10(0x106)][_0x5cf1bd[_0x22fd10(0x109)]][_0x22fd10(0x100)](_0x22fd10(0x115))),xml_1[_0x22fd10(0xfa)][_0x22fd10(0x104)](_0x5cf1bd[_0x22fd10(0xf8)]['toString'](_0x22fd10(0x115)))]);xml_1[_0x22fd10(0xfa)]['replaceOrAppend'](_0x3ced6e,_0x5864e5),this['sourceComponents'][_0x5cf1bd[_0x22fd10(0x109)]]=Buffer[_0x22fd10(0x102)](xml_1[_0x22fd10(0xfa)][_0x22fd10(0x108)](_0x3ced6e));}async[a81_0x1a1975(0xf0)](){const _0x386593=a81_0x1a1975;!await fs_internal_1['FS'][_0x386593(0xfd)](this[_0x386593(0xf7)])&&await fs_internal_1['FS']['makeDir'](this[_0x386593(0xf7)]);for(const _0x54b8ef of this[_0x386593(0x105)]){if(_0x54b8ef[_0x386593(0xf1)]===_0x386593(0xfe)||_0x54b8ef[_0x386593(0xf1)]===_0x386593(0x101))await this[_0x386593(0x11e)](_0x54b8ef[_0x386593(0xee)]);else _0x54b8ef[_0x386593(0xf1)]===_0x386593(0xf5)&&await this[_0x386593(0x11b)](_0x54b8ef['files'][0x0]);}const _0x248213=Object[_0x386593(0x118)](this['sourceComponents']);logger['log'](_0x386593(0xef),_0x248213[_0x386593(0xf9)]);while(_0x248213[_0x386593(0xf9)]){const _0x4174a6=_0x248213[_0x386593(0xec)](0x0,this['MAX_WRITES_PER_TICK']);await Promise[_0x386593(0x110)](_0x4174a6[_0x386593(0xf6)](_0x5dfc28=>fs_internal_1['FS']['writeFile'](path_1[_0x386593(0x113)][_0x386593(0x10b)](this['sourceDir'],_0x5dfc28),this[_0x386593(0x106)][_0x5dfc28]))),logger[_0x386593(0x112)](_0x386593(0x10c),_0x4174a6[_0x386593(0xf9)]);}this[_0x386593(0x106)]={};}}exports[a81_0x1a1975(0x10d)]=MDApiWriter;