const a81_0x337e=['490024ObHLpC','apply','utf-8','exists','writed\x20%d\x20files','993778PliGuz','name','mdapi-writer','map','__esModule','test','toString','container','length','log','join','824019KcmjSU','../../../core','parse','child','1Hzpzjr','389282dGxQXa','109543hpcBYy','Xml','sourceDir','return\x20/\x22\x20+\x20this\x20+\x20\x22/','271571tClyRT','constructor','start','body','writeParent','files','writeChild','MDApiWriter','Logger','90812zXghWA','writeFile','6DFycYD','makeDir','default','path','defineProperty','parsedComponents','readFile','componentType','replaceOrAppend','sourceComponents','splice'];const a81_0x2b0558=a81_0x44cd;(function(_0x35fae8,_0x18360c){const _0x17bf6a=a81_0x44cd;while(!![]){try{const _0x1395b3=-parseInt(_0x17bf6a(0x1bc))+parseInt(_0x17bf6a(0x1e1))+parseInt(_0x17bf6a(0x1dc))+-parseInt(_0x17bf6a(0x1c1))*-parseInt(_0x17bf6a(0x1c0))+parseInt(_0x17bf6a(0x1c6))+-parseInt(_0x17bf6a(0x1cf))+-parseInt(_0x17bf6a(0x1d1))*parseInt(_0x17bf6a(0x1c2));if(_0x1395b3===_0x18360c)break;else _0x35fae8['push'](_0x35fae8['shift']());}catch(_0x141f6e){_0x35fae8['push'](_0x35fae8['shift']());}}}(a81_0x337e,0x8bc96));const a81_0x2521db=function(){let _0xf4d3de=!![];return function(_0x11f288,_0x2266b6){const _0x326497=_0xf4d3de?function(){const _0x1a3e36=a81_0x44cd;if(_0x2266b6){const _0x14beb1=_0x2266b6[_0x1a3e36(0x1dd)](_0x11f288,arguments);return _0x2266b6=null,_0x14beb1;}}:function(){};return _0xf4d3de=![],_0x326497;};}(),a81_0x135d0c=a81_0x2521db(this,function(){const _0x211833=function(){const _0x233b19=a81_0x44cd,_0x62ee82=_0x211833[_0x233b19(0x1c7)](_0x233b19(0x1c5))()[_0x233b19(0x1c7)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x62ee82[_0x233b19(0x1e6)](a81_0x135d0c);};return _0x211833();});a81_0x135d0c();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2bf5bb){const _0x2120d3=a81_0x44cd;return _0x2bf5bb&&_0x2bf5bb[_0x2120d3(0x1e5)]?_0x2bf5bb:{'default':_0x2bf5bb};};Object[a81_0x2b0558(0x1d5)](exports,a81_0x2b0558(0x1e5),{'value':!![]}),exports[a81_0x2b0558(0x1cd)]=void 0x0;const path_1=__importDefault(require(a81_0x2b0558(0x1d4))),core_1=require(a81_0x2b0558(0x1bd)),fs_internal_1=require('../../internal/fs.internal'),xml_1=require('../utils/xml'),logger=new core_1[(a81_0x2b0558(0x1ce))](a81_0x2b0558(0x1e3));class MDApiWriter{constructor(_0x76fd2c,_0x3da2c0){const _0x1ec33d=a81_0x2b0558;this['parsedComponents']=_0x76fd2c,this[_0x1ec33d(0x1c4)]=_0x3da2c0,this['MAX_WRITES_PER_TICK']=0x64,this[_0x1ec33d(0x1da)]={};}async[a81_0x2b0558(0x1ca)](_0x5b2b47){const _0x58e709=a81_0x2b0558;for(const _0x3193ef of _0x5b2b47){this[_0x58e709(0x1da)][_0x3193ef[_0x58e709(0x1e2)]]=_0x3193ef[_0x58e709(0x1c9)];}}async[a81_0x2b0558(0x1cc)](_0x53c9a2){const _0x15657e=a81_0x2b0558;if(!this[_0x15657e(0x1da)][_0x53c9a2[_0x15657e(0x1e2)]]){const _0xb7a341=path_1[_0x15657e(0x1d3)][_0x15657e(0x1bb)](this[_0x15657e(0x1c4)],_0x53c9a2[_0x15657e(0x1e2)]);if(await fs_internal_1['FS'][_0x15657e(0x1df)](_0xb7a341)){const _0x97b9b4=await fs_internal_1['FS'][_0x15657e(0x1d7)](_0xb7a341);this[_0x15657e(0x1da)][_0x53c9a2[_0x15657e(0x1e2)]]=Buffer['from'](_0x97b9b4);}else{this['sourceComponents'][_0x53c9a2[_0x15657e(0x1e2)]]=_0x53c9a2[_0x15657e(0x1c9)];return;}}const [_0x436f3c,_0x566ac8]=await Promise['all']([xml_1[_0x15657e(0x1c3)][_0x15657e(0x1be)](this[_0x15657e(0x1da)][_0x53c9a2[_0x15657e(0x1e2)]][_0x15657e(0x1e7)](_0x15657e(0x1de))),xml_1[_0x15657e(0x1c3)]['parse'](_0x53c9a2[_0x15657e(0x1c9)]['toString'](_0x15657e(0x1de)))]);xml_1[_0x15657e(0x1c3)][_0x15657e(0x1d9)](_0x436f3c,_0x566ac8),this[_0x15657e(0x1da)][_0x53c9a2[_0x15657e(0x1e2)]]=Buffer['from'](xml_1[_0x15657e(0x1c3)]['convertToString'](_0x436f3c));}async[a81_0x2b0558(0x1c8)](){const _0x293078=a81_0x2b0558;!await fs_internal_1['FS'][_0x293078(0x1df)](this[_0x293078(0x1c4)])&&await fs_internal_1['FS'][_0x293078(0x1d2)](this[_0x293078(0x1c4)]);for(const _0x2d55a4 of this[_0x293078(0x1d6)]){if(_0x2d55a4[_0x293078(0x1d8)]==='parent'||_0x2d55a4[_0x293078(0x1d8)]===_0x293078(0x1e8))await this['writeParent'](_0x2d55a4[_0x293078(0x1cb)]);else _0x2d55a4[_0x293078(0x1d8)]===_0x293078(0x1bf)&&await this[_0x293078(0x1cc)](_0x2d55a4[_0x293078(0x1cb)][0x0]);}const _0xae5c7d=Object['keys'](this[_0x293078(0x1da)]);logger[_0x293078(0x1ba)]('have\x20to\x20write\x20%d\x20files',_0xae5c7d[_0x293078(0x1b9)]);while(_0xae5c7d[_0x293078(0x1b9)]){const _0x1ec9ac=_0xae5c7d[_0x293078(0x1db)](0x0,this['MAX_WRITES_PER_TICK']);await Promise['all'](_0x1ec9ac[_0x293078(0x1e4)](_0x1e20f3=>fs_internal_1['FS'][_0x293078(0x1d0)](path_1[_0x293078(0x1d3)][_0x293078(0x1bb)](this[_0x293078(0x1c4)],_0x1e20f3),this[_0x293078(0x1da)][_0x1e20f3]))),logger['log'](_0x293078(0x1e0),_0x1ec9ac[_0x293078(0x1b9)]);}this[_0x293078(0x1da)]={};}}function a81_0x44cd(_0x1dc590,_0x19c09d){return a81_0x44cd=function(_0x5f1650,_0x135d0c){_0x5f1650=_0x5f1650-0x1b9;let _0x2521db=a81_0x337e[_0x5f1650];return _0x2521db;},a81_0x44cd(_0x1dc590,_0x19c09d);}exports[a81_0x2b0558(0x1cd)]=MDApiWriter;