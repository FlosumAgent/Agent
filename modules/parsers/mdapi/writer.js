const a84_0x5792d0=a84_0x2d4e;(function(_0x2ac6ca,_0x114c63){const _0x14f838=a84_0x2d4e,_0x1240a2=_0x2ac6ca();while(!![]){try{const _0x310757=-parseInt(_0x14f838(0xf4))/0x1+-parseInt(_0x14f838(0xca))/0x2+parseInt(_0x14f838(0xe8))/0x3*(-parseInt(_0x14f838(0xf0))/0x4)+-parseInt(_0x14f838(0xd7))/0x5+-parseInt(_0x14f838(0xba))/0x6*(-parseInt(_0x14f838(0xc3))/0x7)+parseInt(_0x14f838(0xe2))/0x8+parseInt(_0x14f838(0xcf))/0x9;if(_0x310757===_0x114c63)break;else _0x1240a2['push'](_0x1240a2['shift']());}catch(_0x15dbfa){_0x1240a2['push'](_0x1240a2['shift']());}}}(a84_0x3165,0x99eac));const a84_0x1c164f=function(){let _0x4bfd15=!![];return function(_0x562f27,_0x41c844){const _0x325514=_0x4bfd15?function(){const _0x5d2d10=a84_0x2d4e;if(_0x41c844){const _0x29ac35=_0x41c844[_0x5d2d10(0xc0)](_0x562f27,arguments);return _0x41c844=null,_0x29ac35;}}:function(){};return _0x4bfd15=![],_0x325514;};}(),a84_0xb844dd=a84_0x1c164f(this,function(){const _0x12e53f=a84_0x2d4e;return a84_0xb844dd['toString']()['search'](_0x12e53f(0xf1))[_0x12e53f(0xd2)]()['constructor'](a84_0xb844dd)[_0x12e53f(0xc6)](_0x12e53f(0xf1));});a84_0xb844dd();'use strict';var __importDefault=this&&this[a84_0x5792d0(0xd6)]||function(_0x353120){return _0x353120&&_0x353120['__esModule']?_0x353120:{'default':_0x353120};};Object[a84_0x5792d0(0xe6)](exports,a84_0x5792d0(0xf2),{'value':!![]}),exports[a84_0x5792d0(0xee)]=void 0x0;const path_1=__importDefault(require(a84_0x5792d0(0xbe))),core_1=require(a84_0x5792d0(0xd0)),fs_internal_1=require(a84_0x5792d0(0xdb)),invalid_xml_error_1=require(a84_0x5792d0(0xdc)),xml_1=require(a84_0x5792d0(0xc7)),zip_1=require(a84_0x5792d0(0xb8)),child_types_1=__importDefault(require(a84_0x5792d0(0xeb)));class MDApiWriter{constructor({components:_0x318a00,sourceDir:_0xb52f10,logger:_0x1e7046,skipChildErrors:_0x35d280}){const _0x4571c3=a84_0x5792d0;this[_0x4571c3(0xdf)]=0x64,this['parentComponents']={},this[_0x4571c3(0xc9)]=new core_1[(_0x4571c3(0xd3))](MDApiWriter[_0x4571c3(0xec)]),this[_0x4571c3(0xb9)]=_0x318a00,this[_0x4571c3(0xe1)]=_0xb52f10,this[_0x4571c3(0xda)]=_0x35d280,this['logger']=_0x1e7046;}async[a84_0x5792d0(0xea)](_0x56b61a){const _0x1d9683=a84_0x5792d0,_0x2455ce=await zip_1[_0x1d9683(0xe9)][_0x1d9683(0xf8)](_0x56b61a),_0x1912b9=[];for(const _0x3120c1 of Object[_0x1d9683(0xf3)](_0x2455ce[_0x1d9683(0xe4)])){!_0x2455ce[_0x1d9683(0xe4)][_0x3120c1][_0x1d9683(0xf9)]&&_0x1912b9['push']({'filename':_0x3120c1,'body':await _0x2455ce[_0x1d9683(0xe4)][_0x3120c1]['async'](_0x1d9683(0xdd))});}return _0x1912b9;}async[a84_0x5792d0(0xde)](_0x345789){const _0xcb031b=a84_0x5792d0;try{const _0x4fab19=await this[_0xcb031b(0xea)](_0x345789[_0xcb031b(0xd9)]);await Promise[_0xcb031b(0xd1)](_0x4fab19[_0xcb031b(0xe5)](({filename:_0x479906,body:_0x37edfa})=>fs_internal_1['FS']['writeFile'](path_1[_0xcb031b(0xd8)]['join'](this['sourceDir'],_0x479906),_0x37edfa)));}catch(_0x5216f8){throw new Error('[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20'+_0x345789[_0xcb031b(0xfa)]+'\x20['+_0x345789[_0xcb031b(0xbb)]+'].\x20Original\x20error:\x20'+_0x5216f8);}}[a84_0x5792d0(0xc4)](_0x405452,_0x456325){const _0x24825e=a84_0x5792d0;throw new invalid_xml_error_1[(_0x24825e(0xcd))](_0x24825e(0xf5)+_0x456325[_0x24825e(0xfa)]+'\x20['+_0x456325[_0x24825e(0xbb)]+_0x24825e(0xcc)+_0x405452);}async[a84_0x5792d0(0xc5)](_0x294224){const _0x44a134=a84_0x5792d0,{filename:_0x33620e,body:_0x2a0b7b}=(await this[_0x44a134(0xea)](_0x294224[_0x44a134(0xd9)]))[0x0];try{if(!this['parentComponents'][_0x33620e]){const _0x57f93f=path_1[_0x44a134(0xd8)][_0x44a134(0xd4)](this['sourceDir'],_0x33620e);if(await fs_internal_1['FS'][_0x44a134(0xef)](_0x57f93f)){const _0x1a4e02=await fs_internal_1['FS'][_0x44a134(0xc8)](_0x57f93f);this[_0x44a134(0xfb)][_0x33620e]=await xml_1[_0x44a134(0xe3)][_0x44a134(0xce)](_0x1a4e02)[_0x44a134(0xbc)](_0x363424=>this[_0x44a134(0xc4)](_0x363424,_0x294224));}else{this['parentComponents'][_0x33620e]=await xml_1[_0x44a134(0xe3)][_0x44a134(0xce)](_0x2a0b7b)[_0x44a134(0xbc)](_0x3da9b9=>this['handleXmlParsingError'](_0x3da9b9,_0x294224));return;}}const _0x519c44=this[_0x44a134(0xfb)][_0x33620e],_0x4cdc93=await xml_1[_0x44a134(0xe3)][_0x44a134(0xce)](_0x2a0b7b)['catch'](_0x1f9060=>this[_0x44a134(0xc4)](_0x1f9060,_0x294224));xml_1[_0x44a134(0xe3)][_0x44a134(0xc2)](_0x519c44,_0x4cdc93);}catch(_0x2f0997){if(_0x2f0997 instanceof invalid_xml_error_1['InvalidXmlError']){this[_0x44a134(0xbf)](_0x2f0997[_0x44a134(0xd5)]);if(this['skipChildErrors'])return;else throw _0x2f0997;}throw new Error(_0x44a134(0xfc)+_0x294224[_0x44a134(0xfa)]+'\x20['+_0x294224[_0x44a134(0xbb)]+_0x44a134(0xcc)+_0x2f0997);}}async[a84_0x5792d0(0xf6)](){const _0x55c68a=a84_0x5792d0;!await fs_internal_1['FS'][_0x55c68a(0xef)](this[_0x55c68a(0xe1)])&&await fs_internal_1['FS'][_0x55c68a(0xbd)](this[_0x55c68a(0xe1)]);for(const _0x4c11fb of this[_0x55c68a(0xb9)]){!child_types_1['default']['includes'](_0x4c11fb[_0x55c68a(0xbb)])?(this[_0x55c68a(0xc9)]['log']('write\x20parent\x20-\x20%s\x20[%s]',_0x4c11fb[_0x55c68a(0xfa)],_0x4c11fb[_0x55c68a(0xbb)]),await this['writeParent'](_0x4c11fb)):(this[_0x55c68a(0xc9)][_0x55c68a(0xf7)](_0x55c68a(0xed),_0x4c11fb[_0x55c68a(0xfa)],_0x4c11fb[_0x55c68a(0xbb)]),await this[_0x55c68a(0xc5)](_0x4c11fb));}const _0x5c245a=Object[_0x55c68a(0xf3)](this['parentComponents']);this[_0x55c68a(0xc9)]['log'](_0x55c68a(0xc1),this['components']['length']);while(_0x5c245a['length']){const _0x7ac608=_0x5c245a[_0x55c68a(0xcb)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x1cb901 of _0x7ac608){await fs_internal_1['FS'][_0x55c68a(0xe7)](path_1['default'][_0x55c68a(0xd4)](this[_0x55c68a(0xe1)],_0x1cb901),xml_1[_0x55c68a(0xe3)][_0x55c68a(0xe0)](this[_0x55c68a(0xfb)][_0x1cb901]));}}this[_0x55c68a(0xfb)]={};}}exports[a84_0x5792d0(0xee)]=MDApiWriter;function a84_0x2d4e(_0x1f6c56,_0x3262b0){const _0x3a268a=a84_0x3165();return a84_0x2d4e=function(_0xb844dd,_0x1c164f){_0xb844dd=_0xb844dd-0xb8;let _0x316543=_0x3a268a[_0xb844dd];return _0x316543;},a84_0x2d4e(_0x1f6c56,_0x3262b0);}function a84_0x3165(){const _0x136a93=['MAX_WRITES_PER_TICK','convertToString','sourceDir','328064VfmLOr','Xml','files','map','defineProperty','writeFile','15pDyyIK','Zip','readZip','./child-types','name','write\x20child\x20-\x20%s\x20[%s]','MDApiWriter','exists','285996NbHMui','(((.+)+)+)+$','__esModule','keys','143994cfTdpE','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','start','log','unzip','dir','fileName','parentComponents','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','../utils/zip','components','198gnXKyQ','fileType','catch','makeDir','path','logger','apply','have\x20to\x20write\x20%d\x20files','replaceOrAppend','45185MsoAQf','handleXmlParsingError','writeChild','search','../utils/xml','readFile','internalLogger','184446ruUVHh','splice','].\x20Original\x20error:\x20','InvalidXmlError','parse','13976919pmlJQK','../../../core','all','toString','Logger','join','message','__importDefault','2914290AqlERy','default','body','skipChildErrors','../../internal/fs.internal','../errors/invalid-xml.error','text','writeParent'];a84_0x3165=function(){return _0x136a93;};return a84_0x3165();}