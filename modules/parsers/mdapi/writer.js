const a84_0x1fbfcb=a84_0x4157;(function(_0x1916bb,_0x52321c){const _0x421150=a84_0x4157,_0x327c4f=_0x1916bb();while(!![]){try{const _0x3c4d32=parseInt(_0x421150(0x1c8))/0x1+parseInt(_0x421150(0x1cc))/0x2*(parseInt(_0x421150(0x1f2))/0x3)+-parseInt(_0x421150(0x1d7))/0x4*(-parseInt(_0x421150(0x1d9))/0x5)+-parseInt(_0x421150(0x1e1))/0x6+-parseInt(_0x421150(0x1be))/0x7+-parseInt(_0x421150(0x1dd))/0x8+parseInt(_0x421150(0x1bd))/0x9;if(_0x3c4d32===_0x52321c)break;else _0x327c4f['push'](_0x327c4f['shift']());}catch(_0x513bf4){_0x327c4f['push'](_0x327c4f['shift']());}}}(a84_0x2e22,0x50e80));const a84_0x37b795=function(){let _0x258b2b=!![];return function(_0x148968,_0x35561f){const _0x2021b9=_0x258b2b?function(){const _0x25db65=a84_0x4157;if(_0x35561f){const _0x2d7e17=_0x35561f[_0x25db65(0x1de)](_0x148968,arguments);return _0x35561f=null,_0x2d7e17;}}:function(){};return _0x258b2b=![],_0x2021b9;};}(),a84_0x4dcbfe=a84_0x37b795(this,function(){const _0xbbdac3=a84_0x4157;return a84_0x4dcbfe[_0xbbdac3(0x1bc)]()[_0xbbdac3(0x1e4)](_0xbbdac3(0x1e9))[_0xbbdac3(0x1bc)]()['constructor'](a84_0x4dcbfe)[_0xbbdac3(0x1e4)](_0xbbdac3(0x1e9));});function a84_0x4157(_0x49efa7,_0x44d009){const _0x5a8a4f=a84_0x2e22();return a84_0x4157=function(_0x4dcbfe,_0x37b795){_0x4dcbfe=_0x4dcbfe-0x1b3;let _0x2e22ca=_0x5a8a4f[_0x4dcbfe];return _0x2e22ca;},a84_0x4157(_0x49efa7,_0x44d009);}a84_0x4dcbfe();'use strict';var __importDefault=this&&this[a84_0x1fbfcb(0x1da)]||function(_0x4590f7){const _0x2389d6=a84_0x1fbfcb;return _0x4590f7&&_0x4590f7[_0x2389d6(0x1c7)]?_0x4590f7:{'default':_0x4590f7};};Object[a84_0x1fbfcb(0x1cf)](exports,a84_0x1fbfcb(0x1c7),{'value':!![]}),exports[a84_0x1fbfcb(0x1e3)]=void 0x0;const path_1=__importDefault(require(a84_0x1fbfcb(0x1e5))),core_1=require(a84_0x1fbfcb(0x1e0)),fs_internal_1=require(a84_0x1fbfcb(0x1ce)),invalid_xml_error_1=require('../errors/invalid-xml.error'),xml_1=require(a84_0x1fbfcb(0x1dc)),zip_1=require(a84_0x1fbfcb(0x1d5)),child_types_1=__importDefault(require('./child-types')),logger=new core_1[(a84_0x1fbfcb(0x1b6))]('mdapi-writer');class MDApiWriter{constructor({components:_0x2af982,sourceDir:_0x2c1ce9,logger:_0x38826a,skipChildErrors:_0x3cef27}){const _0x10792a=a84_0x1fbfcb;this[_0x10792a(0x1cb)]=0x64,this[_0x10792a(0x1d4)]={},this[_0x10792a(0x1d8)]=_0x2af982,this[_0x10792a(0x1b3)]=_0x2c1ce9,this['skipChildErrors']=_0x3cef27,this[_0x10792a(0x1d3)]=_0x38826a;}async[a84_0x1fbfcb(0x1b8)](_0x420059){const _0x4f9af5=a84_0x1fbfcb,_0x159c0a=await zip_1[_0x4f9af5(0x1ba)][_0x4f9af5(0x1ca)](_0x420059),_0x3ef5c4=[];for(const _0x554d1c of Object[_0x4f9af5(0x1d1)](_0x159c0a[_0x4f9af5(0x1ee)])){!_0x159c0a['files'][_0x554d1c][_0x4f9af5(0x1c0)]&&_0x3ef5c4[_0x4f9af5(0x1bb)]({'filename':_0x554d1c,'body':await _0x159c0a[_0x4f9af5(0x1ee)][_0x554d1c][_0x4f9af5(0x1c9)](_0x4f9af5(0x1f0))});}return _0x3ef5c4;}async[a84_0x1fbfcb(0x1bf)](_0x221ec8){const _0xf2b532=a84_0x1fbfcb;try{const _0x3843e6=await this[_0xf2b532(0x1b8)](_0x221ec8[_0xf2b532(0x1ea)]);await Promise[_0xf2b532(0x1c4)](_0x3843e6[_0xf2b532(0x1d2)](({filename:_0xe3d78b,body:_0x4312bb})=>fs_internal_1['FS'][_0xf2b532(0x1db)](path_1['default'][_0xf2b532(0x1c5)](this[_0xf2b532(0x1b3)],_0xe3d78b),_0x4312bb)));}catch(_0x2976c2){throw new Error('An\x20error\x20occured\x20when\x20proceeding\x20component\x20'+_0x221ec8[_0xf2b532(0x1f4)]+'\x20['+_0x221ec8['fileType']+_0xf2b532(0x1b5)+_0x2976c2);}}[a84_0x1fbfcb(0x1e7)](_0x1ddcac,_0x15703e){const _0x579a88=a84_0x1fbfcb;throw new invalid_xml_error_1[(_0x579a88(0x1e2))](_0x579a88(0x1b4)+_0x15703e[_0x579a88(0x1f4)]+'\x20['+_0x15703e[_0x579a88(0x1c6)]+_0x579a88(0x1b5)+_0x1ddcac);}async['writeChild'](_0x508e35){const _0x155626=a84_0x1fbfcb,{filename:_0x92c116,body:_0x131a6c}=(await this[_0x155626(0x1b8)](_0x508e35[_0x155626(0x1ea)]))[0x0];try{if(!this[_0x155626(0x1d4)][_0x92c116]){const _0x43d508=path_1['default'][_0x155626(0x1c5)](this[_0x155626(0x1b3)],_0x92c116);if(await fs_internal_1['FS'][_0x155626(0x1ef)](_0x43d508)){const _0x206152=await fs_internal_1['FS'][_0x155626(0x1eb)](_0x43d508);this['parentComponents'][_0x92c116]=await xml_1['Xml'][_0x155626(0x1d0)](_0x206152)[_0x155626(0x1e6)](_0x1efe83=>this[_0x155626(0x1e7)](_0x1efe83,_0x508e35));}else{this[_0x155626(0x1d4)][_0x92c116]=await xml_1[_0x155626(0x1df)][_0x155626(0x1d0)](_0x131a6c)[_0x155626(0x1e6)](_0x325461=>this[_0x155626(0x1e7)](_0x325461,_0x508e35));return;}}const _0x1b978a=this[_0x155626(0x1d4)][_0x92c116],_0x338b07=await xml_1[_0x155626(0x1df)]['parse'](_0x131a6c)[_0x155626(0x1e6)](_0x25d89e=>this[_0x155626(0x1e7)](_0x25d89e,_0x508e35));xml_1[_0x155626(0x1df)][_0x155626(0x1e8)](_0x1b978a,_0x338b07);}catch(_0x3c4fd0){if(_0x3c4fd0 instanceof invalid_xml_error_1[_0x155626(0x1e2)]){this['logger'](_0x3c4fd0[_0x155626(0x1f1)]);if(this[_0x155626(0x1f3)])return;else throw _0x3c4fd0;}throw new Error(_0x155626(0x1c2)+_0x508e35[_0x155626(0x1f4)]+'\x20['+_0x508e35[_0x155626(0x1c6)]+_0x155626(0x1b5)+_0x3c4fd0);}}async[a84_0x1fbfcb(0x1ec)](){const _0x527a0f=a84_0x1fbfcb;!await fs_internal_1['FS'][_0x527a0f(0x1ef)](this[_0x527a0f(0x1b3)])&&await fs_internal_1['FS']['makeDir'](this[_0x527a0f(0x1b3)]);for(const _0x3c3b4d of this['components']){!child_types_1[_0x527a0f(0x1c3)][_0x527a0f(0x1cd)](_0x3c3b4d['fileType'])?await this[_0x527a0f(0x1bf)](_0x3c3b4d):await this[_0x527a0f(0x1f5)](_0x3c3b4d);}const _0x49554b=Object[_0x527a0f(0x1d1)](this[_0x527a0f(0x1d4)]);logger[_0x527a0f(0x1ed)](_0x527a0f(0x1b9),this[_0x527a0f(0x1d8)][_0x527a0f(0x1d6)]);while(_0x49554b[_0x527a0f(0x1d6)]){const _0x8d355d=_0x49554b[_0x527a0f(0x1c1)](0x0,this[_0x527a0f(0x1cb)]);for(const _0x504f4c of _0x8d355d){await fs_internal_1['FS'][_0x527a0f(0x1db)](path_1[_0x527a0f(0x1c3)][_0x527a0f(0x1c5)](this[_0x527a0f(0x1b3)],_0x504f4c),xml_1[_0x527a0f(0x1df)][_0x527a0f(0x1b7)](this['parentComponents'][_0x504f4c]));}}this[_0x527a0f(0x1d4)]={};}}exports[a84_0x1fbfcb(0x1e3)]=MDApiWriter;function a84_0x2e22(){const _0x455157=['join','fileType','__esModule','246606KTHiUx','async','unzip','MAX_WRITES_PER_TICK','39868FqntHz','includes','../../internal/fs.internal','defineProperty','parse','keys','map','logger','parentComponents','../utils/zip','length','196jlDdmQ','components','12295mKCuwH','__importDefault','writeFile','../utils/xml','75704RNMJct','apply','Xml','../../../core','1428384mESfEs','InvalidXmlError','MDApiWriter','search','path','catch','handleXmlParsingError','replaceOrAppend','(((.+)+)+)+$','body','readFile','start','log','files','exists','text','message','24ksIKjf','skipChildErrors','fileName','writeChild','sourceDir','[InvalidXmlError]\x20An\x20error\x20occurred\x20when\x20proceeding\x20XML\x20','].\x20Original\x20error:\x20','Logger','convertToString','readZip','have\x20to\x20write\x20%d\x20files','Zip','push','toString','1426356FaqPBD','742938yqKewD','writeParent','dir','splice','An\x20error\x20occurred\x20when\x20proceeding\x20component\x20','default','all'];a84_0x2e22=function(){return _0x455157;};return a84_0x2e22();}