const a83_0x1e842a=a83_0xc564;(function(_0x58cc20,_0x191239){const _0x4d49bc=a83_0xc564,_0x4e7c9b=_0x58cc20();while(!![]){try{const _0x22514e=parseInt(_0x4d49bc(0x9b))/0x1*(parseInt(_0x4d49bc(0xb2))/0x2)+parseInt(_0x4d49bc(0xc2))/0x3+-parseInt(_0x4d49bc(0xa3))/0x4*(parseInt(_0x4d49bc(0xb0))/0x5)+parseInt(_0x4d49bc(0x9d))/0x6*(parseInt(_0x4d49bc(0x95))/0x7)+-parseInt(_0x4d49bc(0xa5))/0x8*(-parseInt(_0x4d49bc(0xa7))/0x9)+parseInt(_0x4d49bc(0xa4))/0xa*(parseInt(_0x4d49bc(0x99))/0xb)+-parseInt(_0x4d49bc(0xa6))/0xc*(parseInt(_0x4d49bc(0xb5))/0xd);if(_0x22514e===_0x191239)break;else _0x4e7c9b['push'](_0x4e7c9b['shift']());}catch(_0x55475f){_0x4e7c9b['push'](_0x4e7c9b['shift']());}}}(a83_0x5bfd,0xa8479));const a83_0x14643c=function(){let _0x12fe67=!![];return function(_0x1c2b4d,_0x4f1884){const _0xaea03b=_0x12fe67?function(){if(_0x4f1884){const _0x33f92d=_0x4f1884['apply'](_0x1c2b4d,arguments);return _0x4f1884=null,_0x33f92d;}}:function(){};return _0x12fe67=![],_0xaea03b;};}(),a83_0x309787=a83_0x14643c(this,function(){const _0x38d63b=a83_0xc564;return a83_0x309787['toString']()[_0x38d63b(0xab)](_0x38d63b(0x98))[_0x38d63b(0x8f)]()[_0x38d63b(0xc8)](a83_0x309787)[_0x38d63b(0xab)](_0x38d63b(0x98));});a83_0x309787();'use strict';var __importDefault=this&&this[a83_0x1e842a(0xc7)]||function(_0x30ebd5){const _0x298d75=a83_0x1e842a;return _0x30ebd5&&_0x30ebd5[_0x298d75(0xb9)]?_0x30ebd5:{'default':_0x30ebd5};};function a83_0x5bfd(){const _0x352b83=['writeParent','readZip','MAX_WRITES_PER_TICK','includes','fileType','1545132PqRqYO','Zip','../../internal/fs.internal','parentComponents','all','__importDefault','constructor','writeChild','exists','toString','convertToString','join','./child-types','MDApiWriter','components','1129044WjvuHk','dir','log','(((.+)+)+)+$','121CjmtKa','makeDir','93FpNgft','An\x20error\x20occured\x20when\x20proceeding\x20component\x20','6TawgAL','../utils/zip','path','].\x20Original\x20error:\x20','length','writeFile','1325408ftXaGU','506840VQimix','5024936ysJSAg','12JQwHLE','9AfAyQd','defineProperty','unzip','readFile','search','have\x20to\x20write\x20%d\x20files','Xml','start','parse','20FBbNQd','sourceDir','21802KHBwpb','default','async','11194157ANANcZ','body','map','fileName','__esModule','replaceOrAppend','files','keys'];a83_0x5bfd=function(){return _0x352b83;};return a83_0x5bfd();}Object[a83_0x1e842a(0xa8)](exports,a83_0x1e842a(0xb9),{'value':!![]}),exports[a83_0x1e842a(0x93)]=void 0x0;const path_1=__importDefault(require(a83_0x1e842a(0x9f))),core_1=require('../../../core'),fs_internal_1=require(a83_0x1e842a(0xc4)),xml_1=require('../utils/xml'),zip_1=require(a83_0x1e842a(0x9e)),child_types_1=__importDefault(require(a83_0x1e842a(0x92))),logger=new core_1['Logger']('mdapi-writer');function a83_0xc564(_0x493d82,_0xb3fed8){const _0x3c7601=a83_0x5bfd();return a83_0xc564=function(_0x309787,_0x14643c){_0x309787=_0x309787-0x8e;let _0x5bfda4=_0x3c7601[_0x309787];return _0x5bfda4;},a83_0xc564(_0x493d82,_0xb3fed8);}class MDApiWriter{constructor(_0x17cd31,_0x44aca4){const _0x226a51=a83_0x1e842a;this[_0x226a51(0x94)]=_0x17cd31,this[_0x226a51(0xb1)]=_0x44aca4,this['MAX_WRITES_PER_TICK']=0x64,this[_0x226a51(0xc5)]={};}async['readZip'](_0xf994f4){const _0x45e926=a83_0x1e842a,_0x48e2b8=await zip_1[_0x45e926(0xc3)][_0x45e926(0xa9)](_0xf994f4),_0x35e43d=[];for(const _0x2604a0 of Object['keys'](_0x48e2b8['files'])){!_0x48e2b8['files'][_0x2604a0][_0x45e926(0x96)]&&_0x35e43d['push']({'filename':_0x2604a0,'body':await _0x48e2b8[_0x45e926(0xbb)][_0x2604a0][_0x45e926(0xb4)]('text')});}return _0x35e43d;}async[a83_0x1e842a(0xbd)](_0x33c61e){const _0x25dcae=a83_0x1e842a;try{const _0x50928f=await this[_0x25dcae(0xbe)](_0x33c61e[_0x25dcae(0xb6)]);await Promise[_0x25dcae(0xc6)](_0x50928f[_0x25dcae(0xb7)](({filename:_0x1297ff,body:_0x59a458})=>fs_internal_1['FS'][_0x25dcae(0xa2)](path_1[_0x25dcae(0xb3)][_0x25dcae(0x91)](this[_0x25dcae(0xb1)],_0x1297ff),_0x59a458)));}catch(_0xa88b4a){throw new Error(_0x25dcae(0x9c)+_0x33c61e[_0x25dcae(0xb8)]+'\x20['+_0x33c61e['fileType']+_0x25dcae(0xa0)+_0xa88b4a);}}async[a83_0x1e842a(0xc9)](_0x196155){const _0x32d6a0=a83_0x1e842a,{filename:_0x289b38,body:_0x1b866f}=(await this[_0x32d6a0(0xbe)](_0x196155[_0x32d6a0(0xb6)]))[0x0];try{if(!this[_0x32d6a0(0xc5)][_0x289b38]){const _0x21c959=path_1[_0x32d6a0(0xb3)][_0x32d6a0(0x91)](this[_0x32d6a0(0xb1)],_0x289b38);if(await fs_internal_1['FS'][_0x32d6a0(0x8e)](_0x21c959)){const _0x215055=await fs_internal_1['FS'][_0x32d6a0(0xaa)](_0x21c959);this[_0x32d6a0(0xc5)][_0x289b38]=await xml_1[_0x32d6a0(0xad)][_0x32d6a0(0xaf)](_0x215055);}else{this[_0x32d6a0(0xc5)][_0x289b38]=await xml_1[_0x32d6a0(0xad)][_0x32d6a0(0xaf)](_0x1b866f);return;}}const _0x4f3efb=this[_0x32d6a0(0xc5)][_0x289b38],_0x2685bc=await xml_1[_0x32d6a0(0xad)][_0x32d6a0(0xaf)](_0x1b866f);xml_1['Xml'][_0x32d6a0(0xba)](_0x4f3efb,_0x2685bc);}catch(_0x2f3eee){throw new Error('An\x20error\x20occurred\x20when\x20proceeding\x20component\x20'+_0x196155['fileName']+'\x20['+_0x196155[_0x32d6a0(0xc1)]+_0x32d6a0(0xa0)+_0x2f3eee);}}async[a83_0x1e842a(0xae)](){const _0x17ff0c=a83_0x1e842a;!await fs_internal_1['FS']['exists'](this[_0x17ff0c(0xb1)])&&await fs_internal_1['FS'][_0x17ff0c(0x9a)](this[_0x17ff0c(0xb1)]);for(const _0x534be3 of this['components']){!child_types_1[_0x17ff0c(0xb3)][_0x17ff0c(0xc0)](_0x534be3['fileType'])?await this[_0x17ff0c(0xbd)](_0x534be3):await this[_0x17ff0c(0xc9)](_0x534be3);}const _0x7855d4=Object[_0x17ff0c(0xbc)](this[_0x17ff0c(0xc5)]);logger[_0x17ff0c(0x97)](_0x17ff0c(0xac),this['components'][_0x17ff0c(0xa1)]);while(_0x7855d4[_0x17ff0c(0xa1)]){const _0x1dfc0c=_0x7855d4['splice'](0x0,this[_0x17ff0c(0xbf)]);for(const _0xa61f84 of _0x1dfc0c){await fs_internal_1['FS'][_0x17ff0c(0xa2)](path_1[_0x17ff0c(0xb3)][_0x17ff0c(0x91)](this[_0x17ff0c(0xb1)],_0xa61f84),xml_1[_0x17ff0c(0xad)][_0x17ff0c(0x90)](this['parentComponents'][_0xa61f84]));}}this[_0x17ff0c(0xc5)]={};}}exports[a83_0x1e842a(0x93)]=MDApiWriter;