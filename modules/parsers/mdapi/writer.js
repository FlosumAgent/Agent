const a77_0x3807=['container','mdapi-writer','apply','33qQfwQA','21563TmxiVv','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','path','222150kvRRCA','sourceComponents','length','body','map','from','Logger','components','53698HFLuEu','exists','log','files','name','__importDefault','writeFile','splice','Xml','1yoVtzB','1tKLNfb','../../../core','writeParent','componentType','readFile','163BTgdkS','makeDir','1727DRNcpO','__esModule','parse','MAX_WRITES_PER_TICK','default','start','../utils/xml','parent','utf-8','have\x20to\x20write\x20%d\x20files','614674iAoUuF','constructor','MDApiWriter','all','../../internal/fs.internal','885994IKCXAO','3dqlNHs','writeChild','keys','join','sourceDir','toString','1mpuMOK','replaceOrAppend','738733nEeRbW'];const a77_0x3a367e=a77_0x5759;(function(_0x46d872,_0x2ecb35){const _0xe5165c=a77_0x5759;while(!![]){try{const _0x32ca65=-parseInt(_0xe5165c(0x91))*parseInt(_0xe5165c(0x65))+-parseInt(_0xe5165c(0x81))*-parseInt(_0xe5165c(0x7f))+-parseInt(_0xe5165c(0x8b))*-parseInt(_0xe5165c(0x79))+-parseInt(_0xe5165c(0x68))*parseInt(_0xe5165c(0x97))+-parseInt(_0xe5165c(0x99))*-parseInt(_0xe5165c(0x7a))+parseInt(_0xe5165c(0x90))+-parseInt(_0xe5165c(0x70))*parseInt(_0xe5165c(0x64));if(_0x32ca65===_0x2ecb35)break;else _0x46d872['push'](_0x46d872['shift']());}catch(_0x6c07d5){_0x46d872['push'](_0x46d872['shift']());}}}(a77_0x3807,0x70ccd));const a77_0x5bf09a=function(){let _0x241aaf=!![];return function(_0x35c2a4,_0xd2e10f){const _0x46e1f1=_0x241aaf?function(){const _0x442521=a77_0x5759;if(_0xd2e10f){const _0x52cd23=_0xd2e10f[_0x442521(0x9c)](_0x35c2a4,arguments);return _0xd2e10f=null,_0x52cd23;}}:function(){};return _0x241aaf=![],_0x46e1f1;};}(),a77_0x484373=a77_0x5bf09a(this,function(){const _0x2280d4=function(){const _0x530871=a77_0x5759,_0xca2c65=_0x2280d4[_0x530871(0x8c)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x530871(0x66));return!_0xca2c65['test'](a77_0x484373);};return _0x2280d4();});a77_0x484373();'use strict';var __importDefault=this&&this[a77_0x3a367e(0x75)]||function(_0x97a163){const _0x1a1c49=a77_0x3a367e;return _0x97a163&&_0x97a163[_0x1a1c49(0x82)]?_0x97a163:{'default':_0x97a163};};function a77_0x5759(_0x9452e0,_0x57b3c5){return a77_0x5759=function(_0x57b114,_0x484373){_0x57b114=_0x57b114-0x64;let _0x5bf09a=a77_0x3807[_0x57b114];return _0x5bf09a;},a77_0x5759(_0x9452e0,_0x57b3c5);}Object['defineProperty'](exports,a77_0x3a367e(0x82),{'value':!![]}),exports[a77_0x3a367e(0x8d)]=void 0x0;const path_1=__importDefault(require(a77_0x3a367e(0x67))),core_1=require(a77_0x3a367e(0x7b)),fs_internal_1=require(a77_0x3a367e(0x8f)),xml_1=require(a77_0x3a367e(0x87)),logger=new core_1[(a77_0x3a367e(0x6e))](a77_0x3a367e(0x9b));class MDApiWriter{constructor(_0x10e6b5,_0x129d8f){const _0xa9a4cc=a77_0x3a367e;this[_0xa9a4cc(0x6f)]=_0x10e6b5,this[_0xa9a4cc(0x95)]=_0x129d8f,this['MAX_WRITES_PER_TICK']=0x64,this[_0xa9a4cc(0x69)]={};}async[a77_0x3a367e(0x7c)](_0x2a5d62){const _0x5ed6c6=a77_0x3a367e;for(const _0x345e73 of _0x2a5d62){this[_0x5ed6c6(0x69)][_0x345e73['name']]=_0x345e73[_0x5ed6c6(0x6b)];}}async[a77_0x3a367e(0x92)](_0x2ef31c){const _0x400458=a77_0x3a367e;if(!this[_0x400458(0x69)][_0x2ef31c[_0x400458(0x74)]]){const _0x45d01d=path_1[_0x400458(0x85)][_0x400458(0x94)](this['sourceDir'],_0x2ef31c[_0x400458(0x74)]);if(await fs_internal_1['FS']['exists'](_0x45d01d)){const _0x58d31a=await fs_internal_1['FS'][_0x400458(0x7e)](_0x45d01d);this[_0x400458(0x69)][_0x2ef31c[_0x400458(0x74)]]=Buffer['from'](_0x58d31a);}else{this[_0x400458(0x69)][_0x2ef31c[_0x400458(0x74)]]=_0x2ef31c[_0x400458(0x6b)];return;}}const [_0x461884,_0x1f7de5]=await Promise['all']([xml_1[_0x400458(0x78)][_0x400458(0x83)](this[_0x400458(0x69)][_0x2ef31c['name']][_0x400458(0x96)](_0x400458(0x89))),xml_1[_0x400458(0x78)]['parse'](_0x2ef31c[_0x400458(0x6b)][_0x400458(0x96)](_0x400458(0x89)))]);xml_1['Xml'][_0x400458(0x98)](_0x461884,_0x1f7de5),this['sourceComponents'][_0x2ef31c[_0x400458(0x74)]]=Buffer[_0x400458(0x6d)](xml_1[_0x400458(0x78)]['convertToString'](_0x461884));}async[a77_0x3a367e(0x86)](){const _0x1dae7e=a77_0x3a367e;!await fs_internal_1['FS'][_0x1dae7e(0x71)](this['sourceDir'])&&await fs_internal_1['FS'][_0x1dae7e(0x80)](this[_0x1dae7e(0x95)]);for(const _0x2e0018 of this['components']){if(_0x2e0018[_0x1dae7e(0x7d)]===_0x1dae7e(0x88)||_0x2e0018['componentType']===_0x1dae7e(0x9a))await this[_0x1dae7e(0x7c)](_0x2e0018[_0x1dae7e(0x73)]);else _0x2e0018['componentType']==='child'&&await this[_0x1dae7e(0x92)](_0x2e0018[_0x1dae7e(0x73)][0x0]);}const _0x1bdba8=Object[_0x1dae7e(0x93)](this[_0x1dae7e(0x69)]);logger[_0x1dae7e(0x72)](_0x1dae7e(0x8a),_0x1bdba8['length']);while(_0x1bdba8['length']){const _0x11bada=_0x1bdba8[_0x1dae7e(0x77)](0x0,this[_0x1dae7e(0x84)]);await Promise[_0x1dae7e(0x8e)](_0x11bada[_0x1dae7e(0x6c)](_0x19c218=>fs_internal_1['FS'][_0x1dae7e(0x76)](path_1[_0x1dae7e(0x85)]['join'](this[_0x1dae7e(0x95)],_0x19c218),this[_0x1dae7e(0x69)][_0x19c218]))),logger[_0x1dae7e(0x72)]('writed\x20%d\x20files',_0x11bada[_0x1dae7e(0x6a)]);}this[_0x1dae7e(0x69)]={};}}exports[a77_0x3a367e(0x8d)]=MDApiWriter;