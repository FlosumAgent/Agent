const a84_0x3ce1a8=a84_0x3a53;function a84_0x3a53(_0x551d9d,_0x308cbe){const _0x34239c=a84_0x7721();return a84_0x3a53=function(_0x1eef2b,_0x21f70f){_0x1eef2b=_0x1eef2b-0x100;let _0x77216b=_0x34239c[_0x1eef2b];return _0x77216b;},a84_0x3a53(_0x551d9d,_0x308cbe);}(function(_0x45d9a8,_0x27fcc4){const _0x282d71=a84_0x3a53,_0x279a00=_0x45d9a8();while(!![]){try{const _0x3ccf48=parseInt(_0x282d71(0x104))/0x1+parseInt(_0x282d71(0x101))/0x2+parseInt(_0x282d71(0x10b))/0x3+-parseInt(_0x282d71(0x113))/0x4*(parseInt(_0x282d71(0x10e))/0x5)+parseInt(_0x282d71(0x10c))/0x6+parseInt(_0x282d71(0x120))/0x7+-parseInt(_0x282d71(0x132))/0x8;if(_0x3ccf48===_0x27fcc4)break;else _0x279a00['push'](_0x279a00['shift']());}catch(_0x58678e){_0x279a00['push'](_0x279a00['shift']());}}}(a84_0x7721,0x511bd));const a84_0x21f70f=function(){let _0x11b7bb=!![];return function(_0x495b2d,_0x50541f){const _0x5aa54c=_0x11b7bb?function(){if(_0x50541f){const _0x36e5ee=_0x50541f['apply'](_0x495b2d,arguments);return _0x50541f=null,_0x36e5ee;}}:function(){};return _0x11b7bb=![],_0x5aa54c;};}(),a84_0x1eef2b=a84_0x21f70f(this,function(){const _0x1df1b1=a84_0x3a53;return a84_0x1eef2b['toString']()['search']('(((.+)+)+)+$')[_0x1df1b1(0x12f)]()[_0x1df1b1(0x139)](a84_0x1eef2b)['search'](_0x1df1b1(0x12d));});a84_0x1eef2b();'use strict';var __importDefault=this&&this[a84_0x3ce1a8(0x116)]||function(_0x368920){const _0x57652d=a84_0x3ce1a8;return _0x368920&&_0x368920[_0x57652d(0x10f)]?_0x368920:{'default':_0x368920};};function a84_0x7721(){const _0x41076a=['parentComponents','].\x20Original\x20error:\x20','__importDefault','keys','An\x20error\x20occurred\x20when\x20proceeding\x20component\x20','push','MDApiWriter','body','readFile','splice','./child-types','fileName','2975959ZEZbLL','replaceOrAppend','files','have\x20to\x20write\x20%d\x20files','skipChildErrors','MAX_WRITES_PER_TICK','Xml','dir','mdapi-writer','exists','fileType','text','join','(((.+)+)+)+$','parse','toString','InvalidXmlError','writeFile','9696632KsKoUg','[InvalidXmlError]\x20An\x20error\x20occurred\x20when\x20proceeding\x20XML\x20','../utils/zip','Zip','all','../errors/invalid-xml.error','writeParent','constructor','../../../core','unzip','start','writeChild','../../internal/fs.internal','178568gVmeTr','readZip','components','500171ldbRgV','sourceDir','length','../utils/xml','path','handleXmlParsingError','message','1416225wVnPnI','2217654zdKmmF','catch','24760iUZBXt','__esModule','convertToString','makeDir','default','252REZzBz'];a84_0x7721=function(){return _0x41076a;};return a84_0x7721();}Object['defineProperty'](exports,a84_0x3ce1a8(0x10f),{'value':!![]}),exports[a84_0x3ce1a8(0x11a)]=void 0x0;const path_1=__importDefault(require(a84_0x3ce1a8(0x108))),core_1=require(a84_0x3ce1a8(0x13a)),fs_internal_1=require(a84_0x3ce1a8(0x100)),invalid_xml_error_1=require(a84_0x3ce1a8(0x137)),xml_1=require(a84_0x3ce1a8(0x107)),zip_1=require(a84_0x3ce1a8(0x134)),child_types_1=__importDefault(require(a84_0x3ce1a8(0x11e))),logger=new core_1['Logger'](a84_0x3ce1a8(0x128));class MDApiWriter{constructor({components:_0x3c7492,sourceDir:_0x36f0b8,logger:_0x563815,skipChildErrors:_0x226353}){const _0x3a1c98=a84_0x3ce1a8;this[_0x3a1c98(0x125)]=0x64,this['parentComponents']={},this[_0x3a1c98(0x103)]=_0x3c7492,this[_0x3a1c98(0x105)]=_0x36f0b8,this[_0x3a1c98(0x124)]=_0x226353,this['logger']=_0x563815;}async['readZip'](_0x52ce73){const _0x4bc37d=a84_0x3ce1a8,_0x8c0770=await zip_1[_0x4bc37d(0x135)][_0x4bc37d(0x13b)](_0x52ce73),_0x2478ee=[];for(const _0x251213 of Object[_0x4bc37d(0x117)](_0x8c0770[_0x4bc37d(0x122)])){!_0x8c0770[_0x4bc37d(0x122)][_0x251213][_0x4bc37d(0x127)]&&_0x2478ee[_0x4bc37d(0x119)]({'filename':_0x251213,'body':await _0x8c0770[_0x4bc37d(0x122)][_0x251213]['async'](_0x4bc37d(0x12b))});}return _0x2478ee;}async[a84_0x3ce1a8(0x138)](_0x135a74){const _0x2465f4=a84_0x3ce1a8;try{const _0xaeb769=await this[_0x2465f4(0x102)](_0x135a74[_0x2465f4(0x11b)]);await Promise[_0x2465f4(0x136)](_0xaeb769['map'](({filename:_0xc5bfd7,body:_0x2affbf})=>fs_internal_1['FS'][_0x2465f4(0x131)](path_1[_0x2465f4(0x112)]['join'](this[_0x2465f4(0x105)],_0xc5bfd7),_0x2affbf)));}catch(_0x728ae9){throw new Error('An\x20error\x20occured\x20when\x20proceeding\x20component\x20'+_0x135a74[_0x2465f4(0x11f)]+'\x20['+_0x135a74[_0x2465f4(0x12a)]+_0x2465f4(0x115)+_0x728ae9);}}['handleXmlParsingError'](_0x2dc827,_0x3c772a){const _0x566b86=a84_0x3ce1a8;throw new invalid_xml_error_1['InvalidXmlError'](_0x566b86(0x133)+_0x3c772a[_0x566b86(0x11f)]+'\x20['+_0x3c772a[_0x566b86(0x12a)]+_0x566b86(0x115)+_0x2dc827);}async[a84_0x3ce1a8(0x13d)](_0x115b79){const _0x123d48=a84_0x3ce1a8,{filename:_0x51247a,body:_0x2c703f}=(await this[_0x123d48(0x102)](_0x115b79[_0x123d48(0x11b)]))[0x0];try{if(!this[_0x123d48(0x114)][_0x51247a]){const _0x2e0085=path_1[_0x123d48(0x112)][_0x123d48(0x12c)](this[_0x123d48(0x105)],_0x51247a);if(await fs_internal_1['FS'][_0x123d48(0x129)](_0x2e0085)){const _0x1856e7=await fs_internal_1['FS'][_0x123d48(0x11c)](_0x2e0085);this[_0x123d48(0x114)][_0x51247a]=await xml_1[_0x123d48(0x126)][_0x123d48(0x12e)](_0x1856e7)['catch'](_0x3b2184=>this[_0x123d48(0x109)](_0x3b2184,_0x115b79));}else{this[_0x123d48(0x114)][_0x51247a]=await xml_1['Xml']['parse'](_0x2c703f)[_0x123d48(0x10d)](_0x29aaa7=>this[_0x123d48(0x109)](_0x29aaa7,_0x115b79));return;}}const _0x16edf3=this[_0x123d48(0x114)][_0x51247a],_0x17fd7c=await xml_1['Xml']['parse'](_0x2c703f)[_0x123d48(0x10d)](_0xea7fc4=>this[_0x123d48(0x109)](_0xea7fc4,_0x115b79));xml_1['Xml'][_0x123d48(0x121)](_0x16edf3,_0x17fd7c);}catch(_0x2ef34c){if(_0x2ef34c instanceof invalid_xml_error_1[_0x123d48(0x130)]){this['logger'](_0x2ef34c[_0x123d48(0x10a)]);if(this['skipChildErrors'])return;else throw _0x2ef34c;}throw new Error(_0x123d48(0x118)+_0x115b79['fileName']+'\x20['+_0x115b79[_0x123d48(0x12a)]+_0x123d48(0x115)+_0x2ef34c);}}async[a84_0x3ce1a8(0x13c)](){const _0x3def95=a84_0x3ce1a8;!await fs_internal_1['FS'][_0x3def95(0x129)](this[_0x3def95(0x105)])&&await fs_internal_1['FS'][_0x3def95(0x111)](this[_0x3def95(0x105)]);for(const _0x80fe5c of this[_0x3def95(0x103)]){!child_types_1[_0x3def95(0x112)]['includes'](_0x80fe5c[_0x3def95(0x12a)])?await this['writeParent'](_0x80fe5c):await this[_0x3def95(0x13d)](_0x80fe5c);}const _0x265b84=Object[_0x3def95(0x117)](this[_0x3def95(0x114)]);logger['log'](_0x3def95(0x123),this[_0x3def95(0x103)][_0x3def95(0x106)]);while(_0x265b84[_0x3def95(0x106)]){const _0x19a4cd=_0x265b84[_0x3def95(0x11d)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x4f652d of _0x19a4cd){await fs_internal_1['FS']['writeFile'](path_1['default']['join'](this[_0x3def95(0x105)],_0x4f652d),xml_1[_0x3def95(0x126)][_0x3def95(0x110)](this['parentComponents'][_0x4f652d]));}}this[_0x3def95(0x114)]={};}}exports[a84_0x3ce1a8(0x11a)]=MDApiWriter;