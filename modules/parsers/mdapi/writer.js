const a81_0x1273=['from','133228dTALMT','makeDir','parsedComponents','files','child','1323022NlwTjQ','defineProperty','log','path','name','constructor','convertToString','sourceDir','exists','208565GMXOjr','1NJXznN','container','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','MDApiWriter','parse','../../internal/fs.internal','all','204849WWayfV','default','Xml','return\x20/\x22\x20+\x20this\x20+\x20\x22/','componentType','body','mdapi-writer','13479lGaNnX','27SSzmWT','toString','MAX_WRITES_PER_TICK','__esModule','../../../core','writeChild','replaceOrAppend','__importDefault','../utils/xml','39954bGqQOS','1861112ENMTHw','sourceComponents','join','keys','length','utf-8','Logger','writeParent'];const a81_0x6cdcf5=a81_0x54ca;(function(_0x3f1143,_0x5ecaa5){const _0x3eaecc=a81_0x54ca;while(!![]){try{const _0x52e16f=-parseInt(_0x3eaecc(0x157))+parseInt(_0x3eaecc(0x144))*parseInt(_0x3eaecc(0x143))+-parseInt(_0x3eaecc(0x13c))*-parseInt(_0x3eaecc(0x135))+parseInt(_0x3eaecc(0x14d))+-parseInt(_0x3eaecc(0x15c))+-parseInt(_0x3eaecc(0x134))+parseInt(_0x3eaecc(0x14e));if(_0x52e16f===_0x5ecaa5)break;else _0x3f1143['push'](_0x3f1143['shift']());}catch(_0x1116a6){_0x3f1143['push'](_0x3f1143['shift']());}}}(a81_0x1273,0xc48a9));const a81_0x13cb3d=function(){let _0x215a5c=!![];return function(_0x5f218c,_0x517d1b){const _0x2bda10=_0x215a5c?function(){if(_0x517d1b){const _0x1337f9=_0x517d1b['apply'](_0x5f218c,arguments);return _0x517d1b=null,_0x1337f9;}}:function(){};return _0x215a5c=![],_0x2bda10;};}(),a81_0x629843=a81_0x13cb3d(this,function(){const _0x26940b=function(){const _0x59df24=a81_0x54ca,_0x2c5c1d=_0x26940b['constructor'](_0x59df24(0x13f))()[_0x59df24(0x161)](_0x59df24(0x137));return!_0x2c5c1d['test'](a81_0x629843);};return _0x26940b();});a81_0x629843();'use strict';var __importDefault=this&&this[a81_0x6cdcf5(0x14b)]||function(_0x10875f){const _0x35a38b=a81_0x6cdcf5;return _0x10875f&&_0x10875f[_0x35a38b(0x147)]?_0x10875f:{'default':_0x10875f};};function a81_0x54ca(_0xfa1e05,_0x327791){return a81_0x54ca=function(_0x3b7756,_0x629843){_0x3b7756=_0x3b7756-0x134;let _0x13cb3d=a81_0x1273[_0x3b7756];return _0x13cb3d;},a81_0x54ca(_0xfa1e05,_0x327791);}Object[a81_0x6cdcf5(0x15d)](exports,a81_0x6cdcf5(0x147),{'value':!![]}),exports[a81_0x6cdcf5(0x138)]=void 0x0;const path_1=__importDefault(require(a81_0x6cdcf5(0x15f))),core_1=require(a81_0x6cdcf5(0x148)),fs_internal_1=require(a81_0x6cdcf5(0x13a)),xml_1=require(a81_0x6cdcf5(0x14c)),logger=new core_1[(a81_0x6cdcf5(0x154))](a81_0x6cdcf5(0x142));class MDApiWriter{constructor(_0x406fb1,_0x23a5bf){const _0x166af5=a81_0x6cdcf5;this[_0x166af5(0x159)]=_0x406fb1,this[_0x166af5(0x163)]=_0x23a5bf,this[_0x166af5(0x146)]=0x64,this[_0x166af5(0x14f)]={};}async[a81_0x6cdcf5(0x155)](_0x1ffa7d){const _0x144fd0=a81_0x6cdcf5;for(const _0xf20ff2 of _0x1ffa7d){this[_0x144fd0(0x14f)][_0xf20ff2[_0x144fd0(0x160)]]=_0xf20ff2[_0x144fd0(0x141)];}}async['writeChild'](_0x425c6a){const _0x117dfe=a81_0x6cdcf5;if(!this[_0x117dfe(0x14f)][_0x425c6a[_0x117dfe(0x160)]]){const _0x168daa=path_1[_0x117dfe(0x13d)][_0x117dfe(0x150)](this[_0x117dfe(0x163)],_0x425c6a[_0x117dfe(0x160)]);if(await fs_internal_1['FS'][_0x117dfe(0x164)](_0x168daa)){const _0x488aec=await fs_internal_1['FS']['readFile'](_0x168daa);this[_0x117dfe(0x14f)][_0x425c6a['name']]=Buffer[_0x117dfe(0x156)](_0x488aec);}else{this[_0x117dfe(0x14f)][_0x425c6a[_0x117dfe(0x160)]]=_0x425c6a['body'];return;}}const [_0x34c9bd,_0x4760a0]=await Promise[_0x117dfe(0x13b)]([xml_1[_0x117dfe(0x13e)]['parse'](this['sourceComponents'][_0x425c6a[_0x117dfe(0x160)]][_0x117dfe(0x145)](_0x117dfe(0x153))),xml_1[_0x117dfe(0x13e)][_0x117dfe(0x139)](_0x425c6a[_0x117dfe(0x141)][_0x117dfe(0x145)]('utf-8'))]);xml_1[_0x117dfe(0x13e)][_0x117dfe(0x14a)](_0x34c9bd,_0x4760a0),this[_0x117dfe(0x14f)][_0x425c6a[_0x117dfe(0x160)]]=Buffer['from'](xml_1[_0x117dfe(0x13e)][_0x117dfe(0x162)](_0x34c9bd));}async['start'](){const _0x232b75=a81_0x6cdcf5;!await fs_internal_1['FS'][_0x232b75(0x164)](this[_0x232b75(0x163)])&&await fs_internal_1['FS'][_0x232b75(0x158)](this[_0x232b75(0x163)]);for(const _0x2c98fe of this[_0x232b75(0x159)]){if(_0x2c98fe['componentType']==='parent'||_0x2c98fe[_0x232b75(0x140)]===_0x232b75(0x136))await this['writeParent'](_0x2c98fe[_0x232b75(0x15a)]);else _0x2c98fe[_0x232b75(0x140)]===_0x232b75(0x15b)&&await this[_0x232b75(0x149)](_0x2c98fe[_0x232b75(0x15a)][0x0]);}const _0x3eae01=Object[_0x232b75(0x151)](this['sourceComponents']);logger[_0x232b75(0x15e)]('have\x20to\x20write\x20%d\x20files',_0x3eae01['length']);while(_0x3eae01[_0x232b75(0x152)]){const _0x4a7591=_0x3eae01['splice'](0x0,this[_0x232b75(0x146)]);await Promise[_0x232b75(0x13b)](_0x4a7591['map'](_0x173611=>fs_internal_1['FS']['writeFile'](path_1[_0x232b75(0x13d)]['join'](this['sourceDir'],_0x173611),this[_0x232b75(0x14f)][_0x173611]))),logger['log']('writed\x20%d\x20files',_0x4a7591['length']);}this[_0x232b75(0x14f)]={};}}exports['MDApiWriter']=MDApiWriter;