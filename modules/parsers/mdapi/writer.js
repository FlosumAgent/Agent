const a81_0xad94=['parsedComponents','__esModule','3nRAFqO','248893JDmoVv','keys','start','2CSqufY','join','parse','test','190655NvjtvT','return\x20/\x22\x20+\x20this\x20+\x20\x22/','writeChild','1021LdETAV','replaceOrAppend','name','MDApiWriter','length','exists','__importDefault','Xml','sourceComponents','files','constructor','map','165199ZPrVjS','writeFile','utf-8','../../../core','default','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','mdapi-writer','makeDir','writeParent','3377dChTJJ','536471cXbZsh','have\x20to\x20write\x20%d\x20files','2138713ATyMmo','from','parent','sourceDir','all','MAX_WRITES_PER_TICK','convertToString','131CRHWqo','toString','readFile','355FCqHil','2NUntja','child','splice','container','componentType','log','body'];const a81_0x32ea71=a81_0x467d;(function(_0x1f4aa1,_0x42bb3d){const _0x50dae4=a81_0x467d;while(!![]){try{const _0x2e824b=-parseInt(_0x50dae4(0x95))*parseInt(_0x50dae4(0x78))+-parseInt(_0x50dae4(0x8b))*-parseInt(_0x50dae4(0xa2))+-parseInt(_0x50dae4(0x9e))*-parseInt(_0x50dae4(0x94))+-parseInt(_0x50dae4(0xa1))*parseInt(_0x50dae4(0x7f))+-parseInt(_0x50dae4(0x7c))+parseInt(_0x50dae4(0xac))*-parseInt(_0x50dae4(0xab))+parseInt(_0x50dae4(0x97));if(_0x2e824b===_0x42bb3d)break;else _0x1f4aa1['push'](_0x1f4aa1['shift']());}catch(_0x37a502){_0x1f4aa1['push'](_0x1f4aa1['shift']());}}}(a81_0xad94,0x8388f));const a81_0x147f48=function(){let _0x23b3a0=!![];return function(_0x130f8f,_0x511151){const _0xf8cd11=_0x23b3a0?function(){if(_0x511151){const _0x211942=_0x511151['apply'](_0x130f8f,arguments);return _0x511151=null,_0x211942;}}:function(){};return _0x23b3a0=![],_0xf8cd11;};}(),a81_0x591287=a81_0x147f48(this,function(){const _0x5d837e=function(){const _0xbbdf15=a81_0x467d,_0x17381c=_0x5d837e['constructor'](_0xbbdf15(0x7d))()[_0xbbdf15(0x89)](_0xbbdf15(0x90));return!_0x17381c[_0xbbdf15(0x7b)](a81_0x591287);};return _0x5d837e();});a81_0x591287();function a81_0x467d(_0x2ddff3,_0x42725d){return a81_0x467d=function(_0x373fba,_0x591287){_0x373fba=_0x373fba-0x76;let _0x147f48=a81_0xad94[_0x373fba];return _0x147f48;},a81_0x467d(_0x2ddff3,_0x42725d);}'use strict';var __importDefault=this&&this[a81_0x32ea71(0x85)]||function(_0x37be2f){const _0x12596e=a81_0x32ea71;return _0x37be2f&&_0x37be2f[_0x12596e(0xaa)]?_0x37be2f:{'default':_0x37be2f};};Object['defineProperty'](exports,a81_0x32ea71(0xaa),{'value':!![]}),exports[a81_0x32ea71(0x82)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a81_0x32ea71(0x8e)),fs_internal_1=require('../../internal/fs.internal'),xml_1=require('../utils/xml'),logger=new core_1['Logger'](a81_0x32ea71(0x91));class MDApiWriter{constructor(_0x2da80f,_0xdb1dcb){const _0x8f100d=a81_0x32ea71;this[_0x8f100d(0xa9)]=_0x2da80f,this[_0x8f100d(0x9a)]=_0xdb1dcb,this[_0x8f100d(0x9c)]=0x64,this[_0x8f100d(0x87)]={};}async['writeParent'](_0x59268a){const _0xc3853c=a81_0x32ea71;for(const _0x306e06 of _0x59268a){this['sourceComponents'][_0x306e06[_0xc3853c(0x81)]]=_0x306e06['body'];}}async['writeChild'](_0x37d4b4){const _0x25d6ee=a81_0x32ea71;if(!this[_0x25d6ee(0x87)][_0x37d4b4[_0x25d6ee(0x81)]]){const _0x12d6e5=path_1[_0x25d6ee(0x8f)][_0x25d6ee(0x79)](this[_0x25d6ee(0x9a)],_0x37d4b4[_0x25d6ee(0x81)]);if(await fs_internal_1['FS'][_0x25d6ee(0x84)](_0x12d6e5)){const _0x4d1444=await fs_internal_1['FS'][_0x25d6ee(0xa0)](_0x12d6e5);this['sourceComponents'][_0x37d4b4['name']]=Buffer[_0x25d6ee(0x98)](_0x4d1444);}else{this[_0x25d6ee(0x87)][_0x37d4b4[_0x25d6ee(0x81)]]=_0x37d4b4[_0x25d6ee(0xa8)];return;}}const [_0x2dc0f7,_0x169c37]=await Promise[_0x25d6ee(0x9b)]([xml_1[_0x25d6ee(0x86)]['parse'](this['sourceComponents'][_0x37d4b4[_0x25d6ee(0x81)]][_0x25d6ee(0x9f)](_0x25d6ee(0x8d))),xml_1[_0x25d6ee(0x86)][_0x25d6ee(0x7a)](_0x37d4b4[_0x25d6ee(0xa8)][_0x25d6ee(0x9f)](_0x25d6ee(0x8d)))]);xml_1[_0x25d6ee(0x86)][_0x25d6ee(0x80)](_0x2dc0f7,_0x169c37),this[_0x25d6ee(0x87)][_0x37d4b4[_0x25d6ee(0x81)]]=Buffer[_0x25d6ee(0x98)](xml_1['Xml'][_0x25d6ee(0x9d)](_0x2dc0f7));}async[a81_0x32ea71(0x77)](){const _0x22c4d7=a81_0x32ea71;!await fs_internal_1['FS'][_0x22c4d7(0x84)](this[_0x22c4d7(0x9a)])&&await fs_internal_1['FS'][_0x22c4d7(0x92)](this['sourceDir']);for(const _0x19ba33 of this[_0x22c4d7(0xa9)]){if(_0x19ba33[_0x22c4d7(0xa6)]===_0x22c4d7(0x99)||_0x19ba33[_0x22c4d7(0xa6)]===_0x22c4d7(0xa5))await this[_0x22c4d7(0x93)](_0x19ba33[_0x22c4d7(0x88)]);else _0x19ba33['componentType']===_0x22c4d7(0xa3)&&await this[_0x22c4d7(0x7e)](_0x19ba33[_0x22c4d7(0x88)][0x0]);}const _0x52b400=Object[_0x22c4d7(0x76)](this[_0x22c4d7(0x87)]);logger['log'](_0x22c4d7(0x96),_0x52b400[_0x22c4d7(0x83)]);while(_0x52b400[_0x22c4d7(0x83)]){const _0x5ecf42=_0x52b400[_0x22c4d7(0xa4)](0x0,this['MAX_WRITES_PER_TICK']);await Promise[_0x22c4d7(0x9b)](_0x5ecf42[_0x22c4d7(0x8a)](_0x4927c8=>fs_internal_1['FS'][_0x22c4d7(0x8c)](path_1[_0x22c4d7(0x8f)][_0x22c4d7(0x79)](this[_0x22c4d7(0x9a)],_0x4927c8),this[_0x22c4d7(0x87)][_0x4927c8]))),logger[_0x22c4d7(0xa7)]('writed\x20%d\x20files',_0x5ecf42[_0x22c4d7(0x83)]);}this['sourceComponents']={};}}exports[a81_0x32ea71(0x82)]=MDApiWriter;