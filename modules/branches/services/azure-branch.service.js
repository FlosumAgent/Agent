const a59_0x4a3c=['getOne','replace','Branch\x20not\x20found','value','createRequest','name','../../../core/errors/not-found.error','NotFoundError','../dto/branch.dto','385622vjbYLt','constructor','AzureBranchService','337knYUrS','288769TxKsJf','getAll','AzureApiService','refs','../../git-api/services/azure-api.service','post','__esModule','return\x20/\x22\x20+\x20this\x20+\x20\x22/','delete','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','164199YUTJyN','repository','1974169WZSmBi','map','1SEWHLm','BranchDto','0000000000000000000000000000000000000000','GitBranchService','get','2xUmPBQ','defineProperty','request','41GjdUBF','203745GxBcNU','699662hjSfFV','fromAzure','1zuIzmm','apiUrl','find','apply','refs/heads/','default','BadRequestError'];const a59_0x4ada78=a59_0xc7b2;function a59_0xc7b2(_0x182992,_0x1123f7){return a59_0xc7b2=function(_0x100175,_0x3fb7bf){_0x100175=_0x100175-0x1ac;let _0x279a4f=a59_0x4a3c[_0x100175];return _0x279a4f;},a59_0xc7b2(_0x182992,_0x1123f7);}(function(_0x145f92,_0x4e2ccf){const _0x1eb5ea=a59_0xc7b2;while(!![]){try{const _0x341c00=-parseInt(_0x1eb5ea(0x1d2))*parseInt(_0x1eb5ea(0x1b7))+-parseInt(_0x1eb5ea(0x1d1))*-parseInt(_0x1eb5ea(0x1ba))+-parseInt(_0x1eb5ea(0x1be))*parseInt(_0x1eb5ea(0x1bc))+parseInt(_0x1eb5ea(0x1bb))+-parseInt(_0x1eb5ea(0x1ce))+parseInt(_0x1eb5ea(0x1b2))*-parseInt(_0x1eb5ea(0x1ae))+parseInt(_0x1eb5ea(0x1b0));if(_0x341c00===_0x4e2ccf)break;else _0x145f92['push'](_0x145f92['shift']());}catch(_0x324566){_0x145f92['push'](_0x145f92['shift']());}}}(a59_0x4a3c,0x590a6));const a59_0x279a4f=function(){let _0x544fa4=!![];return function(_0x530bbd,_0x683d57){const _0x5a83f7=_0x544fa4?function(){const _0x318381=a59_0xc7b2;if(_0x683d57){const _0x3a3fd9=_0x683d57[_0x318381(0x1c1)](_0x530bbd,arguments);return _0x683d57=null,_0x3a3fd9;}}:function(){};return _0x544fa4=![],_0x5a83f7;};}(),a59_0x3fb7bf=a59_0x279a4f(this,function(){const _0x8869a2=function(){const _0x4ab1d9=a59_0xc7b2,_0x3eba8f=_0x8869a2[_0x4ab1d9(0x1cf)](_0x4ab1d9(0x1d9))()['constructor'](_0x4ab1d9(0x1ad));return!_0x3eba8f['test'](a59_0x3fb7bf);};return _0x8869a2();});a59_0x3fb7bf();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x281343){return _0x281343&&_0x281343['__esModule']?_0x281343:{'default':_0x281343};};Object[a59_0x4ada78(0x1b8)](exports,a59_0x4ada78(0x1d8),{'value':!![]}),exports[a59_0x4ada78(0x1d0)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a59_0x4ada78(0x1cb)),azure_api_service_1=require(a59_0x4ada78(0x1d6)),typedi_1=__importDefault(require('typedi')),branch_dto_1=require(a59_0x4ada78(0x1cd)),git_branch_service_1=require('./git-branch.service');class AzureBranchService extends git_branch_service_1[a59_0x4ada78(0x1b5)]{constructor(_0x1ddc81){const _0x3ea120=a59_0x4ada78;super(_0x1ddc81),this['request']=this[_0x3ea120(0x1c9)]();}[a59_0x4ada78(0x1c9)](){const _0x34a4aa=a59_0x4ada78,_0x27a593=typedi_1[_0x34a4aa(0x1c3)]['get'](azure_api_service_1[_0x34a4aa(0x1d4)]);return _0x27a593[_0x34a4aa(0x1c9)](this[_0x34a4aa(0x1af)][_0x34a4aa(0x1bf)]);}async['create'](_0x430b94){const _0x5c14b8=a59_0x4ada78;try{if(await this[_0x5c14b8(0x1c5)](_0x430b94['name'])['catch'](()=>![]))throw new bad_request_error_1[(_0x5c14b8(0x1c4))]('Branch\x20already\x20exists');return await this['request'][_0x5c14b8(0x1d7)](_0x5c14b8(0x1d5),[{'name':_0x5c14b8(0x1c2)+_0x430b94[_0x5c14b8(0x1ca)],'newObjectId':_0x430b94['sha'],'oldObjectId':'0000000000000000000000000000000000000000'}]),this[_0x5c14b8(0x1c5)](_0x430b94[_0x5c14b8(0x1ca)]);}catch(_0x46bbf2){throw new bad_request_error_1[(_0x5c14b8(0x1c4))](_0x46bbf2);}}async['getOne'](_0x5809cb){const _0x6f4e9c=a59_0x4ada78;try{const _0x100639=await this[_0x6f4e9c(0x1b9)][_0x6f4e9c(0x1b6)](_0x6f4e9c(0x1c2)+_0x5809cb),_0x243d48=_0x100639['value'],_0x22122b=_0x243d48[_0x6f4e9c(0x1c0)](_0x1c11db=>_0x1c11db[_0x6f4e9c(0x1ca)][_0x6f4e9c(0x1c6)](_0x6f4e9c(0x1c2),'')===_0x5809cb);if(!_0x22122b)throw new not_found_error_1[(_0x6f4e9c(0x1cc))](_0x6f4e9c(0x1c7));return branch_dto_1['BranchDto'][_0x6f4e9c(0x1bd)](_0x22122b);}catch(_0x203232){throw new not_found_error_1[(_0x6f4e9c(0x1cc))](_0x203232);}}async[a59_0x4ada78(0x1d3)](){const _0x55176e=a59_0x4ada78;try{const _0x44498d=await this[_0x55176e(0x1b9)]['get']('refs');return _0x44498d[_0x55176e(0x1c8)][_0x55176e(0x1b1)](_0x4da9f2=>branch_dto_1[_0x55176e(0x1b3)][_0x55176e(0x1bd)](_0x4da9f2));}catch(_0x20a18f){throw new not_found_error_1['NotFoundError'](_0x20a18f);}}async[a59_0x4ada78(0x1ac)](_0x590856){const _0x2a1f44=a59_0x4ada78;try{await this[_0x2a1f44(0x1c5)](_0x590856),await this[_0x2a1f44(0x1b9)][_0x2a1f44(0x1d7)](_0x2a1f44(0x1d5),[{'name':'refs/heads/'+_0x590856,'newObjectId':'0000000000000000000000000000000000000000','oldObjectId':_0x2a1f44(0x1b4)}]);}catch(_0x232d01){throw new bad_request_error_1[(_0x2a1f44(0x1c4))](_0x232d01);}}}exports[a59_0x4ada78(0x1d0)]=AzureBranchService;