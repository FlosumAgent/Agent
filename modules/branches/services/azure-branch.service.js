const a51_0x2908=['create','fromAzure','AzureBranchService','1qzslBF','__importDefault','__esModule','catch','refs/heads/','./git-branch.service','5QxoFjb','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','0000000000000000000000000000000000000000','createRequest','3zAWHdW','find','request','BadRequestError','getAll','187349sAEUMi','../dto/branch.dto','42RwDrZZ','97219AWAdlc','../../../core/errors/bad-request.error','getOne','value','return\x20/\x22\x20+\x20this\x20+\x20\x22/','constructor','272338TGioNs','8699PVMySt','2hQBdwQ','../../git-api/services/azure-api.service','../../../core/errors/not-found.error','NotFoundError','typedi','GitBranchService','name','17897gqeZYe','refs','get','54607VoDnzV','Branch\x20already\x20exists','default','4GLkyCC','delete','BranchDto','sha','defineProperty','Branch\x20not\x20found','post','45470pQYfih','AzureApiService'];const a51_0x58d073=a51_0x5e81;function a51_0x5e81(_0x48f577,_0x46f66b){return a51_0x5e81=function(_0x29890c,_0x5b7419){_0x29890c=_0x29890c-0x1b8;let _0x2ea39b=a51_0x2908[_0x29890c];return _0x2ea39b;},a51_0x5e81(_0x48f577,_0x46f66b);}(function(_0x206253,_0x1ecf36){const _0x39d23e=a51_0x5e81;while(!![]){try{const _0x22f75f=parseInt(_0x39d23e(0x1d3))*-parseInt(_0x39d23e(0x1cd))+parseInt(_0x39d23e(0x1d0))*parseInt(_0x39d23e(0x1e9))+parseInt(_0x39d23e(0x1da))*-parseInt(_0x39d23e(0x1e5))+parseInt(_0x39d23e(0x1df))*parseInt(_0x39d23e(0x1bb))+parseInt(_0x39d23e(0x1be))*parseInt(_0x39d23e(0x1c6))+parseInt(_0x39d23e(0x1c4))+-parseInt(_0x39d23e(0x1bd))*parseInt(_0x39d23e(0x1c5));if(_0x22f75f===_0x1ecf36)break;else _0x206253['push'](_0x206253['shift']());}catch(_0x3f0d92){_0x206253['push'](_0x206253['shift']());}}}(a51_0x2908,0x25832));const a51_0x2ea39b=function(){let _0x135da6=!![];return function(_0x26b442,_0x5ae258){const _0x1510cc=_0x135da6?function(){if(_0x5ae258){const _0x9bfc36=_0x5ae258['apply'](_0x26b442,arguments);return _0x5ae258=null,_0x9bfc36;}}:function(){};return _0x135da6=![],_0x1510cc;};}(),a51_0x5b7419=a51_0x2ea39b(this,function(){const _0x50743b=function(){const _0x4799ce=a51_0x5e81,_0x51afd1=_0x50743b['constructor'](_0x4799ce(0x1c2))()[_0x4799ce(0x1c3)](_0x4799ce(0x1e6));return!_0x51afd1['test'](a51_0x5b7419);};return _0x50743b();});a51_0x5b7419();'use strict';var __importDefault=this&&this[a51_0x58d073(0x1e0)]||function(_0x21f4c9){return _0x21f4c9&&_0x21f4c9['__esModule']?_0x21f4c9:{'default':_0x21f4c9};};Object[a51_0x58d073(0x1d7)](exports,a51_0x58d073(0x1e1),{'value':!![]}),exports[a51_0x58d073(0x1de)]=void 0x0;const bad_request_error_1=require(a51_0x58d073(0x1bf)),not_found_error_1=require(a51_0x58d073(0x1c8)),azure_api_service_1=require(a51_0x58d073(0x1c7)),typedi_1=__importDefault(require(a51_0x58d073(0x1ca))),branch_dto_1=require(a51_0x58d073(0x1bc)),git_branch_service_1=require(a51_0x58d073(0x1e4));class AzureBranchService extends git_branch_service_1[a51_0x58d073(0x1cb)]{constructor(_0x366dd3){const _0x1e7bc6=a51_0x58d073;super(_0x366dd3),this[_0x1e7bc6(0x1b8)]=this['createRequest']();}['createRequest'](){const _0xe6486e=a51_0x58d073,_0x45611b=typedi_1[_0xe6486e(0x1d2)][_0xe6486e(0x1cf)](azure_api_service_1[_0xe6486e(0x1db)]);return _0x45611b[_0xe6486e(0x1e8)](this['repository']['apiUrl']);}async[a51_0x58d073(0x1dc)](_0x2482a4){const _0x3f9945=a51_0x58d073;try{if(await this['getOne'](_0x2482a4[_0x3f9945(0x1cc)])[_0x3f9945(0x1e2)](()=>![]))throw new bad_request_error_1[(_0x3f9945(0x1b9))](_0x3f9945(0x1d1));return await this['request']['post'](_0x3f9945(0x1ce),[{'name':_0x3f9945(0x1e3)+_0x2482a4['name'],'newObjectId':_0x2482a4[_0x3f9945(0x1d6)],'oldObjectId':'0000000000000000000000000000000000000000'}]),this[_0x3f9945(0x1c0)](_0x2482a4[_0x3f9945(0x1cc)]);}catch(_0x526ec9){throw new bad_request_error_1[(_0x3f9945(0x1b9))](_0x526ec9);}}async[a51_0x58d073(0x1c0)](_0x2e9518){const _0x4f6986=a51_0x58d073;try{const _0x3a94c7=await this[_0x4f6986(0x1b8)][_0x4f6986(0x1cf)]('refs/heads/'+_0x2e9518),_0x407368=_0x3a94c7[_0x4f6986(0x1c1)],_0x20a984=_0x407368[_0x4f6986(0x1ea)](_0x146bce=>_0x146bce['name']['replace'](_0x4f6986(0x1e3),'')===_0x2e9518);if(!_0x20a984)throw new not_found_error_1[(_0x4f6986(0x1c9))](_0x4f6986(0x1d8));return branch_dto_1[_0x4f6986(0x1d5)][_0x4f6986(0x1dd)](_0x20a984);}catch(_0x504553){throw new not_found_error_1[(_0x4f6986(0x1c9))](_0x504553);}}async[a51_0x58d073(0x1ba)](){const _0x21b4bd=a51_0x58d073;try{const _0x4a99f1=await this[_0x21b4bd(0x1b8)]['get'](_0x21b4bd(0x1ce));return _0x4a99f1['value']['map'](_0x26fcc1=>branch_dto_1[_0x21b4bd(0x1d5)][_0x21b4bd(0x1dd)](_0x26fcc1));}catch(_0x20cdbe){throw new not_found_error_1[(_0x21b4bd(0x1c9))](_0x20cdbe);}}async[a51_0x58d073(0x1d4)](_0x21e786){const _0x5c9065=a51_0x58d073;try{await this['getOne'](_0x21e786),await this[_0x5c9065(0x1b8)][_0x5c9065(0x1d9)]('refs',[{'name':_0x5c9065(0x1e3)+_0x21e786,'newObjectId':_0x5c9065(0x1e7),'oldObjectId':_0x5c9065(0x1e7)}]);}catch(_0x19a861){throw new bad_request_error_1['BadRequestError'](_0x19a861);}}}exports[a51_0x58d073(0x1de)]=AzureBranchService;