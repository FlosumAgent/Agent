const a51_0x1c7e=['value','1468159tTIDiS','../../git-api/services/azure-api.service','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../../core/errors/bad-request.error','createRequest','18tWvhNK','find','569698EnkLvh','856463RyiGRh','fromAzure','repository','14129JjJPXy','__importDefault','test','get','Branch\x20not\x20found','getOne','__esModule','constructor','./git-branch.service','request','BranchDto','1LhfpcG','0000000000000000000000000000000000000000','post','NotFoundError','refs/heads/','AzureApiService','getAll','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','31aBSXXm','256950byChTt','669778RKahEP','defineProperty','delete','apply','2201vrYBch','GitBranchService','typedi','AzureBranchService'];const a51_0x4b7599=a51_0x204a;(function(_0x104fa8,_0x1b273f){const _0x10169c=a51_0x204a;while(!![]){try{const _0x26fe96=-parseInt(_0x10169c(0x127))*parseInt(_0x10169c(0x135))+parseInt(_0x10169c(0x126))+parseInt(_0x10169c(0x13e))+-parseInt(_0x10169c(0x13d))*parseInt(_0x10169c(0x143))+-parseInt(_0x10169c(0x13f))+-parseInt(_0x10169c(0x12a))*parseInt(_0x10169c(0x124))+parseInt(_0x10169c(0x11f));if(_0x26fe96===_0x1b273f)break;else _0x104fa8['push'](_0x104fa8['shift']());}catch(_0x566525){_0x104fa8['push'](_0x104fa8['shift']());}}}(a51_0x1c7e,0x6ce3d));function a51_0x204a(_0x21a525,_0xf9ecde){return a51_0x204a=function(_0x3fd6cd,_0x95c4c9){_0x3fd6cd=_0x3fd6cd-0x11d;let _0x2b5f88=a51_0x1c7e[_0x3fd6cd];return _0x2b5f88;},a51_0x204a(_0x21a525,_0xf9ecde);}const a51_0x2b5f88=function(){let _0x3ea5cf=!![];return function(_0x3127ff,_0x471fe6){const _0x1b236b=_0x3ea5cf?function(){const _0x5cef0a=a51_0x204a;if(_0x471fe6){const _0x508821=_0x471fe6[_0x5cef0a(0x142)](_0x3127ff,arguments);return _0x471fe6=null,_0x508821;}}:function(){};return _0x3ea5cf=![],_0x1b236b;};}(),a51_0x95c4c9=a51_0x2b5f88(this,function(){const _0xe473e6=function(){const _0x453fd6=a51_0x204a,_0x49bb28=_0xe473e6[_0x453fd6(0x131)](_0x453fd6(0x121))()[_0x453fd6(0x131)](_0x453fd6(0x13c));return!_0x49bb28[_0x453fd6(0x12c)](a51_0x95c4c9);};return _0xe473e6();});a51_0x95c4c9();'use strict';var __importDefault=this&&this[a51_0x4b7599(0x12b)]||function(_0x110349){return _0x110349&&_0x110349['__esModule']?_0x110349:{'default':_0x110349};};Object[a51_0x4b7599(0x140)](exports,a51_0x4b7599(0x130),{'value':!![]}),exports['AzureBranchService']=void 0x0;const bad_request_error_1=require(a51_0x4b7599(0x122)),not_found_error_1=require('../../../core/errors/not-found.error'),azure_api_service_1=require(a51_0x4b7599(0x120)),typedi_1=__importDefault(require(a51_0x4b7599(0x145))),branch_dto_1=require('../dto/branch.dto'),git_branch_service_1=require(a51_0x4b7599(0x132));class AzureBranchService extends git_branch_service_1[a51_0x4b7599(0x144)]{constructor(_0x23e2d2){const _0x1c9a49=a51_0x4b7599;super(_0x23e2d2),this[_0x1c9a49(0x133)]=this[_0x1c9a49(0x123)]();}['createRequest'](){const _0x5d947e=a51_0x4b7599,_0x1c077f=typedi_1['default'][_0x5d947e(0x12d)](azure_api_service_1[_0x5d947e(0x13a)]);return _0x1c077f[_0x5d947e(0x123)](this[_0x5d947e(0x129)]['apiUrl']);}async[a51_0x4b7599(0x12f)](_0x5c2eff){const _0x13121e=a51_0x4b7599;try{const _0x1fd527=await this['request'][_0x13121e(0x12d)](_0x13121e(0x139)+_0x5c2eff),_0x1be93c=_0x1fd527['value'],_0x429001=_0x1be93c[_0x13121e(0x125)](_0x58f6e1=>_0x58f6e1['name']['replace']('refs/heads/','')===_0x5c2eff);if(!_0x429001)throw new not_found_error_1[(_0x13121e(0x138))](_0x13121e(0x12e));return branch_dto_1[_0x13121e(0x134)][_0x13121e(0x128)](_0x429001);}catch(_0x292e6d){throw new not_found_error_1[(_0x13121e(0x138))](_0x292e6d);}}async[a51_0x4b7599(0x13b)](){const _0x3e5e77=a51_0x4b7599;try{const _0xe57d4f=await this[_0x3e5e77(0x133)][_0x3e5e77(0x12d)]('refs');return _0xe57d4f[_0x3e5e77(0x11e)]['map'](_0x274a6a=>branch_dto_1[_0x3e5e77(0x134)][_0x3e5e77(0x128)](_0x274a6a));}catch(_0x7e545){throw new not_found_error_1[(_0x3e5e77(0x138))](_0x7e545);}}async[a51_0x4b7599(0x141)](_0x23b1c3){const _0x349554=a51_0x4b7599;try{await this[_0x349554(0x12f)](_0x23b1c3),await this[_0x349554(0x133)][_0x349554(0x137)]('refs',[{'name':_0x349554(0x139)+_0x23b1c3,'newObjectId':_0x349554(0x136),'oldObjectId':_0x349554(0x136)}]);}catch(_0x20573f){throw new bad_request_error_1['BadRequestError'](_0x20573f);}}}exports[a51_0x4b7599(0x11d)]=AzureBranchService;