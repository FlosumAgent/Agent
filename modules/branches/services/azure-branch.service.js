const a51_0x2dd9=['getOne','AzureApiService','BranchDto','426731NQbFsu','delete','../dto/branch.dto','243343TwdErx','NotFoundError','AzureBranchService','constructor','1HMdsbB','find','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','map','309391uQGSRL','557133vIVsOP','request','value','BadRequestError','apply','Branch\x20not\x20found','create','fromAzure','createRequest','1549bkkwAu','refs/heads/','../../git-api/services/azure-api.service','GitBranchService','152399tvkPIT','typedi','name','refs','1ZvgLyV','get','1iywARD','sha','213qrfrxe','post','repository','getAll','0000000000000000000000000000000000000000','__importDefault','replace','359095STGpKe','__esModule','../../../core/errors/not-found.error','default'];const a51_0x2ed161=a51_0x269a;(function(_0x4d94f0,_0x193ef5){const _0x5e589a=a51_0x269a;while(!![]){try{const _0x47257a=parseInt(_0x5e589a(0x1b2))*-parseInt(_0x5e589a(0x1b6))+-parseInt(_0x5e589a(0x1a8))*-parseInt(_0x5e589a(0x19f))+-parseInt(_0x5e589a(0x1a1))*parseInt(_0x5e589a(0x1c4))+-parseInt(_0x5e589a(0x1c8))+parseInt(_0x5e589a(0x1bb))+-parseInt(_0x5e589a(0x1ba))+parseInt(_0x5e589a(0x1af))*parseInt(_0x5e589a(0x19d));if(_0x47257a===_0x193ef5)break;else _0x4d94f0['push'](_0x4d94f0['shift']());}catch(_0x2c016f){_0x4d94f0['push'](_0x4d94f0['shift']());}}}(a51_0x2dd9,0x4b2b1));const a51_0x347256=function(){let _0x35074c=!![];return function(_0x58ad24,_0x557b9d){const _0xdc4910=_0x35074c?function(){const _0x36ff7f=a51_0x269a;if(_0x557b9d){const _0x1e7bda=_0x557b9d[_0x36ff7f(0x1bf)](_0x58ad24,arguments);return _0x557b9d=null,_0x1e7bda;}}:function(){};return _0x35074c=![],_0xdc4910;};}(),a51_0x18537b=a51_0x347256(this,function(){const _0x13cb5d=function(){const _0xf1f17b=a51_0x269a,_0x481a67=_0x13cb5d[_0xf1f17b(0x1b5)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0xf1f17b(0x1b5)](_0xf1f17b(0x1b8));return!_0x481a67['test'](a51_0x18537b);};return _0x13cb5d();});a51_0x18537b();'use strict';var __importDefault=this&&this[a51_0x2ed161(0x1a6)]||function(_0x21b142){return _0x21b142&&_0x21b142['__esModule']?_0x21b142:{'default':_0x21b142};};Object['defineProperty'](exports,a51_0x2ed161(0x1a9),{'value':!![]}),exports[a51_0x2ed161(0x1b4)]=void 0x0;function a51_0x269a(_0x2273ed,_0x593b19){return a51_0x269a=function(_0x39e09c,_0x18537b){_0x39e09c=_0x39e09c-0x19b;let _0x347256=a51_0x2dd9[_0x39e09c];return _0x347256;},a51_0x269a(_0x2273ed,_0x593b19);}const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a51_0x2ed161(0x1aa)),azure_api_service_1=require(a51_0x2ed161(0x1c6)),typedi_1=__importDefault(require(a51_0x2ed161(0x1c9))),branch_dto_1=require(a51_0x2ed161(0x1b1)),git_branch_service_1=require('./git-branch.service');class AzureBranchService extends git_branch_service_1[a51_0x2ed161(0x1c7)]{constructor(_0x294f24){const _0x2a44e9=a51_0x2ed161;super(_0x294f24),this[_0x2a44e9(0x1bc)]=this[_0x2a44e9(0x1c3)]();}[a51_0x2ed161(0x1c3)](){const _0x701f71=a51_0x2ed161,_0x450cf2=typedi_1[_0x701f71(0x1ab)][_0x701f71(0x19e)](azure_api_service_1[_0x701f71(0x1ad)]);return _0x450cf2[_0x701f71(0x1c3)](this[_0x701f71(0x1a3)]['apiUrl']);}async[a51_0x2ed161(0x1c1)](_0x43cc5d){const _0x298d01=a51_0x2ed161;try{if(await this[_0x298d01(0x1ac)](_0x43cc5d[_0x298d01(0x19b)])['catch'](()=>![]))throw new bad_request_error_1[(_0x298d01(0x1be))]('Branch\x20already\x20exists');return await this['request'][_0x298d01(0x1a2)](_0x298d01(0x19c),[{'name':_0x298d01(0x1c5)+_0x43cc5d[_0x298d01(0x19b)],'newObjectId':_0x43cc5d[_0x298d01(0x1a0)],'oldObjectId':_0x298d01(0x1a5)}]),this[_0x298d01(0x1ac)](_0x43cc5d[_0x298d01(0x19b)]);}catch(_0x22ca13){throw new bad_request_error_1['BadRequestError'](_0x22ca13);}}async[a51_0x2ed161(0x1ac)](_0x203e24){const _0x30ea48=a51_0x2ed161;try{const _0x184ea5=await this['request'][_0x30ea48(0x19e)]('refs/heads/'+_0x203e24),_0x5dc119=_0x184ea5[_0x30ea48(0x1bd)],_0x19ca2f=_0x5dc119[_0x30ea48(0x1b7)](_0x5273ee=>_0x5273ee[_0x30ea48(0x19b)][_0x30ea48(0x1a7)](_0x30ea48(0x1c5),'')===_0x203e24);if(!_0x19ca2f)throw new not_found_error_1[(_0x30ea48(0x1b3))](_0x30ea48(0x1c0));return branch_dto_1[_0x30ea48(0x1ae)][_0x30ea48(0x1c2)](_0x19ca2f);}catch(_0x5591fc){throw new not_found_error_1['NotFoundError'](_0x5591fc);}}async[a51_0x2ed161(0x1a4)](){const _0x5d4479=a51_0x2ed161;try{const _0x584202=await this[_0x5d4479(0x1bc)][_0x5d4479(0x19e)]('refs');return _0x584202[_0x5d4479(0x1bd)][_0x5d4479(0x1b9)](_0x46d9c5=>branch_dto_1[_0x5d4479(0x1ae)][_0x5d4479(0x1c2)](_0x46d9c5));}catch(_0x1591ca){throw new not_found_error_1[(_0x5d4479(0x1b3))](_0x1591ca);}}async[a51_0x2ed161(0x1b0)](_0x15888d){const _0x217bcd=a51_0x2ed161;try{await this[_0x217bcd(0x1ac)](_0x15888d),await this[_0x217bcd(0x1bc)][_0x217bcd(0x1a2)](_0x217bcd(0x19c),[{'name':'refs/heads/'+_0x15888d,'newObjectId':_0x217bcd(0x1a5),'oldObjectId':_0x217bcd(0x1a5)}]);}catch(_0x5ba46a){throw new bad_request_error_1['BadRequestError'](_0x5ba46a);}}}exports[a51_0x2ed161(0x1b4)]=AzureBranchService;