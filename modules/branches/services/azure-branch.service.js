const a59_0x34b9=['constructor','catch','51258MnJBlb','replace','refs/heads/','./git-branch.service','defineProperty','repository','find','2VXwvUc','NotFoundError','request','../dto/branch.dto','__esModule','../../git-api/services/azure-api.service','value','914410IgHjzX','apiUrl','map','default','__importDefault','BranchDto','13DfnYTJ','5QxOPNK','AzureBranchService','post','sha','472520CFuEyi','11365JjoRgu','../../../core/errors/bad-request.error','name','test','580UhAROQ','BadRequestError','refs','typedi','1153056lHoGCf','Branch\x20already\x20exists','GitBranchService','128333ivUMmM','createRequest','../../../core/errors/not-found.error','get','175izCwZh','getOne','fromAzure','apply','0000000000000000000000000000000000000000'];const a59_0x595c2c=a59_0x3996;(function(_0x539752,_0x1d0256){const _0x2ad50d=a59_0x3996;while(!![]){try{const _0x37e4a9=-parseInt(_0x2ad50d(0xf3))*-parseInt(_0x2ad50d(0xf9))+parseInt(_0x2ad50d(0xed))+parseInt(_0x2ad50d(0xf8))*-parseInt(_0x2ad50d(0xe6))+parseInt(_0x2ad50d(0x10f))+parseInt(_0x2ad50d(0x104))*-parseInt(_0x2ad50d(0xf4))+parseInt(_0x2ad50d(0x101))+parseInt(_0x2ad50d(0x108))*-parseInt(_0x2ad50d(0xfd));if(_0x37e4a9===_0x1d0256)break;else _0x539752['push'](_0x539752['shift']());}catch(_0x2ecf60){_0x539752['push'](_0x539752['shift']());}}}(a59_0x34b9,0x8d2d8));const a59_0x5aca96=function(){let _0x24d62c=!![];return function(_0x20524b,_0x5e8fdd){const _0x2dcbf9=_0x24d62c?function(){const _0x488ee2=a59_0x3996;if(_0x5e8fdd){const _0x558152=_0x5e8fdd[_0x488ee2(0x10b)](_0x20524b,arguments);return _0x5e8fdd=null,_0x558152;}}:function(){};return _0x24d62c=![],_0x2dcbf9;};}(),a59_0x3ba5f6=a59_0x5aca96(this,function(){const _0x373847=function(){const _0x52f8a9=a59_0x3996,_0x18044a=_0x373847['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x52f8a9(0x10d)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x18044a[_0x52f8a9(0xfc)](a59_0x3ba5f6);};return _0x373847();});a59_0x3ba5f6();function a59_0x3996(_0x44ca15,_0x26dda3){return a59_0x3996=function(_0xf54cd6,_0x3ba5f6){_0xf54cd6=_0xf54cd6-0xe0;let _0x5aca96=a59_0x34b9[_0xf54cd6];return _0x5aca96;},a59_0x3996(_0x44ca15,_0x26dda3);}'use strict';var __importDefault=this&&this[a59_0x595c2c(0xf1)]||function(_0x2e198d){return _0x2e198d&&_0x2e198d['__esModule']?_0x2e198d:{'default':_0x2e198d};};Object[a59_0x595c2c(0xe3)](exports,a59_0x595c2c(0xea),{'value':!![]}),exports[a59_0x595c2c(0xf5)]=void 0x0;const bad_request_error_1=require(a59_0x595c2c(0xfa)),not_found_error_1=require(a59_0x595c2c(0x106)),azure_api_service_1=require(a59_0x595c2c(0xeb)),typedi_1=__importDefault(require(a59_0x595c2c(0x100))),branch_dto_1=require(a59_0x595c2c(0xe9)),git_branch_service_1=require(a59_0x595c2c(0xe2));class AzureBranchService extends git_branch_service_1[a59_0x595c2c(0x103)]{constructor(_0x29a945){const _0x531e47=a59_0x595c2c;super(_0x29a945),this[_0x531e47(0xe8)]=this[_0x531e47(0x105)]();}[a59_0x595c2c(0x105)](){const _0xfae3f9=a59_0x595c2c,_0x467ea2=typedi_1[_0xfae3f9(0xf0)]['get'](azure_api_service_1['AzureApiService']);return _0x467ea2['createRequest'](this[_0xfae3f9(0xe4)][_0xfae3f9(0xee)]);}async['create'](_0x5e0ad4){const _0x1db8a2=a59_0x595c2c;try{if(await this[_0x1db8a2(0x109)](_0x5e0ad4[_0x1db8a2(0xfb)])[_0x1db8a2(0x10e)](()=>![]))throw new bad_request_error_1[(_0x1db8a2(0xfe))](_0x1db8a2(0x102));return await this['request']['post']('refs',[{'name':_0x1db8a2(0xe1)+_0x5e0ad4[_0x1db8a2(0xfb)],'newObjectId':_0x5e0ad4[_0x1db8a2(0xf7)],'oldObjectId':_0x1db8a2(0x10c)}]),this['getOne'](_0x5e0ad4[_0x1db8a2(0xfb)]);}catch(_0x5c8237){throw new bad_request_error_1['BadRequestError'](_0x5c8237);}}async[a59_0x595c2c(0x109)](_0x32d2a6){const _0x32dafc=a59_0x595c2c;try{const _0x1abc15=await this[_0x32dafc(0xe8)][_0x32dafc(0x107)](_0x32dafc(0xe1)+_0x32d2a6),_0x3191aa=_0x1abc15[_0x32dafc(0xec)],_0x4aa3af=_0x3191aa[_0x32dafc(0xe5)](_0x3cf35e=>_0x3cf35e[_0x32dafc(0xfb)][_0x32dafc(0xe0)]('refs/heads/','')===_0x32d2a6);if(!_0x4aa3af)throw new not_found_error_1['NotFoundError']('Branch\x20not\x20found');return branch_dto_1[_0x32dafc(0xf2)]['fromAzure'](_0x4aa3af);}catch(_0x92da56){throw new not_found_error_1[(_0x32dafc(0xe7))](_0x92da56);}}async['getAll'](){const _0x423199=a59_0x595c2c;try{const _0x42ba87=await this[_0x423199(0xe8)][_0x423199(0x107)](_0x423199(0xff));return _0x42ba87[_0x423199(0xec)][_0x423199(0xef)](_0x5605c4=>branch_dto_1[_0x423199(0xf2)][_0x423199(0x10a)](_0x5605c4));}catch(_0x402026){throw new not_found_error_1['NotFoundError'](_0x402026);}}async['delete'](_0x243de9){const _0x22d8a6=a59_0x595c2c;try{await this[_0x22d8a6(0x109)](_0x243de9),await this[_0x22d8a6(0xe8)][_0x22d8a6(0xf6)]('refs',[{'name':_0x22d8a6(0xe1)+_0x243de9,'newObjectId':_0x22d8a6(0x10c),'oldObjectId':_0x22d8a6(0x10c)}]);}catch(_0x5f5871){throw new bad_request_error_1[(_0x22d8a6(0xfe))](_0x5f5871);}}}exports[a59_0x595c2c(0xf5)]=AzureBranchService;