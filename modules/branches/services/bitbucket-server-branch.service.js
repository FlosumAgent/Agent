const a53_0x4960=['__esModule','name','request','BitbucketServerBranchService','values','branches','2689TRWEah','return\x20/\x22\x20+\x20this\x20+\x20\x22/','fromBitbucketServer','getAll','map','../../git-api/services/bitbucket-server-api.service','../../../core/errors/bad-request.error','__importDefault','Branch\x20not\x20found','261826GLEgSJ','post','1Zlkqqt','397ZDhUSe','createRequest','find','test','/branches','361clJSJp','repository','get','create','1qwmlIh','apply','sha','constructor','replace','681196rQauht','2903HFULvh','delete','default','../../../core/errors/not-found.error','BadRequestError','BranchDto','NotFoundError','apiUrl','4241539MtBVjN','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','248229wuVIjs','783623TUPxcr'];const a53_0x19cbd7=a53_0x5202;(function(_0x274ed3,_0x33b421){const _0xae5fdf=a53_0x5202;while(!![]){try{const _0x1acc31=-parseInt(_0xae5fdf(0x151))*parseInt(_0xae5fdf(0x15b))+parseInt(_0xae5fdf(0x138))+-parseInt(_0xae5fdf(0x139))+-parseInt(_0xae5fdf(0x149))+-parseInt(_0xae5fdf(0x140))*parseInt(_0xae5fdf(0x14c))+parseInt(_0xae5fdf(0x155))*-parseInt(_0xae5fdf(0x15a))+-parseInt(_0xae5fdf(0x14b))*-parseInt(_0xae5fdf(0x136));if(_0x1acc31===_0x33b421)break;else _0x274ed3['push'](_0x274ed3['shift']());}catch(_0x12878b){_0x274ed3['push'](_0x274ed3['shift']());}}}(a53_0x4960,0x9e1b7));const a53_0x11042f=function(){let _0xd81499=!![];return function(_0x2479b5,_0x4d068c){const _0x5a805a=_0xd81499?function(){const _0x58670a=a53_0x5202;if(_0x4d068c){const _0x2f976c=_0x4d068c[_0x58670a(0x156)](_0x2479b5,arguments);return _0x4d068c=null,_0x2f976c;}}:function(){};return _0xd81499=![],_0x5a805a;};}(),a53_0x343fd0=a53_0x11042f(this,function(){const _0x17fca0=function(){const _0x318bcd=a53_0x5202,_0x29fa13=_0x17fca0[_0x318bcd(0x158)](_0x318bcd(0x141))()['constructor'](_0x318bcd(0x137));return!_0x29fa13[_0x318bcd(0x14f)](a53_0x343fd0);};return _0x17fca0();});function a53_0x5202(_0x2ea01a,_0x55782a){return a53_0x5202=function(_0x4b2c9b,_0x343fd0){_0x4b2c9b=_0x4b2c9b-0x136;let _0x11042f=a53_0x4960[_0x4b2c9b];return _0x11042f;},a53_0x5202(_0x2ea01a,_0x55782a);}a53_0x343fd0();'use strict';var __importDefault=this&&this[a53_0x19cbd7(0x147)]||function(_0x487ba8){const _0x3158b3=a53_0x19cbd7;return _0x487ba8&&_0x487ba8[_0x3158b3(0x13a)]?_0x487ba8:{'default':_0x487ba8};};Object['defineProperty'](exports,a53_0x19cbd7(0x13a),{'value':!![]}),exports['BitbucketServerBranchService']=void 0x0;const bad_request_error_1=require(a53_0x19cbd7(0x146)),not_found_error_1=require(a53_0x19cbd7(0x15e)),typedi_1=__importDefault(require('typedi')),bitbucket_server_api_service_1=require(a53_0x19cbd7(0x145)),branch_dto_1=require('../dto/branch.dto'),git_branch_service_1=require('./git-branch.service');class BitbucketServerBranchService extends git_branch_service_1['GitBranchService']{constructor(_0x3b6070){const _0x5048bb=a53_0x19cbd7;super(_0x3b6070),this[_0x5048bb(0x13c)]=this[_0x5048bb(0x14d)]();}[a53_0x19cbd7(0x14d)](){const _0x33e3ce=a53_0x19cbd7,_0x1e3b23=typedi_1[_0x33e3ce(0x15d)][_0x33e3ce(0x153)](bitbucket_server_api_service_1['BitbucketServerApiService']);return _0x1e3b23['createRequest'](this['repository'][_0x33e3ce(0x162)]);}async[a53_0x19cbd7(0x154)](_0x47205c){const _0x2ef7f3=a53_0x19cbd7;try{const _0x21c4e0=await this[_0x2ef7f3(0x13c)][_0x2ef7f3(0x14a)](_0x2ef7f3(0x13f),{'name':_0x47205c[_0x2ef7f3(0x13b)],'startPoint':_0x47205c[_0x2ef7f3(0x157)]});return branch_dto_1[_0x2ef7f3(0x160)][_0x2ef7f3(0x142)](_0x21c4e0);}catch(_0x2e91b6){throw new bad_request_error_1[(_0x2ef7f3(0x15f))](_0x2e91b6);}}async['getOne'](_0x11abd2){const _0x4f32e1=a53_0x19cbd7;try{const _0x2b4ac9=await this[_0x4f32e1(0x143)](),_0x310f3d=_0x2b4ac9[_0x4f32e1(0x14e)](_0x350506=>_0x350506[_0x4f32e1(0x13b)]===_0x11abd2);if(!_0x310f3d)throw new not_found_error_1['NotFoundError'](_0x4f32e1(0x148));return _0x310f3d;}catch(_0x5126d7){throw new not_found_error_1[(_0x4f32e1(0x161))](_0x5126d7);}}async[a53_0x19cbd7(0x143)](){const _0x233317=a53_0x19cbd7;try{const _0x5f5439=await this[_0x233317(0x13c)][_0x233317(0x153)]('branches');return _0x5f5439[_0x233317(0x13e)][_0x233317(0x144)](_0x371b74=>branch_dto_1[_0x233317(0x160)][_0x233317(0x142)](_0x371b74));}catch(_0x804340){throw new not_found_error_1[(_0x233317(0x161))](_0x804340);}}async[a53_0x19cbd7(0x15c)](_0x427487){const _0x8376ee=a53_0x19cbd7;try{await this['getOne'](_0x427487);const _0x5d6bfe=this[_0x8376ee(0x152)]['apiUrl'][_0x8376ee(0x159)]('/api/','/branch-utils/');await this['request'][_0x8376ee(0x15c)](_0x5d6bfe+_0x8376ee(0x150),{'data':{'name':'refs/heads/'+_0x427487,'dryRun':![]}});}catch(_0x425cce){throw new bad_request_error_1[(_0x8376ee(0x15f))](_0x425cce);}}}exports[a53_0x19cbd7(0x13d)]=BitbucketServerBranchService;