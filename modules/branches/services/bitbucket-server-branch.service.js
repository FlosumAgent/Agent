const a53_0x4f26=['/branches','NotFoundError','438525kyUtri','apiUrl','./git-branch.service','getAll','3YMArXX','../../../core/errors/bad-request.error','BadRequestError','return\x20/\x22\x20+\x20this\x20+\x20\x22/','createRequest','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','296820OtUmnR','5vBtzLL','__esModule','../../git-api/services/bitbucket-server-api.service','GitBranchService','default','../../../core/errors/not-found.error','98867TuXOFw','request','repository','defineProperty','get','delete','455865lJeqDD','195875VpqoNI','__importDefault','/branch-utils/','/api/','BitbucketServerApiService','BranchDto','BitbucketServerBranchService','../dto/branch.dto','122214TuNcdC','values','replace','branches','apply','constructor','find','138955HSxODO','name','typedi','Branch\x20not\x20found','map','getOne'];const a53_0x1a6527=a53_0x549c;(function(_0x52664a,_0x331ef9){const _0x1ca6a1=a53_0x549c;while(!![]){try{const _0x5a929b=parseInt(_0x1ca6a1(0x16d))+parseInt(_0x1ca6a1(0x176))*parseInt(_0x1ca6a1(0x189))+-parseInt(_0x1ca6a1(0x185))+parseInt(_0x1ca6a1(0x18f))+-parseInt(_0x1ca6a1(0x17d))+parseInt(_0x1ca6a1(0x16e))+parseInt(_0x1ca6a1(0x190))*-parseInt(_0x1ca6a1(0x196));if(_0x5a929b===_0x331ef9)break;else _0x52664a['push'](_0x52664a['shift']());}catch(_0x43f84e){_0x52664a['push'](_0x52664a['shift']());}}}(a53_0x4f26,0x3b6bb));const a53_0x4114d0=function(){let _0x471a13=!![];return function(_0x2c3ce5,_0x5bc575){const _0x18cef6=_0x471a13?function(){const _0x434709=a53_0x549c;if(_0x5bc575){const _0x10efc0=_0x5bc575[_0x434709(0x17a)](_0x2c3ce5,arguments);return _0x5bc575=null,_0x10efc0;}}:function(){};return _0x471a13=![],_0x18cef6;};}(),a53_0xeb0f83=a53_0x4114d0(this,function(){const _0x11ea61=function(){const _0x3750fd=a53_0x549c,_0x45ffb9=_0x11ea61['constructor'](_0x3750fd(0x18c))()[_0x3750fd(0x17b)](_0x3750fd(0x18e));return!_0x45ffb9['test'](a53_0xeb0f83);};return _0x11ea61();});a53_0xeb0f83();'use strict';var __importDefault=this&&this[a53_0x1a6527(0x16f)]||function(_0xf554f8){const _0x192de3=a53_0x1a6527;return _0xf554f8&&_0xf554f8[_0x192de3(0x191)]?_0xf554f8:{'default':_0xf554f8};};Object[a53_0x1a6527(0x16a)](exports,a53_0x1a6527(0x191),{'value':!![]}),exports['BitbucketServerBranchService']=void 0x0;const bad_request_error_1=require(a53_0x1a6527(0x18a)),not_found_error_1=require(a53_0x1a6527(0x195)),typedi_1=__importDefault(require(a53_0x1a6527(0x17f))),bitbucket_server_api_service_1=require(a53_0x1a6527(0x192)),branch_dto_1=require(a53_0x1a6527(0x175)),git_branch_service_1=require(a53_0x1a6527(0x187));function a53_0x549c(_0x5d6b5a,_0x5c6810){return a53_0x549c=function(_0x4cb8df,_0xeb0f83){_0x4cb8df=_0x4cb8df-0x168;let _0x4114d0=a53_0x4f26[_0x4cb8df];return _0x4114d0;},a53_0x549c(_0x5d6b5a,_0x5c6810);}class BitbucketServerBranchService extends git_branch_service_1[a53_0x1a6527(0x193)]{constructor(_0x5220c1){const _0x3a1122=a53_0x1a6527;super(_0x5220c1),this['request']=this[_0x3a1122(0x18d)]();}['createRequest'](){const _0x4453bd=a53_0x1a6527,_0x10f5bf=typedi_1[_0x4453bd(0x194)]['get'](bitbucket_server_api_service_1[_0x4453bd(0x172)]);return _0x10f5bf[_0x4453bd(0x18d)](this[_0x4453bd(0x169)][_0x4453bd(0x186)]);}async[a53_0x1a6527(0x182)](_0x9724d4){const _0x3d0c71=a53_0x1a6527;try{const _0x4c3308=await this[_0x3d0c71(0x188)](),_0x5b6359=_0x4c3308[_0x3d0c71(0x17c)](_0x5bd082=>_0x5bd082[_0x3d0c71(0x17e)]===_0x9724d4);if(!_0x5b6359)throw new not_found_error_1['NotFoundError'](_0x3d0c71(0x180));return _0x5b6359;}catch(_0x19f6ae){throw new not_found_error_1[(_0x3d0c71(0x184))](_0x19f6ae);}}async[a53_0x1a6527(0x188)](){const _0x2bc2b4=a53_0x1a6527;try{const _0xf94abf=await this[_0x2bc2b4(0x168)][_0x2bc2b4(0x16b)](_0x2bc2b4(0x179));return _0xf94abf[_0x2bc2b4(0x177)][_0x2bc2b4(0x181)](_0x4b09fd=>branch_dto_1[_0x2bc2b4(0x173)]['fromBitbucketServer'](_0x4b09fd));}catch(_0x30722c){throw new not_found_error_1[(_0x2bc2b4(0x184))](_0x30722c);}}async[a53_0x1a6527(0x16c)](_0x1433ee){const _0x225d23=a53_0x1a6527;try{await this['getOne'](_0x1433ee);const _0x5c702b=this[_0x225d23(0x169)]['apiUrl'][_0x225d23(0x178)](_0x225d23(0x171),_0x225d23(0x170));await this['request'][_0x225d23(0x16c)](_0x5c702b+_0x225d23(0x183),{'data':{'name':'refs/heads/'+_0x1433ee,'dryRun':![]}});}catch(_0x4fb887){throw new bad_request_error_1[(_0x225d23(0x18b))](_0x4fb887);}}}exports[a53_0x1a6527(0x174)]=BitbucketServerBranchService;