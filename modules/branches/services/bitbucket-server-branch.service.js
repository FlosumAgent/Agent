const a53_0x34b3=['14975MOaVaw','BranchDto','name','getAll','branches','316510QhFiDI','typedi','get','587437BYzvYk','75957XxsCDS','createRequest','71XHvheH','../dto/branch.dto','684429PseKSS','17357nkerJC','Branch\x20not\x20found','93iBZvAJ','345587EPqfEz','replace','test','delete','repository','BitbucketServerBranchService','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','post','/branches','values','constructor','request','GitBranchService','__importDefault','apply','apiUrl','sha','../../git-api/services/bitbucket-server-api.service','__esModule','map','BadRequestError'];const a53_0x748a64=a53_0x3289;(function(_0x28b7ef,_0x547ac7){const _0x527121=a53_0x3289;while(!![]){try{const _0x267724=-parseInt(_0x527121(0xab))+parseInt(_0x527121(0xa9))*-parseInt(_0x527121(0xac))+parseInt(_0x527121(0xa3))+-parseInt(_0x527121(0x9e))*-parseInt(_0x527121(0xae))+parseInt(_0x527121(0xa6))+parseInt(_0x527121(0xaf))+parseInt(_0x527121(0xa7));if(_0x267724===_0x547ac7)break;else _0x28b7ef['push'](_0x28b7ef['shift']());}catch(_0x1beda8){_0x28b7ef['push'](_0x28b7ef['shift']());}}}(a53_0x34b3,0xc3a6e));function a53_0x3289(_0x1f30cf,_0x3ca565){return a53_0x3289=function(_0xd8f094,_0x279e1a){_0xd8f094=_0xd8f094-0x8f;let _0x13d4a8=a53_0x34b3[_0xd8f094];return _0x13d4a8;},a53_0x3289(_0x1f30cf,_0x3ca565);}const a53_0x13d4a8=function(){let _0x331223=!![];return function(_0x2b0ffe,_0x241371){const _0x477f37=_0x331223?function(){const _0x494147=a53_0x3289;if(_0x241371){const _0x5bffef=_0x241371[_0x494147(0x97)](_0x2b0ffe,arguments);return _0x241371=null,_0x5bffef;}}:function(){};return _0x331223=![],_0x477f37;};}(),a53_0x279e1a=a53_0x13d4a8(this,function(){const _0xee0498=function(){const _0x2fb60=a53_0x3289,_0x5eb8c1=_0xee0498[_0x2fb60(0x93)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x2fb60(0x93)](_0x2fb60(0x8f));return!_0x5eb8c1[_0x2fb60(0xb1)](a53_0x279e1a);};return _0xee0498();});a53_0x279e1a();'use strict';var __importDefault=this&&this[a53_0x748a64(0x96)]||function(_0x563948){const _0x5c8f0d=a53_0x748a64;return _0x563948&&_0x563948[_0x5c8f0d(0x9b)]?_0x563948:{'default':_0x563948};};Object['defineProperty'](exports,a53_0x748a64(0x9b),{'value':!![]}),exports[a53_0x748a64(0xb4)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require(a53_0x748a64(0xa4))),bitbucket_server_api_service_1=require(a53_0x748a64(0x9a)),branch_dto_1=require(a53_0x748a64(0xaa)),git_branch_service_1=require('./git-branch.service');class BitbucketServerBranchService extends git_branch_service_1[a53_0x748a64(0x95)]{constructor(_0x386903){const _0x5ef63d=a53_0x748a64;super(_0x386903),this[_0x5ef63d(0x94)]=this[_0x5ef63d(0xa8)]();}[a53_0x748a64(0xa8)](){const _0x10d698=a53_0x748a64,_0xf217bc=typedi_1['default'][_0x10d698(0xa5)](bitbucket_server_api_service_1['BitbucketServerApiService']);return _0xf217bc[_0x10d698(0xa8)](this[_0x10d698(0xb3)][_0x10d698(0x98)]);}async['create'](_0x282c50){const _0x359928=a53_0x748a64;try{const _0x11c303=await this[_0x359928(0x94)][_0x359928(0x90)](_0x359928(0xa2),{'name':_0x282c50[_0x359928(0xa0)],'startPoint':_0x282c50[_0x359928(0x99)]});return branch_dto_1[_0x359928(0x9f)]['fromBitbucketServer'](_0x11c303);}catch(_0x648f43){throw new bad_request_error_1['BadRequestError'](_0x648f43);}}async['getOne'](_0x389a61){const _0x26e4ea=a53_0x748a64;try{const _0x53b7f1=await this[_0x26e4ea(0xa1)](),_0x3fc67e=_0x53b7f1['find'](_0x48b077=>_0x48b077['name']===_0x389a61);if(!_0x3fc67e)throw new not_found_error_1['NotFoundError'](_0x26e4ea(0xad));return _0x3fc67e;}catch(_0x574187){throw new not_found_error_1['NotFoundError'](_0x574187);}}async[a53_0x748a64(0xa1)](){const _0x9849ad=a53_0x748a64;try{const _0x4534f9=await this[_0x9849ad(0x94)][_0x9849ad(0xa5)](_0x9849ad(0xa2));return _0x4534f9[_0x9849ad(0x92)][_0x9849ad(0x9c)](_0x34acc4=>branch_dto_1[_0x9849ad(0x9f)]['fromBitbucketServer'](_0x34acc4));}catch(_0x34c10a){throw new not_found_error_1['NotFoundError'](_0x34c10a);}}async[a53_0x748a64(0xb2)](_0x4a8b5a){const _0x545d56=a53_0x748a64;try{await this['getOne'](_0x4a8b5a);const _0x5f0ead=this[_0x545d56(0xb3)][_0x545d56(0x98)][_0x545d56(0xb0)]('/api/','/branch-utils/');await this['request'][_0x545d56(0xb2)](_0x5f0ead+_0x545d56(0x91),{'data':{'name':'refs/heads/'+_0x4a8b5a,'dryRun':![]}});}catch(_0x1bca9e){throw new bad_request_error_1[(_0x545d56(0x9d))](_0x1bca9e);}}}exports[a53_0x748a64(0xb4)]=BitbucketServerBranchService;