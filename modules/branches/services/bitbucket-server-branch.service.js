const a53_0x15d7=['getOne','delete','__esModule','3twTAQU','/api/','BranchDto','name','test','BitbucketServerBranchService','values','148805atHEwZ','typedi','constructor','NotFoundError','24417IwHIBr','apiUrl','95187JPAvgy','944109zpjAml','get','find','../dto/branch.dto','858553uhiHpw','GitBranchService','4pQjWQB','createRequest','../../git-api/services/bitbucket-server-api.service','163279IsKOkM','branches','repository','request','apply','BitbucketServerApiService','__importDefault','162603IRRkID','../../../core/errors/bad-request.error','defineProperty','getAll','return\x20/\x22\x20+\x20this\x20+\x20\x22/','3GnAVpD'];const a53_0x4936fe=a53_0x3964;(function(_0x53b12a,_0x2fee88){const _0x1a1d50=a53_0x3964;while(!![]){try{const _0x3f5a2a=-parseInt(_0x1a1d50(0x114))*-parseInt(_0x1a1d50(0x111))+parseInt(_0x1a1d50(0x132))+-parseInt(_0x1a1d50(0x11b))+parseInt(_0x1a1d50(0x12b))+-parseInt(_0x1a1d50(0x131))*parseInt(_0x1a1d50(0x120))+-parseInt(_0x1a1d50(0x10f))+-parseInt(_0x1a1d50(0x124))*-parseInt(_0x1a1d50(0x12f));if(_0x3f5a2a===_0x2fee88)break;else _0x53b12a['push'](_0x53b12a['shift']());}catch(_0x3cdda6){_0x53b12a['push'](_0x53b12a['shift']());}}}(a53_0x15d7,0x7d234));const a53_0x3b793b=function(){let _0x5e7e8f=!![];return function(_0x5935bb,_0x2c3764){const _0x580fc7=_0x5e7e8f?function(){const _0x6a0fad=a53_0x3964;if(_0x2c3764){const _0x5b8dba=_0x2c3764[_0x6a0fad(0x118)](_0x5935bb,arguments);return _0x2c3764=null,_0x5b8dba;}}:function(){};return _0x5e7e8f=![],_0x580fc7;};}(),a53_0x3291d7=a53_0x3b793b(this,function(){const _0x4b10cb=function(){const _0x164342=a53_0x3964,_0x29936f=_0x4b10cb[_0x164342(0x12d)](_0x164342(0x11f))()[_0x164342(0x12d)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x29936f[_0x164342(0x128)](a53_0x3291d7);};return _0x4b10cb();});a53_0x3291d7();'use strict';var __importDefault=this&&this[a53_0x4936fe(0x11a)]||function(_0x545992){const _0x4a34f6=a53_0x4936fe;return _0x545992&&_0x545992[_0x4a34f6(0x123)]?_0x545992:{'default':_0x545992};};Object[a53_0x4936fe(0x11d)](exports,'__esModule',{'value':!![]}),exports[a53_0x4936fe(0x129)]=void 0x0;function a53_0x3964(_0x1341dd,_0x394df9){return a53_0x3964=function(_0x2b779e,_0x3291d7){_0x2b779e=_0x2b779e-0x10f;let _0x3b793b=a53_0x15d7[_0x2b779e];return _0x3b793b;},a53_0x3964(_0x1341dd,_0x394df9);}const bad_request_error_1=require(a53_0x4936fe(0x11c)),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require(a53_0x4936fe(0x12c))),bitbucket_server_api_service_1=require(a53_0x4936fe(0x113)),branch_dto_1=require(a53_0x4936fe(0x135)),git_branch_service_1=require('./git-branch.service');class BitbucketServerBranchService extends git_branch_service_1[a53_0x4936fe(0x110)]{constructor(_0x12591f){const _0x1b8c96=a53_0x4936fe;super(_0x12591f),this[_0x1b8c96(0x117)]=this[_0x1b8c96(0x112)]();}['createRequest'](){const _0x2b7de4=a53_0x4936fe,_0x4ab184=typedi_1['default']['get'](bitbucket_server_api_service_1[_0x2b7de4(0x119)]);return _0x4ab184[_0x2b7de4(0x112)](this[_0x2b7de4(0x116)][_0x2b7de4(0x130)]);}async[a53_0x4936fe(0x121)](_0x34e005){const _0x18ff1a=a53_0x4936fe;try{const _0x1b6b29=await this[_0x18ff1a(0x11e)](),_0x46157a=_0x1b6b29[_0x18ff1a(0x134)](_0x706e7f=>_0x706e7f[_0x18ff1a(0x127)]===_0x34e005);if(!_0x46157a)throw new not_found_error_1[(_0x18ff1a(0x12e))]('Branch\x20not\x20found');return _0x46157a;}catch(_0x404a21){throw new not_found_error_1[(_0x18ff1a(0x12e))](_0x404a21);}}async['getAll'](){const _0x13b79b=a53_0x4936fe;try{const _0x252984=await this[_0x13b79b(0x117)][_0x13b79b(0x133)](_0x13b79b(0x115));return _0x252984[_0x13b79b(0x12a)]['map'](_0x5f11cf=>branch_dto_1[_0x13b79b(0x126)]['fromBitbucketServer'](_0x5f11cf));}catch(_0x528a02){throw new not_found_error_1['NotFoundError'](_0x528a02);}}async[a53_0x4936fe(0x122)](_0x501604){const _0x2dea3f=a53_0x4936fe;try{await this[_0x2dea3f(0x121)](_0x501604);const _0x3733c9=this['repository']['apiUrl']['replace'](_0x2dea3f(0x125),'/branch-utils/');await this[_0x2dea3f(0x117)][_0x2dea3f(0x122)](_0x3733c9+'/branches',{'data':{'name':'refs/heads/'+_0x501604,'dryRun':![]}});}catch(_0x4b4354){throw new bad_request_error_1['BadRequestError'](_0x4b4354);}}}exports[a53_0x4936fe(0x129)]=BitbucketServerBranchService;