const a53_0x2d02=['731399AgZPmn','NotFoundError','repository','../../git-api/services/bitbucket-server-api.service','BranchDto','BadRequestError','207692ZjyOQv','BitbucketServerApiService','3344WIZdsN','Branch\x20not\x20found','find','request','constructor','typedi','/branches','createRequest','get','8623ccDhTL','365916XpeYjK','320067seFjCN','../../../core/errors/not-found.error','getOne','/branch-utils/','1QtQNWd','92dhLYAu','BitbucketServerBranchService','79pCGEUx','GitBranchService','../dto/branch.dto','replace','__importDefault','apiUrl','getAll','return\x20/\x22\x20+\x20this\x20+\x20\x22/','delete','map','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','524211LyQeRy','__esModule','defineProperty','../../../core/errors/bad-request.error','default','2ACQrQx'];const a53_0x174cff=a53_0x3a6e;(function(_0x2bca0b,_0xc64246){const _0x50043d=a53_0x3a6e;while(!![]){try{const _0x15e84f=-parseInt(_0x50043d(0x1ae))*-parseInt(_0x50043d(0x1c6))+-parseInt(_0x50043d(0x1a4))*-parseInt(_0x50043d(0x1b6))+parseInt(_0x50043d(0x1b4))*parseInt(_0x50043d(0x1ad))+parseInt(_0x50043d(0x1a2))+parseInt(_0x50043d(0x1c1))*-parseInt(_0x50043d(0x1b3))+-parseInt(_0x50043d(0x1c7))+-parseInt(_0x50043d(0x1af));if(_0x15e84f===_0xc64246)break;else _0x2bca0b['push'](_0x2bca0b['shift']());}catch(_0x55fc68){_0x2bca0b['push'](_0x2bca0b['shift']());}}}(a53_0x2d02,0x66ddb));const a53_0x13505a=function(){let _0x1a1ed6=!![];return function(_0x2dd62a,_0x382af4){const _0x14b883=_0x1a1ed6?function(){if(_0x382af4){const _0x15e27a=_0x382af4['apply'](_0x2dd62a,arguments);return _0x382af4=null,_0x15e27a;}}:function(){};return _0x1a1ed6=![],_0x14b883;};}(),a53_0x5ce967=a53_0x13505a(this,function(){const _0x2b7b20=function(){const _0x679e8c=a53_0x3a6e,_0xea0d7b=_0x2b7b20[_0x679e8c(0x1a8)](_0x679e8c(0x1bd))()[_0x679e8c(0x1a8)](_0x679e8c(0x1c0));return!_0xea0d7b['test'](a53_0x5ce967);};return _0x2b7b20();});a53_0x5ce967();'use strict';var __importDefault=this&&this[a53_0x174cff(0x1ba)]||function(_0x1829bb){const _0x5b1afa=a53_0x174cff;return _0x1829bb&&_0x1829bb[_0x5b1afa(0x1c2)]?_0x1829bb:{'default':_0x1829bb};};Object[a53_0x174cff(0x1c3)](exports,a53_0x174cff(0x1c2),{'value':!![]}),exports[a53_0x174cff(0x1b5)]=void 0x0;const bad_request_error_1=require(a53_0x174cff(0x1c4)),not_found_error_1=require(a53_0x174cff(0x1b0)),typedi_1=__importDefault(require(a53_0x174cff(0x1a9))),bitbucket_server_api_service_1=require(a53_0x174cff(0x19f)),branch_dto_1=require(a53_0x174cff(0x1b8)),git_branch_service_1=require('./git-branch.service');class BitbucketServerBranchService extends git_branch_service_1[a53_0x174cff(0x1b7)]{constructor(_0x10b9a4){const _0x1c8948=a53_0x174cff;super(_0x10b9a4),this['request']=this[_0x1c8948(0x1ab)]();}[a53_0x174cff(0x1ab)](){const _0x3d3de2=a53_0x174cff,_0x15e546=typedi_1[_0x3d3de2(0x1c5)][_0x3d3de2(0x1ac)](bitbucket_server_api_service_1[_0x3d3de2(0x1a3)]);return _0x15e546['createRequest'](this['repository'][_0x3d3de2(0x1bb)]);}async[a53_0x174cff(0x1b1)](_0x2fd28c){const _0x35c14d=a53_0x174cff;try{const _0xc28085=await this[_0x35c14d(0x1bc)](),_0x873b00=_0xc28085[_0x35c14d(0x1a6)](_0xb1742c=>_0xb1742c['name']===_0x2fd28c);if(!_0x873b00)throw new not_found_error_1[(_0x35c14d(0x1c8))](_0x35c14d(0x1a5));return _0x873b00;}catch(_0x4f91f9){throw new not_found_error_1[(_0x35c14d(0x1c8))](_0x4f91f9);}}async[a53_0x174cff(0x1bc)](){const _0x889d72=a53_0x174cff;try{const _0x4232c6=await this[_0x889d72(0x1a7)]['get']('branches');return _0x4232c6['values'][_0x889d72(0x1bf)](_0x2db2f0=>branch_dto_1[_0x889d72(0x1a0)]['fromBitbucketServer'](_0x2db2f0));}catch(_0xe49b5a){throw new not_found_error_1[(_0x889d72(0x1c8))](_0xe49b5a);}}async[a53_0x174cff(0x1be)](_0x1b7ae2){const _0x2c7ca4=a53_0x174cff;try{await this[_0x2c7ca4(0x1b1)](_0x1b7ae2);const _0x25e128=this[_0x2c7ca4(0x1c9)][_0x2c7ca4(0x1bb)][_0x2c7ca4(0x1b9)]('/api/',_0x2c7ca4(0x1b2));await this[_0x2c7ca4(0x1a7)][_0x2c7ca4(0x1be)](_0x25e128+_0x2c7ca4(0x1aa),{'data':{'name':'refs/heads/'+_0x1b7ae2,'dryRun':![]}});}catch(_0x2e4573){throw new bad_request_error_1[(_0x2c7ca4(0x1a1))](_0x2e4573);}}}function a53_0x3a6e(_0x357e2b,_0x255bea){return a53_0x3a6e=function(_0x574f9f,_0x5ce967){_0x574f9f=_0x574f9f-0x19f;let _0x13505a=a53_0x2d02[_0x574f9f];return _0x13505a;},a53_0x3a6e(_0x357e2b,_0x255bea);}exports['BitbucketServerBranchService']=BitbucketServerBranchService;