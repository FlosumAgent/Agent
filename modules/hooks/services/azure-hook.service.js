const a72_0x1a129a=a72_0x32fc;(function(_0x2f1c29,_0x47e9da){const _0x3a0d83=a72_0x32fc,_0x5cc879=_0x2f1c29();while(!![]){try{const _0x1ede6d=-parseInt(_0x3a0d83(0xc2))/0x1*(-parseInt(_0x3a0d83(0xb4))/0x2)+parseInt(_0x3a0d83(0xc8))/0x3+parseInt(_0x3a0d83(0xb2))/0x4+parseInt(_0x3a0d83(0xa6))/0x5+-parseInt(_0x3a0d83(0xc1))/0x6+parseInt(_0x3a0d83(0xbc))/0x7*(-parseInt(_0x3a0d83(0xba))/0x8)+-parseInt(_0x3a0d83(0xaf))/0x9*(parseInt(_0x3a0d83(0xcf))/0xa);if(_0x1ede6d===_0x47e9da)break;else _0x5cc879['push'](_0x5cc879['shift']());}catch(_0x335b6d){_0x5cc879['push'](_0x5cc879['shift']());}}}(a72_0x3b91,0x347e3));const a72_0x50a96e=function(){let _0x25b379=!![];return function(_0x37bec2,_0x226458){const _0x2b7189=_0x25b379?function(){const _0x6dfecf=a72_0x32fc;if(_0x226458){const _0x63430b=_0x226458[_0x6dfecf(0xb7)](_0x37bec2,arguments);return _0x226458=null,_0x63430b;}}:function(){};return _0x25b379=![],_0x2b7189;};}(),a72_0x5b90c2=a72_0x50a96e(this,function(){const _0x146973=a72_0x32fc;return a72_0x5b90c2[_0x146973(0xb1)]()[_0x146973(0xa5)](_0x146973(0xa4))[_0x146973(0xb1)]()[_0x146973(0xc7)](a72_0x5b90c2)[_0x146973(0xa5)](_0x146973(0xa4));});a72_0x5b90c2();'use strict';var __importDefault=this&&this[a72_0x1a129a(0xbd)]||function(_0xf5b1f3){return _0xf5b1f3&&_0xf5b1f3['__esModule']?_0xf5b1f3:{'default':_0xf5b1f3};};Object[a72_0x1a129a(0xcc)](exports,a72_0x1a129a(0xa7),{'value':!![]}),exports[a72_0x1a129a(0xb5)]=void 0x0;function a72_0x32fc(_0x21ac59,_0x1fc266){const _0x1ac638=a72_0x3b91();return a72_0x32fc=function(_0x5b90c2,_0x50a96e){_0x5b90c2=_0x5b90c2-0xa3;let _0x3b91b8=_0x1ac638[_0x5b90c2];return _0x3b91b8;},a72_0x32fc(_0x21ac59,_0x1fc266);}const bad_request_error_1=require(a72_0x1a129a(0xce)),not_found_error_1=require(a72_0x1a129a(0xae)),typedi_1=__importDefault(require(a72_0x1a129a(0xd1))),azure_api_service_1=require('../../git-api/services/azure-api.service'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),hook_dto_1=require(a72_0x1a129a(0xbf)),git_hook_service_1=require(a72_0x1a129a(0xc9));function a72_0x3b91(){const _0x390225=['953320xPwCMB','map','1420aOnDcv','AzureHookService','getProjectId','apply','getOne','BadRequestError','109448tCoafn','authService','91vWFBcJ','__importDefault','create','../dto/hook.dto','delete','568926CbhCCt','250CaeSMe','fromAzure','/_apis/hooks/subscriptions','AzureApiService','request','constructor','643167WnyfMA','./git-hook.service','getAll','/_apis/hooks/subscriptions/','defineProperty','get','../../../core/errors/bad-request.error','442110uxHJsu','post','typedi','projectId','filter','(((.+)+)+)+$','search','1718935UVcxdE','__esModule','NotFoundError','createRequest','AuthSettingsService','value','HookDto','organization','../../../core/errors/not-found.error','99MlrxNB','default','toString'];a72_0x3b91=function(){return _0x390225;};return a72_0x3b91();}class AzureHookService extends git_hook_service_1['GitHookService']{constructor(_0xf5d1d,_0x5396ed){const _0x1574b8=a72_0x1a129a;super(_0xf5d1d),this[_0x1574b8(0xd2)]=_0x5396ed,this['authService']=typedi_1[_0x1574b8(0xb0)][_0x1574b8(0xcd)](auth_settings_service_1[_0x1574b8(0xaa)]),this[_0x1574b8(0xc6)]=this[_0x1574b8(0xa9)]();}get[a72_0x1a129a(0xad)](){const _0xb44664=a72_0x1a129a;return this[_0xb44664(0xbb)]['azure'][_0xb44664(0xad)];}[a72_0x1a129a(0xa9)](){const _0x53063d=a72_0x1a129a,_0x18e8ae=typedi_1[_0x53063d(0xb0)][_0x53063d(0xcd)](azure_api_service_1[_0x53063d(0xc5)]);return _0x18e8ae[_0x53063d(0xa9)]();}[a72_0x1a129a(0xb6)](){const _0x48c156=a72_0x1a129a;return this[_0x48c156(0xd2)];}async[a72_0x1a129a(0xbe)](_0x44bc1a){const _0x4d1679=a72_0x1a129a;try{const _0x53cc49=await this[_0x4d1679(0xc6)][_0x4d1679(0xd0)](this['organization']+'/_apis/hooks/subscriptions',_0x44bc1a);return hook_dto_1[_0x4d1679(0xac)][_0x4d1679(0xc3)](_0x53cc49);}catch(_0x42d3f1){throw new bad_request_error_1['BadRequestError'](_0x42d3f1);}}async[a72_0x1a129a(0xb8)](_0x5d6331){const _0x464b46=a72_0x1a129a;try{const _0x105035=await this['request'][_0x464b46(0xcd)](this[_0x464b46(0xad)]+_0x464b46(0xcb)+_0x5d6331);return hook_dto_1[_0x464b46(0xac)][_0x464b46(0xc3)](_0x105035);}catch(_0x2113c4){throw new not_found_error_1[(_0x464b46(0xa8))](_0x2113c4);}}async[a72_0x1a129a(0xca)](){const _0xc2dfca=a72_0x1a129a;try{const _0x5bab9f=await this[_0xc2dfca(0xc6)]['get'](this[_0xc2dfca(0xad)]+_0xc2dfca(0xc4));return _0x5bab9f[_0xc2dfca(0xab)][_0xc2dfca(0xa3)](_0x14ec76=>{const _0x5261e3=_0xc2dfca;var _0x18ccad;return((_0x18ccad=_0x14ec76===null||_0x14ec76===void 0x0?void 0x0:_0x14ec76['publisherInputs'])===null||_0x18ccad===void 0x0?void 0x0:_0x18ccad[_0x5261e3(0xd2)])===this[_0x5261e3(0xd2)];})[_0xc2dfca(0xb3)](_0x5d809c=>hook_dto_1['HookDto'][_0xc2dfca(0xc3)](_0x5d809c));}catch(_0x13221a){throw new not_found_error_1[(_0xc2dfca(0xa8))](_0x13221a);}}async['update'](_0x7a09aa,_0x1fa091){const _0x37b02f=a72_0x1a129a;try{const _0x18e4f8=await this[_0x37b02f(0xc6)]['patch'](this['organization']+_0x37b02f(0xcb)+_0x7a09aa,_0x1fa091);return hook_dto_1[_0x37b02f(0xac)]['fromGithub'](_0x18e4f8);}catch(_0x429a4d){throw new bad_request_error_1[(_0x37b02f(0xb9))](_0x429a4d);}}async[a72_0x1a129a(0xc0)](_0x531846){const _0x3792f8=a72_0x1a129a;try{await this[_0x3792f8(0xc6)][_0x3792f8(0xc0)](this[_0x3792f8(0xad)]+_0x3792f8(0xcb)+_0x531846);}catch(_0x58590e){throw new bad_request_error_1[(_0x3792f8(0xb9))](_0x58590e);}}}exports[a72_0x1a129a(0xb5)]=AzureHookService;