const a77_0x273ca1=a77_0x51fd;(function(_0x58bc2b,_0x46e7b3){const _0x2a6fc4=a77_0x51fd,_0x4e50f2=_0x58bc2b();while(!![]){try{const _0x26d91d=parseInt(_0x2a6fc4(0x1a9))/0x1+parseInt(_0x2a6fc4(0x1bb))/0x2*(parseInt(_0x2a6fc4(0x1c6))/0x3)+parseInt(_0x2a6fc4(0x1a8))/0x4*(-parseInt(_0x2a6fc4(0x1bc))/0x5)+-parseInt(_0x2a6fc4(0x1ac))/0x6*(parseInt(_0x2a6fc4(0x1c4))/0x7)+parseInt(_0x2a6fc4(0x1b8))/0x8+parseInt(_0x2a6fc4(0x1d1))/0x9*(parseInt(_0x2a6fc4(0x1b5))/0xa)+parseInt(_0x2a6fc4(0x1c3))/0xb;if(_0x26d91d===_0x46e7b3)break;else _0x4e50f2['push'](_0x4e50f2['shift']());}catch(_0x539c86){_0x4e50f2['push'](_0x4e50f2['shift']());}}}(a77_0x1ec7,0x92c89));const a77_0x4e383c=function(){let _0x3e5e52=!![];return function(_0xcb314f,_0x4e1ee1){const _0x1e5254=_0x3e5e52?function(){const _0x27c288=a77_0x51fd;if(_0x4e1ee1){const _0x25baef=_0x4e1ee1[_0x27c288(0x1ab)](_0xcb314f,arguments);return _0x4e1ee1=null,_0x25baef;}}:function(){};return _0x3e5e52=![],_0x1e5254;};}(),a77_0xc40526=a77_0x4e383c(this,function(){const _0x2c2d81=a77_0x51fd;return a77_0xc40526[_0x2c2d81(0x1d0)]()[_0x2c2d81(0x1b1)](_0x2c2d81(0x1c5))['toString']()[_0x2c2d81(0x1b2)](a77_0xc40526)[_0x2c2d81(0x1b1)](_0x2c2d81(0x1c5));});a77_0xc40526();function a77_0x51fd(_0xc0de3c,_0x47bcca){const _0x56c5c6=a77_0x1ec7();return a77_0x51fd=function(_0xc40526,_0x4e383c){_0xc40526=_0xc40526-0x1a4;let _0x1ec724=_0x56c5c6[_0xc40526];return _0x1ec724;},a77_0x51fd(_0xc0de3c,_0x47bcca);}'use strict';function a77_0x1ec7(){const _0x1a6286=['../../../core/errors/not-found.error','NotFoundError','5034uBScOs','440875VLvHwH','__esModule','default','AzureHookService','fromAzure','/_apis/hooks/subscriptions','map','1041909zWcAgr','219002cXMOts','(((.+)+)+)+$','642QlwGRP','authService','get','organization','../../shared/services/auth-settings.service','../dto/hook.dto','__importDefault','getOne','./git-hook.service','HookDto','toString','3117186OIGlgJ','request','update','AuthSettingsService','publisherInputs','create','value','BadRequestError','20TYjSsN','53608khiwgH','createRequest','apply','198xYYFfk','azure','projectId','getProjectId','patch','search','constructor','../../git-api/services/azure-api.service','fromGithub','20fgukua','delete','/_apis/hooks/subscriptions/','5558920SNhnQS'];a77_0x1ec7=function(){return _0x1a6286;};return a77_0x1ec7();}var __importDefault=this&&this[a77_0x273ca1(0x1cc)]||function(_0x5598cb){const _0x251d69=a77_0x273ca1;return _0x5598cb&&_0x5598cb[_0x251d69(0x1bd)]?_0x5598cb:{'default':_0x5598cb};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a77_0x273ca1(0x1bf)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a77_0x273ca1(0x1b9)),typedi_1=__importDefault(require('typedi')),azure_api_service_1=require(a77_0x273ca1(0x1b3)),auth_settings_service_1=require(a77_0x273ca1(0x1ca)),hook_dto_1=require(a77_0x273ca1(0x1cb)),git_hook_service_1=require(a77_0x273ca1(0x1ce));class AzureHookService extends git_hook_service_1['GitHookService']{constructor(_0x3ffabe,_0x565855){const _0x157124=a77_0x273ca1;super(_0x3ffabe),this['projectId']=_0x565855,this[_0x157124(0x1c7)]=typedi_1[_0x157124(0x1be)]['get'](auth_settings_service_1[_0x157124(0x1d4)]),this[_0x157124(0x1d2)]=this[_0x157124(0x1aa)]();}get[a77_0x273ca1(0x1c9)](){const _0x4fdbe2=a77_0x273ca1;return this[_0x4fdbe2(0x1c7)][_0x4fdbe2(0x1ad)][_0x4fdbe2(0x1c9)];}['createRequest'](){const _0x3a0a0f=a77_0x273ca1,_0x2ef2e3=typedi_1['default']['get'](azure_api_service_1['AzureApiService']);return _0x2ef2e3[_0x3a0a0f(0x1aa)]();}[a77_0x273ca1(0x1af)](){const _0x405776=a77_0x273ca1;return this[_0x405776(0x1ae)];}async[a77_0x273ca1(0x1a5)](_0x20ee5d){const _0x3f7bcf=a77_0x273ca1;try{const _0xb149f1=await this[_0x3f7bcf(0x1d2)]['post'](this['organization']+_0x3f7bcf(0x1c1),_0x20ee5d);return hook_dto_1['HookDto'][_0x3f7bcf(0x1c0)](_0xb149f1);}catch(_0x1d71bd){throw new bad_request_error_1[(_0x3f7bcf(0x1a7))](_0x1d71bd);}}async[a77_0x273ca1(0x1cd)](_0x1deae2){const _0x31ef6f=a77_0x273ca1;try{const _0x528334=await this[_0x31ef6f(0x1d2)][_0x31ef6f(0x1c8)](this[_0x31ef6f(0x1c9)]+_0x31ef6f(0x1b7)+_0x1deae2);return hook_dto_1[_0x31ef6f(0x1cf)]['fromAzure'](_0x528334);}catch(_0x42d588){throw new not_found_error_1[(_0x31ef6f(0x1ba))](_0x42d588);}}async['getAll'](){const _0x37a5d6=a77_0x273ca1;try{const _0x223248=await this[_0x37a5d6(0x1d2)]['get'](this[_0x37a5d6(0x1c9)]+_0x37a5d6(0x1c1));return _0x223248[_0x37a5d6(0x1a6)]['filter'](_0x517413=>{const _0x1aec77=_0x37a5d6;var _0x190520;return((_0x190520=_0x517413===null||_0x517413===void 0x0?void 0x0:_0x517413[_0x1aec77(0x1a4)])===null||_0x190520===void 0x0?void 0x0:_0x190520['projectId'])===this['projectId'];})[_0x37a5d6(0x1c2)](_0x21bc5d=>hook_dto_1[_0x37a5d6(0x1cf)][_0x37a5d6(0x1c0)](_0x21bc5d));}catch(_0x1c279a){throw new not_found_error_1[(_0x37a5d6(0x1ba))](_0x1c279a);}}async[a77_0x273ca1(0x1d3)](_0x15dabb,_0x16db22){const _0x18362b=a77_0x273ca1;try{const _0xc0b510=await this['request'][_0x18362b(0x1b0)](this[_0x18362b(0x1c9)]+_0x18362b(0x1b7)+_0x15dabb,_0x16db22);return hook_dto_1[_0x18362b(0x1cf)][_0x18362b(0x1b4)](_0xc0b510);}catch(_0x32d9cf){throw new bad_request_error_1['BadRequestError'](_0x32d9cf);}}async[a77_0x273ca1(0x1b6)](_0x54d132){const _0x45f885=a77_0x273ca1;try{await this['request'][_0x45f885(0x1b6)](this[_0x45f885(0x1c9)]+_0x45f885(0x1b7)+_0x54d132);}catch(_0x36abb6){throw new bad_request_error_1['BadRequestError'](_0x36abb6);}}}exports[a77_0x273ca1(0x1bf)]=AzureHookService;