const a77_0x403c08=a77_0x4c68;(function(_0x165e8f,_0x524d86){const _0x3f2304=a77_0x4c68,_0x511536=_0x165e8f();while(!![]){try{const _0x22e693=-parseInt(_0x3f2304(0x126))/0x1+-parseInt(_0x3f2304(0x145))/0x2+-parseInt(_0x3f2304(0x130))/0x3*(parseInt(_0x3f2304(0x13b))/0x4)+parseInt(_0x3f2304(0x146))/0x5*(parseInt(_0x3f2304(0x12b))/0x6)+-parseInt(_0x3f2304(0x13f))/0x7+-parseInt(_0x3f2304(0x12a))/0x8+-parseInt(_0x3f2304(0x138))/0x9*(-parseInt(_0x3f2304(0x136))/0xa);if(_0x22e693===_0x524d86)break;else _0x511536['push'](_0x511536['shift']());}catch(_0x1c2c24){_0x511536['push'](_0x511536['shift']());}}}(a77_0x2f70,0x28f9b));const a77_0x3663b3=function(){let _0x551227=!![];return function(_0x47b8d2,_0x344653){const _0x4a435b=_0x551227?function(){const _0x130ea8=a77_0x4c68;if(_0x344653){const _0x36562d=_0x344653[_0x130ea8(0x124)](_0x47b8d2,arguments);return _0x344653=null,_0x36562d;}}:function(){};return _0x551227=![],_0x4a435b;};}(),a77_0x38a5a2=a77_0x3663b3(this,function(){const _0x219f01=a77_0x4c68;return a77_0x38a5a2['toString']()['search']('(((.+)+)+)+$')[_0x219f01(0x122)]()[_0x219f01(0x133)](a77_0x38a5a2)[_0x219f01(0x139)](_0x219f01(0x147));});a77_0x38a5a2();function a77_0x4c68(_0x468961,_0x634b80){const _0x27a6e1=a77_0x2f70();return a77_0x4c68=function(_0x38a5a2,_0x3663b3){_0x38a5a2=_0x38a5a2-0x11f;let _0x2f70c9=_0x27a6e1[_0x38a5a2];return _0x2f70c9;},a77_0x4c68(_0x468961,_0x634b80);}'use strict';var __importDefault=this&&this[a77_0x403c08(0x14f)]||function(_0xe4069d){return _0xe4069d&&_0xe4069d['__esModule']?_0xe4069d:{'default':_0xe4069d};};function a77_0x2f70(){const _0x4e77d2=['__esModule','HookDto','10MjVCdb','fromGithub','5673447czNqwk','search','/_apis/hooks/subscriptions','10564zRyWhM','GitHookService','AuthSettingsService','getProjectId','505869cKoPDz','get','../dto/hook.dto','value','AzureApiService','BadRequestError','143482pmdgWF','40ZsSlPQ','(((.+)+)+)+$','default','../../shared/services/auth-settings.service','../../../core/errors/not-found.error','update','filter','../../git-api/services/azure-api.service','/_apis/hooks/subscriptions/','__importDefault','typedi','createRequest','organization','toString','request','apply','AzureHookService','286771nifYAe','post','patch','projectId','1165520zDhUJE','130998nAqBVf','getAll','defineProperty','create','fromAzure','69UCkshl','./git-hook.service','map','constructor'];a77_0x2f70=function(){return _0x4e77d2;};return a77_0x2f70();}Object[a77_0x403c08(0x12d)](exports,a77_0x403c08(0x134),{'value':!![]}),exports[a77_0x403c08(0x125)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a77_0x403c08(0x14a)),typedi_1=__importDefault(require(a77_0x403c08(0x11f))),azure_api_service_1=require(a77_0x403c08(0x14d)),auth_settings_service_1=require(a77_0x403c08(0x149)),hook_dto_1=require(a77_0x403c08(0x141)),git_hook_service_1=require(a77_0x403c08(0x131));class AzureHookService extends git_hook_service_1[a77_0x403c08(0x13c)]{constructor(_0x3301f2,_0x4a3960){const _0x468c18=a77_0x403c08;super(_0x3301f2),this[_0x468c18(0x129)]=_0x4a3960,this['authService']=typedi_1[_0x468c18(0x148)]['get'](auth_settings_service_1[_0x468c18(0x13d)]),this['request']=this['createRequest']();}get['organization'](){const _0x16d8f8=a77_0x403c08;return this['authService']['azure'][_0x16d8f8(0x121)];}['createRequest'](){const _0x1edaf1=a77_0x403c08,_0x5384d5=typedi_1[_0x1edaf1(0x148)]['get'](azure_api_service_1[_0x1edaf1(0x143)]);return _0x5384d5[_0x1edaf1(0x120)]();}[a77_0x403c08(0x13e)](){const _0xe6554f=a77_0x403c08;return this[_0xe6554f(0x129)];}async[a77_0x403c08(0x12e)](_0x553a85){const _0x3f31b4=a77_0x403c08;try{const _0x30b4d6=await this['request'][_0x3f31b4(0x127)](this[_0x3f31b4(0x121)]+'/_apis/hooks/subscriptions',_0x553a85);return hook_dto_1[_0x3f31b4(0x135)][_0x3f31b4(0x12f)](_0x30b4d6);}catch(_0x2637cf){throw new bad_request_error_1['BadRequestError'](_0x2637cf);}}async['getOne'](_0x2bbb1e){const _0x51fe49=a77_0x403c08;try{const _0x2c764d=await this['request']['get'](this[_0x51fe49(0x121)]+_0x51fe49(0x14e)+_0x2bbb1e);return hook_dto_1[_0x51fe49(0x135)][_0x51fe49(0x12f)](_0x2c764d);}catch(_0x51d657){throw new not_found_error_1['NotFoundError'](_0x51d657);}}async[a77_0x403c08(0x12c)](){const _0x4bfaaa=a77_0x403c08;try{const _0x5e8f0c=await this['request'][_0x4bfaaa(0x140)](this[_0x4bfaaa(0x121)]+_0x4bfaaa(0x13a));return _0x5e8f0c[_0x4bfaaa(0x142)][_0x4bfaaa(0x14c)](_0xdf24cd=>{var _0x3b71a4;return((_0x3b71a4=_0xdf24cd===null||_0xdf24cd===void 0x0?void 0x0:_0xdf24cd['publisherInputs'])===null||_0x3b71a4===void 0x0?void 0x0:_0x3b71a4['projectId'])===this['projectId'];})[_0x4bfaaa(0x132)](_0x9bc8a0=>hook_dto_1[_0x4bfaaa(0x135)]['fromAzure'](_0x9bc8a0));}catch(_0x466a85){throw new not_found_error_1['NotFoundError'](_0x466a85);}}async[a77_0x403c08(0x14b)](_0x2f176f,_0x17fa71){const _0x16e4e7=a77_0x403c08;try{const _0x1d9cb3=await this[_0x16e4e7(0x123)][_0x16e4e7(0x128)](this['organization']+_0x16e4e7(0x14e)+_0x2f176f,_0x17fa71);return hook_dto_1[_0x16e4e7(0x135)][_0x16e4e7(0x137)](_0x1d9cb3);}catch(_0x48fd7d){throw new bad_request_error_1[(_0x16e4e7(0x144))](_0x48fd7d);}}async['delete'](_0x425f0e){const _0x578605=a77_0x403c08;try{await this[_0x578605(0x123)]['delete'](this['organization']+_0x578605(0x14e)+_0x425f0e);}catch(_0x1bfd52){throw new bad_request_error_1[(_0x578605(0x144))](_0x1bfd52);}}}exports[a77_0x403c08(0x125)]=AzureHookService;