const a72_0x526b09=a72_0x1721;(function(_0x46c5ae,_0x28ed64){const _0x44fb85=a72_0x1721,_0x1dc338=_0x46c5ae();while(!![]){try{const _0x285c3d=-parseInt(_0x44fb85(0x1ad))/0x1*(-parseInt(_0x44fb85(0x1b4))/0x2)+parseInt(_0x44fb85(0x1ab))/0x3+parseInt(_0x44fb85(0x1bf))/0x4+parseInt(_0x44fb85(0x1b0))/0x5+-parseInt(_0x44fb85(0x196))/0x6+parseInt(_0x44fb85(0x19f))/0x7+-parseInt(_0x44fb85(0x197))/0x8*(parseInt(_0x44fb85(0x194))/0x9);if(_0x285c3d===_0x28ed64)break;else _0x1dc338['push'](_0x1dc338['shift']());}catch(_0x365a7f){_0x1dc338['push'](_0x1dc338['shift']());}}}(a72_0x51ca,0x21f92));function a72_0x51ca(){const _0x576f51=['projectId','getOne','default','azure','AuthSettingsService','getProjectId','../../../core/errors/bad-request.error','178703dEMZNU','HookDto','value','./git-hook.service','__esModule','search','fromAzure','(((.+)+)+)+$','get','__importDefault','getAll','constructor','545382QcfrfV','organization','534GTTIpZ','create','AzureHookService','514420QPAXdg','createRequest','toString','BadRequestError','438SbDAre','apply','typedi','post','/_apis/hooks/subscriptions/','delete','map','GitHookService','authService','/_apis/hooks/subscriptions','fromGithub','1011560fMBfwJ','publisherInputs','request','../../../core/errors/not-found.error','3457062czaLAW','NotFoundError','940626hApbHL','8ZCMznG'];a72_0x51ca=function(){return _0x576f51;};return a72_0x51ca();}const a72_0x1f0eb1=function(){let _0xd18502=!![];return function(_0x4d4852,_0x49b56b){const _0x3e705b=_0xd18502?function(){const _0x332250=a72_0x1721;if(_0x49b56b){const _0x4867e3=_0x49b56b[_0x332250(0x1b5)](_0x4d4852,arguments);return _0x49b56b=null,_0x4867e3;}}:function(){};return _0xd18502=![],_0x3e705b;};}(),a72_0x13cba7=a72_0x1f0eb1(this,function(){const _0x11eea2=a72_0x1721;return a72_0x13cba7[_0x11eea2(0x1b2)]()[_0x11eea2(0x1a4)](_0x11eea2(0x1a6))[_0x11eea2(0x1b2)]()[_0x11eea2(0x1aa)](a72_0x13cba7)[_0x11eea2(0x1a4)]('(((.+)+)+)+$');});a72_0x13cba7();function a72_0x1721(_0x1cdfde,_0x26d50e){const _0x4f3f0d=a72_0x51ca();return a72_0x1721=function(_0x13cba7,_0x1f0eb1){_0x13cba7=_0x13cba7-0x192;let _0x51caec=_0x4f3f0d[_0x13cba7];return _0x51caec;},a72_0x1721(_0x1cdfde,_0x26d50e);}'use strict';var __importDefault=this&&this[a72_0x526b09(0x1a8)]||function(_0x169a8a){const _0x1e7ecd=a72_0x526b09;return _0x169a8a&&_0x169a8a[_0x1e7ecd(0x1a3)]?_0x169a8a:{'default':_0x169a8a};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['AzureHookService']=void 0x0;const bad_request_error_1=require(a72_0x526b09(0x19e)),not_found_error_1=require(a72_0x526b09(0x193)),typedi_1=__importDefault(require(a72_0x526b09(0x1b6))),azure_api_service_1=require('../../git-api/services/azure-api.service'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),hook_dto_1=require('../dto/hook.dto'),git_hook_service_1=require(a72_0x526b09(0x1a2));class AzureHookService extends git_hook_service_1[a72_0x526b09(0x1bb)]{constructor(_0x3477f1,_0x903855){const _0x5826b7=a72_0x526b09;super(_0x3477f1),this[_0x5826b7(0x198)]=_0x903855,this[_0x5826b7(0x1bc)]=typedi_1['default']['get'](auth_settings_service_1[_0x5826b7(0x19c)]),this[_0x5826b7(0x192)]=this['createRequest']();}get[a72_0x526b09(0x1ac)](){const _0x573193=a72_0x526b09;return this[_0x573193(0x1bc)][_0x573193(0x19b)][_0x573193(0x1ac)];}[a72_0x526b09(0x1b1)](){const _0x44d727=a72_0x526b09,_0x1cf353=typedi_1[_0x44d727(0x19a)][_0x44d727(0x1a7)](azure_api_service_1['AzureApiService']);return _0x1cf353['createRequest']();}[a72_0x526b09(0x19d)](){const _0xf89816=a72_0x526b09;return this[_0xf89816(0x198)];}async[a72_0x526b09(0x1ae)](_0x4fa41a){const _0x515875=a72_0x526b09;try{const _0xc3c7cf=await this[_0x515875(0x192)][_0x515875(0x1b7)](this['organization']+_0x515875(0x1bd),_0x4fa41a);return hook_dto_1[_0x515875(0x1a0)][_0x515875(0x1a5)](_0xc3c7cf);}catch(_0x5ae6ad){throw new bad_request_error_1[(_0x515875(0x1b3))](_0x5ae6ad);}}async[a72_0x526b09(0x199)](_0x5394c3){const _0x43f604=a72_0x526b09;try{const _0x477039=await this[_0x43f604(0x192)][_0x43f604(0x1a7)](this[_0x43f604(0x1ac)]+_0x43f604(0x1b8)+_0x5394c3);return hook_dto_1[_0x43f604(0x1a0)]['fromAzure'](_0x477039);}catch(_0x1602c2){throw new not_found_error_1[(_0x43f604(0x195))](_0x1602c2);}}async[a72_0x526b09(0x1a9)](){const _0x223c48=a72_0x526b09;try{const _0x2ac8fe=await this['request'][_0x223c48(0x1a7)](this[_0x223c48(0x1ac)]+'/_apis/hooks/subscriptions');return _0x2ac8fe[_0x223c48(0x1a1)]['filter'](_0x305a31=>{const _0xee6593=_0x223c48;var _0xa2aa48;return((_0xa2aa48=_0x305a31===null||_0x305a31===void 0x0?void 0x0:_0x305a31[_0xee6593(0x1c0)])===null||_0xa2aa48===void 0x0?void 0x0:_0xa2aa48['projectId'])===this[_0xee6593(0x198)];})[_0x223c48(0x1ba)](_0x5ec367=>hook_dto_1[_0x223c48(0x1a0)][_0x223c48(0x1a5)](_0x5ec367));}catch(_0x4599a8){throw new not_found_error_1[(_0x223c48(0x195))](_0x4599a8);}}async['update'](_0x5db6bc,_0x21fed1){const _0x15b41c=a72_0x526b09;try{const _0x41df81=await this[_0x15b41c(0x192)]['patch'](this[_0x15b41c(0x1ac)]+_0x15b41c(0x1b8)+_0x5db6bc,_0x21fed1);return hook_dto_1[_0x15b41c(0x1a0)][_0x15b41c(0x1be)](_0x41df81);}catch(_0x51fff8){throw new bad_request_error_1[(_0x15b41c(0x1b3))](_0x51fff8);}}async[a72_0x526b09(0x1b9)](_0x122916){const _0x4c4212=a72_0x526b09;try{await this[_0x4c4212(0x192)][_0x4c4212(0x1b9)](this[_0x4c4212(0x1ac)]+_0x4c4212(0x1b8)+_0x122916);}catch(_0x64ac72){throw new bad_request_error_1[(_0x4c4212(0x1b3))](_0x64ac72);}}}exports[a72_0x526b09(0x1af)]=AzureHookService;