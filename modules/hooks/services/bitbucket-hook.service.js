const a70_0x4e67=['get','createRequest','115342pEnhde','11iBvaiD','apiUrl','NotFoundError','BitbucketApiService','repository','map','BitbucketHookService','request','HookDto','hooks','45244ETanQc','hooks/','23038CfsByU','4FsvsoJ','test','delete','236597Cxxosw','BadRequestError','getOne','../../../core/errors/bad-request.error','192015fpTyGR','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../dto/hook.dto','put','typedi','2MSZvoc','13deJlTR','default','../../git-api/services/bitbucket-api.service','fromBitbucket','1uIhMDA','__esModule','3271WgdZTU','48154bxXOlq','constructor','__importDefault'];const a70_0x369366=a70_0x396b;(function(_0x32e6c0,_0x1dfd97){const _0x73da12=a70_0x396b;while(!![]){try{const _0x5a2f8b=-parseInt(_0x73da12(0x173))*-parseInt(_0x73da12(0x16d))+parseInt(_0x73da12(0x16c))*-parseInt(_0x73da12(0x179))+-parseInt(_0x73da12(0x163))+-parseInt(_0x73da12(0x174))*-parseInt(_0x73da12(0x160))+-parseInt(_0x73da12(0x171))*parseInt(_0x73da12(0x15d))+parseInt(_0x73da12(0x167))+parseInt(_0x73da12(0x15f))*parseInt(_0x73da12(0x17a));if(_0x5a2f8b===_0x1dfd97)break;else _0x32e6c0['push'](_0x32e6c0['shift']());}catch(_0x4fdc74){_0x32e6c0['push'](_0x32e6c0['shift']());}}}(a70_0x4e67,0x2906f));const a70_0x5720d2=function(){let _0x4bf9c5=!![];return function(_0x4b69c3,_0x22b66d){const _0x1ec57c=_0x4bf9c5?function(){if(_0x22b66d){const _0x50c12a=_0x22b66d['apply'](_0x4b69c3,arguments);return _0x22b66d=null,_0x50c12a;}}:function(){};return _0x4bf9c5=![],_0x1ec57c;};}(),a70_0x166299=a70_0x5720d2(this,function(){const _0x369b23=function(){const _0x4c536c=a70_0x396b,_0x37391c=_0x369b23[_0x4c536c(0x175)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor'](_0x4c536c(0x168));return!_0x37391c[_0x4c536c(0x161)](a70_0x166299);};return _0x369b23();});function a70_0x396b(_0x3bc43c,_0x5e52b6){return a70_0x396b=function(_0x4fab24,_0x166299){_0x4fab24=_0x4fab24-0x157;let _0x5720d2=a70_0x4e67[_0x4fab24];return _0x5720d2;},a70_0x396b(_0x3bc43c,_0x5e52b6);}a70_0x166299();'use strict';var __importDefault=this&&this[a70_0x369366(0x176)]||function(_0x1684e0){const _0x54dd6b=a70_0x369366;return _0x1684e0&&_0x1684e0[_0x54dd6b(0x172)]?_0x1684e0:{'default':_0x1684e0};};Object['defineProperty'](exports,a70_0x369366(0x172),{'value':!![]}),exports[a70_0x369366(0x159)]=void 0x0;const bad_request_error_1=require(a70_0x369366(0x166)),not_found_error_1=require('../../../core/errors/not-found.error'),bitbucket_api_service_1=require(a70_0x369366(0x16f)),typedi_1=__importDefault(require(a70_0x369366(0x16b))),hook_dto_1=require(a70_0x369366(0x169)),git_hook_service_1=require('./git-hook.service');class BitbucketHookService extends git_hook_service_1['GitHookService']{constructor(_0x116424){super(_0x116424),this['request']=this['createRequest']();}['createRequest'](){const _0x5522a0=a70_0x369366,_0x3c029d=typedi_1[_0x5522a0(0x16e)][_0x5522a0(0x177)](bitbucket_api_service_1[_0x5522a0(0x17d)]);return _0x3c029d[_0x5522a0(0x178)](this[_0x5522a0(0x157)][_0x5522a0(0x17b)]);}async['create'](_0x508334){const _0xd01c31=a70_0x369366;try{const _0x32a4ab=await this[_0xd01c31(0x15a)]['post'](_0xd01c31(0x15c),_0x508334);return hook_dto_1[_0xd01c31(0x15b)][_0xd01c31(0x170)](_0x32a4ab);}catch(_0x9795ae){throw new bad_request_error_1[(_0xd01c31(0x164))](_0x9795ae);}}async[a70_0x369366(0x165)](_0x1c7abe){const _0x749229=a70_0x369366;try{const _0x3a57c1=await this[_0x749229(0x15a)][_0x749229(0x177)](_0x749229(0x15e)+_0x1c7abe);return hook_dto_1[_0x749229(0x15b)][_0x749229(0x170)](_0x3a57c1);}catch(_0x197480){throw new not_found_error_1[(_0x749229(0x17c))](_0x197480);}}async['getAll'](){const _0x90e968=a70_0x369366;try{const _0x2bd2ff=await this['request'][_0x90e968(0x177)]('hooks');return _0x2bd2ff['values'][_0x90e968(0x158)](_0x5ca3e7=>hook_dto_1[_0x90e968(0x15b)][_0x90e968(0x170)](_0x5ca3e7));}catch(_0x3bee34){throw new not_found_error_1[(_0x90e968(0x17c))](_0x3bee34);}}async['update'](_0x114099,_0x347ec4){const _0x1a85c3=a70_0x369366;try{const _0x21b816=await this[_0x1a85c3(0x15a)][_0x1a85c3(0x16a)](_0x1a85c3(0x15e)+_0x114099,_0x347ec4);return hook_dto_1['HookDto'][_0x1a85c3(0x170)](_0x21b816);}catch(_0x3c3b9a){throw new not_found_error_1['NotFoundError'](_0x3c3b9a);}}async[a70_0x369366(0x162)](_0x4100f2){const _0x5b2279=a70_0x369366;try{await this[_0x5b2279(0x15a)][_0x5b2279(0x162)](_0x5b2279(0x15e)+_0x4100f2);}catch(_0x2f5d9e){throw new not_found_error_1[(_0x5b2279(0x17c))](_0x2f5d9e);}}}exports[a70_0x369366(0x159)]=BitbucketHookService;