const a70_0x4188=['put','../../git-api/services/bitbucket-api.service','apply','hooks','769302VbLbdn','get','1354285PeIXTC','return\x20/\x22\x20+\x20this\x20+\x20\x22/','2058597Aeqwhv','__importDefault','getOne','BadRequestError','../../../core/errors/bad-request.error','1PqYxrm','1378701vfwJVW','BitbucketApiService','4IirPch','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','delete','HookDto','hooks/','NotFoundError','createRequest','test','566AvXlyG','constructor','BitbucketHookService','474692eRbDtA','request','repository','fromBitbucket','1551346EyIwaC','1252HfwwOk','GitHookService','defineProperty','__esModule'];function a70_0x4a92(_0x293383,_0x2585ad){return a70_0x4a92=function(_0x49b2bd,_0x439788){_0x49b2bd=_0x49b2bd-0x6f;let _0x95ee0e=a70_0x4188[_0x49b2bd];return _0x95ee0e;},a70_0x4a92(_0x293383,_0x2585ad);}const a70_0x4ddfbf=a70_0x4a92;(function(_0x550e57,_0x20fb3a){const _0x5402b6=a70_0x4a92;while(!![]){try{const _0x357533=-parseInt(_0x5402b6(0x6f))+parseInt(_0x5402b6(0x7b))*parseInt(_0x5402b6(0x86))+parseInt(_0x5402b6(0x71))+parseInt(_0x5402b6(0x79))*parseInt(_0x5402b6(0x78))+-parseInt(_0x5402b6(0x8a))+parseInt(_0x5402b6(0x83))*parseInt(_0x5402b6(0x8b))+-parseInt(_0x5402b6(0x73));if(_0x357533===_0x20fb3a)break;else _0x550e57['push'](_0x550e57['shift']());}catch(_0x451199){_0x550e57['push'](_0x550e57['shift']());}}}(a70_0x4188,0xeaa75));const a70_0x95ee0e=function(){let _0x73ce41=!![];return function(_0x251d8a,_0x129a21){const _0x210b78=_0x73ce41?function(){const _0x2049b2=a70_0x4a92;if(_0x129a21){const _0x3b07f3=_0x129a21[_0x2049b2(0x91)](_0x251d8a,arguments);return _0x129a21=null,_0x3b07f3;}}:function(){};return _0x73ce41=![],_0x210b78;};}(),a70_0x439788=a70_0x95ee0e(this,function(){const _0x4db0af=function(){const _0x51f783=a70_0x4a92,_0x5dc7c2=_0x4db0af[_0x51f783(0x84)](_0x51f783(0x72))()[_0x51f783(0x84)](_0x51f783(0x7c));return!_0x5dc7c2[_0x51f783(0x82)](a70_0x439788);};return _0x4db0af();});a70_0x439788();'use strict';var __importDefault=this&&this[a70_0x4ddfbf(0x74)]||function(_0x15e305){const _0x1b5eb3=a70_0x4ddfbf;return _0x15e305&&_0x15e305[_0x1b5eb3(0x8e)]?_0x15e305:{'default':_0x15e305};};Object[a70_0x4ddfbf(0x8d)](exports,a70_0x4ddfbf(0x8e),{'value':!![]}),exports[a70_0x4ddfbf(0x85)]=void 0x0;const bad_request_error_1=require(a70_0x4ddfbf(0x77)),not_found_error_1=require('../../../core/errors/not-found.error'),bitbucket_api_service_1=require(a70_0x4ddfbf(0x90)),typedi_1=__importDefault(require('typedi')),hook_dto_1=require('../dto/hook.dto'),git_hook_service_1=require('./git-hook.service');class BitbucketHookService extends git_hook_service_1[a70_0x4ddfbf(0x8c)]{constructor(_0x30fcd7){const _0x3c2636=a70_0x4ddfbf;super(_0x30fcd7),this[_0x3c2636(0x87)]=this[_0x3c2636(0x81)]();}[a70_0x4ddfbf(0x81)](){const _0x5ebd87=a70_0x4ddfbf,_0x2a3ee7=typedi_1['default']['get'](bitbucket_api_service_1[_0x5ebd87(0x7a)]);return _0x2a3ee7[_0x5ebd87(0x81)](this[_0x5ebd87(0x88)]['apiUrl']);}async['create'](_0x41167e){const _0x4e77ca=a70_0x4ddfbf;try{const _0x18c143=await this[_0x4e77ca(0x87)]['post']('hooks',_0x41167e);return hook_dto_1[_0x4e77ca(0x7e)][_0x4e77ca(0x89)](_0x18c143);}catch(_0x21fb72){throw new bad_request_error_1[(_0x4e77ca(0x76))](_0x21fb72);}}async[a70_0x4ddfbf(0x75)](_0xa0a097){const _0x5dfd0f=a70_0x4ddfbf;try{const _0x2ab97b=await this[_0x5dfd0f(0x87)][_0x5dfd0f(0x70)](_0x5dfd0f(0x7f)+_0xa0a097);return hook_dto_1['HookDto'][_0x5dfd0f(0x89)](_0x2ab97b);}catch(_0x35a25b){throw new not_found_error_1[(_0x5dfd0f(0x80))](_0x35a25b);}}async['getAll'](){const _0x3e0a23=a70_0x4ddfbf;try{const _0x3416fc=await this[_0x3e0a23(0x87)][_0x3e0a23(0x70)](_0x3e0a23(0x92));return _0x3416fc['values']['map'](_0x76838b=>hook_dto_1['HookDto'][_0x3e0a23(0x89)](_0x76838b));}catch(_0x3d93cd){throw new not_found_error_1[(_0x3e0a23(0x80))](_0x3d93cd);}}async['update'](_0x43883e,_0x3af631){const _0x51a10e=a70_0x4ddfbf;try{const _0x3103a4=await this[_0x51a10e(0x87)][_0x51a10e(0x8f)](_0x51a10e(0x7f)+_0x43883e,_0x3af631);return hook_dto_1[_0x51a10e(0x7e)]['fromBitbucket'](_0x3103a4);}catch(_0x1fb45f){throw new not_found_error_1['NotFoundError'](_0x1fb45f);}}async[a70_0x4ddfbf(0x7d)](_0x5984e3){const _0x53a12a=a70_0x4ddfbf;try{await this[_0x53a12a(0x87)][_0x53a12a(0x7d)](_0x53a12a(0x7f)+_0x5984e3);}catch(_0x37437e){throw new not_found_error_1[(_0x53a12a(0x80))](_0x37437e);}}}exports['BitbucketHookService']=BitbucketHookService;