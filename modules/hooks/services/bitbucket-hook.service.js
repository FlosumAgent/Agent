const a68_0x1c76=['BadRequestError','GitHookService','1293746Yegpkt','request','../../../core/errors/not-found.error','put','default','__esModule','310ilVzRG','3922ROBNXT','defineProperty','3065IcAXPJ','1pfJDcw','map','get','1vOTWdb','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','typedi','3219175MJWeyf','test','1502612tzSRgk','__importDefault','getOne','hooks/','HookDto','createRequest','263mMSDho','BitbucketApiService','../dto/hook.dto','hooks','fromBitbucket','1407566boAMsT','BitbucketHookService','post','368259HvNbNo','../../git-api/services/bitbucket-api.service','delete','constructor','NotFoundError','apply'];const a68_0x67d70d=a68_0x354a;function a68_0x354a(_0x3d6027,_0x58013a){return a68_0x354a=function(_0x53b4ad,_0x16f6e9){_0x53b4ad=_0x53b4ad-0x158;let _0xf55413=a68_0x1c76[_0x53b4ad];return _0xf55413;},a68_0x354a(_0x3d6027,_0x58013a);}(function(_0x573094,_0x19dcce){const _0x5b161f=a68_0x354a;while(!![]){try{const _0x18e6ad=parseInt(_0x5b161f(0x17b))*-parseInt(_0x5b161f(0x17c))+parseInt(_0x5b161f(0x15a))*parseInt(_0x5b161f(0x15f))+parseInt(_0x5b161f(0x16a))+-parseInt(_0x5b161f(0x17e))*-parseInt(_0x5b161f(0x165))+parseInt(_0x5b161f(0x16d))+parseInt(_0x5b161f(0x175))+parseInt(_0x5b161f(0x17f))*-parseInt(_0x5b161f(0x15d));if(_0x18e6ad===_0x19dcce)break;else _0x573094['push'](_0x573094['shift']());}catch(_0x2e5764){_0x573094['push'](_0x573094['shift']());}}}(a68_0x1c76,0xe64b3));const a68_0xf55413=function(){let _0x51f655=!![];return function(_0x37dcf5,_0x1aba2f){const _0x38d541=_0x51f655?function(){const _0x39525b=a68_0x354a;if(_0x1aba2f){const _0x1219a0=_0x1aba2f[_0x39525b(0x172)](_0x37dcf5,arguments);return _0x1aba2f=null,_0x1219a0;}}:function(){};return _0x51f655=![],_0x38d541;};}(),a68_0x16f6e9=a68_0xf55413(this,function(){const _0x541bf3=function(){const _0x17a37d=a68_0x354a,_0x4ab067=_0x541bf3[_0x17a37d(0x170)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x17a37d(0x170)](_0x17a37d(0x15b));return!_0x4ab067[_0x17a37d(0x15e)](a68_0x16f6e9);};return _0x541bf3();});a68_0x16f6e9();'use strict';var __importDefault=this&&this[a68_0x67d70d(0x160)]||function(_0x44277c){const _0x278350=a68_0x67d70d;return _0x44277c&&_0x44277c[_0x278350(0x17a)]?_0x44277c:{'default':_0x44277c};};Object[a68_0x67d70d(0x17d)](exports,a68_0x67d70d(0x17a),{'value':!![]}),exports[a68_0x67d70d(0x16b)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a68_0x67d70d(0x177)),bitbucket_api_service_1=require(a68_0x67d70d(0x16e)),typedi_1=__importDefault(require(a68_0x67d70d(0x15c))),hook_dto_1=require(a68_0x67d70d(0x167)),git_hook_service_1=require('./git-hook.service');class BitbucketHookService extends git_hook_service_1[a68_0x67d70d(0x174)]{constructor(_0x2ce609){const _0x477be1=a68_0x67d70d;super(_0x2ce609),this['request']=this[_0x477be1(0x164)]();}[a68_0x67d70d(0x164)](){const _0x2fe32a=a68_0x67d70d,_0x538c92=typedi_1[_0x2fe32a(0x179)][_0x2fe32a(0x159)](bitbucket_api_service_1[_0x2fe32a(0x166)]);return _0x538c92[_0x2fe32a(0x164)](this['repository']['apiUrl']);}async['create'](_0x3ecc41){const _0x2b29f3=a68_0x67d70d;try{const _0x3a041b=await this[_0x2b29f3(0x176)][_0x2b29f3(0x16c)](_0x2b29f3(0x168),_0x3ecc41);return hook_dto_1[_0x2b29f3(0x163)]['fromBitbucket'](_0x3a041b);}catch(_0x5ad327){throw new bad_request_error_1[(_0x2b29f3(0x173))](_0x5ad327);}}async[a68_0x67d70d(0x161)](_0x12b201){const _0x23d5af=a68_0x67d70d;try{const _0x422c4a=await this[_0x23d5af(0x176)][_0x23d5af(0x159)](_0x23d5af(0x162)+_0x12b201);return hook_dto_1[_0x23d5af(0x163)][_0x23d5af(0x169)](_0x422c4a);}catch(_0x50cfa3){throw new not_found_error_1[(_0x23d5af(0x171))](_0x50cfa3);}}async['getAll'](){const _0x4bfd90=a68_0x67d70d;try{const _0x69edee=await this[_0x4bfd90(0x176)][_0x4bfd90(0x159)](_0x4bfd90(0x168));return _0x69edee['values'][_0x4bfd90(0x158)](_0x3a9ed0=>hook_dto_1[_0x4bfd90(0x163)][_0x4bfd90(0x169)](_0x3a9ed0));}catch(_0x126c48){throw new not_found_error_1[(_0x4bfd90(0x171))](_0x126c48);}}async['update'](_0x45bd24,_0x302f51){const _0x49fd62=a68_0x67d70d;try{const _0x2d5305=await this[_0x49fd62(0x176)][_0x49fd62(0x178)](_0x49fd62(0x162)+_0x45bd24,_0x302f51);return hook_dto_1['HookDto'][_0x49fd62(0x169)](_0x2d5305);}catch(_0x5c4b9b){throw new not_found_error_1[(_0x49fd62(0x171))](_0x5c4b9b);}}async[a68_0x67d70d(0x16f)](_0x5196c8){const _0x292e87=a68_0x67d70d;try{await this[_0x292e87(0x176)][_0x292e87(0x16f)](_0x292e87(0x162)+_0x5196c8);}catch(_0x326865){throw new not_found_error_1[(_0x292e87(0x171))](_0x326865);}}}exports[a68_0x67d70d(0x16b)]=BitbucketHookService;