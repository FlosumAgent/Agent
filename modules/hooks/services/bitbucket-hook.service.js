const a70_0x259e=['./git-hook.service','request','hooks','587222zMYBJU','createRequest','default','../../../core/errors/bad-request.error','5kOhwlP','apply','__esModule','288331lvkfRw','defineProperty','HookDto','../dto/hook.dto','BitbucketApiService','delete','constructor','2064816JRqDWD','NotFoundError','294651mgiVCp','2luIAeT','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','95905roUKCo','fromBitbucket','267502jKSjKx','BitbucketHookService','hooks/','map','return\x20/\x22\x20+\x20this\x20+\x20\x22/','483806UMBhTQ','__importDefault','get','repository','test'];const a70_0x53aaec=a70_0x4aea;(function(_0x4fdb57,_0x93b2cb){const _0x351353=a70_0x4aea;while(!![]){try{const _0x8f4dff=-parseInt(_0x351353(0x1aa))+-parseInt(_0x351353(0x1a0))+parseInt(_0x351353(0x1a1))*-parseInt(_0x351353(0x1a5))+-parseInt(_0x351353(0x1b2))+parseInt(_0x351353(0x1a3))*parseInt(_0x351353(0x1b6))+-parseInt(_0x351353(0x1b9))+parseInt(_0x351353(0x19e));if(_0x8f4dff===_0x93b2cb)break;else _0x4fdb57['push'](_0x4fdb57['shift']());}catch(_0x3d2042){_0x4fdb57['push'](_0x4fdb57['shift']());}}}(a70_0x259e,0x56bff));const a70_0x42c2d8=function(){let _0x47b38=!![];return function(_0x2a9d46,_0x2cef6c){const _0x219f52=_0x47b38?function(){const _0x3ef343=a70_0x4aea;if(_0x2cef6c){const _0x22a3dd=_0x2cef6c[_0x3ef343(0x1b7)](_0x2a9d46,arguments);return _0x2cef6c=null,_0x22a3dd;}}:function(){};return _0x47b38=![],_0x219f52;};}(),a70_0x2e9025=a70_0x42c2d8(this,function(){const _0x52c9da=function(){const _0x577a07=a70_0x4aea,_0x2324fa=_0x52c9da['constructor'](_0x577a07(0x1a9))()[_0x577a07(0x19d)](_0x577a07(0x1a2));return!_0x2324fa[_0x577a07(0x1ae)](a70_0x2e9025);};return _0x52c9da();});a70_0x2e9025();'use strict';var __importDefault=this&&this[a70_0x53aaec(0x1ab)]||function(_0x2e1497){const _0x4c19b7=a70_0x53aaec;return _0x2e1497&&_0x2e1497[_0x4c19b7(0x1b8)]?_0x2e1497:{'default':_0x2e1497};};Object[a70_0x53aaec(0x1ba)](exports,a70_0x53aaec(0x1b8),{'value':!![]}),exports[a70_0x53aaec(0x1a6)]=void 0x0;const bad_request_error_1=require(a70_0x53aaec(0x1b5)),not_found_error_1=require('../../../core/errors/not-found.error'),bitbucket_api_service_1=require('../../git-api/services/bitbucket-api.service'),typedi_1=__importDefault(require('typedi')),hook_dto_1=require(a70_0x53aaec(0x1bc)),git_hook_service_1=require(a70_0x53aaec(0x1af));function a70_0x4aea(_0x289dc4,_0x428b56){return a70_0x4aea=function(_0xb6b327,_0x2e9025){_0xb6b327=_0xb6b327-0x19c;let _0x42c2d8=a70_0x259e[_0xb6b327];return _0x42c2d8;},a70_0x4aea(_0x289dc4,_0x428b56);}class BitbucketHookService extends git_hook_service_1['GitHookService']{constructor(_0x4debbe){const _0x55d1eb=a70_0x53aaec;super(_0x4debbe),this[_0x55d1eb(0x1b0)]=this[_0x55d1eb(0x1b3)]();}[a70_0x53aaec(0x1b3)](){const _0x345e4f=a70_0x53aaec,_0x2f9b0a=typedi_1[_0x345e4f(0x1b4)][_0x345e4f(0x1ac)](bitbucket_api_service_1[_0x345e4f(0x1bd)]);return _0x2f9b0a[_0x345e4f(0x1b3)](this[_0x345e4f(0x1ad)]['apiUrl']);}async['create'](_0x260f7a){const _0x115934=a70_0x53aaec;try{const _0x318c61=await this[_0x115934(0x1b0)]['post'](_0x115934(0x1b1),_0x260f7a);return hook_dto_1[_0x115934(0x1bb)][_0x115934(0x1a4)](_0x318c61);}catch(_0xe68860){throw new bad_request_error_1['BadRequestError'](_0xe68860);}}async['getOne'](_0x2dddb2){const _0xd8890f=a70_0x53aaec;try{const _0x7d28e0=await this['request'][_0xd8890f(0x1ac)](_0xd8890f(0x1a7)+_0x2dddb2);return hook_dto_1[_0xd8890f(0x1bb)][_0xd8890f(0x1a4)](_0x7d28e0);}catch(_0x1b73b0){throw new not_found_error_1[(_0xd8890f(0x19f))](_0x1b73b0);}}async['getAll'](){const _0x51fc80=a70_0x53aaec;try{const _0x396710=await this['request'][_0x51fc80(0x1ac)](_0x51fc80(0x1b1));return _0x396710['values'][_0x51fc80(0x1a8)](_0x3ed8d7=>hook_dto_1[_0x51fc80(0x1bb)][_0x51fc80(0x1a4)](_0x3ed8d7));}catch(_0x14e644){throw new not_found_error_1[(_0x51fc80(0x19f))](_0x14e644);}}async['update'](_0x22c456,_0x51c464){const _0x581398=a70_0x53aaec;try{const _0x552cc9=await this[_0x581398(0x1b0)]['put']('hooks/'+_0x22c456,_0x51c464);return hook_dto_1[_0x581398(0x1bb)]['fromBitbucket'](_0x552cc9);}catch(_0x22c743){throw new not_found_error_1[(_0x581398(0x19f))](_0x22c743);}}async[a70_0x53aaec(0x19c)](_0x27a619){const _0x4969a8=a70_0x53aaec;try{await this[_0x4969a8(0x1b0)][_0x4969a8(0x19c)](_0x4969a8(0x1a7)+_0x27a619);}catch(_0x2419b4){throw new not_found_error_1[(_0x4969a8(0x19f))](_0x2419b4);}}}exports[a70_0x53aaec(0x1a6)]=BitbucketHookService;