const a85_0x2067=['37iafYMQ','design:type','__esModule','__param','design:returntype','joinURL','response','3EAHQLt','ProxyController','Controller','1FAFAmA','request','decorate','1bnOPIy','handler','context','5PieJvs','__metadata','Version','design:paramtypes','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','proxy','get','express-http-proxy','substring','815EgzrkS','Prefix','apply','110789ybsOQX','281484AZSudC','constructor','return\x20/\x22\x20+\x20this\x20+\x20\x22/','getOwnPropertyDescriptor','768412iByolT','2487rPbwsO','667397QCufPe','param','default','../shared/utils','defineProperty','__importDefault','length','object','871167ZSWGWg','requestEnded','indexOf','function','metadata','../../core'];const a85_0x38f7c6=a85_0x3377;(function(_0x131177,_0x2dcd9f){const _0x410c34=a85_0x3377;while(!![]){try{const _0xa9271e=parseInt(_0x410c34(0x122))*-parseInt(_0x410c34(0x13a))+parseInt(_0x410c34(0x13d))*parseInt(_0x410c34(0x120))+parseInt(_0x410c34(0x14c))*-parseInt(_0x410c34(0x137))+parseInt(_0x410c34(0x12a))+-parseInt(_0x410c34(0x14d))+parseInt(_0x410c34(0x140))*-parseInt(_0x410c34(0x149))+parseInt(_0x410c34(0x130))*parseInt(_0x410c34(0x121));if(_0xa9271e===_0x2dcd9f)break;else _0x131177['push'](_0x131177['shift']());}catch(_0x4dab19){_0x131177['push'](_0x131177['shift']());}}}(a85_0x2067,0x6cf43));const a85_0xeafcab=function(){let _0x93c149=!![];return function(_0x17f50f,_0x56e4fd){const _0x143df6=_0x93c149?function(){const _0x1ace9a=a85_0x3377;if(_0x56e4fd){const _0x21530c=_0x56e4fd[_0x1ace9a(0x14b)](_0x17f50f,arguments);return _0x56e4fd=null,_0x21530c;}}:function(){};return _0x93c149=![],_0x143df6;};}(),a85_0x86819c=a85_0xeafcab(this,function(){const _0x4173df=function(){const _0x383355=a85_0x3377,_0x19dc23=_0x4173df['constructor'](_0x383355(0x11e))()[_0x383355(0x14e)](_0x383355(0x144));return!_0x19dc23['test'](a85_0x86819c);};return _0x4173df();});a85_0x86819c();'use strict';var __decorate=this&&this['__decorate']||function(_0x22f89f,_0x1d949b,_0x2ca306,_0x68a0c7){const _0x133d35=a85_0x3377;var _0x21b7a1=arguments['length'],_0x20ccb7=_0x21b7a1<0x3?_0x1d949b:_0x68a0c7===null?_0x68a0c7=Object[_0x133d35(0x11f)](_0x1d949b,_0x2ca306):_0x68a0c7,_0x363cd5;if(typeof Reflect===_0x133d35(0x129)&&typeof Reflect[_0x133d35(0x13c)]===_0x133d35(0x12d))_0x20ccb7=Reflect['decorate'](_0x22f89f,_0x1d949b,_0x2ca306,_0x68a0c7);else{for(var _0x4ac904=_0x22f89f[_0x133d35(0x128)]-0x1;_0x4ac904>=0x0;_0x4ac904--)if(_0x363cd5=_0x22f89f[_0x4ac904])_0x20ccb7=(_0x21b7a1<0x3?_0x363cd5(_0x20ccb7):_0x21b7a1>0x3?_0x363cd5(_0x1d949b,_0x2ca306,_0x20ccb7):_0x363cd5(_0x1d949b,_0x2ca306))||_0x20ccb7;}return _0x21b7a1>0x3&&_0x20ccb7&&Object[_0x133d35(0x126)](_0x1d949b,_0x2ca306,_0x20ccb7),_0x20ccb7;},__metadata=this&&this[a85_0x38f7c6(0x141)]||function(_0x39899a,_0x52a937){const _0x4ebe67=a85_0x38f7c6;if(typeof Reflect===_0x4ebe67(0x129)&&typeof Reflect[_0x4ebe67(0x12e)]==='function')return Reflect['metadata'](_0x39899a,_0x52a937);},__param=this&&this[a85_0x38f7c6(0x133)]||function(_0x53203c,_0x358c25){return function(_0x12a283,_0x4f71f3){_0x358c25(_0x12a283,_0x4f71f3,_0x53203c);};},__importDefault=this&&this[a85_0x38f7c6(0x127)]||function(_0x891f0c){const _0x2180bd=a85_0x38f7c6;return _0x891f0c&&_0x891f0c[_0x2180bd(0x132)]?_0x891f0c:{'default':_0x891f0c};};Object['defineProperty'](exports,a85_0x38f7c6(0x132),{'value':!![]}),exports[a85_0x38f7c6(0x138)]=void 0x0;function a85_0x3377(_0x3a49ce,_0x5afb14){return a85_0x3377=function(_0x9d7155,_0x86819c){_0x9d7155=_0x9d7155-0x11e;let _0xeafcab=a85_0x2067[_0x9d7155];return _0xeafcab;},a85_0x3377(_0x3a49ce,_0x5afb14);}const errors_1=require('../../constants/errors'),core_1=require(a85_0x38f7c6(0x12f)),bad_request_error_1=require('../../core/errors/bad-request.error'),utils_1=require(a85_0x38f7c6(0x125)),express_http_proxy_1=__importDefault(require(a85_0x38f7c6(0x147)));let ProxyController=class ProxyController{[a85_0x38f7c6(0x13e)](_0x1e05d3,_0x43adc0,_0x461b20){const _0x4cedb1=a85_0x38f7c6,{originalUrl:_0x105d25,baseUrl:_0x552495}=_0x1e05d3,_0x384a1c=_0x1e05d3[_0x4cedb1(0x146)]('X-Destination');if(!_0x384a1c)throw new bad_request_error_1['BadRequestError'](errors_1['ERR_NO_DESTINATION']);const _0x386457={'proxyReqPathResolver':()=>utils_1[_0x4cedb1(0x135)](_0x384a1c,_0x105d25[_0x4cedb1(0x148)](_0x105d25[_0x4cedb1(0x12c)](_0x552495)+_0x552495[_0x4cedb1(0x128)]))};_0x1e05d3[_0x4cedb1(0x13f)][_0x4cedb1(0x12b)]=!![],express_http_proxy_1[_0x4cedb1(0x124)](_0x384a1c,_0x386457)(_0x1e05d3,_0x43adc0,_0x461b20);}};__decorate([core_1['All']('*'),__param(0x0,core_1[a85_0x38f7c6(0x123)][a85_0x38f7c6(0x13b)]()),__param(0x1,core_1[a85_0x38f7c6(0x123)][a85_0x38f7c6(0x136)]()),__param(0x2,core_1[a85_0x38f7c6(0x123)]['next']()),__metadata(a85_0x38f7c6(0x131),Function),__metadata(a85_0x38f7c6(0x143),[Object,Object,Function]),__metadata(a85_0x38f7c6(0x134),void 0x0)],ProxyController['prototype'],a85_0x38f7c6(0x13e),null),ProxyController=__decorate([core_1[a85_0x38f7c6(0x139)](),core_1[a85_0x38f7c6(0x142)]('v1'),core_1[a85_0x38f7c6(0x14a)](a85_0x38f7c6(0x145))],ProxyController),exports[a85_0x38f7c6(0x138)]=ProxyController;