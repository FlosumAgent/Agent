const a85_0x5c42=['__importDefault','object','request','1mIhhsg','apply','__param','proxy','397434TtOFBF','constructor','640958ZLfRFt','requestEnded','function','ERR_NO_DESTINATION','context','BadRequestError','Version','handler','1fIOVcQ','design:returntype','decorate','param','347MORbtU','567OFMPEk','../../core/errors/bad-request.error','__metadata','158633mtcnhJ','372083YCJGxU','defineProperty','__esModule','All','substring','next','../../constants/errors','metadata','1rvDAcw','design:paramtypes','200TciycG','joinURL','1043676abiVpv','Controller','__decorate','indexOf','ProxyController','length','response','143cOYgLF'];const a85_0x4cdcd3=a85_0x5b69;function a85_0x5b69(_0x58f477,_0x4094d2){return a85_0x5b69=function(_0x4f91d4,_0x3fd989){_0x4f91d4=_0x4f91d4-0xef;let _0x5af5fe=a85_0x5c42[_0x4f91d4];return _0x5af5fe;},a85_0x5b69(_0x58f477,_0x4094d2);}(function(_0x31c094,_0x153c64){const _0x1e7d25=a85_0x5b69;while(!![]){try{const _0x1640e4=-parseInt(_0x1e7d25(0xf8))*-parseInt(_0x1e7d25(0x10e))+-parseInt(_0x1e7d25(0x10a))*-parseInt(_0x1e7d25(0x102))+parseInt(_0x1e7d25(0x100))+-parseInt(_0x1e7d25(0x10f))*parseInt(_0x1e7d25(0xef))+parseInt(_0x1e7d25(0x113))*parseInt(_0x1e7d25(0x11b))+parseInt(_0x1e7d25(0xfc))*parseInt(_0x1e7d25(0x112))+-parseInt(_0x1e7d25(0xf1));if(_0x1640e4===_0x153c64)break;else _0x31c094['push'](_0x31c094['shift']());}catch(_0x317659){_0x31c094['push'](_0x31c094['shift']());}}}(a85_0x5c42,0x70b55));const a85_0x5af5fe=function(){let _0x14435c=!![];return function(_0x55f778,_0x2088db){const _0x5980bc=_0x14435c?function(){const _0x509bd3=a85_0x5b69;if(_0x2088db){const _0x257718=_0x2088db[_0x509bd3(0xfd)](_0x55f778,arguments);return _0x2088db=null,_0x257718;}}:function(){};return _0x14435c=![],_0x5980bc;};}(),a85_0x3fd989=a85_0x5af5fe(this,function(){const _0x182a5e=function(){const _0x55dc64=a85_0x5b69,_0x136145=_0x182a5e[_0x55dc64(0x101)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x136145['test'](a85_0x3fd989);};return _0x182a5e();});a85_0x3fd989();'use strict';var __decorate=this&&this[a85_0x4cdcd3(0xf3)]||function(_0x3c99de,_0x1cd117,_0x5639fc,_0x42ee7e){const _0x3a1de7=a85_0x4cdcd3;var _0xb8bde=arguments[_0x3a1de7(0xf6)],_0x2e0662=_0xb8bde<0x3?_0x1cd117:_0x42ee7e===null?_0x42ee7e=Object['getOwnPropertyDescriptor'](_0x1cd117,_0x5639fc):_0x42ee7e,_0x4b29ce;if(typeof Reflect==='object'&&typeof Reflect[_0x3a1de7(0x10c)]==='function')_0x2e0662=Reflect[_0x3a1de7(0x10c)](_0x3c99de,_0x1cd117,_0x5639fc,_0x42ee7e);else{for(var _0x1534a0=_0x3c99de['length']-0x1;_0x1534a0>=0x0;_0x1534a0--)if(_0x4b29ce=_0x3c99de[_0x1534a0])_0x2e0662=(_0xb8bde<0x3?_0x4b29ce(_0x2e0662):_0xb8bde>0x3?_0x4b29ce(_0x1cd117,_0x5639fc,_0x2e0662):_0x4b29ce(_0x1cd117,_0x5639fc))||_0x2e0662;}return _0xb8bde>0x3&&_0x2e0662&&Object[_0x3a1de7(0x114)](_0x1cd117,_0x5639fc,_0x2e0662),_0x2e0662;},__metadata=this&&this[a85_0x4cdcd3(0x111)]||function(_0x28eb6a,_0x119a34){const _0x446616=a85_0x4cdcd3;if(typeof Reflect===_0x446616(0xfa)&&typeof Reflect[_0x446616(0x11a)]===_0x446616(0x104))return Reflect[_0x446616(0x11a)](_0x28eb6a,_0x119a34);},__param=this&&this[a85_0x4cdcd3(0xfe)]||function(_0x1bd2ba,_0x4961f8){return function(_0x5ad066,_0x444968){_0x4961f8(_0x5ad066,_0x444968,_0x1bd2ba);};},__importDefault=this&&this[a85_0x4cdcd3(0xf9)]||function(_0x46fe10){const _0x12c502=a85_0x4cdcd3;return _0x46fe10&&_0x46fe10[_0x12c502(0x115)]?_0x46fe10:{'default':_0x46fe10};};Object['defineProperty'](exports,a85_0x4cdcd3(0x115),{'value':!![]}),exports['ProxyController']=void 0x0;const errors_1=require(a85_0x4cdcd3(0x119)),core_1=require('../../core'),bad_request_error_1=require(a85_0x4cdcd3(0x110)),utils_1=require('../shared/utils'),express_http_proxy_1=__importDefault(require('express-http-proxy'));let ProxyController=class ProxyController{['handler'](_0x1e5d4e,_0x5e9855,_0x5250ff){const _0x3afcba=a85_0x4cdcd3,{originalUrl:_0x103fa6,baseUrl:_0x147ef3}=_0x1e5d4e,_0x44540d=_0x1e5d4e['get']('X-Destination');if(!_0x44540d)throw new bad_request_error_1[(_0x3afcba(0x107))](errors_1[_0x3afcba(0x105)]);const _0x454f45={'proxyReqPathResolver':()=>utils_1[_0x3afcba(0xf0)](_0x44540d,_0x103fa6[_0x3afcba(0x117)](_0x103fa6[_0x3afcba(0xf4)](_0x147ef3)+_0x147ef3['length']))};_0x1e5d4e[_0x3afcba(0x106)][_0x3afcba(0x103)]=!![],express_http_proxy_1['default'](_0x44540d,_0x454f45)(_0x1e5d4e,_0x5e9855,_0x5250ff);}};__decorate([core_1[a85_0x4cdcd3(0x116)]('*'),__param(0x0,core_1['param'][a85_0x4cdcd3(0xfb)]()),__param(0x1,core_1[a85_0x4cdcd3(0x10d)][a85_0x4cdcd3(0xf7)]()),__param(0x2,core_1[a85_0x4cdcd3(0x10d)][a85_0x4cdcd3(0x118)]()),__metadata('design:type',Function),__metadata(a85_0x4cdcd3(0x11c),[Object,Object,Function]),__metadata(a85_0x4cdcd3(0x10b),void 0x0)],ProxyController['prototype'],a85_0x4cdcd3(0x109),null),ProxyController=__decorate([core_1[a85_0x4cdcd3(0xf2)](),core_1[a85_0x4cdcd3(0x108)]('v1'),core_1['Prefix'](a85_0x4cdcd3(0xff))],ProxyController),exports[a85_0x4cdcd3(0xf5)]=ProxyController;