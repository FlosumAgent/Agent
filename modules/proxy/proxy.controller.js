const a85_0x32ed=['param','458683YklKFM','X-Destination','length','ERR_NO_DESTINATION','function','7247ZvLPjG','context','decorate','get','defineProperty','design:type','19216RcIEzb','17483nYpPUk','BadRequestError','__metadata','requestEnded','test','proxy','All','handler','Version','7814GUxyyW','indexOf','substring','return\x20/\x22\x20+\x20this\x20+\x20\x22/','../../core/errors/bad-request.error','object','514109pXBUCJ','67qyiVlZ','Prefix','58RrklCv','4czifZJ','ProxyController','__esModule','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','design:returntype','metadata','default','438609dmceep','constructor'];const a85_0x397245=a85_0x540c;(function(_0x16fa6a,_0x2802c1){const _0x2d8b33=a85_0x540c;while(!![]){try{const _0x216f8d=-parseInt(_0x2d8b33(0x8b))+parseInt(_0x2d8b33(0x8c))*parseInt(_0x2d8b33(0x76))+-parseInt(_0x2d8b33(0x95))*parseInt(_0x2d8b33(0x73))+parseInt(_0x2d8b33(0x72))+parseInt(_0x2d8b33(0x80))+parseInt(_0x2d8b33(0x75))*parseInt(_0x2d8b33(0x85))+-parseInt(_0x2d8b33(0x7d));if(_0x216f8d===_0x2802c1)break;else _0x16fa6a['push'](_0x16fa6a['shift']());}catch(_0x164859){_0x16fa6a['push'](_0x16fa6a['shift']());}}}(a85_0x32ed,0x75997));const a85_0x5af05a=function(){let _0x4af8cf=!![];return function(_0x1ed765,_0x57b86f){const _0x30af35=_0x4af8cf?function(){if(_0x57b86f){const _0xfeb516=_0x57b86f['apply'](_0x1ed765,arguments);return _0x57b86f=null,_0xfeb516;}}:function(){};return _0x4af8cf=![],_0x30af35;};}(),a85_0x21baab=a85_0x5af05a(this,function(){const _0x38142d=function(){const _0x5b13da=a85_0x540c,_0x1115f8=_0x38142d[_0x5b13da(0x7e)](_0x5b13da(0x6f))()[_0x5b13da(0x7e)](_0x5b13da(0x79));return!_0x1115f8[_0x5b13da(0x90)](a85_0x21baab);};return _0x38142d();});a85_0x21baab();function a85_0x540c(_0x236697,_0x44461d){return a85_0x540c=function(_0x2fb23d,_0x21baab){_0x2fb23d=_0x2fb23d-0x6d;let _0x5af05a=a85_0x32ed[_0x2fb23d];return _0x5af05a;},a85_0x540c(_0x236697,_0x44461d);}'use strict';var __decorate=this&&this['__decorate']||function(_0x28bae8,_0x301ba3,_0x499106,_0x51ed56){const _0x2f8800=a85_0x540c;var _0x43aa55=arguments[_0x2f8800(0x82)],_0x3bf4b4=_0x43aa55<0x3?_0x301ba3:_0x51ed56===null?_0x51ed56=Object['getOwnPropertyDescriptor'](_0x301ba3,_0x499106):_0x51ed56,_0x1d328f;if(typeof Reflect===_0x2f8800(0x71)&&typeof Reflect[_0x2f8800(0x87)]===_0x2f8800(0x84))_0x3bf4b4=Reflect[_0x2f8800(0x87)](_0x28bae8,_0x301ba3,_0x499106,_0x51ed56);else{for(var _0x335f0e=_0x28bae8[_0x2f8800(0x82)]-0x1;_0x335f0e>=0x0;_0x335f0e--)if(_0x1d328f=_0x28bae8[_0x335f0e])_0x3bf4b4=(_0x43aa55<0x3?_0x1d328f(_0x3bf4b4):_0x43aa55>0x3?_0x1d328f(_0x301ba3,_0x499106,_0x3bf4b4):_0x1d328f(_0x301ba3,_0x499106))||_0x3bf4b4;}return _0x43aa55>0x3&&_0x3bf4b4&&Object[_0x2f8800(0x89)](_0x301ba3,_0x499106,_0x3bf4b4),_0x3bf4b4;},__metadata=this&&this[a85_0x397245(0x8e)]||function(_0x5b257d,_0x1e0e70){const _0x3c65b5=a85_0x397245;if(typeof Reflect==='object'&&typeof Reflect[_0x3c65b5(0x7b)]===_0x3c65b5(0x84))return Reflect[_0x3c65b5(0x7b)](_0x5b257d,_0x1e0e70);},__param=this&&this['__param']||function(_0x4a1f57,_0xb30e92){return function(_0x46b4a6,_0x50c126){_0xb30e92(_0x46b4a6,_0x50c126,_0x4a1f57);};},__importDefault=this&&this['__importDefault']||function(_0x3bf537){const _0x4a03fc=a85_0x397245;return _0x3bf537&&_0x3bf537[_0x4a03fc(0x78)]?_0x3bf537:{'default':_0x3bf537};};Object[a85_0x397245(0x89)](exports,a85_0x397245(0x78),{'value':!![]}),exports['ProxyController']=void 0x0;const errors_1=require('../../constants/errors'),core_1=require('../../core'),bad_request_error_1=require(a85_0x397245(0x70)),utils_1=require('../shared/utils'),express_http_proxy_1=__importDefault(require('express-http-proxy'));let ProxyController=class ProxyController{[a85_0x397245(0x93)](_0xedbe33,_0x2e6b70,_0x345399){const _0x430dfd=a85_0x397245,{originalUrl:_0x38c8e0,baseUrl:_0x70e397}=_0xedbe33,_0x86186=_0xedbe33[_0x430dfd(0x88)](_0x430dfd(0x81));if(!_0x86186)throw new bad_request_error_1[(_0x430dfd(0x8d))](errors_1[_0x430dfd(0x83)]);const _0x1eeaf7={'proxyReqPathResolver':()=>utils_1['joinURL'](_0x86186,_0x38c8e0[_0x430dfd(0x6e)](_0x38c8e0[_0x430dfd(0x6d)](_0x70e397)+_0x70e397[_0x430dfd(0x82)]))};_0xedbe33[_0x430dfd(0x86)][_0x430dfd(0x8f)]=!![],express_http_proxy_1[_0x430dfd(0x7c)](_0x86186,_0x1eeaf7)(_0xedbe33,_0x2e6b70,_0x345399);}};__decorate([core_1[a85_0x397245(0x92)]('*'),__param(0x0,core_1['param']['request']()),__param(0x1,core_1['param']['response']()),__param(0x2,core_1[a85_0x397245(0x7f)]['next']()),__metadata(a85_0x397245(0x8a),Function),__metadata('design:paramtypes',[Object,Object,Function]),__metadata(a85_0x397245(0x7a),void 0x0)],ProxyController['prototype'],a85_0x397245(0x93),null),ProxyController=__decorate([core_1['Controller'](),core_1[a85_0x397245(0x94)]('v1'),core_1[a85_0x397245(0x74)](a85_0x397245(0x91))],ProxyController),exports[a85_0x397245(0x77)]=ProxyController;