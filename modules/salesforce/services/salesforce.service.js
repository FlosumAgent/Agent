const a111_0x1800=['services/data/','error','patchObject','then','name','metadata','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','apply','[message]\x20%s','forEach','7459sPYrSS','269225uyqsJP','typedi','delete\x20attachment\x20%s\x20from\x20salesforce','1bRRowO','13jVcplD','defineProperty','request','58121sWomLZ','arraybuffer','/sobjects/Attachment/','./salesforce-auth.service','35059WgUziI','retrieveAttachment','3rwHoPP','object','__metadata','46441BpxuNW','retrieve\x20components\x20\x20%d\x20from\x20salesforce','services/apexrest','createSalesforceRequest','post','/flosum_git','/attachments','log','./salesforce-logger.service','115308oVHNIK','namespace','getLogger','get','/sobjects/','function','../utils/create-request.util','SalesforceError','setLoggerId','logger','patch','IGNORE_FLOSUM_GIT_NAMESPACE','InternalServerError','loggerId','../../../constants','getOwnPropertyDescriptor','SalesforceLogger','design:paramtypes','SalesforceService','length','2711usmPTy','__esModule','retrieveComponents','SALESFORCE_API_VERSION','internalLogger','constructor','2uOlOBK','../../../core/errors/internal-server.error','/logger','/body'];const a111_0x3857eb=a111_0x21c9;(function(_0x3cf3bc,_0x5e7b57){const _0x564344=a111_0x21c9;while(!![]){try{const _0x5dbbc7=-parseInt(_0x564344(0xb5))+parseInt(_0x564344(0x80))*parseInt(_0x564344(0xbc))+parseInt(_0x564344(0x8c))*parseInt(_0x564344(0xa6))+-parseInt(_0x564344(0xb8))*parseInt(_0x564344(0x7e))+-parseInt(_0x564344(0x83))+-parseInt(_0x564344(0xb9))*-parseInt(_0x564344(0xb4))+-parseInt(_0x564344(0xa0));if(_0x5dbbc7===_0x5e7b57)break;else _0x3cf3bc['push'](_0x3cf3bc['shift']());}catch(_0x56a8cd){_0x3cf3bc['push'](_0x3cf3bc['shift']());}}}(a111_0x1800,0x2441e));const a111_0x4d8007=function(){let _0x35e615=!![];return function(_0x339cc9,_0x290445){const _0x3fc1df=_0x35e615?function(){const _0xa2814c=a111_0x21c9;if(_0x290445){const _0x3c17da=_0x290445[_0xa2814c(0xb1)](_0x339cc9,arguments);return _0x290445=null,_0x3c17da;}}:function(){};return _0x35e615=![],_0x3fc1df;};}(),a111_0x12531f=a111_0x4d8007(this,function(){const _0x258b07=function(){const _0x41d8f8=a111_0x21c9,_0x1eebd7=_0x258b07[_0x41d8f8(0xa5)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x41d8f8(0xa5)](_0x41d8f8(0xb0));return!_0x1eebd7['test'](a111_0x12531f);};return _0x258b07();});a111_0x12531f();'use strict';var __decorate=this&&this['__decorate']||function(_0x217117,_0x3dbfd5,_0x1b83ce,_0x1dc0d8){const _0x4f53cf=a111_0x21c9;var _0x12a9da=arguments[_0x4f53cf(0x9f)],_0x34d9ab=_0x12a9da<0x3?_0x3dbfd5:_0x1dc0d8===null?_0x1dc0d8=Object[_0x4f53cf(0x9b)](_0x3dbfd5,_0x1b83ce):_0x1dc0d8,_0x322ef7;if(typeof Reflect===_0x4f53cf(0x81)&&typeof Reflect['decorate']===_0x4f53cf(0x91))_0x34d9ab=Reflect['decorate'](_0x217117,_0x3dbfd5,_0x1b83ce,_0x1dc0d8);else{for(var _0x370d25=_0x217117[_0x4f53cf(0x9f)]-0x1;_0x370d25>=0x0;_0x370d25--)if(_0x322ef7=_0x217117[_0x370d25])_0x34d9ab=(_0x12a9da<0x3?_0x322ef7(_0x34d9ab):_0x12a9da>0x3?_0x322ef7(_0x3dbfd5,_0x1b83ce,_0x34d9ab):_0x322ef7(_0x3dbfd5,_0x1b83ce))||_0x34d9ab;}return _0x12a9da>0x3&&_0x34d9ab&&Object[_0x4f53cf(0xba)](_0x3dbfd5,_0x1b83ce,_0x34d9ab),_0x34d9ab;},__metadata=this&&this[a111_0x3857eb(0x82)]||function(_0x57a483,_0x2a8301){const _0xe4339=a111_0x3857eb;if(typeof Reflect==='object'&&typeof Reflect[_0xe4339(0xaf)]===_0xe4339(0x91))return Reflect[_0xe4339(0xaf)](_0x57a483,_0x2a8301);},SalesforceService_1;Object[a111_0x3857eb(0xba)](exports,a111_0x3857eb(0xa1),{'value':!![]}),exports[a111_0x3857eb(0x9e)]=void 0x0;const typedi_1=require(a111_0x3857eb(0xb6)),core_1=require('../../../core'),internal_server_error_1=require(a111_0x3857eb(0xa7)),salesforce_auth_service_1=require(a111_0x3857eb(0x7d)),constants_1=require(a111_0x3857eb(0x9a)),create_request_util_1=require(a111_0x3857eb(0x92)),salesforce_logger_service_1=require(a111_0x3857eb(0x8b)),salesforce_error_1=require('../errors/salesforce.error');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x27fbbb){const _0x15c026=a111_0x3857eb;this[_0x15c026(0x95)]=new core_1['Logger'](SalesforceService_1[_0x15c026(0xae)]),this[_0x15c026(0xbb)]=create_request_util_1[_0x15c026(0x86)](_0x27fbbb),this[_0x15c026(0x8d)]=constants_1[_0x15c026(0x97)]?'':_0x15c026(0x88);}[a111_0x3857eb(0x94)](_0x39f02e){const _0x5b7b76=a111_0x3857eb;this[_0x5b7b76(0x99)]=_0x39f02e,this[_0x5b7b76(0xa4)]=new salesforce_logger_service_1[(_0x5b7b76(0x9c))](this);}[a111_0x3857eb(0x8e)](){const _0x331389=a111_0x3857eb;return this[_0x331389(0xa4)];}async[a111_0x3857eb(0xa2)](_0xfc7546){const _0x44fffc=a111_0x3857eb;try{this[_0x44fffc(0x95)][_0x44fffc(0x8a)](_0x44fffc(0x84),_0xfc7546[_0x44fffc(0x9f)]);const _0x26003e=await this['request'][_0x44fffc(0x87)](_0x44fffc(0x85)+this['namespace']+_0x44fffc(0x89),{'componentIds':_0xfc7546,'loggerId':this['loggerId']})['then'](({data:_0x49f9ca})=>_0x49f9ca);return _0x26003e;}catch(_0x268c2a){this[_0x44fffc(0x95)]['error'](_0x268c2a);throw new salesforce_error_1['SalesforceError'](_0x268c2a);}}async['deleteAttachment'](_0x34b2e4){const _0x3d0688=a111_0x3857eb;try{this[_0x3d0688(0x95)]['log'](_0x3d0688(0xb7),_0x34b2e4),await this[_0x3d0688(0xbb)]['delete']('services/data/'+constants_1[_0x3d0688(0xa3)]+'/sobjects/Attachment/'+_0x34b2e4);}catch(_0x381b81){this[_0x3d0688(0x95)][_0x3d0688(0xab)](_0x381b81);throw new salesforce_error_1[(_0x3d0688(0x93))](_0x381b81);}}async[a111_0x3857eb(0x7f)](_0x4e9684,_0x589406=![]){const _0x1a6994=a111_0x3857eb;try{this['logger'][_0x1a6994(0x8a)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x4e9684);const _0x590757=await this[_0x1a6994(0xbb)][_0x1a6994(0x8f)](_0x1a6994(0xaa)+constants_1[_0x1a6994(0xa3)]+_0x1a6994(0x7c)+_0x4e9684+_0x1a6994(0xa9),{'responseType':_0x589406?_0x1a6994(0x7b):'text'})[_0x1a6994(0xad)](({data:_0x10cd55})=>_0x10cd55);return _0x590757;}catch(_0x51ab27){this[_0x1a6994(0x95)][_0x1a6994(0xab)](_0x51ab27);throw new salesforce_error_1[(_0x1a6994(0x93))](_0x51ab27);}}async['sendLog'](_0x43aa67){const _0x489b1a=a111_0x3857eb;try{_0x43aa67[_0x489b1a(0xb3)](_0x339f88=>this[_0x489b1a(0x95)][_0x489b1a(0x8a)](_0x489b1a(0xb2),_0x339f88)),await this[_0x489b1a(0xbb)][_0x489b1a(0x87)](_0x489b1a(0x85)+this[_0x489b1a(0x8d)]+_0x489b1a(0xa8),{'messages':_0x43aa67,'loggerId':this['loggerId']});}catch(_0x53f428){this[_0x489b1a(0x95)][_0x489b1a(0xab)](_0x53f428);throw new internal_server_error_1[(_0x489b1a(0x98))](_0x53f428);}}async[a111_0x3857eb(0xac)](_0x47b8da,_0x15d1fd,_0x136332){const _0x175593=a111_0x3857eb;try{await this['request'][_0x175593(0x96)](_0x175593(0xaa)+constants_1[_0x175593(0xa3)]+_0x175593(0x90)+_0x47b8da+'/'+_0x15d1fd,_0x136332);}catch(_0x2b3b74){throw new salesforce_error_1[(_0x175593(0x93))](_0x2b3b74);}}};function a111_0x21c9(_0x5f5bd2,_0x3ace62){return a111_0x21c9=function(_0x8b8780,_0x12531f){_0x8b8780=_0x8b8780-0x7b;let _0x4d8007=a111_0x1800[_0x8b8780];return _0x4d8007;},a111_0x21c9(_0x5f5bd2,_0x3ace62);}SalesforceService=SalesforceService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a111_0x3857eb(0x9d),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a111_0x3857eb(0x9e)]=SalesforceService;