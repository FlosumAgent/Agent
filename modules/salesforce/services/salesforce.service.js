const a107_0x8eeb=['/logger','480171SxWWeb','525381XQSJaO','../../../core/errors/not-found.error','apply','SALESFORCE_API_VERSION','/flosum_git','1gCwYXY','/body','post','515048DZEzyi','delete','1nZQgYz','253vkzaVf','services/data/','../../../constants','deleteAttachment','../utils/create-request.util','get','1GPwhwb','BadRequestError','../../../core','SalesforceService','[ERROR:retrieveComponents]\x20','services/apexrest','constructor','object','then','defineProperty','return\x20/\x22\x20+\x20this\x20+\x20\x22/','typedi','patch','sendLog','delete\x20attachment\x20%s\x20from\x20salesforce','retrieveAttachment','NotFoundError','salesforce-service','getOwnPropertyDescriptor','design:paramtypes','[LID:%s]\x20log\x20\x22%s\x22\x20to\x20salesforce','length','log','function','decorate','209361LfLJCP','Logger','/sobjects/','731662kEyOXV','namespace','240653tNvMrQ','message','request','1035gvqkFt','test','SalesforceAuthService','InternalServerError','retrieveComponents','[ERROR:deleteAttachment]\x20','metadata','__esModule','loggerId','setLoggerId'];const a107_0x1f29f0=a107_0x97f2;(function(_0x1bdb9d,_0x2c7158){const _0x44b47e=a107_0x97f2;while(!![]){try{const _0xc730d=-parseInt(_0x44b47e(0xd1))*parseInt(_0x44b47e(0xe8))+parseInt(_0x44b47e(0xdd))*-parseInt(_0x44b47e(0xee))+parseInt(_0x44b47e(0xe7))*parseInt(_0x44b47e(0xc9))+parseInt(_0x44b47e(0xcc))+-parseInt(_0x44b47e(0xdc))+parseInt(_0x44b47e(0xe5))+parseInt(_0x44b47e(0xe2))*parseInt(_0x44b47e(0xce));if(_0xc730d===_0x2c7158)break;else _0x1bdb9d['push'](_0x1bdb9d['shift']());}catch(_0x79c9f6){_0x1bdb9d['push'](_0x1bdb9d['shift']());}}}(a107_0x8eeb,0x68d05));const a107_0x21c3eb=function(){let _0x11c2a5=!![];return function(_0x4a5aa0,_0x7fa5e8){const _0x4db450=_0x11c2a5?function(){const _0x421836=a107_0x97f2;if(_0x7fa5e8){const _0x2c1f82=_0x7fa5e8[_0x421836(0xdf)](_0x4a5aa0,arguments);return _0x7fa5e8=null,_0x2c1f82;}}:function(){};return _0x11c2a5=![],_0x4db450;};}(),a107_0x435277=a107_0x21c3eb(this,function(){const _0x3bcad6=function(){const _0x2bdfe5=a107_0x97f2,_0x168ad0=_0x3bcad6[_0x2bdfe5(0xf4)](_0x2bdfe5(0xf8))()[_0x2bdfe5(0xf4)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x168ad0[_0x2bdfe5(0xd2)](a107_0x435277);};return _0x3bcad6();});a107_0x435277();'use strict';var __decorate=this&&this['__decorate']||function(_0x3aac48,_0x45854f,_0x259274,_0x143387){const _0x2bd725=a107_0x97f2;var _0x40f8f2=arguments[_0x2bd725(0xc5)],_0x25a2b5=_0x40f8f2<0x3?_0x45854f:_0x143387===null?_0x143387=Object[_0x2bd725(0xc2)](_0x45854f,_0x259274):_0x143387,_0x31428e;if(typeof Reflect===_0x2bd725(0xf5)&&typeof Reflect[_0x2bd725(0xc8)]==='function')_0x25a2b5=Reflect[_0x2bd725(0xc8)](_0x3aac48,_0x45854f,_0x259274,_0x143387);else{for(var _0x534bf8=_0x3aac48[_0x2bd725(0xc5)]-0x1;_0x534bf8>=0x0;_0x534bf8--)if(_0x31428e=_0x3aac48[_0x534bf8])_0x25a2b5=(_0x40f8f2<0x3?_0x31428e(_0x25a2b5):_0x40f8f2>0x3?_0x31428e(_0x45854f,_0x259274,_0x25a2b5):_0x31428e(_0x45854f,_0x259274))||_0x25a2b5;}return _0x40f8f2>0x3&&_0x25a2b5&&Object[_0x2bd725(0xf7)](_0x45854f,_0x259274,_0x25a2b5),_0x25a2b5;},__metadata=this&&this['__metadata']||function(_0x435c7c,_0x369cbd){const _0x2674b4=a107_0x97f2;if(typeof Reflect===_0x2674b4(0xf5)&&typeof Reflect[_0x2674b4(0xd7)]===_0x2674b4(0xc7))return Reflect[_0x2674b4(0xd7)](_0x435c7c,_0x369cbd);};function a107_0x97f2(_0x578513,_0x5a5d53){return a107_0x97f2=function(_0x4ccf9a,_0x435277){_0x4ccf9a=_0x4ccf9a-0xbf;let _0x21c3eb=a107_0x8eeb[_0x4ccf9a];return _0x21c3eb;},a107_0x97f2(_0x578513,_0x5a5d53);}Object[a107_0x1f29f0(0xf7)](exports,a107_0x1f29f0(0xd8),{'value':!![]}),exports[a107_0x1f29f0(0xf1)]=void 0x0;const typedi_1=require(a107_0x1f29f0(0xf9)),core_1=require(a107_0x1f29f0(0xf0)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a107_0x1f29f0(0xea)),not_found_error_1=require(a107_0x1f29f0(0xde)),bad_request_error_1=require('../../../core/errors/bad-request.error'),create_request_util_1=require(a107_0x1f29f0(0xec)),logger=new core_1[(a107_0x1f29f0(0xca))](a107_0x1f29f0(0xc1));let SalesforceService=class SalesforceService{constructor(_0x4377a7){const _0x184892=a107_0x1f29f0;this[_0x184892(0xd0)]=create_request_util_1['createSalesforceRequest'](_0x4377a7),this[_0x184892(0xcd)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x184892(0xe1);}[a107_0x1f29f0(0xda)](_0x230d1a){this['loggerId']=_0x230d1a;}async[a107_0x1f29f0(0xd5)](_0x17a94d){const _0x309146=a107_0x1f29f0;try{const _0x17ca7a=await this['request'][_0x309146(0xe4)]('services/apexrest'+this[_0x309146(0xcd)]+'/attachments',{'componentIds':_0x17a94d,'loggerId':this['loggerId']})['then'](({data:_0x222bca})=>_0x222bca);return _0x17ca7a;}catch(_0x293a3d){this[_0x309146(0xfb)](_0x309146(0xf2)+_0x293a3d[_0x309146(0xcf)]);throw new bad_request_error_1[(_0x309146(0xef))](_0x293a3d);}}async[a107_0x1f29f0(0xeb)](_0x1bd474){const _0x3730f7=a107_0x1f29f0;try{logger[_0x3730f7(0xc6)](_0x3730f7(0xfc),_0x1bd474),await this[_0x3730f7(0xd0)][_0x3730f7(0xe6)](_0x3730f7(0xe9)+constants_1[_0x3730f7(0xe0)]+'/sobjects/Attachment/'+_0x1bd474);}catch(_0x41bd46){this['sendLog'](_0x3730f7(0xd6)+_0x41bd46[_0x3730f7(0xcf)]);throw new not_found_error_1[(_0x3730f7(0xc0))](_0x41bd46);}}async[a107_0x1f29f0(0xbf)](_0x137d6d){const _0x1c908e=a107_0x1f29f0;try{logger[_0x1c908e(0xc6)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x137d6d);const _0x2c16de=await this['request'][_0x1c908e(0xed)](_0x1c908e(0xe9)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x137d6d+_0x1c908e(0xe3))[_0x1c908e(0xf6)](({data:_0x6cbaab})=>_0x6cbaab);return _0x2c16de;}catch(_0x5059b6){this[_0x1c908e(0xfb)]('[ERROR:retrieveAttachment]\x20'+_0x5059b6[_0x1c908e(0xcf)]);throw new not_found_error_1[(_0x1c908e(0xc0))](_0x5059b6);}}async[a107_0x1f29f0(0xfb)](_0xd0f6f8){const _0x46ddf2=a107_0x1f29f0;try{logger[_0x46ddf2(0xc6)](_0x46ddf2(0xc4),this[_0x46ddf2(0xd9)],_0xd0f6f8),await this['request'][_0x46ddf2(0xe4)](_0x46ddf2(0xf3)+this[_0x46ddf2(0xcd)]+_0x46ddf2(0xdb),{'message':_0xd0f6f8,'loggerId':this['loggerId']});}catch(_0xae42c9){throw new internal_server_error_1[(_0x46ddf2(0xd4))](_0xae42c9);}}async['patchObject'](_0x4ff777,_0x1d3645,_0x578c8d){const _0x343493=a107_0x1f29f0;try{await this['request'][_0x343493(0xfa)]('services/data/'+constants_1[_0x343493(0xe0)]+_0x343493(0xcb)+_0x4ff777+'/'+_0x1d3645,_0x578c8d);}catch(_0x535801){throw new internal_server_error_1[(_0x343493(0xd4))](_0x535801);}}};SalesforceService=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a107_0x1f29f0(0xc3),[salesforce_auth_service_1[a107_0x1f29f0(0xd3)]])],SalesforceService),exports[a107_0x1f29f0(0xf1)]=SalesforceService;