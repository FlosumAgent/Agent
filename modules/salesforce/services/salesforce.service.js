const a109_0x5206=['metadata','432969lLhJMz','272917Vgjcob','../utils/create-request.util','retrieveComponents','object','549255pdKEln','SalesforceLogger','log','Service','return\x20/\x22\x20+\x20this\x20+\x20\x22/','loggerId','namespace','__metadata','/body','function','patchObject','typedi','SalesforceService','constructor','1MxaIpN','services/data/','[message]\x20%s','__esModule','getLogger','services/apexrest','443204WnMeGJ','post','./salesforce-auth.service','request','getOwnPropertyDescriptor','logger','retrieveAttachment','SALESFORCE_API_VERSION','4xupsSP','../../../core/errors/not-found.error','../../../core','InternalServerError','../../../core/errors/internal-server.error','__decorate','1jZOyWu','internalLogger','2190769CPBFTo','apply','delete\x20attachment\x20%s\x20from\x20salesforce','../../../core/errors/bad-request.error','/flosum_git','decorate','length','./salesforce-logger.service','/sobjects/','SalesforceAuthService','error','retrieve\x20components\x20\x20%d\x20from\x20salesforce','/attachments','patch','then','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','deleteAttachment','115973aGmDlE','design:paramtypes','272180FBRfCh','Logger','/sobjects/Attachment/','NotFoundError','defineProperty','name'];const a109_0x2c1a9f=a109_0x4931;(function(_0x49dc22,_0x136eb3){const _0x5b555a=a109_0x4931;while(!![]){try{const _0x14cd39=-parseInt(_0x5b555a(0x1b8))+parseInt(_0x5b555a(0x1af))*-parseInt(_0x5b555a(0x196))+-parseInt(_0x5b555a(0x1b9))+-parseInt(_0x5b555a(0x18e))+parseInt(_0x5b555a(0x1b1))+-parseInt(_0x5b555a(0x1bd))*parseInt(_0x5b555a(0x188))+-parseInt(_0x5b555a(0x19e))*-parseInt(_0x5b555a(0x19c));if(_0x14cd39===_0x136eb3)break;else _0x49dc22['push'](_0x49dc22['shift']());}catch(_0x31de47){_0x49dc22['push'](_0x49dc22['shift']());}}}(a109_0x5206,0x496a8));const a109_0x94b1ce=function(){let _0x1bf09e=!![];return function(_0x26bb49,_0x5a68b1){const _0x206a53=_0x1bf09e?function(){const _0x19ce05=a109_0x4931;if(_0x5a68b1){const _0x3fcb08=_0x5a68b1[_0x19ce05(0x19f)](_0x26bb49,arguments);return _0x5a68b1=null,_0x3fcb08;}}:function(){};return _0x1bf09e=![],_0x206a53;};}(),a109_0x5105ac=a109_0x94b1ce(this,function(){const _0x229b32=function(){const _0x1c434b=a109_0x4931,_0x24704f=_0x229b32[_0x1c434b(0x187)](_0x1c434b(0x1c1))()[_0x1c434b(0x187)](_0x1c434b(0x1ad));return!_0x24704f['test'](a109_0x5105ac);};return _0x229b32();});a109_0x5105ac();'use strict';var __decorate=this&&this[a109_0x2c1a9f(0x19b)]||function(_0x52f74e,_0x407cef,_0x158d12,_0x20dfd9){const _0x30edad=a109_0x2c1a9f;var _0x5eb64b=arguments[_0x30edad(0x1a4)],_0x184936=_0x5eb64b<0x3?_0x407cef:_0x20dfd9===null?_0x20dfd9=Object[_0x30edad(0x192)](_0x407cef,_0x158d12):_0x20dfd9,_0x307aa3;if(typeof Reflect==='object'&&typeof Reflect[_0x30edad(0x1a3)]===_0x30edad(0x1c6))_0x184936=Reflect[_0x30edad(0x1a3)](_0x52f74e,_0x407cef,_0x158d12,_0x20dfd9);else{for(var _0x124aae=_0x52f74e[_0x30edad(0x1a4)]-0x1;_0x124aae>=0x0;_0x124aae--)if(_0x307aa3=_0x52f74e[_0x124aae])_0x184936=(_0x5eb64b<0x3?_0x307aa3(_0x184936):_0x5eb64b>0x3?_0x307aa3(_0x407cef,_0x158d12,_0x184936):_0x307aa3(_0x407cef,_0x158d12))||_0x184936;}return _0x5eb64b>0x3&&_0x184936&&Object[_0x30edad(0x1b5)](_0x407cef,_0x158d12,_0x184936),_0x184936;},__metadata=this&&this[a109_0x2c1a9f(0x1c4)]||function(_0xf90f7c,_0x2e37d8){const _0x358e57=a109_0x2c1a9f;if(typeof Reflect===_0x358e57(0x1bc)&&typeof Reflect[_0x358e57(0x1b7)]==='function')return Reflect['metadata'](_0xf90f7c,_0x2e37d8);},SalesforceService_1;Object[a109_0x2c1a9f(0x1b5)](exports,a109_0x2c1a9f(0x18b),{'value':!![]}),exports[a109_0x2c1a9f(0x1c9)]=void 0x0;const typedi_1=require(a109_0x2c1a9f(0x1c8)),core_1=require(a109_0x2c1a9f(0x198)),internal_server_error_1=require(a109_0x2c1a9f(0x19a)),salesforce_auth_service_1=require(a109_0x2c1a9f(0x190)),constants_1=require('../../../constants'),not_found_error_1=require(a109_0x2c1a9f(0x197)),bad_request_error_1=require(a109_0x2c1a9f(0x1a1)),create_request_util_1=require(a109_0x2c1a9f(0x1ba)),salesforce_logger_service_1=require(a109_0x2c1a9f(0x1a5));function a109_0x4931(_0x2fb245,_0x496d91){return a109_0x4931=function(_0x134efd,_0x5105ac){_0x134efd=_0x134efd-0x187;let _0x94b1ce=a109_0x5206[_0x134efd];return _0x94b1ce;},a109_0x4931(_0x2fb245,_0x496d91);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x52c0ea){const _0x5a8da5=a109_0x2c1a9f;this[_0x5a8da5(0x193)]=new core_1[(_0x5a8da5(0x1b2))](SalesforceService_1[_0x5a8da5(0x1b6)]),this['request']=create_request_util_1['createSalesforceRequest'](_0x52c0ea),this[_0x5a8da5(0x1c3)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x5a8da5(0x1a2);}['setLoggerId'](_0x2477b7){const _0x5bd6af=a109_0x2c1a9f;this[_0x5bd6af(0x1c2)]=_0x2477b7,this[_0x5bd6af(0x19d)]=new salesforce_logger_service_1[(_0x5bd6af(0x1be))](this);}[a109_0x2c1a9f(0x18c)](){const _0x542e29=a109_0x2c1a9f;return this[_0x542e29(0x19d)];}async[a109_0x2c1a9f(0x1bb)](_0x35d6bb){const _0x4ed4c4=a109_0x2c1a9f;try{this['logger'][_0x4ed4c4(0x1bf)](_0x4ed4c4(0x1a9),_0x35d6bb['length']);const _0xf9851b=await this['request'][_0x4ed4c4(0x18f)](_0x4ed4c4(0x18d)+this[_0x4ed4c4(0x1c3)]+_0x4ed4c4(0x1aa),{'componentIds':_0x35d6bb,'loggerId':this[_0x4ed4c4(0x1c2)]})['then'](({data:_0x524e40})=>_0x524e40);return _0xf9851b;}catch(_0x2e9bb3){this[_0x4ed4c4(0x193)][_0x4ed4c4(0x1a8)](_0x2e9bb3);throw new bad_request_error_1['BadRequestError'](_0x2e9bb3);}}async[a109_0x2c1a9f(0x1ae)](_0xc77668){const _0x4a48dc=a109_0x2c1a9f;try{this[_0x4a48dc(0x193)]['log'](_0x4a48dc(0x1a0),_0xc77668),await this[_0x4a48dc(0x191)]['delete'](_0x4a48dc(0x189)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0xc77668);}catch(_0x3e4551){this[_0x4a48dc(0x193)][_0x4a48dc(0x1a8)](_0x3e4551);throw new not_found_error_1[(_0x4a48dc(0x1b4))](_0x3e4551);}}async[a109_0x2c1a9f(0x194)](_0xc1c41){const _0x1ac804=a109_0x2c1a9f;try{this[_0x1ac804(0x193)][_0x1ac804(0x1bf)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0xc1c41);const _0x37962e=await this[_0x1ac804(0x191)]['get'](_0x1ac804(0x189)+constants_1[_0x1ac804(0x195)]+_0x1ac804(0x1b3)+_0xc1c41+_0x1ac804(0x1c5))[_0x1ac804(0x1ac)](({data:_0x2ee590})=>_0x2ee590);return _0x37962e;}catch(_0x54d6a8){this['logger'][_0x1ac804(0x1a8)](_0x54d6a8);throw new not_found_error_1[(_0x1ac804(0x1b4))](_0x54d6a8);}}async['sendLog'](_0x1f0593){const _0x26fbeb=a109_0x2c1a9f;try{_0x1f0593['forEach'](_0x5e17d4=>this[_0x26fbeb(0x193)]['log'](_0x26fbeb(0x18a),_0x5e17d4)),await this[_0x26fbeb(0x191)][_0x26fbeb(0x18f)]('services/apexrest'+this[_0x26fbeb(0x1c3)]+'/logger',{'messages':_0x1f0593,'loggerId':this[_0x26fbeb(0x1c2)]});}catch(_0x511507){this[_0x26fbeb(0x193)]['error'](_0x511507);throw new internal_server_error_1[(_0x26fbeb(0x199))](_0x511507);}}async[a109_0x2c1a9f(0x1c7)](_0x1bf9bb,_0x332210,_0x209743){const _0x132fd3=a109_0x2c1a9f;try{await this['request'][_0x132fd3(0x1ab)](_0x132fd3(0x189)+constants_1['SALESFORCE_API_VERSION']+_0x132fd3(0x1a6)+_0x1bf9bb+'/'+_0x332210,_0x209743);}catch(_0x4a4a45){throw new internal_server_error_1[(_0x132fd3(0x199))](_0x4a4a45);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a109_0x2c1a9f(0x1c0)]({'transient':!![]}),__metadata(a109_0x2c1a9f(0x1b0),[salesforce_auth_service_1[a109_0x2c1a9f(0x1a7)]])],SalesforceService),exports['SalesforceService']=SalesforceService;