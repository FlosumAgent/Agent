const a113_0x1b21d6=a113_0x3f78;(function(_0x4f2beb,_0x1f4bd8){const _0x406136=a113_0x3f78,_0x1a9f79=_0x4f2beb();while(!![]){try{const _0x42d534=-parseInt(_0x406136(0x1ed))/0x1+parseInt(_0x406136(0x1ca))/0x2+-parseInt(_0x406136(0x1fd))/0x3+-parseInt(_0x406136(0x1e4))/0x4+-parseInt(_0x406136(0x1e7))/0x5+parseInt(_0x406136(0x1f2))/0x6+-parseInt(_0x406136(0x1dc))/0x7*(-parseInt(_0x406136(0x1e6))/0x8);if(_0x42d534===_0x1f4bd8)break;else _0x1a9f79['push'](_0x1a9f79['shift']());}catch(_0x3268ef){_0x1a9f79['push'](_0x1a9f79['shift']());}}}(a113_0x10ae,0x645b0));const a113_0x57bae6=function(){let _0x29fc3f=!![];return function(_0x929fb5,_0x2310e9){const _0x3dcf1c=_0x29fc3f?function(){const _0x33b009=a113_0x3f78;if(_0x2310e9){const _0x45157c=_0x2310e9[_0x33b009(0x1e5)](_0x929fb5,arguments);return _0x2310e9=null,_0x45157c;}}:function(){};return _0x29fc3f=![],_0x3dcf1c;};}(),a113_0x7159c3=a113_0x57bae6(this,function(){const _0x40fb2f=a113_0x3f78;return a113_0x7159c3['toString']()[_0x40fb2f(0x1fe)](_0x40fb2f(0x1d7))['toString']()[_0x40fb2f(0x1e1)](a113_0x7159c3)[_0x40fb2f(0x1fe)](_0x40fb2f(0x1d7));});a113_0x7159c3();'use strict';var __decorate=this&&this[a113_0x1b21d6(0x1f7)]||function(_0x54a9ed,_0xe61638,_0x36b6a8,_0x13dd06){const _0x5e4750=a113_0x1b21d6;var _0x318673=arguments['length'],_0x7390a0=_0x318673<0x3?_0xe61638:_0x13dd06===null?_0x13dd06=Object[_0x5e4750(0x1f3)](_0xe61638,_0x36b6a8):_0x13dd06,_0x260bbf;if(typeof Reflect===_0x5e4750(0x1fb)&&typeof Reflect[_0x5e4750(0x1c8)]===_0x5e4750(0x1d4))_0x7390a0=Reflect['decorate'](_0x54a9ed,_0xe61638,_0x36b6a8,_0x13dd06);else{for(var _0xbf44ca=_0x54a9ed[_0x5e4750(0x1d0)]-0x1;_0xbf44ca>=0x0;_0xbf44ca--)if(_0x260bbf=_0x54a9ed[_0xbf44ca])_0x7390a0=(_0x318673<0x3?_0x260bbf(_0x7390a0):_0x318673>0x3?_0x260bbf(_0xe61638,_0x36b6a8,_0x7390a0):_0x260bbf(_0xe61638,_0x36b6a8))||_0x7390a0;}return _0x318673>0x3&&_0x7390a0&&Object[_0x5e4750(0x1e0)](_0xe61638,_0x36b6a8,_0x7390a0),_0x7390a0;},__metadata=this&&this['__metadata']||function(_0x790fd,_0x2b4363){const _0x398deb=a113_0x1b21d6;if(typeof Reflect===_0x398deb(0x1fb)&&typeof Reflect['metadata']===_0x398deb(0x1d4))return Reflect[_0x398deb(0x1d5)](_0x790fd,_0x2b4363);},SalesforceService_1;Object[a113_0x1b21d6(0x1e0)](exports,'__esModule',{'value':!![]}),exports[a113_0x1b21d6(0x1cc)]=void 0x0;const typedi_1=require(a113_0x1b21d6(0x1d1)),core_1=require('../../../core'),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a113_0x1b21d6(0x1fc)),constants_1=require(a113_0x1b21d6(0x1f0)),create_request_util_1=require(a113_0x1b21d6(0x1d9)),salesforce_logger_service_1=require(a113_0x1b21d6(0x1cd)),salesforce_error_1=require(a113_0x1b21d6(0x1d8));function a113_0x3f78(_0x5575d9,_0x51fa38){const _0x5088b7=a113_0x10ae();return a113_0x3f78=function(_0x7159c3,_0x57bae6){_0x7159c3=_0x7159c3-0x1c7;let _0x10ae48=_0x5088b7[_0x7159c3];return _0x10ae48;},a113_0x3f78(_0x5575d9,_0x51fa38);}function a113_0x10ae(){const _0x4d31a8=['services/data/','error','decorate','then','583080BkqiJy','/attachments','SalesforceService','./salesforce-logger.service','request','SalesforceLogger','length','typedi','delete','[message]\x20%s','function','metadata','setLoggerId','(((.+)+)+)+$','../errors/salesforce.error','../utils/create-request.util','namespace','text','7TwkXvf','delete\x20attachment\x20%s\x20from\x20salesforce','services/apexrest','createObject','defineProperty','constructor','log','createSalesforceRequest','2106800ezhoWc','apply','15723544sUwkLH','1093590pVbtkB','retrieveAttachment','internalLogger','loggerId','Logger','logger','783232aekbJh','SalesforceError','deleteAttachment','../../../constants','name','1068078iAkGMj','getOwnPropertyDescriptor','SALESFORCE_API_VERSION','arraybuffer','get','__decorate','patch','/sobjects/','post','object','./salesforce-auth.service','1485870PbADCW','search','retrieveComponents','/flosum_git','retrieve\x20attachment\x20%s\x20from\x20salesforce','SalesforceAuthService'];a113_0x10ae=function(){return _0x4d31a8;};return a113_0x10ae();}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x2eb311){const _0x5dccde=a113_0x1b21d6;this[_0x5dccde(0x1ec)]=new core_1[(_0x5dccde(0x1eb))](SalesforceService_1[_0x5dccde(0x1f1)]),this[_0x5dccde(0x1ce)]=(0x0,create_request_util_1[_0x5dccde(0x1e3)])(_0x2eb311),this[_0x5dccde(0x1da)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x5dccde(0x200);}[a113_0x1b21d6(0x1d6)](_0x33a376){const _0x5f25aa=a113_0x1b21d6;this[_0x5f25aa(0x1ea)]=_0x33a376,this[_0x5f25aa(0x1e9)]=new salesforce_logger_service_1[(_0x5f25aa(0x1cf))](this);}['getLogger'](){const _0x132825=a113_0x1b21d6;return this[_0x132825(0x1e9)];}async[a113_0x1b21d6(0x1ff)](_0x4e90bf){const _0x4a5bd2=a113_0x1b21d6;try{this[_0x4a5bd2(0x1ec)][_0x4a5bd2(0x1e2)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x4e90bf[_0x4a5bd2(0x1d0)]);const _0x434b05=await this[_0x4a5bd2(0x1ce)][_0x4a5bd2(0x1fa)](_0x4a5bd2(0x1de)+this['namespace']+_0x4a5bd2(0x1cb),{'componentIds':_0x4e90bf,'loggerId':this[_0x4a5bd2(0x1ea)]})[_0x4a5bd2(0x1c9)](({data:_0x53b6b1})=>_0x53b6b1);return _0x434b05;}catch(_0xa53157){this[_0x4a5bd2(0x1ec)][_0x4a5bd2(0x1c7)](_0xa53157);throw new salesforce_error_1['SalesforceError'](_0xa53157);}}async[a113_0x1b21d6(0x1ef)](_0x18250){const _0x32ce0c=a113_0x1b21d6;try{this[_0x32ce0c(0x1ec)][_0x32ce0c(0x1e2)](_0x32ce0c(0x1dd),_0x18250),await this[_0x32ce0c(0x1ce)][_0x32ce0c(0x1d2)](_0x32ce0c(0x203)+constants_1[_0x32ce0c(0x1f4)]+'/sobjects/Attachment/'+_0x18250);}catch(_0x17e628){this['logger'][_0x32ce0c(0x1c7)](_0x17e628);throw new salesforce_error_1[(_0x32ce0c(0x1ee))](_0x17e628);}}async[a113_0x1b21d6(0x1e8)](_0x3e3f9b,_0x6e9b04=![]){const _0x1ed4f4=a113_0x1b21d6;try{this[_0x1ed4f4(0x1ec)][_0x1ed4f4(0x1e2)](_0x1ed4f4(0x201),_0x3e3f9b);const _0x1c46e2=await this[_0x1ed4f4(0x1ce)][_0x1ed4f4(0x1f6)](_0x1ed4f4(0x203)+constants_1[_0x1ed4f4(0x1f4)]+'/sobjects/Attachment/'+_0x3e3f9b+'/body',{'responseType':_0x6e9b04?_0x1ed4f4(0x1f5):_0x1ed4f4(0x1db)})['then'](({data:_0x47503b})=>_0x47503b);return _0x1c46e2;}catch(_0x42676c){this['logger'][_0x1ed4f4(0x1c7)](_0x42676c);throw new salesforce_error_1[(_0x1ed4f4(0x1ee))](_0x42676c);}}async['sendLog'](_0x6039ed){const _0x3eab40=a113_0x1b21d6;try{_0x6039ed['forEach'](_0x3cd96f=>this[_0x3eab40(0x1ec)][_0x3eab40(0x1e2)](_0x3eab40(0x1d3),_0x3cd96f)),await this[_0x3eab40(0x1ce)][_0x3eab40(0x1fa)](_0x3eab40(0x1de)+this['namespace']+'/logger',{'messages':_0x6039ed,'loggerId':this[_0x3eab40(0x1ea)]});}catch(_0x996949){this[_0x3eab40(0x1ec)]['error'](_0x996949);throw new internal_server_error_1['InternalServerError'](_0x996949);}}async[a113_0x1b21d6(0x1df)](_0x4918c6,_0x421dce){const _0x4aa51a=a113_0x1b21d6;try{const {data:_0x1845ef}=await this[_0x4aa51a(0x1ce)]['post'](_0x4aa51a(0x203)+constants_1[_0x4aa51a(0x1f4)]+_0x4aa51a(0x1f9)+_0x4918c6+'/',_0x421dce);return _0x1845ef['id'];}catch(_0x58132d){throw new salesforce_error_1[(_0x4aa51a(0x1ee))](_0x58132d);}}async['patchObject'](_0x483d5f,_0x2d115f,_0x487b31){const _0x33ad02=a113_0x1b21d6;try{await this['request'][_0x33ad02(0x1f8)](_0x33ad02(0x203)+constants_1[_0x33ad02(0x1f4)]+_0x33ad02(0x1f9)+_0x483d5f+'/'+_0x2d115f,_0x487b31);}catch(_0x249309){throw new salesforce_error_1[(_0x33ad02(0x1ee))](_0x249309);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_auth_service_1[a113_0x1b21d6(0x202)]])],SalesforceService),exports['SalesforceService']=SalesforceService;