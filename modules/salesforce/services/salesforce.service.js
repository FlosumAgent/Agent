const a107_0x2a96=['../../../constants','../../../core','patch','deleteAttachment','post','delete','retrieved\x20','[ERROR:retrieveAttachment]\x20','291667CqiQDL','constructor','apply','/sobjects/Attachment/','1HSkwJI','loggerId','retrieve\x20attachment\x20%s\x20from\x20salesforce','test','NotFoundError','getOwnPropertyDescriptor','message','design:paramtypes','return\x20/\x22\x20+\x20this\x20+\x20\x22/','31oBeRWs','services/data/','Service','798289kCvLew','SalesforceService','InternalServerError','\x20attachment\x20with\x20component\x20ids','namespace','length','/sobjects/','salesforce-service','/logger','SALESFORCE_API_VERSION','Logger','../../../core/errors/internal-server.error','SalesforceAuthService','object','/flosum_git','475584QjncqK','log','10585xSuPzn','request','patchObject','delete\x20attachment\x20%s\x20from\x20salesforce','401OXnxHU','decorate','__esModule','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','3607XAVbMa','metadata','then','function','[ERROR:deleteAttachment]\x20','4UeUiWe','/attachments','retrieveAttachment','201653byXUvd','retrieveComponents','BadRequestError','386187IYRrtq','deleted\x20','get','sendLog','__decorate','/body','defineProperty','__metadata','../utils/create-request.util','typedi','services/apexrest','../../../core/errors/bad-request.error','createSalesforceRequest'];const a107_0x22d33b=a107_0x1ba4;(function(_0x4a970a,_0x283aee){const _0x3b494b=a107_0x1ba4;while(!![]){try{const _0x39aff3=parseInt(_0x3b494b(0x225))+parseInt(_0x3b494b(0x215))*parseInt(_0x3b494b(0x219))+-parseInt(_0x3b494b(0x1fa))*-parseInt(_0x3b494b(0x1fd))+-parseInt(_0x3b494b(0x1f1))*parseInt(_0x3b494b(0x1f5))+parseInt(_0x3b494b(0x200))+parseInt(_0x3b494b(0x1ed))*-parseInt(_0x3b494b(0x222))+parseInt(_0x3b494b(0x1eb));if(_0x39aff3===_0x283aee)break;else _0x4a970a['push'](_0x4a970a['shift']());}catch(_0x445f97){_0x4a970a['push'](_0x4a970a['shift']());}}}(a107_0x2a96,0xf02f5));const a107_0x156c6b=function(){let _0x59daab=!![];return function(_0x3e0995,_0x308317){const _0x1bcf50=_0x59daab?function(){const _0xa51001=a107_0x1ba4;if(_0x308317){const _0x1b82a1=_0x308317[_0xa51001(0x217)](_0x3e0995,arguments);return _0x308317=null,_0x1b82a1;}}:function(){};return _0x59daab=![],_0x1bcf50;};}(),a107_0x507a1c=a107_0x156c6b(this,function(){const _0x1bc20b=function(){const _0x5750d3=a107_0x1ba4,_0x1f06c6=_0x1bc20b[_0x5750d3(0x216)](_0x5750d3(0x221))()[_0x5750d3(0x216)](_0x5750d3(0x1f4));return!_0x1f06c6[_0x5750d3(0x21c)](a107_0x507a1c);};return _0x1bc20b();});a107_0x507a1c();'use strict';var __decorate=this&&this[a107_0x22d33b(0x204)]||function(_0x5c454d,_0x521f64,_0x1e8dec,_0x511235){const _0x10be42=a107_0x22d33b;var _0x300009=arguments[_0x10be42(0x22a)],_0x548a3b=_0x300009<0x3?_0x521f64:_0x511235===null?_0x511235=Object[_0x10be42(0x21e)](_0x521f64,_0x1e8dec):_0x511235,_0x5ed915;if(typeof Reflect==='object'&&typeof Reflect[_0x10be42(0x1f2)]===_0x10be42(0x1f8))_0x548a3b=Reflect[_0x10be42(0x1f2)](_0x5c454d,_0x521f64,_0x1e8dec,_0x511235);else{for(var _0x49ffb6=_0x5c454d['length']-0x1;_0x49ffb6>=0x0;_0x49ffb6--)if(_0x5ed915=_0x5c454d[_0x49ffb6])_0x548a3b=(_0x300009<0x3?_0x5ed915(_0x548a3b):_0x300009>0x3?_0x5ed915(_0x521f64,_0x1e8dec,_0x548a3b):_0x5ed915(_0x521f64,_0x1e8dec))||_0x548a3b;}return _0x300009>0x3&&_0x548a3b&&Object[_0x10be42(0x206)](_0x521f64,_0x1e8dec,_0x548a3b),_0x548a3b;},__metadata=this&&this[a107_0x22d33b(0x207)]||function(_0x1d15bf,_0x1d4e46){const _0x44fc32=a107_0x22d33b;if(typeof Reflect===_0x44fc32(0x1e9)&&typeof Reflect['metadata']==='function')return Reflect[_0x44fc32(0x1f6)](_0x1d15bf,_0x1d4e46);};Object['defineProperty'](exports,a107_0x22d33b(0x1f3),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a107_0x22d33b(0x209)),core_1=require(a107_0x22d33b(0x20e)),internal_server_error_1=require(a107_0x22d33b(0x1e7)),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a107_0x22d33b(0x20d)),not_found_error_1=require('../../../core/errors/not-found.error'),bad_request_error_1=require(a107_0x22d33b(0x20b)),create_request_util_1=require(a107_0x22d33b(0x208)),logger=new core_1[(a107_0x22d33b(0x22f))](a107_0x22d33b(0x22c));function a107_0x1ba4(_0x6c5848,_0x134340){return a107_0x1ba4=function(_0x5b4b5c,_0x507a1c){_0x5b4b5c=_0x5b4b5c-0x1e7;let _0x156c6b=a107_0x2a96[_0x5b4b5c];return _0x156c6b;},a107_0x1ba4(_0x6c5848,_0x134340);}let SalesforceService=class SalesforceService{constructor(_0x454feb){const _0x3cae29=a107_0x22d33b;this['request']=create_request_util_1[_0x3cae29(0x20c)](_0x454feb),this[_0x3cae29(0x229)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x3cae29(0x1ea);}['setLoggerId'](_0x24f947){const _0x2ec6ff=a107_0x22d33b;this[_0x2ec6ff(0x21a)]=_0x24f947;}async[a107_0x22d33b(0x1fe)](_0x48c9fe){const _0xad31cd=a107_0x22d33b;try{const _0x40451f=await this[_0xad31cd(0x1ee)]['post']('services/apexrest'+this[_0xad31cd(0x229)]+_0xad31cd(0x1fb),{'componentIds':_0x48c9fe,'loggerId':this[_0xad31cd(0x21a)]})['then'](({data:_0x478cf9})=>_0x478cf9);return _0x40451f;}catch(_0x3f55af){this[_0xad31cd(0x203)]('[ERROR:retrieveComponents]\x20'+_0x3f55af[_0xad31cd(0x21f)]);throw new bad_request_error_1[(_0xad31cd(0x1ff))](_0x3f55af);}}async[a107_0x22d33b(0x210)](_0x283222){const _0x450165=a107_0x22d33b;try{logger[_0x450165(0x1ec)](_0x450165(0x1f0),_0x283222),await this['request'][_0x450165(0x212)](_0x450165(0x223)+constants_1[_0x450165(0x22e)]+_0x450165(0x218)+_0x283222),this['sendLog'](_0x450165(0x201)+_0x283222+'\x20attachment');}catch(_0x236f05){this[_0x450165(0x203)](_0x450165(0x1f9)+_0x236f05['message']);throw new not_found_error_1[(_0x450165(0x21d))](_0x236f05);}}async[a107_0x22d33b(0x1fc)](_0x37f2a0){const _0x41629d=a107_0x22d33b;try{logger[_0x41629d(0x1ec)](_0x41629d(0x21b),_0x37f2a0);const _0x49869d=await this['request'][_0x41629d(0x202)](_0x41629d(0x223)+constants_1[_0x41629d(0x22e)]+_0x41629d(0x218)+_0x37f2a0+_0x41629d(0x205))[_0x41629d(0x1f7)](({data:_0x41b89a})=>_0x41b89a);return this[_0x41629d(0x203)](_0x41629d(0x213)+_0x37f2a0+_0x41629d(0x228)),_0x49869d;}catch(_0x5e1773){this[_0x41629d(0x203)](_0x41629d(0x214)+_0x5e1773['message']);throw new not_found_error_1['NotFoundError'](_0x5e1773);}}async[a107_0x22d33b(0x203)](_0x47c532){const _0xe0f0c1=a107_0x22d33b;try{logger[_0xe0f0c1(0x1ec)]('[LID:%s]\x20log\x20\x22%s\x22\x20to\x20salesforce',this[_0xe0f0c1(0x21a)],_0x47c532),await this[_0xe0f0c1(0x1ee)][_0xe0f0c1(0x211)](_0xe0f0c1(0x20a)+this[_0xe0f0c1(0x229)]+_0xe0f0c1(0x22d),{'message':_0x47c532,'loggerId':this[_0xe0f0c1(0x21a)]});}catch(_0x1c3db3){throw new internal_server_error_1[(_0xe0f0c1(0x227))](_0x1c3db3);}}async[a107_0x22d33b(0x1ef)](_0x518922,_0x309b43,_0x10efe5){const _0x4afb78=a107_0x22d33b;try{await this[_0x4afb78(0x1ee)][_0x4afb78(0x20f)](_0x4afb78(0x223)+constants_1['SALESFORCE_API_VERSION']+_0x4afb78(0x22b)+_0x518922+'/'+_0x309b43,_0x10efe5);}catch(_0x249280){throw new internal_server_error_1[(_0x4afb78(0x227))](_0x249280);}}};SalesforceService=__decorate([typedi_1[a107_0x22d33b(0x224)]({'transient':!![]}),__metadata(a107_0x22d33b(0x220),[salesforce_auth_service_1[a107_0x22d33b(0x1e8)]])],SalesforceService),exports[a107_0x22d33b(0x226)]=SalesforceService;