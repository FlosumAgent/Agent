function a131_0x37fd(){const _0x5e950e=['logger','apply','defineProperty','patch','1824088lLJnOE','error','namespace','constructor','947199motmvk','delete','log','forEach','(((.+)+)+)+$','request','SalesforceService','/sobjects/Attachment/','patchObject','__esModule','SalesforceError','17566BUyoMJ','retrieveComponents','SalesforceAuthService','/sobjects/','../../../constants','services/apexrest','typedi','object','134488jeizIC','__decorate','internalLogger','../utils/create-request.util','SalesforceLogger','getOwnPropertyDescriptor','SALESFORCE_API_VERSION','services/data/','[message]\x20%s','./salesforce-auth.service','getLogger','toString','99AYVNtp','retrieve\x20components\x20\x20%d\x20from\x20salesforce','/body','metadata','decorate','retrieve\x20attachment\x20%s\x20from\x20salesforce','retrieveAttachment','then','deleteAttachment','4445EitzuA','Service','./salesforce-logger.service','loggerId','2172yXQDqi','search','../errors/salesforce.error','post','name','182042IkWALf','createObject','IGNORE_FLOSUM_GIT_NAMESPACE','1265DlhQgZ','function','22QQdgca','design:paramtypes','5930ZMkAQL','/logger','/flosum_git'];a131_0x37fd=function(){return _0x5e950e;};return a131_0x37fd();}const a131_0x8fb9e8=a131_0x5ec8;function a131_0x5ec8(_0x2eaee9,_0x43cb64){const _0x2d47ad=a131_0x37fd();return a131_0x5ec8=function(_0x98b348,_0x1acfd4){_0x98b348=_0x98b348-0x1c2;let _0x37fdc5=_0x2d47ad[_0x98b348];return _0x37fdc5;},a131_0x5ec8(_0x2eaee9,_0x43cb64);}(function(_0x4172d7,_0x5c775c){const _0xd5cf68=a131_0x5ec8,_0x1bb002=_0x4172d7();while(!![]){try{const _0x82c19d=parseInt(_0xd5cf68(0x1f9))/0x1*(-parseInt(_0xd5cf68(0x1e1))/0x2)+-parseInt(_0xd5cf68(0x1ee))/0x3+parseInt(_0xd5cf68(0x1ea))/0x4+parseInt(_0xd5cf68(0x1d3))/0x5*(parseInt(_0xd5cf68(0x1d7))/0x6)+-parseInt(_0xd5cf68(0x1dc))/0x7+parseInt(_0xd5cf68(0x201))/0x8*(parseInt(_0xd5cf68(0x1ca))/0x9)+parseInt(_0xd5cf68(0x1e3))/0xa*(-parseInt(_0xd5cf68(0x1df))/0xb);if(_0x82c19d===_0x5c775c)break;else _0x1bb002['push'](_0x1bb002['shift']());}catch(_0x52333a){_0x1bb002['push'](_0x1bb002['shift']());}}}(a131_0x37fd,0x57cb1));const a131_0x1acfd4=function(){let _0x54433a=!![];return function(_0x3f1e5a,_0x525ffb){const _0x1944db=_0x54433a?function(){const _0x37ded0=a131_0x5ec8;if(_0x525ffb){const _0xe21a5e=_0x525ffb[_0x37ded0(0x1e7)](_0x3f1e5a,arguments);return _0x525ffb=null,_0xe21a5e;}}:function(){};return _0x54433a=![],_0x1944db;};}(),a131_0x98b348=a131_0x1acfd4(this,function(){const _0x4b91c7=a131_0x5ec8;return a131_0x98b348[_0x4b91c7(0x1c9)]()['search']('(((.+)+)+)+$')[_0x4b91c7(0x1c9)]()[_0x4b91c7(0x1ed)](a131_0x98b348)[_0x4b91c7(0x1d8)](_0x4b91c7(0x1f2));});a131_0x98b348();'use strict';var __decorate=this&&this[a131_0x8fb9e8(0x202)]||function(_0x5f288d,_0x5ac188,_0x381ad4,_0x931d21){const _0x363256=a131_0x8fb9e8;var _0x2a6fa8=arguments['length'],_0x194349=_0x2a6fa8<0x3?_0x5ac188:_0x931d21===null?_0x931d21=Object[_0x363256(0x1c3)](_0x5ac188,_0x381ad4):_0x931d21,_0x22b757;if(typeof Reflect==='object'&&typeof Reflect[_0x363256(0x1ce)]===_0x363256(0x1e0))_0x194349=Reflect[_0x363256(0x1ce)](_0x5f288d,_0x5ac188,_0x381ad4,_0x931d21);else{for(var _0x4d90d4=_0x5f288d['length']-0x1;_0x4d90d4>=0x0;_0x4d90d4--)if(_0x22b757=_0x5f288d[_0x4d90d4])_0x194349=(_0x2a6fa8<0x3?_0x22b757(_0x194349):_0x2a6fa8>0x3?_0x22b757(_0x5ac188,_0x381ad4,_0x194349):_0x22b757(_0x5ac188,_0x381ad4))||_0x194349;}return _0x2a6fa8>0x3&&_0x194349&&Object[_0x363256(0x1e8)](_0x5ac188,_0x381ad4,_0x194349),_0x194349;},__metadata=this&&this['__metadata']||function(_0x3c3ba5,_0x45e4c5){const _0x2699de=a131_0x8fb9e8;if(typeof Reflect===_0x2699de(0x200)&&typeof Reflect[_0x2699de(0x1cd)]===_0x2699de(0x1e0))return Reflect['metadata'](_0x3c3ba5,_0x45e4c5);},SalesforceService_1;Object[a131_0x8fb9e8(0x1e8)](exports,a131_0x8fb9e8(0x1f7),{'value':!![]}),exports[a131_0x8fb9e8(0x1f4)]=void 0x0;const typedi_1=require(a131_0x8fb9e8(0x1ff)),core_1=require('../../../core'),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a131_0x8fb9e8(0x1c7)),constants_1=require(a131_0x8fb9e8(0x1fd)),create_request_util_1=require(a131_0x8fb9e8(0x204)),salesforce_logger_service_1=require(a131_0x8fb9e8(0x1d5)),salesforce_error_1=require(a131_0x8fb9e8(0x1d9));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x161f74){const _0x4a950c=a131_0x8fb9e8;this[_0x4a950c(0x1e6)]=new core_1['Logger'](SalesforceService_1[_0x4a950c(0x1db)]),this['request']=create_request_util_1['createSalesforceRequest'](_0x161f74),this[_0x4a950c(0x1ec)]=constants_1[_0x4a950c(0x1de)]?'':_0x4a950c(0x1e5);}['setLoggerId'](_0x313d3d){const _0x5b6aef=a131_0x8fb9e8;this[_0x5b6aef(0x1d6)]=_0x313d3d,this[_0x5b6aef(0x203)]=new salesforce_logger_service_1[(_0x5b6aef(0x1c2))](this);}[a131_0x8fb9e8(0x1c8)](){const _0x8fd553=a131_0x8fb9e8;return this[_0x8fd553(0x203)];}async[a131_0x8fb9e8(0x1fa)](_0x24040e){const _0x35db9e=a131_0x8fb9e8;try{this[_0x35db9e(0x1e6)][_0x35db9e(0x1f0)](_0x35db9e(0x1cb),_0x24040e['length']);const _0x2b5b05=await this[_0x35db9e(0x1f3)][_0x35db9e(0x1da)](_0x35db9e(0x1fe)+this[_0x35db9e(0x1ec)]+'/attachments',{'componentIds':_0x24040e,'loggerId':this[_0x35db9e(0x1d6)]})[_0x35db9e(0x1d1)](({data:_0x498f74})=>_0x498f74);return _0x2b5b05;}catch(_0x1c6c70){this[_0x35db9e(0x1e6)][_0x35db9e(0x1eb)](_0x1c6c70);throw new salesforce_error_1['SalesforceError'](_0x1c6c70);}}async[a131_0x8fb9e8(0x1d2)](_0x594653){const _0x17292c=a131_0x8fb9e8;try{this[_0x17292c(0x1e6)][_0x17292c(0x1f0)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x594653),await this[_0x17292c(0x1f3)][_0x17292c(0x1ef)]('services/data/'+constants_1[_0x17292c(0x1c4)]+_0x17292c(0x1f5)+_0x594653);}catch(_0x1ff2ee){this[_0x17292c(0x1e6)][_0x17292c(0x1eb)](_0x1ff2ee);throw new salesforce_error_1['SalesforceError'](_0x1ff2ee);}}async[a131_0x8fb9e8(0x1d0)](_0xb9ba66,_0x34b8f5=![]){const _0x5cd655=a131_0x8fb9e8;try{this[_0x5cd655(0x1e6)][_0x5cd655(0x1f0)](_0x5cd655(0x1cf),_0xb9ba66);const _0x4a4f81=await this[_0x5cd655(0x1f3)]['get'](_0x5cd655(0x1c5)+constants_1[_0x5cd655(0x1c4)]+_0x5cd655(0x1f5)+_0xb9ba66+_0x5cd655(0x1cc),{'responseType':_0x34b8f5?'arraybuffer':'text'})[_0x5cd655(0x1d1)](({data:_0x5dbe2f})=>_0x5dbe2f);return _0x4a4f81;}catch(_0x378ca6){this['logger']['error'](_0x378ca6);throw new salesforce_error_1['SalesforceError'](_0x378ca6);}}async['sendLog'](_0x49b9bf){const _0x5d2459=a131_0x8fb9e8;try{_0x49b9bf[_0x5d2459(0x1f1)](_0x4914e0=>this[_0x5d2459(0x1e6)][_0x5d2459(0x1f0)](_0x5d2459(0x1c6),_0x4914e0)),await this[_0x5d2459(0x1f3)][_0x5d2459(0x1da)](_0x5d2459(0x1fe)+this[_0x5d2459(0x1ec)]+_0x5d2459(0x1e4),{'messages':_0x49b9bf,'loggerId':this['loggerId']});}catch(_0x28571a){this['logger']['error'](_0x28571a);throw new internal_server_error_1['InternalServerError'](_0x28571a);}}async[a131_0x8fb9e8(0x1dd)](_0x3a5e3c,_0x226beb){const _0x427cd2=a131_0x8fb9e8;try{const {data:_0x3cd65d}=await this[_0x427cd2(0x1f3)]['post'](_0x427cd2(0x1c5)+constants_1[_0x427cd2(0x1c4)]+'/sobjects/'+_0x3a5e3c+'/',_0x226beb);return _0x3cd65d['id'];}catch(_0x350f5f){throw new salesforce_error_1[(_0x427cd2(0x1f8))](_0x350f5f);}}async[a131_0x8fb9e8(0x1f6)](_0x464792,_0x13837e,_0x2b4051){const _0x2ec88c=a131_0x8fb9e8;try{await this['request'][_0x2ec88c(0x1e9)](_0x2ec88c(0x1c5)+constants_1[_0x2ec88c(0x1c4)]+_0x2ec88c(0x1fc)+_0x464792+'/'+_0x13837e,_0x2b4051);}catch(_0x447e14){throw new salesforce_error_1['SalesforceError'](_0x447e14);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a131_0x8fb9e8(0x1d4)]({'transient':!![]}),__metadata(a131_0x8fb9e8(0x1e2),[salesforce_auth_service_1[a131_0x8fb9e8(0x1fb)]])],SalesforceService),exports[a131_0x8fb9e8(0x1f4)]=SalesforceService;