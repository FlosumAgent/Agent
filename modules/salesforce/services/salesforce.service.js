const a108_0x4f8db3=a108_0x5a4d;(function(_0x4c9072,_0xcf5def){const _0x593554=a108_0x5a4d,_0x538f13=_0x4c9072();while(!![]){try{const _0x5bf326=parseInt(_0x593554(0xfe))/0x1*(-parseInt(_0x593554(0x109))/0x2)+parseInt(_0x593554(0xfb))/0x3+parseInt(_0x593554(0xe2))/0x4*(parseInt(_0x593554(0xf0))/0x5)+parseInt(_0x593554(0x10b))/0x6+parseInt(_0x593554(0xf5))/0x7*(-parseInt(_0x593554(0x10c))/0x8)+parseInt(_0x593554(0xf8))/0x9*(-parseInt(_0x593554(0xe3))/0xa)+parseInt(_0x593554(0xed))/0xb;if(_0x5bf326===_0xcf5def)break;else _0x538f13['push'](_0x538f13['shift']());}catch(_0x38cc57){_0x538f13['push'](_0x538f13['shift']());}}}(a108_0x3aba,0xeefdd));const a108_0x230597=function(){let _0x5b8a33=!![];return function(_0x2950df,_0x162a0a){const _0x494fdd=_0x5b8a33?function(){const _0x1c7470=a108_0x5a4d;if(_0x162a0a){const _0x304bb5=_0x162a0a[_0x1c7470(0xee)](_0x2950df,arguments);return _0x162a0a=null,_0x304bb5;}}:function(){};return _0x5b8a33=![],_0x494fdd;};}(),a108_0x1874c9=a108_0x230597(this,function(){const _0x5cf97f=a108_0x5a4d;return a108_0x1874c9[_0x5cf97f(0x10a)]()[_0x5cf97f(0xe6)]('(((.+)+)+)+$')[_0x5cf97f(0x10a)]()[_0x5cf97f(0x101)](a108_0x1874c9)[_0x5cf97f(0xe6)]('(((.+)+)+)+$');});a108_0x1874c9();'use strict';var __decorate=this&&this[a108_0x4f8db3(0x111)]||function(_0x1cebee,_0x4534f9,_0x2c2ff0,_0x3b9af9){const _0x2c4183=a108_0x4f8db3;var _0x25a285=arguments[_0x2c4183(0xec)],_0x904583=_0x25a285<0x3?_0x4534f9:_0x3b9af9===null?_0x3b9af9=Object[_0x2c4183(0x107)](_0x4534f9,_0x2c2ff0):_0x3b9af9,_0x31af50;if(typeof Reflect==='object'&&typeof Reflect[_0x2c4183(0x102)]===_0x2c4183(0xe9))_0x904583=Reflect[_0x2c4183(0x102)](_0x1cebee,_0x4534f9,_0x2c2ff0,_0x3b9af9);else{for(var _0x6d9ca3=_0x1cebee[_0x2c4183(0xec)]-0x1;_0x6d9ca3>=0x0;_0x6d9ca3--)if(_0x31af50=_0x1cebee[_0x6d9ca3])_0x904583=(_0x25a285<0x3?_0x31af50(_0x904583):_0x25a285>0x3?_0x31af50(_0x4534f9,_0x2c2ff0,_0x904583):_0x31af50(_0x4534f9,_0x2c2ff0))||_0x904583;}return _0x25a285>0x3&&_0x904583&&Object[_0x2c4183(0x100)](_0x4534f9,_0x2c2ff0,_0x904583),_0x904583;},__metadata=this&&this[a108_0x4f8db3(0xea)]||function(_0x3925e1,_0x366d7c){const _0x3fa2b6=a108_0x4f8db3;if(typeof Reflect===_0x3fa2b6(0x116)&&typeof Reflect[_0x3fa2b6(0xda)]===_0x3fa2b6(0xe9))return Reflect[_0x3fa2b6(0xda)](_0x3925e1,_0x366d7c);};Object[a108_0x4f8db3(0x100)](exports,a108_0x4f8db3(0xf4),{'value':!![]}),exports['SalesforceService']=void 0x0;function a108_0x5a4d(_0x1b53f0,_0x2342ee){const _0x11eb4b=a108_0x3aba();return a108_0x5a4d=function(_0x1874c9,_0x230597){_0x1874c9=_0x1874c9-0xd8;let _0x3aba23=_0x11eb4b[_0x1874c9];return _0x3aba23;},a108_0x5a4d(_0x1b53f0,_0x2342ee);}const typedi_1=require('typedi'),core_1=require(a108_0x4f8db3(0xe1)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a108_0x4f8db3(0xf9)),constants_1=require(a108_0x4f8db3(0xdc)),not_found_error_1=require('../../../core/errors/not-found.error'),bad_request_error_1=require('../../../core/errors/bad-request.error'),create_request_util_1=require(a108_0x4f8db3(0xdb)),salesforce_logger_service_1=require(a108_0x4f8db3(0xd8)),logger=new core_1[(a108_0x4f8db3(0xf1))]('salesforce-service');let SalesforceService=class SalesforceService{constructor(_0xec3dcf){const _0xb18713=a108_0x4f8db3;this['request']=create_request_util_1[_0xb18713(0xe5)](_0xec3dcf),this[_0xb18713(0x113)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0xb18713(0x104);}['setLoggerId'](_0x272b9e){const _0x2d079e=a108_0x4f8db3;this[_0x2d079e(0x114)]=_0x272b9e,this['logger']=new salesforce_logger_service_1[(_0x2d079e(0xd9))](this);}['getLogger'](){const _0x359f20=a108_0x4f8db3;return this[_0x359f20(0xfc)];}async[a108_0x4f8db3(0xf6)](_0x1ff6e8){const _0x7acac8=a108_0x4f8db3;try{logger[_0x7acac8(0xff)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x1ff6e8[_0x7acac8(0xec)]);const _0xe10041=await this[_0x7acac8(0xfa)][_0x7acac8(0x115)](_0x7acac8(0x108)+this['namespace']+_0x7acac8(0xf7),{'componentIds':_0x1ff6e8,'loggerId':this['loggerId']})[_0x7acac8(0x110)](({data:_0x10c62d})=>_0x10c62d);return _0xe10041;}catch(_0x120927){throw new bad_request_error_1[(_0x7acac8(0xe8))](_0x120927);}}async[a108_0x4f8db3(0x10e)](_0x5c0e94){const _0x28d876=a108_0x4f8db3;try{logger[_0x28d876(0xff)](_0x28d876(0xeb),_0x5c0e94),await this['request'][_0x28d876(0x10d)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x5c0e94);}catch(_0x5e20ee){throw new not_found_error_1[(_0x28d876(0xf2))](_0x5e20ee);}}async[a108_0x4f8db3(0x105)](_0x27389f){const _0x595d24=a108_0x4f8db3;try{logger[_0x595d24(0xff)](_0x595d24(0xe7),_0x27389f);const _0x1dd109=await this[_0x595d24(0xfa)][_0x595d24(0xef)](_0x595d24(0xde)+constants_1[_0x595d24(0xe0)]+_0x595d24(0xf3)+_0x27389f+'/body')[_0x595d24(0x110)](({data:_0x458e19})=>_0x458e19);return _0x1dd109;}catch(_0x591ebe){throw new not_found_error_1['NotFoundError'](_0x591ebe);}}async[a108_0x4f8db3(0xdd)](_0x43fde5){const _0x4db33f=a108_0x4f8db3;try{_0x43fde5['forEach'](_0x5aba8c=>logger[_0x4db33f(0xff)]('[message]\x20%s',_0x5aba8c)),await this['request'][_0x4db33f(0x115)](_0x4db33f(0x108)+this['namespace']+'/logger',{'message':_0x43fde5[_0x4db33f(0x106)]('\x0a'),'loggerId':this[_0x4db33f(0x114)]});}catch(_0x48ffa5){throw new internal_server_error_1['InternalServerError'](_0x48ffa5);}}async[a108_0x4f8db3(0xdf)](_0x4d800e,_0x27e3d6,_0x5c8a25){const _0xba77e7=a108_0x4f8db3;try{await this[_0xba77e7(0xfa)][_0xba77e7(0xe4)]('services/data/'+constants_1[_0xba77e7(0xe0)]+_0xba77e7(0x112)+_0x4d800e+'/'+_0x27e3d6,_0x5c8a25);}catch(_0x4c5822){throw new internal_server_error_1[(_0xba77e7(0x10f))](_0x4c5822);}}};SalesforceService=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a108_0x4f8db3(0xfd),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a108_0x4f8db3(0x103)]=SalesforceService;function a108_0x3aba(){const _0x2d69c1=['function','__metadata','delete\x20attachment\x20%s\x20from\x20salesforce','length','30669628VZrcWC','apply','get','15KWYBCX','Logger','NotFoundError','/sobjects/Attachment/','__esModule','7cnjwxj','retrieveComponents','/attachments','44424lmoTGj','./salesforce-auth.service','request','940797jsUrAe','logger','design:paramtypes','27561bJHWom','log','defineProperty','constructor','decorate','SalesforceService','/flosum_git','retrieveAttachment','join','getOwnPropertyDescriptor','services/apexrest','72uJuSMk','toString','60780uHCVJx','12216728DJkmIj','delete','deleteAttachment','InternalServerError','then','__decorate','/sobjects/','namespace','loggerId','post','object','./salesforce-logger.service','SalesforceLogger','metadata','../utils/create-request.util','../../../constants','sendLog','services/data/','patchObject','SALESFORCE_API_VERSION','../../../core','1778708clMgkq','1920xsHUOx','patch','createSalesforceRequest','search','retrieve\x20attachment\x20%s\x20from\x20salesforce','BadRequestError'];a108_0x3aba=function(){return _0x2d69c1;};return a108_0x3aba();}