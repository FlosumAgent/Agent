const a111_0x4654=['typedi','text','__esModule','SalesforceError','/sobjects/','patchObject','Logger','internalLogger','1TuEQAB','getLogger','679393qxJbtN','350AsqhmH','229xSRUxJ','then','__decorate','defineProperty','/logger','../utils/create-request.util','290963emDGTI','return\x20/\x22\x20+\x20this\x20+\x20\x22/','createSalesforceRequest','2017HepnTJ','./salesforce-auth.service','/body','get','retrieve\x20components\x20\x20%d\x20from\x20salesforce','loggerId','arraybuffer','decorate','namespace','408492bVwJSe','318855OmNoGP','/sobjects/Attachment/','object','Service','../../../constants','deleteAttachment','IGNORE_FLOSUM_GIT_NAMESPACE','logger','patch','error','post','services/apexrest','[message]\x20%s','/flosum_git','length','apply','SALESFORCE_API_VERSION','metadata','SalesforceLogger','request','SalesforceService','services/data/','design:paramtypes','1225ilxKTg','test','log','function','../../../core','sendLog','171548zRNCQT','forEach','retrieveAttachment','delete','../errors/salesforce.error','SalesforceAuthService','constructor'];const a111_0x42f7aa=a111_0x2f1e;(function(_0x4c4780,_0x1cd78f){const _0x36ab05=a111_0x2f1e;while(!![]){try{const _0x4e59a0=-parseInt(_0x36ab05(0x146))*parseInt(_0x36ab05(0x173))+-parseInt(_0x36ab05(0x15e))*-parseInt(_0x36ab05(0x176))+-parseInt(_0x36ab05(0x13a))+-parseInt(_0x36ab05(0x147))+parseInt(_0x36ab05(0x175))+-parseInt(_0x36ab05(0x177))*-parseInt(_0x36ab05(0x13d))+-parseInt(_0x36ab05(0x164));if(_0x4e59a0===_0x1cd78f)break;else _0x4c4780['push'](_0x4c4780['shift']());}catch(_0xdee09a){_0x4c4780['push'](_0x4c4780['shift']());}}}(a111_0x4654,0x5cd12));const a111_0x1b264d=function(){let _0x4de5a5=!![];return function(_0x7265f2,_0x480721){const _0x1b08d6=_0x4de5a5?function(){const _0x1b1c07=a111_0x2f1e;if(_0x480721){const _0x3f2bd2=_0x480721[_0x1b1c07(0x156)](_0x7265f2,arguments);return _0x480721=null,_0x3f2bd2;}}:function(){};return _0x4de5a5=![],_0x1b08d6;};}(),a111_0x3a0419=a111_0x1b264d(this,function(){const _0x54995c=function(){const _0x39bf01=a111_0x2f1e,_0xd6b70d=_0x54995c[_0x39bf01(0x16a)](_0x39bf01(0x13b))()[_0x39bf01(0x16a)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0xd6b70d[_0x39bf01(0x15f)](a111_0x3a0419);};return _0x54995c();});a111_0x3a0419();'use strict';var __decorate=this&&this[a111_0x42f7aa(0x179)]||function(_0x55b746,_0x41b782,_0x5eadfe,_0x1c0b84){const _0x306180=a111_0x42f7aa;var _0x1f3b69=arguments[_0x306180(0x155)],_0x1c7bc0=_0x1f3b69<0x3?_0x41b782:_0x1c0b84===null?_0x1c0b84=Object['getOwnPropertyDescriptor'](_0x41b782,_0x5eadfe):_0x1c0b84,_0x3cb35e;if(typeof Reflect===_0x306180(0x149)&&typeof Reflect[_0x306180(0x144)]===_0x306180(0x161))_0x1c7bc0=Reflect[_0x306180(0x144)](_0x55b746,_0x41b782,_0x5eadfe,_0x1c0b84);else{for(var _0x1d8cb8=_0x55b746[_0x306180(0x155)]-0x1;_0x1d8cb8>=0x0;_0x1d8cb8--)if(_0x3cb35e=_0x55b746[_0x1d8cb8])_0x1c7bc0=(_0x1f3b69<0x3?_0x3cb35e(_0x1c7bc0):_0x1f3b69>0x3?_0x3cb35e(_0x41b782,_0x5eadfe,_0x1c7bc0):_0x3cb35e(_0x41b782,_0x5eadfe))||_0x1c7bc0;}return _0x1f3b69>0x3&&_0x1c7bc0&&Object['defineProperty'](_0x41b782,_0x5eadfe,_0x1c7bc0),_0x1c7bc0;},__metadata=this&&this['__metadata']||function(_0x115f5e,_0x282bee){const _0x176e81=a111_0x42f7aa;if(typeof Reflect===_0x176e81(0x149)&&typeof Reflect['metadata']===_0x176e81(0x161))return Reflect[_0x176e81(0x158)](_0x115f5e,_0x282bee);},SalesforceService_1;Object[a111_0x42f7aa(0x137)](exports,a111_0x42f7aa(0x16d),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a111_0x42f7aa(0x16b)),core_1=require(a111_0x42f7aa(0x162)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a111_0x42f7aa(0x13e)),constants_1=require(a111_0x42f7aa(0x14b)),create_request_util_1=require(a111_0x42f7aa(0x139)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a111_0x42f7aa(0x168));function a111_0x2f1e(_0x2b662e,_0xf42de5){return a111_0x2f1e=function(_0x48f16f,_0x3a0419){_0x48f16f=_0x48f16f-0x137;let _0x1b264d=a111_0x4654[_0x48f16f];return _0x1b264d;},a111_0x2f1e(_0x2b662e,_0xf42de5);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x3bbc09){const _0x4e0e00=a111_0x42f7aa;this[_0x4e0e00(0x14e)]=new core_1[(_0x4e0e00(0x171))](SalesforceService_1['name']),this[_0x4e0e00(0x15a)]=create_request_util_1[_0x4e0e00(0x13c)](_0x3bbc09),this[_0x4e0e00(0x145)]=constants_1[_0x4e0e00(0x14d)]?'':_0x4e0e00(0x154);}['setLoggerId'](_0x11e302){const _0x4f7839=a111_0x42f7aa;this['loggerId']=_0x11e302,this[_0x4f7839(0x172)]=new salesforce_logger_service_1[(_0x4f7839(0x159))](this);}[a111_0x42f7aa(0x174)](){const _0x2cee8d=a111_0x42f7aa;return this[_0x2cee8d(0x172)];}async['retrieveComponents'](_0x2d2174){const _0x1f93e1=a111_0x42f7aa;try{this[_0x1f93e1(0x14e)][_0x1f93e1(0x160)](_0x1f93e1(0x141),_0x2d2174[_0x1f93e1(0x155)]);const _0x468bc1=await this['request'][_0x1f93e1(0x151)](_0x1f93e1(0x152)+this[_0x1f93e1(0x145)]+'/attachments',{'componentIds':_0x2d2174,'loggerId':this[_0x1f93e1(0x142)]})[_0x1f93e1(0x178)](({data:_0x43caee})=>_0x43caee);return _0x468bc1;}catch(_0x2bbd5d){this[_0x1f93e1(0x14e)]['error'](_0x2bbd5d);throw new salesforce_error_1[(_0x1f93e1(0x16e))](_0x2bbd5d);}}async[a111_0x42f7aa(0x14c)](_0x30b226){const _0x48764c=a111_0x42f7aa;try{this[_0x48764c(0x14e)][_0x48764c(0x160)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x30b226),await this[_0x48764c(0x15a)][_0x48764c(0x167)](_0x48764c(0x15c)+constants_1[_0x48764c(0x157)]+_0x48764c(0x148)+_0x30b226);}catch(_0x2d7f65){this['logger']['error'](_0x2d7f65);throw new salesforce_error_1[(_0x48764c(0x16e))](_0x2d7f65);}}async[a111_0x42f7aa(0x166)](_0x167ce3,_0x307bfb=![]){const _0x3120e3=a111_0x42f7aa;try{this['logger'][_0x3120e3(0x160)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x167ce3);const _0x5c3cf7=await this[_0x3120e3(0x15a)][_0x3120e3(0x140)](_0x3120e3(0x15c)+constants_1[_0x3120e3(0x157)]+_0x3120e3(0x148)+_0x167ce3+_0x3120e3(0x13f),{'responseType':_0x307bfb?_0x3120e3(0x143):_0x3120e3(0x16c)})[_0x3120e3(0x178)](({data:_0x3da24e})=>_0x3da24e);return _0x5c3cf7;}catch(_0x525493){this[_0x3120e3(0x14e)][_0x3120e3(0x150)](_0x525493);throw new salesforce_error_1[(_0x3120e3(0x16e))](_0x525493);}}async[a111_0x42f7aa(0x163)](_0x95e13e){const _0x4c4e30=a111_0x42f7aa;try{_0x95e13e[_0x4c4e30(0x165)](_0x3e7ad2=>this[_0x4c4e30(0x14e)][_0x4c4e30(0x160)](_0x4c4e30(0x153),_0x3e7ad2)),await this[_0x4c4e30(0x15a)][_0x4c4e30(0x151)](_0x4c4e30(0x152)+this['namespace']+_0x4c4e30(0x138),{'messages':_0x95e13e,'loggerId':this[_0x4c4e30(0x142)]});}catch(_0x51cc18){this[_0x4c4e30(0x14e)]['error'](_0x51cc18);throw new internal_server_error_1['InternalServerError'](_0x51cc18);}}async[a111_0x42f7aa(0x170)](_0x582677,_0x44f619,_0x74d353){const _0x1be885=a111_0x42f7aa;try{await this[_0x1be885(0x15a)][_0x1be885(0x14f)](_0x1be885(0x15c)+constants_1[_0x1be885(0x157)]+_0x1be885(0x16f)+_0x582677+'/'+_0x44f619,_0x74d353);}catch(_0x25e766){throw new salesforce_error_1[(_0x1be885(0x16e))](_0x25e766);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a111_0x42f7aa(0x14a)]({'transient':!![]}),__metadata(a111_0x42f7aa(0x15d),[salesforce_auth_service_1[a111_0x42f7aa(0x169)]])],SalesforceService),exports[a111_0x42f7aa(0x15b)]=SalesforceService;