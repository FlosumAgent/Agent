const a130_0x26b7b4=a130_0x3f7d;(function(_0x4e41d9,_0x2db94b){const _0xd16938=a130_0x3f7d,_0x478ab0=_0x4e41d9();while(!![]){try{const _0x48af6b=parseInt(_0xd16938(0x179))/0x1*(parseInt(_0xd16938(0x181))/0x2)+parseInt(_0xd16938(0x15c))/0x3+parseInt(_0xd16938(0x180))/0x4*(-parseInt(_0xd16938(0x150))/0x5)+-parseInt(_0xd16938(0x14d))/0x6+parseInt(_0xd16938(0x15e))/0x7+-parseInt(_0xd16938(0x14a))/0x8+parseInt(_0xd16938(0x160))/0x9;if(_0x48af6b===_0x2db94b)break;else _0x478ab0['push'](_0x478ab0['shift']());}catch(_0x54ac0a){_0x478ab0['push'](_0x478ab0['shift']());}}}(a130_0x5202,0xc7be2));const a130_0x34532b=function(){let _0x8db602=!![];return function(_0x345da6,_0x29fb89){const _0x5dd854=_0x8db602?function(){if(_0x29fb89){const _0x2e526d=_0x29fb89['apply'](_0x345da6,arguments);return _0x29fb89=null,_0x2e526d;}}:function(){};return _0x8db602=![],_0x5dd854;};}(),a130_0x21b85f=a130_0x34532b(this,function(){const _0x386749=a130_0x3f7d;return a130_0x21b85f[_0x386749(0x172)]()[_0x386749(0x15a)]('(((.+)+)+)+$')[_0x386749(0x172)]()[_0x386749(0x16a)](a130_0x21b85f)[_0x386749(0x15a)]('(((.+)+)+)+$');});a130_0x21b85f();'use strict';var __decorate=this&&this[a130_0x26b7b4(0x17a)]||function(_0x51eace,_0x59d208,_0x3ef15c,_0x7fea76){const _0x2c66de=a130_0x26b7b4;var _0x19b753=arguments[_0x2c66de(0x16c)],_0x5b7cf9=_0x19b753<0x3?_0x59d208:_0x7fea76===null?_0x7fea76=Object[_0x2c66de(0x15d)](_0x59d208,_0x3ef15c):_0x7fea76,_0x5ce995;if(typeof Reflect===_0x2c66de(0x173)&&typeof Reflect[_0x2c66de(0x16f)]==='function')_0x5b7cf9=Reflect[_0x2c66de(0x16f)](_0x51eace,_0x59d208,_0x3ef15c,_0x7fea76);else{for(var _0x38b8ec=_0x51eace[_0x2c66de(0x16c)]-0x1;_0x38b8ec>=0x0;_0x38b8ec--)if(_0x5ce995=_0x51eace[_0x38b8ec])_0x5b7cf9=(_0x19b753<0x3?_0x5ce995(_0x5b7cf9):_0x19b753>0x3?_0x5ce995(_0x59d208,_0x3ef15c,_0x5b7cf9):_0x5ce995(_0x59d208,_0x3ef15c))||_0x5b7cf9;}return _0x19b753>0x3&&_0x5b7cf9&&Object[_0x2c66de(0x16b)](_0x59d208,_0x3ef15c,_0x5b7cf9),_0x5b7cf9;},__metadata=this&&this[a130_0x26b7b4(0x152)]||function(_0x56037e,_0x1076dc){const _0x559e53=a130_0x26b7b4;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x559e53(0x166))return Reflect['metadata'](_0x56037e,_0x1076dc);},SalesforceService_1;Object[a130_0x26b7b4(0x16b)](exports,a130_0x26b7b4(0x176),{'value':!![]}),exports[a130_0x26b7b4(0x170)]=void 0x0;const typedi_1=require(a130_0x26b7b4(0x15f)),core_1=require('../../../core'),internal_server_error_1=require(a130_0x26b7b4(0x167)),salesforce_auth_service_1=require(a130_0x26b7b4(0x161)),constants_1=require('../../../constants'),create_request_util_1=require(a130_0x26b7b4(0x182)),salesforce_logger_service_1=require(a130_0x26b7b4(0x154)),salesforce_error_1=require('../errors/salesforce.error');function a130_0x3f7d(_0x563791,_0x287340){const _0x3601c8=a130_0x5202();return a130_0x3f7d=function(_0x21b85f,_0x34532b){_0x21b85f=_0x21b85f-0x148;let _0x5202ec=_0x3601c8[_0x21b85f];return _0x5202ec;},a130_0x3f7d(_0x563791,_0x287340);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x45376b){const _0x4521bb=a130_0x26b7b4;this[_0x4521bb(0x162)]=new core_1[(_0x4521bb(0x189))](SalesforceService_1[_0x4521bb(0x168)]),this['request']=create_request_util_1[_0x4521bb(0x186)](_0x45376b),this['namespace']=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x4521bb(0x183);}[a130_0x26b7b4(0x164)](_0x23c00b){const _0x2df7b7=a130_0x26b7b4;this['loggerId']=_0x23c00b,this[_0x2df7b7(0x187)]=new salesforce_logger_service_1[(_0x2df7b7(0x165))](this);}[a130_0x26b7b4(0x163)](){return this['internalLogger'];}async[a130_0x26b7b4(0x14b)](_0x3abee2){const _0x84c861=a130_0x26b7b4;try{this[_0x84c861(0x162)][_0x84c861(0x188)](_0x84c861(0x151),_0x3abee2[_0x84c861(0x16c)]);const _0xce98d1=await this[_0x84c861(0x14c)][_0x84c861(0x169)](_0x84c861(0x153)+this[_0x84c861(0x149)]+'/attachments',{'componentIds':_0x3abee2,'loggerId':this[_0x84c861(0x174)]})[_0x84c861(0x17c)](({data:_0x44414a})=>_0x44414a);return _0xce98d1;}catch(_0x2e5653){this[_0x84c861(0x162)][_0x84c861(0x17e)](_0x2e5653);throw new salesforce_error_1[(_0x84c861(0x178))](_0x2e5653);}}async['deleteAttachment'](_0x4204e6){const _0x5cab0e=a130_0x26b7b4;try{this['logger'][_0x5cab0e(0x188)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x4204e6),await this['request'][_0x5cab0e(0x17b)](_0x5cab0e(0x16d)+constants_1[_0x5cab0e(0x157)]+'/sobjects/Attachment/'+_0x4204e6);}catch(_0x518a46){this[_0x5cab0e(0x162)][_0x5cab0e(0x17e)](_0x518a46);throw new salesforce_error_1[(_0x5cab0e(0x178))](_0x518a46);}}async['retrieveAttachment'](_0x237d53,_0x1be1de=![]){const _0x38df61=a130_0x26b7b4;try{this[_0x38df61(0x162)][_0x38df61(0x188)](_0x38df61(0x17d),_0x237d53);const _0x55d19e=await this[_0x38df61(0x14c)][_0x38df61(0x15b)](_0x38df61(0x16d)+constants_1[_0x38df61(0x157)]+_0x38df61(0x14e)+_0x237d53+_0x38df61(0x171),{'responseType':_0x1be1de?_0x38df61(0x155):_0x38df61(0x177)})['then'](({data:_0xec5d57})=>_0xec5d57);return _0x55d19e;}catch(_0xbf524d){this[_0x38df61(0x162)][_0x38df61(0x17e)](_0xbf524d);throw new salesforce_error_1[(_0x38df61(0x178))](_0xbf524d);}}async['sendLog'](_0xf2a342){const _0x1d9260=a130_0x26b7b4;try{_0xf2a342[_0x1d9260(0x148)](_0x59ae1f=>this[_0x1d9260(0x162)]['log'](_0x1d9260(0x14f),_0x59ae1f)),await this['request']['post'](_0x1d9260(0x153)+this[_0x1d9260(0x149)]+_0x1d9260(0x156),{'messages':_0xf2a342,'loggerId':this[_0x1d9260(0x174)]});}catch(_0x1ad9e1){this['logger'][_0x1d9260(0x17e)](_0x1ad9e1);throw new internal_server_error_1[(_0x1d9260(0x159))](_0x1ad9e1);}}async['createObject'](_0x39ea6f,_0x35a6e9){const _0x48baf1=a130_0x26b7b4;try{const {data:_0x44a4d5}=await this['request']['post'](_0x48baf1(0x16d)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x39ea6f+'/',_0x35a6e9);return _0x44a4d5['id'];}catch(_0x3d345d){throw new salesforce_error_1[(_0x48baf1(0x178))](_0x3d345d);}}async[a130_0x26b7b4(0x175)](_0x344306,_0x179071,_0x2976a9){const _0xb01a3d=a130_0x26b7b4;try{await this[_0xb01a3d(0x14c)][_0xb01a3d(0x158)](_0xb01a3d(0x16d)+constants_1[_0xb01a3d(0x157)]+_0xb01a3d(0x16e)+_0x344306+'/'+_0x179071,_0x2976a9);}catch(_0x7f9cb5){throw new salesforce_error_1[(_0xb01a3d(0x178))](_0x7f9cb5);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a130_0x26b7b4(0x185)]({'transient':!![]}),__metadata(a130_0x26b7b4(0x184),[salesforce_auth_service_1[a130_0x26b7b4(0x17f)]])],SalesforceService),exports[a130_0x26b7b4(0x170)]=SalesforceService;function a130_0x5202(){const _0x307141=['defineProperty','length','services/data/','/sobjects/','decorate','SalesforceService','/body','toString','object','loggerId','patchObject','__esModule','text','SalesforceError','275813MXTDjR','__decorate','delete','then','retrieve\x20attachment\x20%s\x20from\x20salesforce','error','SalesforceAuthService','266908dMkOsA','4VSTLYJ','../utils/create-request.util','/flosum_git','design:paramtypes','Service','createSalesforceRequest','internalLogger','log','Logger','forEach','namespace','6236376aeMksT','retrieveComponents','request','4894896EJDoxK','/sobjects/Attachment/','[message]\x20%s','105ImfRhK','retrieve\x20components\x20\x20%d\x20from\x20salesforce','__metadata','services/apexrest','./salesforce-logger.service','arraybuffer','/logger','SALESFORCE_API_VERSION','patch','InternalServerError','search','get','3360663tykBwj','getOwnPropertyDescriptor','2484643YHshXZ','typedi','16091820Lknadd','./salesforce-auth.service','logger','getLogger','setLoggerId','SalesforceLogger','function','../../../core/errors/internal-server.error','name','post','constructor'];a130_0x5202=function(){return _0x307141;};return a130_0x5202();}