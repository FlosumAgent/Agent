const a113_0x2a3302=a113_0x4f48;function a113_0x14a3(){const _0x3d1cc5=['./salesforce-logger.service','SALESFORCE_API_VERSION','internalLogger','8fEJUGB','../../../core/errors/internal-server.error','21RoYTbk','apply','namespace','sendLog','30020SeVhHi','delete\x20attachment\x20%s\x20from\x20salesforce','38951198OosqXs','search','then','log','10Xgwvcc','patch','1093127adpahH','/sobjects/Attachment/','../utils/create-request.util','__esModule','IGNORE_FLOSUM_GIT_NAMESPACE','90494NIWAND','/logger','length','SalesforceError','name','/sobjects/','logger','/attachments','deleteAttachment','5666448PrWTwC','defineProperty','SalesforceAuthService','object','[message]\x20%s','delete','typedi','6406164eMWbqn','retrieve\x20components\x20\x20%d\x20from\x20salesforce','toString','error','constructor','post','/body','design:paramtypes','function','retrieveAttachment','request','loggerId','455UYoiFb','SalesforceService','../../../constants','createSalesforceRequest','Logger','text','7401247Caquhi','getOwnPropertyDescriptor','../errors/salesforce.error','__metadata','/flosum_git','(((.+)+)+)+$','decorate','services/data/'];a113_0x14a3=function(){return _0x3d1cc5;};return a113_0x14a3();}(function(_0x586869,_0x1b1c3f){const _0x26b715=a113_0x4f48,_0x4e3d14=_0x586869();while(!![]){try{const _0x5cf0eb=parseInt(_0x26b715(0xfa))/0x1+-parseInt(_0x26b715(0xff))/0x2*(parseInt(_0x26b715(0xee))/0x3)+-parseInt(_0x26b715(0xf2))/0x4*(-parseInt(_0x26b715(0x11b))/0x5)+parseInt(_0x26b715(0x108))/0x6+parseInt(_0x26b715(0x121))/0x7+parseInt(_0x26b715(0xec))/0x8*(parseInt(_0x26b715(0x10f))/0x9)+parseInt(_0x26b715(0xf8))/0xa*(-parseInt(_0x26b715(0xf4))/0xb);if(_0x5cf0eb===_0x1b1c3f)break;else _0x4e3d14['push'](_0x4e3d14['shift']());}catch(_0x33008f){_0x4e3d14['push'](_0x4e3d14['shift']());}}}(a113_0x14a3,0x9a434));const a113_0x1a0551=function(){let _0x426e3f=!![];return function(_0x42c998,_0x1ef3da){const _0x5a9297=_0x426e3f?function(){const _0x38f6db=a113_0x4f48;if(_0x1ef3da){const _0x53d9f3=_0x1ef3da[_0x38f6db(0xef)](_0x42c998,arguments);return _0x1ef3da=null,_0x53d9f3;}}:function(){};return _0x426e3f=![],_0x5a9297;};}(),a113_0x1dae80=a113_0x1a0551(this,function(){const _0x4414ba=a113_0x4f48;return a113_0x1dae80[_0x4414ba(0x111)]()[_0x4414ba(0xf5)](_0x4414ba(0xe6))[_0x4414ba(0x111)]()[_0x4414ba(0x113)](a113_0x1dae80)[_0x4414ba(0xf5)](_0x4414ba(0xe6));});a113_0x1dae80();function a113_0x4f48(_0x4a1a83,_0x5bccfb){const _0x1e52eb=a113_0x14a3();return a113_0x4f48=function(_0x1dae80,_0x1a0551){_0x1dae80=_0x1dae80-0xe4;let _0x14a3b8=_0x1e52eb[_0x1dae80];return _0x14a3b8;},a113_0x4f48(_0x4a1a83,_0x5bccfb);}'use strict';var __decorate=this&&this['__decorate']||function(_0x4d70d8,_0x3172c8,_0x576ddb,_0x2691f2){const _0x189bea=a113_0x4f48;var _0x58a34d=arguments[_0x189bea(0x101)],_0x2fdaac=_0x58a34d<0x3?_0x3172c8:_0x2691f2===null?_0x2691f2=Object[_0x189bea(0x122)](_0x3172c8,_0x576ddb):_0x2691f2,_0x16d6e2;if(typeof Reflect===_0x189bea(0x10b)&&typeof Reflect[_0x189bea(0xe7)]===_0x189bea(0x117))_0x2fdaac=Reflect[_0x189bea(0xe7)](_0x4d70d8,_0x3172c8,_0x576ddb,_0x2691f2);else{for(var _0x11ecfe=_0x4d70d8[_0x189bea(0x101)]-0x1;_0x11ecfe>=0x0;_0x11ecfe--)if(_0x16d6e2=_0x4d70d8[_0x11ecfe])_0x2fdaac=(_0x58a34d<0x3?_0x16d6e2(_0x2fdaac):_0x58a34d>0x3?_0x16d6e2(_0x3172c8,_0x576ddb,_0x2fdaac):_0x16d6e2(_0x3172c8,_0x576ddb))||_0x2fdaac;}return _0x58a34d>0x3&&_0x2fdaac&&Object[_0x189bea(0x109)](_0x3172c8,_0x576ddb,_0x2fdaac),_0x2fdaac;},__metadata=this&&this[a113_0x2a3302(0xe4)]||function(_0x5323c0,_0x3b5f0c){const _0x4429c0=a113_0x2a3302;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x4429c0(0x117))return Reflect['metadata'](_0x5323c0,_0x3b5f0c);},SalesforceService_1;Object[a113_0x2a3302(0x109)](exports,a113_0x2a3302(0xfd),{'value':!![]}),exports[a113_0x2a3302(0x11c)]=void 0x0;const typedi_1=require(a113_0x2a3302(0x10e)),core_1=require('../../../core'),internal_server_error_1=require(a113_0x2a3302(0xed)),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a113_0x2a3302(0x11d)),create_request_util_1=require(a113_0x2a3302(0xfc)),salesforce_logger_service_1=require(a113_0x2a3302(0xe9)),salesforce_error_1=require(a113_0x2a3302(0x123));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x9ede1){const _0x1cb679=a113_0x2a3302;this['logger']=new core_1[(_0x1cb679(0x11f))](SalesforceService_1[_0x1cb679(0x103)]),this['request']=(0x0,create_request_util_1[_0x1cb679(0x11e)])(_0x9ede1),this[_0x1cb679(0xf0)]=constants_1[_0x1cb679(0xfe)]?'':_0x1cb679(0xe5);}['setLoggerId'](_0x9cf5ac){this['loggerId']=_0x9cf5ac,this['internalLogger']=new salesforce_logger_service_1['SalesforceLogger'](this);}['getLogger'](){const _0x5d8dcc=a113_0x2a3302;return this[_0x5d8dcc(0xeb)];}async['retrieveComponents'](_0xba211a){const _0x2f01a3=a113_0x2a3302;try{this['logger']['log'](_0x2f01a3(0x110),_0xba211a[_0x2f01a3(0x101)]);const _0x381dc4=await this['request'][_0x2f01a3(0x114)]('services/apexrest'+this[_0x2f01a3(0xf0)]+_0x2f01a3(0x106),{'componentIds':_0xba211a,'loggerId':this[_0x2f01a3(0x11a)]})[_0x2f01a3(0xf6)](({data:_0x331a76})=>_0x331a76);return _0x381dc4;}catch(_0x4b0f7d){this[_0x2f01a3(0x105)][_0x2f01a3(0x112)](_0x4b0f7d);throw new salesforce_error_1[(_0x2f01a3(0x102))](_0x4b0f7d);}}async[a113_0x2a3302(0x107)](_0x4defd6){const _0x4d5079=a113_0x2a3302;try{this[_0x4d5079(0x105)][_0x4d5079(0xf7)](_0x4d5079(0xf3),_0x4defd6),await this['request'][_0x4d5079(0x10d)](_0x4d5079(0xe8)+constants_1[_0x4d5079(0xea)]+_0x4d5079(0xfb)+_0x4defd6);}catch(_0x19f853){this[_0x4d5079(0x105)][_0x4d5079(0x112)](_0x19f853);throw new salesforce_error_1[(_0x4d5079(0x102))](_0x19f853);}}async[a113_0x2a3302(0x118)](_0x51fc27,_0x197adc=![]){const _0x8ae8=a113_0x2a3302;try{this[_0x8ae8(0x105)][_0x8ae8(0xf7)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x51fc27);const _0x2e42fd=await this['request']['get'](_0x8ae8(0xe8)+constants_1['SALESFORCE_API_VERSION']+_0x8ae8(0xfb)+_0x51fc27+_0x8ae8(0x115),{'responseType':_0x197adc?'arraybuffer':_0x8ae8(0x120)})['then'](({data:_0x45bdea})=>_0x45bdea);return _0x2e42fd;}catch(_0x5e3bc5){this[_0x8ae8(0x105)][_0x8ae8(0x112)](_0x5e3bc5);throw new salesforce_error_1[(_0x8ae8(0x102))](_0x5e3bc5);}}async[a113_0x2a3302(0xf1)](_0x46ab45){const _0x1f00dd=a113_0x2a3302;try{_0x46ab45['forEach'](_0x43a207=>this[_0x1f00dd(0x105)][_0x1f00dd(0xf7)](_0x1f00dd(0x10c),_0x43a207)),await this[_0x1f00dd(0x119)][_0x1f00dd(0x114)]('services/apexrest'+this[_0x1f00dd(0xf0)]+_0x1f00dd(0x100),{'messages':_0x46ab45,'loggerId':this[_0x1f00dd(0x11a)]});}catch(_0x14dbeb){this['logger'][_0x1f00dd(0x112)](_0x14dbeb);throw new internal_server_error_1['InternalServerError'](_0x14dbeb);}}async['createObject'](_0x5c6011,_0x3eb3cb){const _0x280e6e=a113_0x2a3302;try{const {data:_0x1c0028}=await this[_0x280e6e(0x119)][_0x280e6e(0x114)](_0x280e6e(0xe8)+constants_1['SALESFORCE_API_VERSION']+_0x280e6e(0x104)+_0x5c6011+'/',_0x3eb3cb);return _0x1c0028['id'];}catch(_0x2f0590){throw new salesforce_error_1[(_0x280e6e(0x102))](_0x2f0590);}}async['patchObject'](_0x6eea15,_0x475d4d,_0x4a73c3){const _0x2cfda6=a113_0x2a3302;try{await this['request'][_0x2cfda6(0xf9)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x2cfda6(0x104)+_0x6eea15+'/'+_0x475d4d,_0x4a73c3);}catch(_0x3c995f){throw new salesforce_error_1['SalesforceError'](_0x3c995f);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a113_0x2a3302(0x116),[salesforce_auth_service_1[a113_0x2a3302(0x10a)]])],SalesforceService),exports[a113_0x2a3302(0x11c)]=SalesforceService;