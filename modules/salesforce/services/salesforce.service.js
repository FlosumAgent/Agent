const a113_0x390091=a113_0x523b;(function(_0x5b3ee6,_0x15c271){const _0x91b196=a113_0x523b,_0x5268d7=_0x5b3ee6();while(!![]){try{const _0x584113=-parseInt(_0x91b196(0xca))/0x1*(-parseInt(_0x91b196(0xe8))/0x2)+parseInt(_0x91b196(0xfc))/0x3+parseInt(_0x91b196(0xd1))/0x4*(parseInt(_0x91b196(0xeb))/0x5)+-parseInt(_0x91b196(0xdb))/0x6*(-parseInt(_0x91b196(0xdf))/0x7)+-parseInt(_0x91b196(0x10f))/0x8*(parseInt(_0x91b196(0xec))/0x9)+parseInt(_0x91b196(0xf4))/0xa+-parseInt(_0x91b196(0xef))/0xb*(parseInt(_0x91b196(0x10b))/0xc);if(_0x584113===_0x15c271)break;else _0x5268d7['push'](_0x5268d7['shift']());}catch(_0x100f95){_0x5268d7['push'](_0x5268d7['shift']());}}}(a113_0x5e61,0x4d690));const a113_0x22756e=function(){let _0x255004=!![];return function(_0x4e27ba,_0x261f55){const _0x2efe15=_0x255004?function(){const _0x14a8c9=a113_0x523b;if(_0x261f55){const _0x150024=_0x261f55[_0x14a8c9(0x105)](_0x4e27ba,arguments);return _0x261f55=null,_0x150024;}}:function(){};return _0x255004=![],_0x2efe15;};}(),a113_0x43392d=a113_0x22756e(this,function(){const _0x15318a=a113_0x523b;return a113_0x43392d[_0x15318a(0xd0)]()[_0x15318a(0xe0)](_0x15318a(0xf2))[_0x15318a(0xd0)]()[_0x15318a(0xfb)](a113_0x43392d)[_0x15318a(0xe0)](_0x15318a(0xf2));});a113_0x43392d();'use strict';function a113_0x523b(_0x425ebf,_0x1e8910){const _0x6add08=a113_0x5e61();return a113_0x523b=function(_0x43392d,_0x22756e){_0x43392d=_0x43392d-0xc9;let _0x5e6170=_0x6add08[_0x43392d];return _0x5e6170;},a113_0x523b(_0x425ebf,_0x1e8910);}var __decorate=this&&this[a113_0x390091(0xe9)]||function(_0x472141,_0x5b74c2,_0x1f3446,_0x49c9fc){const _0x1c72c2=a113_0x390091;var _0x5d7f33=arguments[_0x1c72c2(0xf3)],_0x24438f=_0x5d7f33<0x3?_0x5b74c2:_0x49c9fc===null?_0x49c9fc=Object['getOwnPropertyDescriptor'](_0x5b74c2,_0x1f3446):_0x49c9fc,_0x359f29;if(typeof Reflect===_0x1c72c2(0xc9)&&typeof Reflect[_0x1c72c2(0xe5)]===_0x1c72c2(0xe4))_0x24438f=Reflect[_0x1c72c2(0xe5)](_0x472141,_0x5b74c2,_0x1f3446,_0x49c9fc);else{for(var _0x39dd78=_0x472141[_0x1c72c2(0xf3)]-0x1;_0x39dd78>=0x0;_0x39dd78--)if(_0x359f29=_0x472141[_0x39dd78])_0x24438f=(_0x5d7f33<0x3?_0x359f29(_0x24438f):_0x5d7f33>0x3?_0x359f29(_0x5b74c2,_0x1f3446,_0x24438f):_0x359f29(_0x5b74c2,_0x1f3446))||_0x24438f;}return _0x5d7f33>0x3&&_0x24438f&&Object[_0x1c72c2(0x10a)](_0x5b74c2,_0x1f3446,_0x24438f),_0x24438f;},__metadata=this&&this[a113_0x390091(0xfd)]||function(_0x121723,_0x3d5703){const _0x41a8f=a113_0x390091;if(typeof Reflect===_0x41a8f(0xc9)&&typeof Reflect['metadata']===_0x41a8f(0xe4))return Reflect[_0x41a8f(0xcf)](_0x121723,_0x3d5703);},SalesforceService_1;Object[a113_0x390091(0x10a)](exports,a113_0x390091(0xf8),{'value':!![]}),exports[a113_0x390091(0x10d)]=void 0x0;const typedi_1=require('typedi'),core_1=require(a113_0x390091(0xd8)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a113_0x390091(0xfa)),constants_1=require('../../../constants'),create_request_util_1=require(a113_0x390091(0xd9)),salesforce_logger_service_1=require(a113_0x390091(0xe2)),salesforce_error_1=require(a113_0x390091(0xdd));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x18bd00){const _0x3f0346=a113_0x390091;this['logger']=new core_1[(_0x3f0346(0xf0))](SalesforceService_1[_0x3f0346(0xed)]),this[_0x3f0346(0xd7)]=(0x0,create_request_util_1[_0x3f0346(0xff)])(_0x18bd00),this[_0x3f0346(0xfe)]=constants_1[_0x3f0346(0x104)]?'':_0x3f0346(0x111);}[a113_0x390091(0xe3)](_0xb23d42){const _0x38ec5d=a113_0x390091;this[_0x38ec5d(0x107)]=_0xb23d42,this[_0x38ec5d(0xd6)]=new salesforce_logger_service_1[(_0x38ec5d(0x102))](this);}[a113_0x390091(0xde)](){const _0x469ba2=a113_0x390091;return this[_0x469ba2(0xd6)];}async['retrieveComponents'](_0x44dd62){const _0x1d1005=a113_0x390091;try{this['logger']['log'](_0x1d1005(0x109),_0x44dd62[_0x1d1005(0xf3)]);const _0x10a2eb=await this['request'][_0x1d1005(0xd5)](_0x1d1005(0xdc)+this[_0x1d1005(0xfe)]+_0x1d1005(0xd4),{'componentIds':_0x44dd62,'loggerId':this[_0x1d1005(0x107)]})['then'](({data:_0x2527db})=>_0x2527db);return _0x10a2eb;}catch(_0x5c9f36){this[_0x1d1005(0xd3)]['error'](_0x5c9f36);throw new salesforce_error_1[(_0x1d1005(0x100))](_0x5c9f36);}}async[a113_0x390091(0x101)](_0x20c774){const _0x24df82=a113_0x390091;try{this[_0x24df82(0xd3)][_0x24df82(0xea)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x20c774),await this[_0x24df82(0xd7)][_0x24df82(0x106)](_0x24df82(0xf7)+constants_1[_0x24df82(0xd2)]+_0x24df82(0xee)+_0x20c774);}catch(_0x4dc753){this[_0x24df82(0xd3)][_0x24df82(0xe7)](_0x4dc753);throw new salesforce_error_1[(_0x24df82(0x100))](_0x4dc753);}}async[a113_0x390091(0xe6)](_0xe43e68,_0x18569a=![]){const _0x28ee16=a113_0x390091;try{this[_0x28ee16(0xd3)][_0x28ee16(0xea)](_0x28ee16(0x110),_0xe43e68);const _0x5de693=await this[_0x28ee16(0xd7)][_0x28ee16(0x103)]('services/data/'+constants_1[_0x28ee16(0xd2)]+'/sobjects/Attachment/'+_0xe43e68+_0x28ee16(0xf9),{'responseType':_0x18569a?_0x28ee16(0xcd):_0x28ee16(0x108)})['then'](({data:_0x244b85})=>_0x244b85);return _0x5de693;}catch(_0x4bac1a){this[_0x28ee16(0xd3)][_0x28ee16(0xe7)](_0x4bac1a);throw new salesforce_error_1[(_0x28ee16(0x100))](_0x4bac1a);}}async[a113_0x390091(0xf1)](_0x3e50d4){const _0x23e973=a113_0x390091;try{_0x3e50d4[_0x23e973(0xcc)](_0x48dca3=>this[_0x23e973(0xd3)][_0x23e973(0xea)](_0x23e973(0xf6),_0x48dca3)),await this['request']['post'](_0x23e973(0xdc)+this[_0x23e973(0xfe)]+_0x23e973(0xda),{'messages':_0x3e50d4,'loggerId':this[_0x23e973(0x107)]});}catch(_0x1d80af){this[_0x23e973(0xd3)]['error'](_0x1d80af);throw new internal_server_error_1['InternalServerError'](_0x1d80af);}}async[a113_0x390091(0xcb)](_0x46b9cf,_0x15d180){const _0x1fef1a=a113_0x390091;try{const {data:_0x11e305}=await this[_0x1fef1a(0xd7)]['post']('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x1fef1a(0x10e)+_0x46b9cf+'/',_0x15d180);return _0x11e305['id'];}catch(_0x6c0e29){throw new salesforce_error_1[(_0x1fef1a(0x100))](_0x6c0e29);}}async[a113_0x390091(0x10c)](_0x358386,_0x4c0906,_0x3d8731){const _0x99d6a0=a113_0x390091;try{await this[_0x99d6a0(0xd7)][_0x99d6a0(0xce)](_0x99d6a0(0xf7)+constants_1['SALESFORCE_API_VERSION']+_0x99d6a0(0x10e)+_0x358386+'/'+_0x4c0906,_0x3d8731);}catch(_0x246bf3){throw new salesforce_error_1[(_0x99d6a0(0x100))](_0x246bf3);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a113_0x390091(0xf5)])({'transient':!![]}),__metadata(a113_0x390091(0xe1),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports['SalesforceService']=SalesforceService;function a113_0x5e61(){const _0x426c69=['__decorate','log','1322965eNhkqE','5139HQeTQR','name','/sobjects/Attachment/','301972VExxAo','Logger','sendLog','(((.+)+)+)+$','length','5604440mLNSwY','Service','[message]\x20%s','services/data/','__esModule','/body','./salesforce-auth.service','constructor','1198119qIKRJZ','__metadata','namespace','createSalesforceRequest','SalesforceError','deleteAttachment','SalesforceLogger','get','IGNORE_FLOSUM_GIT_NAMESPACE','apply','delete','loggerId','text','retrieve\x20components\x20\x20%d\x20from\x20salesforce','defineProperty','348BoPsuv','patchObject','SalesforceService','/sobjects/','5096kdrgwe','retrieve\x20attachment\x20%s\x20from\x20salesforce','/flosum_git','object','4wMUYPC','createObject','forEach','arraybuffer','patch','metadata','toString','4MrlIxQ','SALESFORCE_API_VERSION','logger','/attachments','post','internalLogger','request','../../../core','../utils/create-request.util','/logger','8238lKZjBX','services/apexrest','../errors/salesforce.error','getLogger','1155EhOyqB','search','design:paramtypes','./salesforce-logger.service','setLoggerId','function','decorate','retrieveAttachment','error','12976wwEeLD'];a113_0x5e61=function(){return _0x426c69;};return a113_0x5e61();}