const a112_0x1e219b=a112_0x2d9b;function a112_0x13aa(){const _0x3bc7bb=['constructor','../errors/salesforce.error','(((.+)+)+)+$','/flosum_git','delete','SalesforceAuthService','defineProperty','retrieveComponents','length','toString','get','decorate','SalesforceLogger','getOwnPropertyDescriptor','createObject','request','arraybuffer','Logger','search','1446550lGrUQJ','14293477DauplH','SalesforceError','SalesforceService','log','9856854msPjZO','[message]\x20%s','setLoggerId','21188lBmDFF','3659910lFspfo','/logger','post','__decorate','apply','services/data/','__esModule','retrieve\x20attachment\x20%s\x20from\x20salesforce','54GhndCA','deleteAttachment','8ZmOhMw','26YksTne','8JwCAoK','InternalServerError','retrieve\x20components\x20\x20%d\x20from\x20salesforce','7540323enmWlH','logger','design:paramtypes','namespace','internalLogger','then','getLogger','19210092jbOTlb','services/apexrest','/sobjects/','patchObject','function','sendLog','/sobjects/Attachment/','object','6pVdjWk','__metadata','metadata','../../../core/errors/internal-server.error','SALESFORCE_API_VERSION','typedi','10cXLDsJ','error','loggerId','../utils/create-request.util','../../../constants','text'];a112_0x13aa=function(){return _0x3bc7bb;};return a112_0x13aa();}(function(_0x4a42dc,_0x3d8698){const _0x558874=a112_0x2d9b,_0xeebeb3=_0x4a42dc();while(!![]){try{const _0x5b5913=-parseInt(_0x558874(0x1dc))/0x1*(-parseInt(_0x558874(0x1e5))/0x2)+-parseInt(_0x558874(0x1dd))/0x3+-parseInt(_0x558874(0x1e9))/0x4*(parseInt(_0x558874(0x1d4))/0x5)+parseInt(_0x558874(0x1fb))/0x6*(parseInt(_0x558874(0x1ec))/0x7)+parseInt(_0x558874(0x1e7))/0x8*(-parseInt(_0x558874(0x1d9))/0x9)+parseInt(_0x558874(0x201))/0xa*(-parseInt(_0x558874(0x1d5))/0xb)+-parseInt(_0x558874(0x1f3))/0xc*(-parseInt(_0x558874(0x1e8))/0xd);if(_0x5b5913===_0x3d8698)break;else _0xeebeb3['push'](_0xeebeb3['shift']());}catch(_0x44425f){_0xeebeb3['push'](_0xeebeb3['shift']());}}}(a112_0x13aa,0xa0950));const a112_0x55156b=function(){let _0x1a3a64=!![];return function(_0x343b68,_0x3c7e4a){const _0x42e4b6=_0x1a3a64?function(){const _0x34d4e1=a112_0x2d9b;if(_0x3c7e4a){const _0x5bce3f=_0x3c7e4a[_0x34d4e1(0x1e1)](_0x343b68,arguments);return _0x3c7e4a=null,_0x5bce3f;}}:function(){};return _0x1a3a64=![],_0x42e4b6;};}(),a112_0x37fee2=a112_0x55156b(this,function(){const _0x51ff47=a112_0x2d9b;return a112_0x37fee2[_0x51ff47(0x210)]()['search'](_0x51ff47(0x209))[_0x51ff47(0x210)]()[_0x51ff47(0x207)](a112_0x37fee2)[_0x51ff47(0x1d3)](_0x51ff47(0x209));});a112_0x37fee2();'use strict';var __decorate=this&&this[a112_0x1e219b(0x1e0)]||function(_0x524393,_0x17fe73,_0x255322,_0x17c598){const _0x2291a8=a112_0x1e219b;var _0x4cd90c=arguments[_0x2291a8(0x20f)],_0x5e81da=_0x4cd90c<0x3?_0x17fe73:_0x17c598===null?_0x17c598=Object[_0x2291a8(0x214)](_0x17fe73,_0x255322):_0x17c598,_0x4c3c5a;if(typeof Reflect===_0x2291a8(0x1fa)&&typeof Reflect[_0x2291a8(0x212)]===_0x2291a8(0x1f7))_0x5e81da=Reflect[_0x2291a8(0x212)](_0x524393,_0x17fe73,_0x255322,_0x17c598);else{for(var _0x33bc2d=_0x524393[_0x2291a8(0x20f)]-0x1;_0x33bc2d>=0x0;_0x33bc2d--)if(_0x4c3c5a=_0x524393[_0x33bc2d])_0x5e81da=(_0x4cd90c<0x3?_0x4c3c5a(_0x5e81da):_0x4cd90c>0x3?_0x4c3c5a(_0x17fe73,_0x255322,_0x5e81da):_0x4c3c5a(_0x17fe73,_0x255322))||_0x5e81da;}return _0x4cd90c>0x3&&_0x5e81da&&Object[_0x2291a8(0x20d)](_0x17fe73,_0x255322,_0x5e81da),_0x5e81da;},__metadata=this&&this[a112_0x1e219b(0x1fc)]||function(_0x54d9cb,_0xb1aeab){const _0x4a00a1=a112_0x1e219b;if(typeof Reflect===_0x4a00a1(0x1fa)&&typeof Reflect[_0x4a00a1(0x1fd)]==='function')return Reflect[_0x4a00a1(0x1fd)](_0x54d9cb,_0xb1aeab);},SalesforceService_1;Object[a112_0x1e219b(0x20d)](exports,a112_0x1e219b(0x1e3),{'value':!![]}),exports[a112_0x1e219b(0x1d7)]=void 0x0;const typedi_1=require(a112_0x1e219b(0x200)),core_1=require('../../../core'),internal_server_error_1=require(a112_0x1e219b(0x1fe)),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a112_0x1e219b(0x205)),create_request_util_1=require(a112_0x1e219b(0x204)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a112_0x1e219b(0x208));function a112_0x2d9b(_0xccd039,_0x1c008a){const _0x44dd6c=a112_0x13aa();return a112_0x2d9b=function(_0x37fee2,_0x55156b){_0x37fee2=_0x37fee2-0x1d1;let _0x13aa9c=_0x44dd6c[_0x37fee2];return _0x13aa9c;},a112_0x2d9b(_0xccd039,_0x1c008a);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0xe136ee){const _0x5c7e4d=a112_0x1e219b;this[_0x5c7e4d(0x1ed)]=new core_1[(_0x5c7e4d(0x1d2))](SalesforceService_1['name']),this['request']=(0x0,create_request_util_1['createSalesforceRequest'])(_0xe136ee),this['namespace']=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x5c7e4d(0x20a);}[a112_0x1e219b(0x1db)](_0x59fc3b){const _0x5a0117=a112_0x1e219b;this[_0x5a0117(0x203)]=_0x59fc3b,this[_0x5a0117(0x1f0)]=new salesforce_logger_service_1[(_0x5a0117(0x213))](this);}[a112_0x1e219b(0x1f2)](){const _0x34c42c=a112_0x1e219b;return this[_0x34c42c(0x1f0)];}async[a112_0x1e219b(0x20e)](_0x114b7d){const _0x21f80e=a112_0x1e219b;try{this[_0x21f80e(0x1ed)][_0x21f80e(0x1d8)](_0x21f80e(0x1eb),_0x114b7d['length']);const _0x110165=await this[_0x21f80e(0x216)][_0x21f80e(0x1df)](_0x21f80e(0x1f4)+this[_0x21f80e(0x1ef)]+'/attachments',{'componentIds':_0x114b7d,'loggerId':this[_0x21f80e(0x203)]})[_0x21f80e(0x1f1)](({data:_0x35ff77})=>_0x35ff77);return _0x110165;}catch(_0x1abb27){this[_0x21f80e(0x1ed)][_0x21f80e(0x202)](_0x1abb27);throw new salesforce_error_1[(_0x21f80e(0x1d6))](_0x1abb27);}}async[a112_0x1e219b(0x1e6)](_0xe0f642){const _0xf99f5=a112_0x1e219b;try{this[_0xf99f5(0x1ed)][_0xf99f5(0x1d8)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0xe0f642),await this['request'][_0xf99f5(0x20b)](_0xf99f5(0x1e2)+constants_1[_0xf99f5(0x1ff)]+_0xf99f5(0x1f9)+_0xe0f642);}catch(_0x5229b7){this[_0xf99f5(0x1ed)]['error'](_0x5229b7);throw new salesforce_error_1[(_0xf99f5(0x1d6))](_0x5229b7);}}async['retrieveAttachment'](_0xdb4f1d,_0x1c0b21=![]){const _0x44ff15=a112_0x1e219b;try{this[_0x44ff15(0x1ed)][_0x44ff15(0x1d8)](_0x44ff15(0x1e4),_0xdb4f1d);const _0x5f2c66=await this[_0x44ff15(0x216)][_0x44ff15(0x211)]('services/data/'+constants_1[_0x44ff15(0x1ff)]+'/sobjects/Attachment/'+_0xdb4f1d+'/body',{'responseType':_0x1c0b21?_0x44ff15(0x1d1):_0x44ff15(0x206)})[_0x44ff15(0x1f1)](({data:_0x2e0de8})=>_0x2e0de8);return _0x5f2c66;}catch(_0x23ce5d){this[_0x44ff15(0x1ed)][_0x44ff15(0x202)](_0x23ce5d);throw new salesforce_error_1['SalesforceError'](_0x23ce5d);}}async[a112_0x1e219b(0x1f8)](_0x7003af){const _0xe05515=a112_0x1e219b;try{_0x7003af['forEach'](_0x1a9613=>this[_0xe05515(0x1ed)][_0xe05515(0x1d8)](_0xe05515(0x1da),_0x1a9613)),await this['request'][_0xe05515(0x1df)]('services/apexrest'+this[_0xe05515(0x1ef)]+_0xe05515(0x1de),{'messages':_0x7003af,'loggerId':this[_0xe05515(0x203)]});}catch(_0x1d193a){this[_0xe05515(0x1ed)][_0xe05515(0x202)](_0x1d193a);throw new internal_server_error_1[(_0xe05515(0x1ea))](_0x1d193a);}}async[a112_0x1e219b(0x215)](_0x328fee,_0x440c5d){const _0x323316=a112_0x1e219b;try{const {data:_0x404086}=await this['request'][_0x323316(0x1df)](_0x323316(0x1e2)+constants_1[_0x323316(0x1ff)]+_0x323316(0x1f5)+_0x328fee+'/',_0x440c5d);return _0x404086['id'];}catch(_0x489e84){throw new salesforce_error_1[(_0x323316(0x1d6))](_0x489e84);}}async[a112_0x1e219b(0x1f6)](_0x3228c9,_0x9e2eb4,_0x48ac22){const _0x3b952a=a112_0x1e219b;try{await this[_0x3b952a(0x216)]['patch'](_0x3b952a(0x1e2)+constants_1[_0x3b952a(0x1ff)]+_0x3b952a(0x1f5)+_0x3228c9+'/'+_0x9e2eb4,_0x48ac22);}catch(_0x3ea113){throw new salesforce_error_1[(_0x3b952a(0x1d6))](_0x3ea113);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a112_0x1e219b(0x1ee),[salesforce_auth_service_1[a112_0x1e219b(0x20c)]])],SalesforceService),exports[a112_0x1e219b(0x1d7)]=SalesforceService;