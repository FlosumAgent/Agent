const a136_0x4f88cf=a136_0x3116;(function(_0x34b210,_0x2f1f87){const _0x39a47d=a136_0x3116,_0x1eeb74=_0x34b210();while(!![]){try{const _0x288d96=parseInt(_0x39a47d(0x1e1))/0x1+parseInt(_0x39a47d(0x209))/0x2*(parseInt(_0x39a47d(0x1d1))/0x3)+-parseInt(_0x39a47d(0x1e5))/0x4*(parseInt(_0x39a47d(0x1ee))/0x5)+-parseInt(_0x39a47d(0x1f9))/0x6*(-parseInt(_0x39a47d(0x1dc))/0x7)+-parseInt(_0x39a47d(0x1d9))/0x8+parseInt(_0x39a47d(0x1f0))/0x9*(parseInt(_0x39a47d(0x1e6))/0xa)+-parseInt(_0x39a47d(0x1db))/0xb*(parseInt(_0x39a47d(0x20e))/0xc);if(_0x288d96===_0x2f1f87)break;else _0x1eeb74['push'](_0x1eeb74['shift']());}catch(_0x4bfd48){_0x1eeb74['push'](_0x1eeb74['shift']());}}}(a136_0x750b,0x77c59));function a136_0x750b(){const _0x16ab11=['typedi','./salesforce-auth.service','516gkmEde','3030FYDcxO','error','getLogger','forEach','internalLogger','request','../../../core/errors/internal-server.error','decorate','14705viwrMq','patchObject','26172tgerws','delete\x20attachment\x20%s\x20from\x20salesforce','services/apexrest','../../../core','__esModule','text','logger','SalesforceAuthService','createSalesforceRequest','15774oUoPbu','IGNORE_FLOSUM_GIT_NAMESPACE','/logger','SalesforceService','/sobjects/Attachment/','apply','constructor','get','getOwnPropertyDescriptor','services/data/','__metadata','loggerId','SALESFORCE_API_VERSION','../../../constants','retrieveComponents','function','198ARXnTY','InternalServerError','name','setLoggerId','sendLog','4046316GxmLMj','/attachments','createObject','toString','/sobjects/','object','/flosum_git','SalesforceError','length','10161nDntea','deleteAttachment','metadata','namespace','__decorate','defineProperty','post','Service','2158008xmKLrQ','log','33NZAOZb','133JUkzwj','retrieve\x20attachment\x20%s\x20from\x20salesforce','[message]\x20%s','(((.+)+)+)+$','then','884916sYHhlt','patch'];a136_0x750b=function(){return _0x16ab11;};return a136_0x750b();}const a136_0x119cec=function(){let _0xce921a=!![];return function(_0x3c920b,_0x8f7ba9){const _0x4dccc3=_0xce921a?function(){const _0x5a1077=a136_0x3116;if(_0x8f7ba9){const _0x4d995a=_0x8f7ba9[_0x5a1077(0x1fe)](_0x3c920b,arguments);return _0x8f7ba9=null,_0x4d995a;}}:function(){};return _0xce921a=![],_0x4dccc3;};}(),a136_0x17a933=a136_0x119cec(this,function(){const _0x26cbf0=a136_0x3116;return a136_0x17a933[_0x26cbf0(0x1cb)]()['search'](_0x26cbf0(0x1df))['toString']()[_0x26cbf0(0x1ff)](a136_0x17a933)['search']('(((.+)+)+)+$');});a136_0x17a933();'use strict';function a136_0x3116(_0x5ed451,_0x4b4d84){const _0x2f6b71=a136_0x750b();return a136_0x3116=function(_0x17a933,_0x119cec){_0x17a933=_0x17a933-0x1c9;let _0x750be1=_0x2f6b71[_0x17a933];return _0x750be1;},a136_0x3116(_0x5ed451,_0x4b4d84);}var __decorate=this&&this[a136_0x4f88cf(0x1d5)]||function(_0x45da28,_0x588c34,_0x57541c,_0x104207){const _0x5205b5=a136_0x4f88cf;var _0x30176a=arguments['length'],_0x1a7562=_0x30176a<0x3?_0x588c34:_0x104207===null?_0x104207=Object[_0x5205b5(0x201)](_0x588c34,_0x57541c):_0x104207,_0xedba89;if(typeof Reflect===_0x5205b5(0x1cd)&&typeof Reflect[_0x5205b5(0x1ed)]==='function')_0x1a7562=Reflect['decorate'](_0x45da28,_0x588c34,_0x57541c,_0x104207);else{for(var _0xb7ddb4=_0x45da28[_0x5205b5(0x1d0)]-0x1;_0xb7ddb4>=0x0;_0xb7ddb4--)if(_0xedba89=_0x45da28[_0xb7ddb4])_0x1a7562=(_0x30176a<0x3?_0xedba89(_0x1a7562):_0x30176a>0x3?_0xedba89(_0x588c34,_0x57541c,_0x1a7562):_0xedba89(_0x588c34,_0x57541c))||_0x1a7562;}return _0x30176a>0x3&&_0x1a7562&&Object[_0x5205b5(0x1d6)](_0x588c34,_0x57541c,_0x1a7562),_0x1a7562;},__metadata=this&&this[a136_0x4f88cf(0x203)]||function(_0x34d2e2,_0x542ba5){const _0x4880ee=a136_0x4f88cf;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x4880ee(0x208))return Reflect[_0x4880ee(0x1d3)](_0x34d2e2,_0x542ba5);},SalesforceService_1;Object[a136_0x4f88cf(0x1d6)](exports,a136_0x4f88cf(0x1f4),{'value':!![]}),exports[a136_0x4f88cf(0x1fc)]=void 0x0;const typedi_1=require(a136_0x4f88cf(0x1e3)),core_1=require(a136_0x4f88cf(0x1f3)),internal_server_error_1=require(a136_0x4f88cf(0x1ec)),salesforce_auth_service_1=require(a136_0x4f88cf(0x1e4)),constants_1=require(a136_0x4f88cf(0x206)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require('../errors/salesforce.error');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x22e08b){const _0x6d1d3a=a136_0x4f88cf;this[_0x6d1d3a(0x1f6)]=new core_1['Logger'](SalesforceService_1[_0x6d1d3a(0x20b)]),this[_0x6d1d3a(0x1eb)]=create_request_util_1[_0x6d1d3a(0x1f8)](_0x22e08b),this[_0x6d1d3a(0x1d4)]=constants_1[_0x6d1d3a(0x1fa)]?'':_0x6d1d3a(0x1ce);}[a136_0x4f88cf(0x20c)](_0x51cc6d){const _0x397616=a136_0x4f88cf;this[_0x397616(0x204)]=_0x51cc6d,this[_0x397616(0x1ea)]=new salesforce_logger_service_1['SalesforceLogger'](this);}[a136_0x4f88cf(0x1e8)](){const _0x5897ce=a136_0x4f88cf;return this[_0x5897ce(0x1ea)];}async[a136_0x4f88cf(0x207)](_0x4fc1b2){const _0x5c5f17=a136_0x4f88cf;try{this['logger'][_0x5c5f17(0x1da)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x4fc1b2['length']);const _0x5abc4d=await this[_0x5c5f17(0x1eb)][_0x5c5f17(0x1d7)](_0x5c5f17(0x1f2)+this['namespace']+_0x5c5f17(0x1c9),{'componentIds':_0x4fc1b2,'loggerId':this['loggerId']})[_0x5c5f17(0x1e0)](({data:_0x24cfda})=>_0x24cfda);return _0x5abc4d;}catch(_0x3dbe0d){this[_0x5c5f17(0x1f6)][_0x5c5f17(0x1e7)](_0x3dbe0d);throw new salesforce_error_1['SalesforceError'](_0x3dbe0d);}}async[a136_0x4f88cf(0x1d2)](_0x16597d){const _0x5eb804=a136_0x4f88cf;try{this['logger'][_0x5eb804(0x1da)](_0x5eb804(0x1f1),_0x16597d),await this[_0x5eb804(0x1eb)]['delete'](_0x5eb804(0x202)+constants_1[_0x5eb804(0x205)]+_0x5eb804(0x1fd)+_0x16597d);}catch(_0x9c8142){this['logger'][_0x5eb804(0x1e7)](_0x9c8142);throw new salesforce_error_1[(_0x5eb804(0x1cf))](_0x9c8142);}}async['retrieveAttachment'](_0x477648,_0x399bc8=![]){const _0x6f57ca=a136_0x4f88cf;try{this[_0x6f57ca(0x1f6)]['log'](_0x6f57ca(0x1dd),_0x477648);const _0x5b57a2=await this['request'][_0x6f57ca(0x200)](_0x6f57ca(0x202)+constants_1[_0x6f57ca(0x205)]+_0x6f57ca(0x1fd)+_0x477648+'/body',{'responseType':_0x399bc8?'arraybuffer':_0x6f57ca(0x1f5)})['then'](({data:_0x5cfa42})=>_0x5cfa42);return _0x5b57a2;}catch(_0x991c4c){this[_0x6f57ca(0x1f6)][_0x6f57ca(0x1e7)](_0x991c4c);throw new salesforce_error_1[(_0x6f57ca(0x1cf))](_0x991c4c);}}async[a136_0x4f88cf(0x20d)](_0x5d9f4a){const _0x34f2eb=a136_0x4f88cf;try{_0x5d9f4a[_0x34f2eb(0x1e9)](_0x493d4d=>this[_0x34f2eb(0x1f6)][_0x34f2eb(0x1da)](_0x34f2eb(0x1de),_0x493d4d)),await this[_0x34f2eb(0x1eb)][_0x34f2eb(0x1d7)]('services/apexrest'+this[_0x34f2eb(0x1d4)]+_0x34f2eb(0x1fb),{'messages':_0x5d9f4a,'loggerId':this[_0x34f2eb(0x204)]});}catch(_0x32b893){this[_0x34f2eb(0x1f6)]['error'](_0x32b893);throw new internal_server_error_1[(_0x34f2eb(0x20a))](_0x32b893);}}async[a136_0x4f88cf(0x1ca)](_0x1be38e,_0x32dbf2){const _0x1823c5=a136_0x4f88cf;try{const {data:_0x2e036a}=await this[_0x1823c5(0x1eb)][_0x1823c5(0x1d7)](_0x1823c5(0x202)+constants_1[_0x1823c5(0x205)]+_0x1823c5(0x1cc)+_0x1be38e+'/',_0x32dbf2);return _0x2e036a['id'];}catch(_0x4eead3){throw new salesforce_error_1[(_0x1823c5(0x1cf))](_0x4eead3);}}async[a136_0x4f88cf(0x1ef)](_0x380f3a,_0x836e2e,_0x4be2a5){const _0x42b8cc=a136_0x4f88cf;try{await this[_0x42b8cc(0x1eb)][_0x42b8cc(0x1e2)](_0x42b8cc(0x202)+constants_1[_0x42b8cc(0x205)]+_0x42b8cc(0x1cc)+_0x380f3a+'/'+_0x836e2e,_0x4be2a5);}catch(_0x2ee0b8){throw new salesforce_error_1['SalesforceError'](_0x2ee0b8);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a136_0x4f88cf(0x1d8)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_auth_service_1[a136_0x4f88cf(0x1f7)]])],SalesforceService),exports[a136_0x4f88cf(0x1fc)]=SalesforceService;