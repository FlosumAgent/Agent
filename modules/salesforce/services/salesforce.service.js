const a107_0x3a2d=['log','../../../constants','__decorate','__metadata','../utils/create-request.util','362150ztkRXx','apply','/sobjects/Attachment/','metadata','request','retrieveComponents','3Qhnlgq','post','SalesforceAuthService','../../../core/errors/internal-server.error','/attachments','NotFoundError','__esModule','length','../../../core/errors/not-found.error','[ERROR:deleteAttachment]\x20','../../../core/errors/bad-request.error','message','Service','740960gVlRat','SalesforceService','IGNORE_FLOSUM_GIT_NAMESPACE','function','178639vxIRbp','test','1244185eBjMQJ','loggerId','get','769703gNqedp','services/data/','[ERROR:retrieveComponents]\x20','services/apexrest','2yngHMB','SALESFORCE_API_VERSION','defineProperty','constructor','patch','namespace','delete','retrieveAttachment','131458bTPWjp','Logger','./salesforce-auth.service','sendLog','/flosum_git','/sobjects/','createSalesforceRequest','then','salesforce-service','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','setLoggerId','delete\x20attachment\x20%s\x20from\x20salesforce','1189410nQUiPX','/body','decorate','InternalServerError'];const a107_0x2eac83=a107_0x76f8;(function(_0x4de20f,_0x35d338){const _0x2e630d=a107_0x76f8;while(!![]){try{const _0x4d3368=parseInt(_0x2e630d(0xbb))+parseInt(_0x2e630d(0xd7))+-parseInt(_0x2e630d(0xc1))*-parseInt(_0x2e630d(0xd2))+-parseInt(_0x2e630d(0xce))+parseInt(_0x2e630d(0xb2))+parseInt(_0x2e630d(0xa6))*-parseInt(_0x2e630d(0xdb))+-parseInt(_0x2e630d(0xd4));if(_0x4d3368===_0x35d338)break;else _0x4de20f['push'](_0x4de20f['shift']());}catch(_0x1e83da){_0x4de20f['push'](_0x4de20f['shift']());}}}(a107_0x3a2d,0x94b5f));const a107_0x1d7008=function(){let _0x3ecaa0=!![];return function(_0x6f97f6,_0x2335f4){const _0x30cd93=_0x3ecaa0?function(){const _0x57cec2=a107_0x76f8;if(_0x2335f4){const _0x1ee746=_0x2335f4[_0x57cec2(0xbc)](_0x6f97f6,arguments);return _0x2335f4=null,_0x1ee746;}}:function(){};return _0x3ecaa0=![],_0x30cd93;};}(),a107_0x71e944=a107_0x1d7008(this,function(){const _0x515cb2=function(){const _0xd90759=a107_0x76f8,_0xfe82ec=_0x515cb2[_0xd90759(0xa1)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0xd90759(0xa1)](_0xd90759(0xaf));return!_0xfe82ec[_0xd90759(0xd3)](a107_0x71e944);};return _0x515cb2();});a107_0x71e944();'use strict';var __decorate=this&&this[a107_0x2eac83(0xb8)]||function(_0x5ac8d9,_0x14af42,_0x516f37,_0x3bef7d){const _0xf84d88=a107_0x2eac83;var _0x3c3a4e=arguments[_0xf84d88(0xc8)],_0x3c79d9=_0x3c3a4e<0x3?_0x14af42:_0x3bef7d===null?_0x3bef7d=Object['getOwnPropertyDescriptor'](_0x14af42,_0x516f37):_0x3bef7d,_0x4fd92b;if(typeof Reflect==='object'&&typeof Reflect[_0xf84d88(0xb4)]===_0xf84d88(0xd1))_0x3c79d9=Reflect[_0xf84d88(0xb4)](_0x5ac8d9,_0x14af42,_0x516f37,_0x3bef7d);else{for(var _0x241790=_0x5ac8d9[_0xf84d88(0xc8)]-0x1;_0x241790>=0x0;_0x241790--)if(_0x4fd92b=_0x5ac8d9[_0x241790])_0x3c79d9=(_0x3c3a4e<0x3?_0x4fd92b(_0x3c79d9):_0x3c3a4e>0x3?_0x4fd92b(_0x14af42,_0x516f37,_0x3c79d9):_0x4fd92b(_0x14af42,_0x516f37))||_0x3c79d9;}return _0x3c3a4e>0x3&&_0x3c79d9&&Object[_0xf84d88(0xa0)](_0x14af42,_0x516f37,_0x3c79d9),_0x3c79d9;},__metadata=this&&this[a107_0x2eac83(0xb9)]||function(_0xa07d49,_0x4c2ef9){const _0x15fa35=a107_0x2eac83;if(typeof Reflect==='object'&&typeof Reflect[_0x15fa35(0xbe)]===_0x15fa35(0xd1))return Reflect[_0x15fa35(0xbe)](_0xa07d49,_0x4c2ef9);};Object[a107_0x2eac83(0xa0)](exports,a107_0x2eac83(0xc7),{'value':!![]}),exports[a107_0x2eac83(0xcf)]=void 0x0;const typedi_1=require('typedi'),core_1=require('../../../core'),internal_server_error_1=require(a107_0x2eac83(0xc4)),salesforce_auth_service_1=require(a107_0x2eac83(0xa8)),constants_1=require(a107_0x2eac83(0xb7)),not_found_error_1=require(a107_0x2eac83(0xc9)),bad_request_error_1=require(a107_0x2eac83(0xcb)),create_request_util_1=require(a107_0x2eac83(0xba)),logger=new core_1[(a107_0x2eac83(0xa7))](a107_0x2eac83(0xae));function a107_0x76f8(_0x615af2,_0x1e4cfd){return a107_0x76f8=function(_0x3b7edd,_0x71e944){_0x3b7edd=_0x3b7edd-0xa0;let _0x1d7008=a107_0x3a2d[_0x3b7edd];return _0x1d7008;},a107_0x76f8(_0x615af2,_0x1e4cfd);}let SalesforceService=class SalesforceService{constructor(_0x53da82){const _0x50510d=a107_0x2eac83;this[_0x50510d(0xbf)]=create_request_util_1[_0x50510d(0xac)](_0x53da82),this['namespace']=constants_1[_0x50510d(0xd0)]?'':_0x50510d(0xaa);}[a107_0x2eac83(0xb0)](_0x3c10b6){this['loggerId']=_0x3c10b6;}async[a107_0x2eac83(0xc0)](_0xc849eb){const _0x1ad426=a107_0x2eac83;try{const _0x40954c=await this[_0x1ad426(0xbf)]['post'](_0x1ad426(0xda)+this[_0x1ad426(0xa3)]+_0x1ad426(0xc5),{'componentIds':_0xc849eb,'loggerId':this[_0x1ad426(0xd5)]})[_0x1ad426(0xad)](({data:_0x562b67})=>_0x562b67);return _0x40954c;}catch(_0x1e2277){this[_0x1ad426(0xa9)](_0x1ad426(0xd9)+_0x1e2277['message']);throw new bad_request_error_1['BadRequestError'](_0x1e2277);}}async['deleteAttachment'](_0x3efbe7){const _0x1e486e=a107_0x2eac83;try{logger[_0x1e486e(0xb6)](_0x1e486e(0xb1),_0x3efbe7),await this[_0x1e486e(0xbf)][_0x1e486e(0xa4)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x1e486e(0xbd)+_0x3efbe7);}catch(_0x363e1e){this[_0x1e486e(0xa9)](_0x1e486e(0xca)+_0x363e1e[_0x1e486e(0xcc)]);throw new not_found_error_1[(_0x1e486e(0xc6))](_0x363e1e);}}async[a107_0x2eac83(0xa5)](_0xc9794){const _0x360d4b=a107_0x2eac83;try{logger[_0x360d4b(0xb6)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0xc9794);const _0x34f748=await this[_0x360d4b(0xbf)][_0x360d4b(0xd6)](_0x360d4b(0xd8)+constants_1['SALESFORCE_API_VERSION']+_0x360d4b(0xbd)+_0xc9794+_0x360d4b(0xb3))['then'](({data:_0x1c76b7})=>_0x1c76b7);return _0x34f748;}catch(_0x32344a){this[_0x360d4b(0xa9)]('[ERROR:retrieveAttachment]\x20'+_0x32344a[_0x360d4b(0xcc)]);throw new not_found_error_1[(_0x360d4b(0xc6))](_0x32344a);}}async[a107_0x2eac83(0xa9)](_0x587809){const _0x5e5869=a107_0x2eac83;try{logger[_0x5e5869(0xb6)]('[LID:%s]\x20log\x20\x22%s\x22\x20to\x20salesforce',this[_0x5e5869(0xd5)],_0x587809),await this[_0x5e5869(0xbf)][_0x5e5869(0xc2)](_0x5e5869(0xda)+this[_0x5e5869(0xa3)]+'/logger',{'message':_0x587809,'loggerId':this[_0x5e5869(0xd5)]});}catch(_0x18cf43){throw new internal_server_error_1[(_0x5e5869(0xb5))](_0x18cf43);}}async['patchObject'](_0x32eaec,_0xf91a2d,_0x2cbff9){const _0x1b0796=a107_0x2eac83;try{await this[_0x1b0796(0xbf)][_0x1b0796(0xa2)]('services/data/'+constants_1[_0x1b0796(0xdc)]+_0x1b0796(0xab)+_0x32eaec+'/'+_0xf91a2d,_0x2cbff9);}catch(_0x595eba){throw new internal_server_error_1['InternalServerError'](_0x595eba);}}};SalesforceService=__decorate([typedi_1[a107_0x2eac83(0xcd)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_auth_service_1[a107_0x2eac83(0xc3)]])],SalesforceService),exports[a107_0x2eac83(0xcf)]=SalesforceService;