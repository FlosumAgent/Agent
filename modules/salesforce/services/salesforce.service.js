const a136_0x34cf79=a136_0x2b28;(function(_0x546f4d,_0x3cab21){const _0x1091c8=a136_0x2b28,_0x5e5d30=_0x546f4d();while(!![]){try{const _0x5777dd=parseInt(_0x1091c8(0x1ca))/0x1+parseInt(_0x1091c8(0x1a6))/0x2+parseInt(_0x1091c8(0x1c3))/0x3*(-parseInt(_0x1091c8(0x1a7))/0x4)+parseInt(_0x1091c8(0x1cc))/0x5+-parseInt(_0x1091c8(0x1c6))/0x6+-parseInt(_0x1091c8(0x1b7))/0x7+parseInt(_0x1091c8(0x1aa))/0x8;if(_0x5777dd===_0x3cab21)break;else _0x5e5d30['push'](_0x5e5d30['shift']());}catch(_0x1ad275){_0x5e5d30['push'](_0x5e5d30['shift']());}}}(a136_0x8092,0xbff5b));const a136_0x1eae53=function(){let _0x239368=!![];return function(_0x308e29,_0x7db0b6){const _0x447bb1=_0x239368?function(){const _0x3031c4=a136_0x2b28;if(_0x7db0b6){const _0x5b3e43=_0x7db0b6[_0x3031c4(0x1c0)](_0x308e29,arguments);return _0x7db0b6=null,_0x5b3e43;}}:function(){};return _0x239368=![],_0x447bb1;};}(),a136_0x56b05a=a136_0x1eae53(this,function(){const _0x4debfe=a136_0x2b28;return a136_0x56b05a['toString']()['search'](_0x4debfe(0x1b5))[_0x4debfe(0x1bf)]()['constructor'](a136_0x56b05a)[_0x4debfe(0x1cf)](_0x4debfe(0x1b5));});a136_0x56b05a();'use strict';var __decorate=this&&this['__decorate']||function(_0x81d576,_0x3df238,_0xc300fd,_0x5e25d8){const _0xfd1884=a136_0x2b28;var _0x2a810f=arguments[_0xfd1884(0x19e)],_0x187642=_0x2a810f<0x3?_0x3df238:_0x5e25d8===null?_0x5e25d8=Object['getOwnPropertyDescriptor'](_0x3df238,_0xc300fd):_0x5e25d8,_0x219753;if(typeof Reflect===_0xfd1884(0x1b4)&&typeof Reflect[_0xfd1884(0x1bc)]===_0xfd1884(0x1ce))_0x187642=Reflect['decorate'](_0x81d576,_0x3df238,_0xc300fd,_0x5e25d8);else{for(var _0x30ada2=_0x81d576[_0xfd1884(0x19e)]-0x1;_0x30ada2>=0x0;_0x30ada2--)if(_0x219753=_0x81d576[_0x30ada2])_0x187642=(_0x2a810f<0x3?_0x219753(_0x187642):_0x2a810f>0x3?_0x219753(_0x3df238,_0xc300fd,_0x187642):_0x219753(_0x3df238,_0xc300fd))||_0x187642;}return _0x2a810f>0x3&&_0x187642&&Object['defineProperty'](_0x3df238,_0xc300fd,_0x187642),_0x187642;},__metadata=this&&this[a136_0x34cf79(0x19f)]||function(_0x431197,_0x17baea){const _0x129af5=a136_0x34cf79;if(typeof Reflect===_0x129af5(0x1b4)&&typeof Reflect[_0x129af5(0x1c9)]===_0x129af5(0x1ce))return Reflect['metadata'](_0x431197,_0x17baea);},SalesforceService_1;function a136_0x2b28(_0x47ebfb,_0x162d01){const _0x1dff48=a136_0x8092();return a136_0x2b28=function(_0x56b05a,_0x1eae53){_0x56b05a=_0x56b05a-0x199;let _0x8092cf=_0x1dff48[_0x56b05a];return _0x8092cf;},a136_0x2b28(_0x47ebfb,_0x162d01);}Object[a136_0x34cf79(0x1a8)](exports,a136_0x34cf79(0x1cd),{'value':!![]}),exports[a136_0x34cf79(0x1c7)]=void 0x0;function a136_0x8092(){const _0x1d10cb=['2629412nojtIN','650812vEglgf','defineProperty','then','2418232pfOOCB','request','deleteAttachment','setLoggerId','../../../core','namespace','SalesforceError','retrieveComponents','Service','createSalesforceRequest','object','(((.+)+)+)+$','IGNORE_FLOSUM_GIT_NAMESPACE','6096615WkojEJ','log','/logger','/attachments','patch','decorate','services/data/','services/apexrest','toString','apply','createObject','/body','24cJXoYy','InternalServerError','/sobjects/','1204560rzrgoF','SalesforceService','get','metadata','694881UWgaza','../utils/create-request.util','4238650WspFzj','__esModule','function','search','../errors/salesforce.error','SALESFORCE_API_VERSION','SalesforceAuthService','[message]\x20%s','post','error','logger','typedi','/sobjects/Attachment/','retrieveAttachment','getLogger','../../../core/errors/internal-server.error','Logger','name','./salesforce-logger.service','forEach','length','__metadata','./salesforce-auth.service','retrieve\x20attachment\x20%s\x20from\x20salesforce','../../../constants','delete','delete\x20attachment\x20%s\x20from\x20salesforce','loggerId'];a136_0x8092=function(){return _0x1d10cb;};return a136_0x8092();}const typedi_1=require(a136_0x34cf79(0x1d7)),core_1=require(a136_0x34cf79(0x1ae)),internal_server_error_1=require(a136_0x34cf79(0x199)),salesforce_auth_service_1=require(a136_0x34cf79(0x1a0)),constants_1=require(a136_0x34cf79(0x1a2)),create_request_util_1=require(a136_0x34cf79(0x1cb)),salesforce_logger_service_1=require(a136_0x34cf79(0x19c)),salesforce_error_1=require(a136_0x34cf79(0x1d0));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x44a704){const _0x3f33ed=a136_0x34cf79;this[_0x3f33ed(0x1d6)]=new core_1[(_0x3f33ed(0x19a))](SalesforceService_1[_0x3f33ed(0x19b)]),this[_0x3f33ed(0x1ab)]=create_request_util_1[_0x3f33ed(0x1b3)](_0x44a704),this[_0x3f33ed(0x1af)]=constants_1[_0x3f33ed(0x1b6)]?'':'/flosum_git';}[a136_0x34cf79(0x1ad)](_0x3c463a){const _0x21334a=a136_0x34cf79;this[_0x21334a(0x1a5)]=_0x3c463a,this['internalLogger']=new salesforce_logger_service_1['SalesforceLogger'](this);}[a136_0x34cf79(0x1da)](){return this['internalLogger'];}async[a136_0x34cf79(0x1b1)](_0x4ed92d){const _0x430ec1=a136_0x34cf79;try{this['logger'][_0x430ec1(0x1b8)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x4ed92d[_0x430ec1(0x19e)]);const _0x490516=await this[_0x430ec1(0x1ab)][_0x430ec1(0x1d4)](_0x430ec1(0x1be)+this['namespace']+_0x430ec1(0x1ba),{'componentIds':_0x4ed92d,'loggerId':this[_0x430ec1(0x1a5)]})['then'](({data:_0x2e909d})=>_0x2e909d);return _0x490516;}catch(_0x1475d9){this[_0x430ec1(0x1d6)][_0x430ec1(0x1d5)](_0x1475d9);throw new salesforce_error_1[(_0x430ec1(0x1b0))](_0x1475d9);}}async[a136_0x34cf79(0x1ac)](_0x15d98a){const _0x5699e7=a136_0x34cf79;try{this['logger'][_0x5699e7(0x1b8)](_0x5699e7(0x1a4),_0x15d98a),await this[_0x5699e7(0x1ab)][_0x5699e7(0x1a3)](_0x5699e7(0x1bd)+constants_1[_0x5699e7(0x1d1)]+_0x5699e7(0x1d8)+_0x15d98a);}catch(_0x1810ab){this[_0x5699e7(0x1d6)][_0x5699e7(0x1d5)](_0x1810ab);throw new salesforce_error_1[(_0x5699e7(0x1b0))](_0x1810ab);}}async[a136_0x34cf79(0x1d9)](_0x2b355d,_0x3a504d=![]){const _0x2e736e=a136_0x34cf79;try{this[_0x2e736e(0x1d6)][_0x2e736e(0x1b8)](_0x2e736e(0x1a1),_0x2b355d);const _0x54cfcf=await this[_0x2e736e(0x1ab)][_0x2e736e(0x1c8)](_0x2e736e(0x1bd)+constants_1[_0x2e736e(0x1d1)]+_0x2e736e(0x1d8)+_0x2b355d+_0x2e736e(0x1c2),{'responseType':_0x3a504d?'arraybuffer':'text'})[_0x2e736e(0x1a9)](({data:_0x2d6db9})=>_0x2d6db9);return _0x54cfcf;}catch(_0x12cdf1){this[_0x2e736e(0x1d6)]['error'](_0x12cdf1);throw new salesforce_error_1[(_0x2e736e(0x1b0))](_0x12cdf1);}}async['sendLog'](_0x384d76){const _0x41c6d4=a136_0x34cf79;try{_0x384d76[_0x41c6d4(0x19d)](_0x436772=>this[_0x41c6d4(0x1d6)][_0x41c6d4(0x1b8)](_0x41c6d4(0x1d3),_0x436772)),await this[_0x41c6d4(0x1ab)]['post'](_0x41c6d4(0x1be)+this[_0x41c6d4(0x1af)]+_0x41c6d4(0x1b9),{'messages':_0x384d76,'loggerId':this[_0x41c6d4(0x1a5)]});}catch(_0x4ceb49){this['logger']['error'](_0x4ceb49);throw new internal_server_error_1[(_0x41c6d4(0x1c4))](_0x4ceb49);}}async[a136_0x34cf79(0x1c1)](_0x3a27b7,_0x5e92c6){const _0x1cee4c=a136_0x34cf79;try{const {data:_0x5c0bf9}=await this[_0x1cee4c(0x1ab)]['post'](_0x1cee4c(0x1bd)+constants_1['SALESFORCE_API_VERSION']+_0x1cee4c(0x1c5)+_0x3a27b7+'/',_0x5e92c6);return _0x5c0bf9['id'];}catch(_0x5a75e9){throw new salesforce_error_1[(_0x1cee4c(0x1b0))](_0x5a75e9);}}async['patchObject'](_0x4c503f,_0x918005,_0x2df9a0){const _0x4196e8=a136_0x34cf79;try{await this['request'][_0x4196e8(0x1bb)]('services/data/'+constants_1[_0x4196e8(0x1d1)]+_0x4196e8(0x1c5)+_0x4c503f+'/'+_0x918005,_0x2df9a0);}catch(_0x112f09){throw new salesforce_error_1[(_0x4196e8(0x1b0))](_0x112f09);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a136_0x34cf79(0x1b2)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_auth_service_1[a136_0x34cf79(0x1d2)]])],SalesforceService),exports['SalesforceService']=SalesforceService;