const a110_0x113b=['../../../constants','1282027whyzKd','objectType','1789166hCDadv','fromBranchRecord','SalesforceService','GET_ATTACHMENT_BY_PARENT_ID_AND_NAME_QUERY','getBranchRecords','SYNC_ATTACHMENT_FOR_REPOSITORY_NAME','test','push','length','1yoOLpe','defineProperty','query','metadata','design:paramtypes','map','__esModule','729939vegIni','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','GET_WAITING_BRANCHES_QUERY','fromRepositoryRecord','SalesforceSyncService','decorate','records','\x0a\x20\x20\x20\x20\x20\x20','Sync_In_Progress__c','FLOSUM_GIT_NAMESPACE','object','Service','SalesforceQueryService','GET_BRANCH_QUERY','./salesforce.service','FlosumRepositorySyncDto','salseforceService','constructor','Status__c','getOwnPropertyDescriptor','827251yMavqw','return\x20/\x22\x20+\x20this\x20+\x20\x22/','getComponents','GET_WAITING_REPOSITORIES_QUERY','47098rrhSmK','2JslULZ','\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27','ERR_INVALID_ATTACHMENT_ID','%id%','disableSync','../dto/flosum-repository-sync.dto','Components__r','function','getComponentsFromRepository','getBranchRecord','407116SbRAqG','salesforceQuery','./salesforce-query.service','objectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27','replace','../queries','patchObject','GET_REPOSITORY_QUERY','14AMmvWr','getAttachmentId','setLastSha','Sha__c','1189288CiYNPP','Git_Settings__c','%parentId%','getBranchComponents'];const a110_0x2e9d9e=a110_0x1bc2;(function(_0x166a05,_0x10db6e){const _0x1f1954=a110_0x1bc2;while(!![]){try{const _0x1e818c=parseInt(_0x1f1954(0x18e))+-parseInt(_0x1f1954(0x195))+-parseInt(_0x1f1954(0x18a))*parseInt(_0x1f1954(0x176))+parseInt(_0x1f1954(0x193))+-parseInt(_0x1f1954(0x19e))*-parseInt(_0x1f1954(0x1b9))+parseInt(_0x1f1954(0x181))*parseInt(_0x1f1954(0x177))+-parseInt(_0x1f1954(0x1a5));if(_0x1e818c===_0x10db6e)break;else _0x166a05['push'](_0x166a05['shift']());}catch(_0x43965c){_0x166a05['push'](_0x166a05['shift']());}}}(a110_0x113b,0xe41b1));const a110_0x26c31a=function(){let _0x4c436e=!![];return function(_0x317f94,_0x47d21a){const _0x10eee5=_0x4c436e?function(){if(_0x47d21a){const _0x498d11=_0x47d21a['apply'](_0x317f94,arguments);return _0x47d21a=null,_0x498d11;}}:function(){};return _0x4c436e=![],_0x10eee5;};}(),a110_0x8d120b=a110_0x26c31a(this,function(){const _0x1bb3fa=function(){const _0x24816a=a110_0x1bc2,_0x472ce7=_0x1bb3fa[_0x24816a(0x1b6)](_0x24816a(0x1ba))()[_0x24816a(0x1b6)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x472ce7[_0x24816a(0x19b)](a110_0x8d120b);};return _0x1bb3fa();});function a110_0x1bc2(_0x127a5c,_0x4799c6){return a110_0x1bc2=function(_0x2a8bb4,_0x8d120b){_0x2a8bb4=_0x2a8bb4-0x176;let _0x26c31a=a110_0x113b[_0x2a8bb4];return _0x26c31a;},a110_0x1bc2(_0x127a5c,_0x4799c6);}a110_0x8d120b();'use strict';var __decorate=this&&this['__decorate']||function(_0x5ed726,_0x16ea22,_0x351f99,_0x34a2e7){const _0x12496a=a110_0x1bc2;var _0x41b0a3=arguments['length'],_0x5ee377=_0x41b0a3<0x3?_0x16ea22:_0x34a2e7===null?_0x34a2e7=Object[_0x12496a(0x1b8)](_0x16ea22,_0x351f99):_0x34a2e7,_0x527363;if(typeof Reflect==='object'&&typeof Reflect[_0x12496a(0x1aa)]===_0x12496a(0x17e))_0x5ee377=Reflect[_0x12496a(0x1aa)](_0x5ed726,_0x16ea22,_0x351f99,_0x34a2e7);else{for(var _0x3f7d4f=_0x5ed726[_0x12496a(0x19d)]-0x1;_0x3f7d4f>=0x0;_0x3f7d4f--)if(_0x527363=_0x5ed726[_0x3f7d4f])_0x5ee377=(_0x41b0a3<0x3?_0x527363(_0x5ee377):_0x41b0a3>0x3?_0x527363(_0x16ea22,_0x351f99,_0x5ee377):_0x527363(_0x16ea22,_0x351f99))||_0x5ee377;}return _0x41b0a3>0x3&&_0x5ee377&&Object[_0x12496a(0x19f)](_0x16ea22,_0x351f99,_0x5ee377),_0x5ee377;},__metadata=this&&this['__metadata']||function(_0x17cfdf,_0x2f7d18){const _0x3b1240=a110_0x1bc2;if(typeof Reflect===_0x3b1240(0x1af)&&typeof Reflect[_0x3b1240(0x1a1)]===_0x3b1240(0x17e))return Reflect[_0x3b1240(0x1a1)](_0x17cfdf,_0x2f7d18);};Object[a110_0x2e9d9e(0x19f)](exports,a110_0x2e9d9e(0x1a4),{'value':!![]}),exports[a110_0x2e9d9e(0x1a9)]=void 0x0;const typedi_1=require('typedi'),constants_1=require(a110_0x2e9d9e(0x192)),errors_1=require('../../../constants/errors'),flosum_repository_sync_dto_1=require(a110_0x2e9d9e(0x17c)),queries_1=require(a110_0x2e9d9e(0x187)),salesforce_query_service_1=require(a110_0x2e9d9e(0x183)),salesforce_service_1=require(a110_0x2e9d9e(0x1b3));let SalesforceSyncService=class SalesforceSyncService{constructor(_0x1729fd,_0x48e41d){const _0x591665=a110_0x2e9d9e;this[_0x591665(0x182)]=_0x1729fd,this[_0x591665(0x1b5)]=_0x48e41d;}async[a110_0x2e9d9e(0x1bb)](_0x3e51d6){const _0x38dcd0=a110_0x2e9d9e,_0x293fcf=await this[_0x38dcd0(0x182)][_0x38dcd0(0x1a0)](_0x3e51d6),_0x2c7f56=[];for(const _0x354b0c of _0x293fcf){const _0x17690f=_0x354b0c[constants_1['FLOSUM_NAMESPACE']+_0x38dcd0(0x17d)][_0x38dcd0(0x1ab)][0x0];_0x2c7f56[_0x38dcd0(0x19c)](_0x17690f['Id']);}return _0x2c7f56;}async['getRepositoryRecords'](){const _0x3e342b=a110_0x2e9d9e,_0xb6dc2b=await this[_0x3e342b(0x182)]['query'](queries_1[_0x3e342b(0x1bc)]);return _0xb6dc2b[_0x3e342b(0x1a3)](_0x4848c7=>flosum_repository_sync_dto_1['FlosumRepositorySyncDto'][_0x3e342b(0x1a8)](_0x4848c7));}async[a110_0x2e9d9e(0x199)](){const _0x46bdae=a110_0x2e9d9e,_0x553836=await this['salesforceQuery'][_0x46bdae(0x1a0)](queries_1[_0x46bdae(0x1a7)]);return _0x553836[_0x46bdae(0x1a3)](_0x54faa3=>flosum_repository_sync_dto_1['FlosumRepositorySyncDto'][_0x46bdae(0x196)](_0x54faa3));}async['getRepositoryRecord'](_0x2164c9){const _0x2c172c=a110_0x2e9d9e,_0x2e05c3=await this[_0x2c172c(0x182)]['query'](queries_1[_0x2c172c(0x189)][_0x2c172c(0x186)](_0x2c172c(0x17a),_0x2164c9));return flosum_repository_sync_dto_1[_0x2c172c(0x1b4)][_0x2c172c(0x1a8)](_0x2e05c3[0x0]);}async[a110_0x2e9d9e(0x180)](_0x311903){const _0x4fc148=a110_0x2e9d9e,_0x1e1686=await this[_0x4fc148(0x182)][_0x4fc148(0x1a0)](queries_1[_0x4fc148(0x1b2)][_0x4fc148(0x186)](_0x4fc148(0x17a),_0x311903));return flosum_repository_sync_dto_1[_0x4fc148(0x1b4)][_0x4fc148(0x196)](_0x1e1686[0x0]);}async[a110_0x2e9d9e(0x17f)](_0x295f80){const _0x410b80=a110_0x2e9d9e,_0x52873f=_0x410b80(0x1ac)+queries_1['GET_COMPONENTS_QUERY']+_0x410b80(0x178)+_0x295f80+'\x27';return this[_0x410b80(0x1bb)](_0x52873f);}async[a110_0x2e9d9e(0x191)](_0x5bec44){const _0x1105b5=a110_0x2e9d9e,_0x41b45f=_0x1105b5(0x1a6)+queries_1['GET_COMPONENTS_QUERY']+_0x1105b5(0x185)+_0x5bec44+'\x27';return this[_0x1105b5(0x1bb)](_0x41b45f);}async[a110_0x2e9d9e(0x18b)](_0x35b875){const _0x5087d2=a110_0x2e9d9e;var _0x45c119;const _0x3eb940=queries_1[_0x5087d2(0x198)]['replace'](_0x5087d2(0x190),_0x35b875[_0x5087d2(0x184)])[_0x5087d2(0x186)]('%name%',_0x35b875['repositoryId']?constants_1[_0x5087d2(0x19a)]:constants_1['SYNC_ATTACHMENT_FOR_BRANCH_NAME']),_0x334a98=await this['salesforceQuery']['query'](_0x3eb940),_0x409608=(_0x45c119=_0x334a98[0x0])===null||_0x45c119===void 0x0?void 0x0:_0x45c119['Id'];if(!_0x409608)throw new Error(errors_1[_0x5087d2(0x179)]);return _0x409608;}async['setStatus'](_0xe51a78,_0x109e40){const _0x56a9c5=a110_0x2e9d9e;await this[_0x56a9c5(0x1b5)][_0x56a9c5(0x188)](_0xe51a78[_0x56a9c5(0x194)],_0xe51a78[_0x56a9c5(0x184)],{[constants_1[_0x56a9c5(0x1ae)]+_0x56a9c5(0x1b7)]:_0x109e40});}async[a110_0x2e9d9e(0x18c)](_0x9e6ba3,_0x15d2f5){const _0x489034=a110_0x2e9d9e;await this[_0x489034(0x1b5)]['patchObject'](_0x9e6ba3[_0x489034(0x194)],_0x9e6ba3[_0x489034(0x184)],{[constants_1[_0x489034(0x1ae)]+_0x489034(0x18d)]:_0x15d2f5});}async[a110_0x2e9d9e(0x17b)](_0x52d043){const _0x241959=a110_0x2e9d9e;await this['salseforceService'][_0x241959(0x188)](constants_1[_0x241959(0x1ae)]+_0x241959(0x18f),_0x52d043,{[constants_1[_0x241959(0x1ae)]+_0x241959(0x1ad)]:![]});}};SalesforceSyncService=__decorate([typedi_1[a110_0x2e9d9e(0x1b0)](),__metadata(a110_0x2e9d9e(0x1a2),[salesforce_query_service_1[a110_0x2e9d9e(0x1b1)],salesforce_service_1[a110_0x2e9d9e(0x197)]])],SalesforceSyncService),exports['SalesforceSyncService']=SalesforceSyncService;