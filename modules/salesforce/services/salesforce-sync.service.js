const a106_0x2dad=['SalesforceSyncService','4643WVIvyq','FlosumRepositorySyncDto','Sync_In_Progress__c','getBranchComponents','GET_WAITING_REPOSITORIES_QUERY','6239EBUdTt','%parentId%','patchObject','typedi','metadata','fromBranchRecord','fromRepositoryRecord','SalesforceQueryService','75WwBTJk','map','object','decorate','GET_ATTACHMENT_BY_PARENT_ID_QUERY','Git_Settings__c','GET_COMPONENTS_QUERY','replace','298168YPrYYg','getBranchRecord','function','length','design:paramtypes','196453ynbjXq','__metadata','salseforceService','17KUxugD','test','ERR_INVALID_ATTACHMENT_ID','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','return\x20/\x22\x20+\x20this\x20+\x20\x22/','getComponents','../queries','Sha__c','Service','GET_BRANCH_QUERY','query','getComponentsFromRepository','5uHYrfR','objectType','3ETBdLV','249469UcFrYk','records','getBranchRecords','getRepositoryRecords','./salesforce-query.service','apply','GET_WAITING_BRANCHES_QUERY','setStatus','\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27','FLOSUM_GIT_NAMESPACE','constructor','./salesforce.service','51DrAicu','FLOSUM_NAMESPACE','../dto/flosum-repository-sync.dto','salesforceQuery','1146971noEqUW','Components__r','objectId','\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27'];const a106_0x4ff7de=a106_0x2900;(function(_0x26a61f,_0x38bf04){const _0x42a24d=a106_0x2900;while(!![]){try{const _0x1b4e7e=parseInt(_0x42a24d(0x135))*parseInt(_0x42a24d(0x12c))+parseInt(_0x42a24d(0x14f))+parseInt(_0x42a24d(0x13a))*parseInt(_0x42a24d(0x152))+parseInt(_0x42a24d(0x130))+-parseInt(_0x42a24d(0x11f))*parseInt(_0x42a24d(0x120))+-parseInt(_0x42a24d(0x14a))+-parseInt(_0x42a24d(0x142))*parseInt(_0x42a24d(0x11d));if(_0x1b4e7e===_0x38bf04)break;else _0x26a61f['push'](_0x26a61f['shift']());}catch(_0xc608e3){_0x26a61f['push'](_0x26a61f['shift']());}}}(a106_0x2dad,0x9c162));const a106_0x2e620c=function(){let _0x2e57aa=!![];return function(_0x4ac6d7,_0x522bd2){const _0x5924d7=_0x2e57aa?function(){const _0x5a35b7=a106_0x2900;if(_0x522bd2){const _0x27001b=_0x522bd2[_0x5a35b7(0x125)](_0x4ac6d7,arguments);return _0x522bd2=null,_0x27001b;}}:function(){};return _0x2e57aa=![],_0x5924d7;};}(),a106_0x31697a=a106_0x2e620c(this,function(){const _0x208d91=function(){const _0x333cc5=a106_0x2900,_0x160ca8=_0x208d91['constructor'](_0x333cc5(0x156))()[_0x333cc5(0x12a)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x160ca8[_0x333cc5(0x153)](a106_0x31697a);};return _0x208d91();});a106_0x31697a();function a106_0x2900(_0x34033f,_0x2d84d3){return a106_0x2900=function(_0x2e7232,_0x31697a){_0x2e7232=_0x2e7232-0x118;let _0x2e620c=a106_0x2dad[_0x2e7232];return _0x2e620c;},a106_0x2900(_0x34033f,_0x2d84d3);}'use strict';var __decorate=this&&this['__decorate']||function(_0x3bca97,_0x2c6579,_0x475c77,_0x330bbd){const _0x56ba96=a106_0x2900;var _0x56b61b=arguments[_0x56ba96(0x14d)],_0x5602f5=_0x56b61b<0x3?_0x2c6579:_0x330bbd===null?_0x330bbd=Object['getOwnPropertyDescriptor'](_0x2c6579,_0x475c77):_0x330bbd,_0x553b80;if(typeof Reflect===_0x56ba96(0x144)&&typeof Reflect[_0x56ba96(0x145)]===_0x56ba96(0x14c))_0x5602f5=Reflect[_0x56ba96(0x145)](_0x3bca97,_0x2c6579,_0x475c77,_0x330bbd);else{for(var _0x1e9f7e=_0x3bca97[_0x56ba96(0x14d)]-0x1;_0x1e9f7e>=0x0;_0x1e9f7e--)if(_0x553b80=_0x3bca97[_0x1e9f7e])_0x5602f5=(_0x56b61b<0x3?_0x553b80(_0x5602f5):_0x56b61b>0x3?_0x553b80(_0x2c6579,_0x475c77,_0x5602f5):_0x553b80(_0x2c6579,_0x475c77))||_0x5602f5;}return _0x56b61b>0x3&&_0x5602f5&&Object['defineProperty'](_0x2c6579,_0x475c77,_0x5602f5),_0x5602f5;},__metadata=this&&this[a106_0x4ff7de(0x150)]||function(_0x9ae37,_0x56c5a7){const _0xab9d5=a106_0x4ff7de;if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect[_0xab9d5(0x13e)](_0x9ae37,_0x56c5a7);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a106_0x4ff7de(0x134)]=void 0x0;const typedi_1=require(a106_0x4ff7de(0x13d)),constants_1=require('../../../constants'),errors_1=require('../../../constants/errors'),flosum_repository_sync_dto_1=require(a106_0x4ff7de(0x12e)),queries_1=require(a106_0x4ff7de(0x158)),salesforce_query_service_1=require(a106_0x4ff7de(0x124)),salesforce_service_1=require(a106_0x4ff7de(0x12b));let SalesforceSyncService=class SalesforceSyncService{constructor(_0x521531,_0x407223){const _0x4eca20=a106_0x4ff7de;this[_0x4eca20(0x12f)]=_0x521531,this[_0x4eca20(0x151)]=_0x407223;}async[a106_0x4ff7de(0x157)](_0xa8d1b7){const _0x264ea5=a106_0x4ff7de,_0x2ade01=await this[_0x264ea5(0x12f)][_0x264ea5(0x11b)](_0xa8d1b7),_0x460c98=[];for(const _0x422171 of _0x2ade01){const _0xe5b6f8=_0x422171[constants_1[_0x264ea5(0x12d)]+_0x264ea5(0x131)][_0x264ea5(0x121)][0x0];_0x460c98['push'](_0xe5b6f8['Id']);}return _0x460c98;}async[a106_0x4ff7de(0x123)](){const _0x445af0=a106_0x4ff7de,_0xbbcd64=await this['salesforceQuery'][_0x445af0(0x11b)](queries_1[_0x445af0(0x139)]);return _0xbbcd64[_0x445af0(0x143)](_0x54ef1d=>flosum_repository_sync_dto_1[_0x445af0(0x136)][_0x445af0(0x140)](_0x54ef1d));}async[a106_0x4ff7de(0x122)](){const _0x5d6fc6=a106_0x4ff7de,_0x50623d=await this['salesforceQuery'][_0x5d6fc6(0x11b)](queries_1[_0x5d6fc6(0x126)]);return _0x50623d[_0x5d6fc6(0x143)](_0x3cbf1b=>flosum_repository_sync_dto_1[_0x5d6fc6(0x136)][_0x5d6fc6(0x13f)](_0x3cbf1b));}async['getRepositoryRecord'](_0x35d0b0){const _0x313138=a106_0x4ff7de,_0x5e1468=await this[_0x313138(0x12f)]['query'](queries_1['GET_REPOSITORY_QUERY'][_0x313138(0x149)]('%id%',_0x35d0b0));return flosum_repository_sync_dto_1[_0x313138(0x136)][_0x313138(0x140)](_0x5e1468[0x0]);}async[a106_0x4ff7de(0x14b)](_0x18b11a){const _0x386fee=a106_0x4ff7de,_0x191b62=await this[_0x386fee(0x12f)]['query'](queries_1[_0x386fee(0x11a)]['replace']('%id%',_0x18b11a));return flosum_repository_sync_dto_1[_0x386fee(0x136)][_0x386fee(0x13f)](_0x191b62[0x0]);}async[a106_0x4ff7de(0x11c)](_0x4e7614){const _0x41692c=a106_0x4ff7de,_0x309d8b='\x0a\x20\x20\x20\x20\x20\x20'+queries_1[_0x41692c(0x148)]+_0x41692c(0x133)+_0x4e7614+'\x27';return this['getComponents'](_0x309d8b);}async[a106_0x4ff7de(0x138)](_0x17f9a6){const _0x5da432=a106_0x4ff7de,_0x314875=_0x5da432(0x155)+queries_1[_0x5da432(0x148)]+_0x5da432(0x128)+_0x17f9a6+'\x27';return this[_0x5da432(0x157)](_0x314875);}async['getAttachmentIdByParent'](_0x115ffd){const _0x84227b=a106_0x4ff7de;var _0x5f5875;const _0x1b7d46=queries_1[_0x84227b(0x146)]['replace'](_0x84227b(0x13b),_0x115ffd),_0x1a5363=await this[_0x84227b(0x12f)][_0x84227b(0x11b)](_0x1b7d46),_0x98002e=(_0x5f5875=_0x1a5363[0x0])===null||_0x5f5875===void 0x0?void 0x0:_0x5f5875['Id'];if(!_0x98002e)throw new Error(errors_1[_0x84227b(0x154)]);return _0x98002e;}async[a106_0x4ff7de(0x127)](_0x27b83c,_0xd48e24){const _0x23ec6f=a106_0x4ff7de;await this[_0x23ec6f(0x151)][_0x23ec6f(0x13c)](_0x27b83c['objectType'],_0x27b83c[_0x23ec6f(0x132)],{[constants_1[_0x23ec6f(0x129)]+'Status__c']:_0xd48e24});}async['setLastSha'](_0x401e21,_0x3c86da){const _0x503050=a106_0x4ff7de;await this['salseforceService'][_0x503050(0x13c)](_0x401e21[_0x503050(0x11e)],_0x401e21[_0x503050(0x132)],{[constants_1[_0x503050(0x129)]+_0x503050(0x118)]:_0x3c86da});}async['disableSync'](_0x38519c){const _0x2309f1=a106_0x4ff7de;await this[_0x2309f1(0x151)][_0x2309f1(0x13c)](constants_1[_0x2309f1(0x129)]+_0x2309f1(0x147),_0x38519c,{[constants_1[_0x2309f1(0x129)]+_0x2309f1(0x137)]:![]});}};SalesforceSyncService=__decorate([typedi_1[a106_0x4ff7de(0x119)](),__metadata(a106_0x4ff7de(0x14e),[salesforce_query_service_1[a106_0x4ff7de(0x141)],salesforce_service_1['SalesforceService']])],SalesforceSyncService),exports[a106_0x4ff7de(0x134)]=SalesforceSyncService;