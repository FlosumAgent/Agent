const a110_0x4e0b26=a110_0x555f;(function(_0x496e69,_0x532bb4){const _0x5c01aa=a110_0x555f,_0x17cff0=_0x496e69();while(!![]){try{const _0xe555e1=-parseInt(_0x5c01aa(0x130))/0x1*(-parseInt(_0x5c01aa(0x150))/0x2)+parseInt(_0x5c01aa(0x135))/0x3+parseInt(_0x5c01aa(0x15a))/0x4*(parseInt(_0x5c01aa(0x13a))/0x5)+parseInt(_0x5c01aa(0x139))/0x6+-parseInt(_0x5c01aa(0x126))/0x7*(-parseInt(_0x5c01aa(0x116))/0x8)+-parseInt(_0x5c01aa(0x144))/0x9+-parseInt(_0x5c01aa(0x124))/0xa*(parseInt(_0x5c01aa(0x11a))/0xb);if(_0xe555e1===_0x532bb4)break;else _0x17cff0['push'](_0x17cff0['shift']());}catch(_0x2d8278){_0x17cff0['push'](_0x17cff0['shift']());}}}(a110_0x469d,0x423ce));const a110_0x442ef8=function(){let _0x4f8e92=!![];return function(_0xdd7ddd,_0x403d65){const _0x178634=_0x4f8e92?function(){if(_0x403d65){const _0x24f5d0=_0x403d65['apply'](_0xdd7ddd,arguments);return _0x403d65=null,_0x24f5d0;}}:function(){};return _0x4f8e92=![],_0x178634;};}(),a110_0x36a4c0=a110_0x442ef8(this,function(){const _0x5a4701=a110_0x555f;return a110_0x36a4c0[_0x5a4701(0x147)]()['search'](_0x5a4701(0x13b))['toString']()[_0x5a4701(0x156)](a110_0x36a4c0)[_0x5a4701(0x14b)]('(((.+)+)+)+$');});function a110_0x469d(){const _0x5947ee=['toString','SYNC_ATTACHMENT_FOR_BRANCH_NAME','patchObject','repositoryId','search','GET_WAITING_BRANCHES_QUERY','getAttachmentId','SalesforceService','objectId','569858NkgaED','map','__metadata','SYNC_ATTACHMENT_FOR_REPOSITORY_NAME','\x0a\x20\x20\x20\x20\x20\x20','setStatus','constructor','Components__r','SalesforceSyncService','FLOSUM_GIT_NAMESPACE','11212LCSbCB','GET_WAITING_REPOSITORIES_QUERY','1020176ikklkS','salesforceQuery','\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27','Git_Settings__c','1619167NwaPHX','\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27','setLastSha','getBranchRecords','./salesforce.service','ERR_INVALID_ATTACHMENT_ID','salseforceService','%name%','FlosumRepositorySyncDto','query','60XoeLsj','Sha__c','7WlWKJx','metadata','getComponents','length','defineProperty','__decorate','fromRepositoryRecord','fromBranchRecord','__esModule','%parentId%','1WSwdNU','SalesforceQueryService','Sync_In_Progress__c','disableSync','object','448443DGTrun','decorate','push','./salesforce-query.service','2954262TiwNnu','205udpJgZ','(((.+)+)+)+$','objectType','GET_ATTACHMENT_BY_PARENT_ID_AND_NAME_QUERY','../dto/flosum-repository-sync.dto','replace','%id%','records','getBranchComponents','getBranchRecord','132660CDsYkH','function','getRepositoryRecord'];a110_0x469d=function(){return _0x5947ee;};return a110_0x469d();}a110_0x36a4c0();function a110_0x555f(_0x24baf1,_0x647ad){const _0x3846e6=a110_0x469d();return a110_0x555f=function(_0x36a4c0,_0x442ef8){_0x36a4c0=_0x36a4c0-0x116;let _0x469d3e=_0x3846e6[_0x36a4c0];return _0x469d3e;},a110_0x555f(_0x24baf1,_0x647ad);}'use strict';var __decorate=this&&this[a110_0x4e0b26(0x12b)]||function(_0x3d43ce,_0x1ea1f7,_0x32ddb3,_0x5e0419){const _0x36db54=a110_0x4e0b26;var _0x3b3115=arguments[_0x36db54(0x129)],_0x255e3b=_0x3b3115<0x3?_0x1ea1f7:_0x5e0419===null?_0x5e0419=Object['getOwnPropertyDescriptor'](_0x1ea1f7,_0x32ddb3):_0x5e0419,_0x162179;if(typeof Reflect===_0x36db54(0x134)&&typeof Reflect['decorate']===_0x36db54(0x145))_0x255e3b=Reflect[_0x36db54(0x136)](_0x3d43ce,_0x1ea1f7,_0x32ddb3,_0x5e0419);else{for(var _0x29a010=_0x3d43ce[_0x36db54(0x129)]-0x1;_0x29a010>=0x0;_0x29a010--)if(_0x162179=_0x3d43ce[_0x29a010])_0x255e3b=(_0x3b3115<0x3?_0x162179(_0x255e3b):_0x3b3115>0x3?_0x162179(_0x1ea1f7,_0x32ddb3,_0x255e3b):_0x162179(_0x1ea1f7,_0x32ddb3))||_0x255e3b;}return _0x3b3115>0x3&&_0x255e3b&&Object[_0x36db54(0x12a)](_0x1ea1f7,_0x32ddb3,_0x255e3b),_0x255e3b;},__metadata=this&&this[a110_0x4e0b26(0x152)]||function(_0x56b0f7,_0x490a0c){const _0x5a7900=a110_0x4e0b26;if(typeof Reflect===_0x5a7900(0x134)&&typeof Reflect[_0x5a7900(0x127)]===_0x5a7900(0x145))return Reflect[_0x5a7900(0x127)](_0x56b0f7,_0x490a0c);};Object[a110_0x4e0b26(0x12a)](exports,a110_0x4e0b26(0x12e),{'value':!![]}),exports[a110_0x4e0b26(0x158)]=void 0x0;const typedi_1=require('typedi'),constants_1=require('../../../constants'),errors_1=require('../../../constants/errors'),flosum_repository_sync_dto_1=require(a110_0x4e0b26(0x13e)),queries_1=require('../queries'),salesforce_query_service_1=require(a110_0x4e0b26(0x138)),salesforce_service_1=require(a110_0x4e0b26(0x11e));let SalesforceSyncService=class SalesforceSyncService{constructor(_0x11aa4a,_0x41a4fa){const _0x2f6d01=a110_0x4e0b26;this[_0x2f6d01(0x117)]=_0x11aa4a,this['salseforceService']=_0x41a4fa;}async[a110_0x4e0b26(0x128)](_0x4dc12c){const _0x2e9ced=a110_0x4e0b26,_0x326403=await this[_0x2e9ced(0x117)][_0x2e9ced(0x123)](_0x4dc12c),_0x391dd6=[];for(const _0x469064 of _0x326403){const _0x13074d=_0x469064[constants_1['FLOSUM_NAMESPACE']+_0x2e9ced(0x157)][_0x2e9ced(0x141)][0x0];_0x391dd6[_0x2e9ced(0x137)](_0x13074d['Id']);}return _0x391dd6;}async['getRepositoryRecords'](){const _0x15bfc0=a110_0x4e0b26,_0x4078e3=await this[_0x15bfc0(0x117)][_0x15bfc0(0x123)](queries_1[_0x15bfc0(0x15b)]);return _0x4078e3[_0x15bfc0(0x151)](_0x43bb9c=>flosum_repository_sync_dto_1['FlosumRepositorySyncDto'][_0x15bfc0(0x12c)](_0x43bb9c));}async[a110_0x4e0b26(0x11d)](){const _0x3c9e91=a110_0x4e0b26,_0x130adc=await this['salesforceQuery'][_0x3c9e91(0x123)](queries_1[_0x3c9e91(0x14c)]);return _0x130adc[_0x3c9e91(0x151)](_0x24c4c3=>flosum_repository_sync_dto_1['FlosumRepositorySyncDto'][_0x3c9e91(0x12d)](_0x24c4c3));}async[a110_0x4e0b26(0x146)](_0x30c5c4){const _0x5b3a6b=a110_0x4e0b26,_0x369cbf=await this[_0x5b3a6b(0x117)]['query'](queries_1['GET_REPOSITORY_QUERY'][_0x5b3a6b(0x13f)](_0x5b3a6b(0x140),_0x30c5c4));return flosum_repository_sync_dto_1[_0x5b3a6b(0x122)]['fromRepositoryRecord'](_0x369cbf[0x0]);}async[a110_0x4e0b26(0x143)](_0xa165a3){const _0x2f8919=a110_0x4e0b26,_0x1ed77f=await this[_0x2f8919(0x117)][_0x2f8919(0x123)](queries_1['GET_BRANCH_QUERY'][_0x2f8919(0x13f)](_0x2f8919(0x140),_0xa165a3));return flosum_repository_sync_dto_1['FlosumRepositorySyncDto'][_0x2f8919(0x12d)](_0x1ed77f[0x0]);}async['getComponentsFromRepository'](_0x2e704c){const _0x112310=a110_0x4e0b26,_0x4ad053=_0x112310(0x154)+queries_1['GET_COMPONENTS_QUERY']+_0x112310(0x118)+_0x2e704c+'\x27';return this[_0x112310(0x128)](_0x4ad053);}async[a110_0x4e0b26(0x142)](_0x15476c){const _0x452710=a110_0x4e0b26,_0x157fc7='\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+queries_1['GET_COMPONENTS_QUERY']+_0x452710(0x11b)+_0x15476c+'\x27';return this[_0x452710(0x128)](_0x157fc7);}async[a110_0x4e0b26(0x14d)](_0x5a535e){const _0x7375d7=a110_0x4e0b26;var _0x3f86ef;const _0x4e31b3=queries_1[_0x7375d7(0x13d)][_0x7375d7(0x13f)](_0x7375d7(0x12f),_0x5a535e['objectId'])[_0x7375d7(0x13f)](_0x7375d7(0x121),_0x5a535e[_0x7375d7(0x14a)]?constants_1[_0x7375d7(0x153)]:constants_1[_0x7375d7(0x148)]),_0x1e5464=await this[_0x7375d7(0x117)]['query'](_0x4e31b3),_0x4f6084=(_0x3f86ef=_0x1e5464[0x0])===null||_0x3f86ef===void 0x0?void 0x0:_0x3f86ef['Id'];if(!_0x4f6084)throw new Error(errors_1[_0x7375d7(0x11f)]);return _0x4f6084;}async[a110_0x4e0b26(0x155)](_0xd43fce,_0x4cfcde){const _0x548e16=a110_0x4e0b26;await this[_0x548e16(0x120)][_0x548e16(0x149)](_0xd43fce[_0x548e16(0x13c)],_0xd43fce[_0x548e16(0x14f)],{[constants_1[_0x548e16(0x159)]+'Status__c']:_0x4cfcde});}async[a110_0x4e0b26(0x11c)](_0x130210,_0x1da855){const _0x3e2b4b=a110_0x4e0b26;await this[_0x3e2b4b(0x120)][_0x3e2b4b(0x149)](_0x130210[_0x3e2b4b(0x13c)],_0x130210['objectId'],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x3e2b4b(0x125)]:_0x1da855});}async[a110_0x4e0b26(0x133)](_0x40a86d){const _0x622950=a110_0x4e0b26;await this[_0x622950(0x120)]['patchObject'](constants_1['FLOSUM_GIT_NAMESPACE']+_0x622950(0x119),_0x40a86d,{[constants_1[_0x622950(0x159)]+_0x622950(0x132)]:![]});}};SalesforceSyncService=__decorate([(0x0,typedi_1['Service'])(),__metadata('design:paramtypes',[salesforce_query_service_1[a110_0x4e0b26(0x131)],salesforce_service_1[a110_0x4e0b26(0x14e)]])],SalesforceSyncService),exports[a110_0x4e0b26(0x158)]=SalesforceSyncService;