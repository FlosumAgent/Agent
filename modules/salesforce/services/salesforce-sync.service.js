const a109_0x1241=['getAttachmentId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','363980ZOUrqz','push','SalesforceQueryService','getComponentsFromRepository','repositoryId','467gYJYBD','getComponents','7651iyOdlE','GET_REPOSITORY_QUERY','Sync_In_Progress__c','getBranchComponents','SYNC_ATTACHMENT_FOR_REPOSITORY_NAME','apply','decorate','disableSync','Components__r','2GfdAoP','objectId','__metadata','35SFsuEW','261949kToyef','GET_WAITING_BRANCHES_QUERY','metadata','GET_ATTACHMENT_BY_PARENT_ID_AND_NAME_QUERY','fromBranchRecord','objectType','SalesforceSyncService','salesforceQuery','map','replace','../dto/flosum-repository-sync.dto','../../../constants','constructor','166349sfHgWq','7295IJQGAM','getRepositoryRecord','setStatus','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','return\x20/\x22\x20+\x20this\x20+\x20\x22/','FlosumRepositorySyncDto','%id%','salseforceService','GET_COMPONENTS_QUERY','%name%','typedi','design:paramtypes','test','149113FJqLNS','../queries','function','setLastSha','\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27','%parentId%','object','Git_Settings__c','3009oPRJdJ','patchObject','GET_BRANCH_QUERY','SalesforceService','query','\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27','defineProperty','getBranchRecord','./salesforce-query.service','GET_WAITING_REPOSITORIES_QUERY','43GDvING','FLOSUM_GIT_NAMESPACE','length','fromRepositoryRecord','Service','__decorate','Status__c'];const a109_0xf4d105=a109_0x287c;(function(_0x540d58,_0x15ed85){const _0x5593c0=a109_0x287c;while(!![]){try{const _0x3d9dc1=-parseInt(_0x5593c0(0x1e6))*-parseInt(_0x5593c0(0x1da))+-parseInt(_0x5593c0(0x1e7))+parseInt(_0x5593c0(0x1f4))*-parseInt(_0x5593c0(0x1e3))+-parseInt(_0x5593c0(0x1b8))+-parseInt(_0x5593c0(0x1d3))+-parseInt(_0x5593c0(0x1f5))*parseInt(_0x5593c0(0x1ca))+parseInt(_0x5593c0(0x1d8))*parseInt(_0x5593c0(0x1c0));if(_0x3d9dc1===_0x15ed85)break;else _0x540d58['push'](_0x540d58['shift']());}catch(_0xc2d377){_0x540d58['push'](_0x540d58['shift']());}}}(a109_0x1241,0x3d6ab));const a109_0x3b0612=function(){let _0xf5dcb6=!![];return function(_0x3dd9d1,_0x4df93b){const _0xcae042=_0xf5dcb6?function(){const _0x22fbad=a109_0x287c;if(_0x4df93b){const _0x2444fa=_0x4df93b[_0x22fbad(0x1df)](_0x3dd9d1,arguments);return _0x4df93b=null,_0x2444fa;}}:function(){};return _0xf5dcb6=![],_0xcae042;};}(),a109_0x11c5ea=a109_0x3b0612(this,function(){const _0x1fae50=function(){const _0x3e45ab=a109_0x287c,_0x46a2af=_0x1fae50['constructor'](_0x3e45ab(0x1f9))()[_0x3e45ab(0x1f3)](_0x3e45ab(0x1f8));return!_0x46a2af[_0x3e45ab(0x1b7)](a109_0x11c5ea);};return _0x1fae50();});a109_0x11c5ea();'use strict';var __decorate=this&&this[a109_0xf4d105(0x1cf)]||function(_0x25f628,_0x458d01,_0x23136f,_0x27442b){const _0x1c614b=a109_0xf4d105;var _0x2e033a=arguments['length'],_0x3d50f7=_0x2e033a<0x3?_0x458d01:_0x27442b===null?_0x27442b=Object['getOwnPropertyDescriptor'](_0x458d01,_0x23136f):_0x27442b,_0x371cec;if(typeof Reflect===_0x1c614b(0x1be)&&typeof Reflect[_0x1c614b(0x1e0)]===_0x1c614b(0x1ba))_0x3d50f7=Reflect[_0x1c614b(0x1e0)](_0x25f628,_0x458d01,_0x23136f,_0x27442b);else{for(var _0x2c24dd=_0x25f628[_0x1c614b(0x1cc)]-0x1;_0x2c24dd>=0x0;_0x2c24dd--)if(_0x371cec=_0x25f628[_0x2c24dd])_0x3d50f7=(_0x2e033a<0x3?_0x371cec(_0x3d50f7):_0x2e033a>0x3?_0x371cec(_0x458d01,_0x23136f,_0x3d50f7):_0x371cec(_0x458d01,_0x23136f))||_0x3d50f7;}return _0x2e033a>0x3&&_0x3d50f7&&Object[_0x1c614b(0x1c6)](_0x458d01,_0x23136f,_0x3d50f7),_0x3d50f7;},__metadata=this&&this[a109_0xf4d105(0x1e5)]||function(_0x26af76,_0xbb5710){const _0x438440=a109_0xf4d105;if(typeof Reflect===_0x438440(0x1be)&&typeof Reflect[_0x438440(0x1e9)]===_0x438440(0x1ba))return Reflect[_0x438440(0x1e9)](_0x26af76,_0xbb5710);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a109_0xf4d105(0x1ed)]=void 0x0;function a109_0x287c(_0x255bd5,_0xfc4fe){return a109_0x287c=function(_0x53ce77,_0x11c5ea){_0x53ce77=_0x53ce77-0x1b5;let _0x3b0612=a109_0x1241[_0x53ce77];return _0x3b0612;},a109_0x287c(_0x255bd5,_0xfc4fe);}const typedi_1=require(a109_0xf4d105(0x1b5)),constants_1=require(a109_0xf4d105(0x1f2)),errors_1=require('../../../constants/errors'),flosum_repository_sync_dto_1=require(a109_0xf4d105(0x1f1)),queries_1=require(a109_0xf4d105(0x1b9)),salesforce_query_service_1=require(a109_0xf4d105(0x1c8)),salesforce_service_1=require('./salesforce.service');let SalesforceSyncService=class SalesforceSyncService{constructor(_0x199bbf,_0x4dc247){this['salesforceQuery']=_0x199bbf,this['salseforceService']=_0x4dc247;}async[a109_0xf4d105(0x1d9)](_0x34407a){const _0x33c198=a109_0xf4d105,_0x2679d1=await this[_0x33c198(0x1ee)]['query'](_0x34407a),_0x13b089=[];for(const _0x57decb of _0x2679d1){const _0x2f3fe1=_0x57decb[constants_1['FLOSUM_NAMESPACE']+_0x33c198(0x1e2)]['records'][0x0];_0x13b089[_0x33c198(0x1d4)](_0x2f3fe1['Id']);}return _0x13b089;}async['getRepositoryRecords'](){const _0x27799c=a109_0xf4d105,_0x4e39ac=await this[_0x27799c(0x1ee)][_0x27799c(0x1c4)](queries_1[_0x27799c(0x1c9)]);return _0x4e39ac[_0x27799c(0x1ef)](_0xf0ece3=>flosum_repository_sync_dto_1[_0x27799c(0x1fa)][_0x27799c(0x1cd)](_0xf0ece3));}async['getBranchRecords'](){const _0x5a266a=a109_0xf4d105,_0x4129a0=await this[_0x5a266a(0x1ee)]['query'](queries_1[_0x5a266a(0x1e8)]);return _0x4129a0[_0x5a266a(0x1ef)](_0x1493e5=>flosum_repository_sync_dto_1['FlosumRepositorySyncDto']['fromBranchRecord'](_0x1493e5));}async[a109_0xf4d105(0x1f6)](_0x1b2fb1){const _0x70e3b0=a109_0xf4d105,_0x271e0c=await this['salesforceQuery'][_0x70e3b0(0x1c4)](queries_1[_0x70e3b0(0x1db)][_0x70e3b0(0x1f0)]('%id%',_0x1b2fb1));return flosum_repository_sync_dto_1[_0x70e3b0(0x1fa)][_0x70e3b0(0x1cd)](_0x271e0c[0x0]);}async[a109_0xf4d105(0x1c7)](_0x407c26){const _0x3ad8ca=a109_0xf4d105,_0x29956b=await this[_0x3ad8ca(0x1ee)][_0x3ad8ca(0x1c4)](queries_1[_0x3ad8ca(0x1c2)][_0x3ad8ca(0x1f0)](_0x3ad8ca(0x1fb),_0x407c26));return flosum_repository_sync_dto_1[_0x3ad8ca(0x1fa)][_0x3ad8ca(0x1eb)](_0x29956b[0x0]);}async[a109_0xf4d105(0x1d6)](_0x54b829){const _0x2e7b7f=a109_0xf4d105,_0x1cc33a='\x0a\x20\x20\x20\x20\x20\x20'+queries_1[_0x2e7b7f(0x1fd)]+_0x2e7b7f(0x1c5)+_0x54b829+'\x27';return this[_0x2e7b7f(0x1d9)](_0x1cc33a);}async[a109_0xf4d105(0x1dd)](_0x125056){const _0x11afc0=a109_0xf4d105,_0x2ad7eb=_0x11afc0(0x1d2)+queries_1['GET_COMPONENTS_QUERY']+_0x11afc0(0x1bc)+_0x125056+'\x27';return this[_0x11afc0(0x1d9)](_0x2ad7eb);}async[a109_0xf4d105(0x1d1)](_0xd0a69d){const _0x2e7a48=a109_0xf4d105;var _0x29777a;const _0x45b6b8=queries_1[_0x2e7a48(0x1ea)][_0x2e7a48(0x1f0)](_0x2e7a48(0x1bd),_0xd0a69d[_0x2e7a48(0x1e4)])[_0x2e7a48(0x1f0)](_0x2e7a48(0x1fe),_0xd0a69d[_0x2e7a48(0x1d7)]?constants_1[_0x2e7a48(0x1de)]:constants_1['SYNC_ATTACHMENT_FOR_BRANCH_NAME']),_0x10b57a=await this[_0x2e7a48(0x1ee)][_0x2e7a48(0x1c4)](_0x45b6b8),_0x31f95f=(_0x29777a=_0x10b57a[0x0])===null||_0x29777a===void 0x0?void 0x0:_0x29777a['Id'];if(!_0x31f95f)throw new Error(errors_1['ERR_INVALID_ATTACHMENT_ID']);return _0x31f95f;}async[a109_0xf4d105(0x1f7)](_0x7abbe1,_0x2e7be0){const _0x3e2fa8=a109_0xf4d105;await this[_0x3e2fa8(0x1fc)][_0x3e2fa8(0x1c1)](_0x7abbe1[_0x3e2fa8(0x1ec)],_0x7abbe1[_0x3e2fa8(0x1e4)],{[constants_1[_0x3e2fa8(0x1cb)]+_0x3e2fa8(0x1d0)]:_0x2e7be0});}async[a109_0xf4d105(0x1bb)](_0xa8e9d8,_0x2b752c){const _0x1e1a5b=a109_0xf4d105;await this[_0x1e1a5b(0x1fc)][_0x1e1a5b(0x1c1)](_0xa8e9d8[_0x1e1a5b(0x1ec)],_0xa8e9d8['objectId'],{[constants_1['FLOSUM_GIT_NAMESPACE']+'Sha__c']:_0x2b752c});}async[a109_0xf4d105(0x1e1)](_0xa89fc7){const _0x5030b4=a109_0xf4d105;await this[_0x5030b4(0x1fc)][_0x5030b4(0x1c1)](constants_1['FLOSUM_GIT_NAMESPACE']+_0x5030b4(0x1bf),_0xa89fc7,{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x5030b4(0x1dc)]:![]});}};SalesforceSyncService=__decorate([typedi_1[a109_0xf4d105(0x1ce)](),__metadata(a109_0xf4d105(0x1b6),[salesforce_query_service_1[a109_0xf4d105(0x1d5)],salesforce_service_1[a109_0xf4d105(0x1c3)]])],SalesforceSyncService),exports['SalesforceSyncService']=SalesforceSyncService;