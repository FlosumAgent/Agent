const a110_0x3aa2=['salesforceQuery','__decorate','push','GET_BRANCH_QUERY','design:paramtypes','repositoryId','SalesforceService','test','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','salseforceService','\x0a\x20\x20\x20\x20\x20\x20','./salesforce.service','1uLBomI','replace','Components__r','GET_COMPONENTS_QUERY','10657GiPRbE','SalesforceSyncService','objectId','770262PFtpze','983954SzZEOS','disableSync','SYNC_ATTACHMENT_FOR_BRANCH_NAME','metadata','getComponents','apply','defineProperty','%id%','FlosumRepositorySyncDto','../../../constants','GET_REPOSITORY_QUERY','Sync_In_Progress__c','query','object','841699FkeJPu','function','typedi','objectType','FLOSUM_NAMESPACE','decorate','SYNC_ATTACHMENT_FOR_REPOSITORY_NAME','getOwnPropertyDescriptor','162427VCALsB','700967ZLygSJ','getComponentsFromRepository','fromBranchRecord','\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27','__metadata','GET_WAITING_BRANCHES_QUERY','./salesforce-query.service','../dto/flosum-repository-sync.dto','patchObject','records','map','fromRepositoryRecord','%parentId%','1fACXDT','FLOSUM_GIT_NAMESPACE','getBranchRecords','getBranchComponents','setLastSha','1763595zZnPJr','length','getRepositoryRecord','getRepositoryRecords','ERR_INVALID_ATTACHMENT_ID','return\x20/\x22\x20+\x20this\x20+\x20\x22/','61beVWCS','SalesforceQueryService'];const a110_0x53a584=a110_0x25f8;(function(_0xf1ccb6,_0x50cd45){const _0x25beec=a110_0x25f8;while(!![]){try{const _0x4c7117=parseInt(_0x25beec(0x1a8))+-parseInt(_0x25beec(0x1b6))*-parseInt(_0x25beec(0x187))+-parseInt(_0x25beec(0x1bf))+-parseInt(_0x25beec(0x1be))+parseInt(_0x25beec(0x1a7))+parseInt(_0x25beec(0x192))*parseInt(_0x25beec(0x1a4))+-parseInt(_0x25beec(0x18c))*parseInt(_0x25beec(0x1a0));if(_0x4c7117===_0x50cd45)break;else _0xf1ccb6['push'](_0xf1ccb6['shift']());}catch(_0x15f38f){_0xf1ccb6['push'](_0xf1ccb6['shift']());}}}(a110_0x3aa2,0x971fb));function a110_0x25f8(_0x4bfafc,_0x563745){return a110_0x25f8=function(_0x57a127,_0x16a91c){_0x57a127=_0x57a127-0x184;let _0x8c8009=a110_0x3aa2[_0x57a127];return _0x8c8009;},a110_0x25f8(_0x4bfafc,_0x563745);}const a110_0x8c8009=function(){let _0x2cbecf=!![];return function(_0x4953ba,_0xdfa262){const _0x2a3373=_0x2cbecf?function(){const _0x1bdc33=a110_0x25f8;if(_0xdfa262){const _0xd2ea6a=_0xdfa262[_0x1bdc33(0x1ad)](_0x4953ba,arguments);return _0xdfa262=null,_0xd2ea6a;}}:function(){};return _0x2cbecf=![],_0x2a3373;};}(),a110_0x16a91c=a110_0x8c8009(this,function(){const _0x3c5f20=function(){const _0x17b66b=a110_0x25f8,_0x4f544d=_0x3c5f20['constructor'](_0x17b66b(0x191))()['constructor'](_0x17b66b(0x19c));return!_0x4f544d[_0x17b66b(0x19b)](a110_0x16a91c);};return _0x3c5f20();});a110_0x16a91c();'use strict';var __decorate=this&&this[a110_0x53a584(0x195)]||function(_0xbf1e39,_0x4bf3fc,_0x2a7e0b,_0x3663fa){const _0x3da56e=a110_0x53a584;var _0xa0e172=arguments[_0x3da56e(0x18d)],_0x2510f0=_0xa0e172<0x3?_0x4bf3fc:_0x3663fa===null?_0x3663fa=Object[_0x3da56e(0x1bd)](_0x4bf3fc,_0x2a7e0b):_0x3663fa,_0x557999;if(typeof Reflect===_0x3da56e(0x1b5)&&typeof Reflect[_0x3da56e(0x1bb)]===_0x3da56e(0x1b7))_0x2510f0=Reflect[_0x3da56e(0x1bb)](_0xbf1e39,_0x4bf3fc,_0x2a7e0b,_0x3663fa);else{for(var _0x5ba12b=_0xbf1e39[_0x3da56e(0x18d)]-0x1;_0x5ba12b>=0x0;_0x5ba12b--)if(_0x557999=_0xbf1e39[_0x5ba12b])_0x2510f0=(_0xa0e172<0x3?_0x557999(_0x2510f0):_0xa0e172>0x3?_0x557999(_0x4bf3fc,_0x2a7e0b,_0x2510f0):_0x557999(_0x4bf3fc,_0x2a7e0b))||_0x2510f0;}return _0xa0e172>0x3&&_0x2510f0&&Object[_0x3da56e(0x1ae)](_0x4bf3fc,_0x2a7e0b,_0x2510f0),_0x2510f0;},__metadata=this&&this[a110_0x53a584(0x1c3)]||function(_0x168d28,_0x2cf970){const _0x582928=a110_0x53a584;if(typeof Reflect===_0x582928(0x1b5)&&typeof Reflect[_0x582928(0x1ab)]===_0x582928(0x1b7))return Reflect[_0x582928(0x1ab)](_0x168d28,_0x2cf970);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a110_0x53a584(0x1a5)]=void 0x0;const typedi_1=require(a110_0x53a584(0x1b8)),constants_1=require(a110_0x53a584(0x1b1)),errors_1=require('../../../constants/errors'),flosum_repository_sync_dto_1=require(a110_0x53a584(0x1c6)),queries_1=require('../queries'),salesforce_query_service_1=require(a110_0x53a584(0x1c5)),salesforce_service_1=require(a110_0x53a584(0x19f));let SalesforceSyncService=class SalesforceSyncService{constructor(_0x1676b1,_0x5ed4c4){const _0x26e399=a110_0x53a584;this[_0x26e399(0x194)]=_0x1676b1,this[_0x26e399(0x19d)]=_0x5ed4c4;}async[a110_0x53a584(0x1ac)](_0x4d5951){const _0x3b4f54=a110_0x53a584,_0x31b9ba=await this['salesforceQuery'][_0x3b4f54(0x1b4)](_0x4d5951),_0x1b155f=[];for(const _0x5ad5b1 of _0x31b9ba){const _0x4fc347=_0x5ad5b1[constants_1[_0x3b4f54(0x1ba)]+_0x3b4f54(0x1a2)][_0x3b4f54(0x1c8)][0x0];_0x1b155f[_0x3b4f54(0x196)](_0x4fc347['Id']);}return _0x1b155f;}async[a110_0x53a584(0x18f)](){const _0x1e9837=a110_0x53a584,_0x4f112b=await this[_0x1e9837(0x194)][_0x1e9837(0x1b4)](queries_1['GET_WAITING_REPOSITORIES_QUERY']);return _0x4f112b[_0x1e9837(0x184)](_0x5978bc=>flosum_repository_sync_dto_1[_0x1e9837(0x1b0)][_0x1e9837(0x185)](_0x5978bc));}async[a110_0x53a584(0x189)](){const _0x90773b=a110_0x53a584,_0x40c8b2=await this[_0x90773b(0x194)]['query'](queries_1[_0x90773b(0x1c4)]);return _0x40c8b2[_0x90773b(0x184)](_0x4268ad=>flosum_repository_sync_dto_1[_0x90773b(0x1b0)][_0x90773b(0x1c1)](_0x4268ad));}async[a110_0x53a584(0x18e)](_0x4499b0){const _0x4f51d8=a110_0x53a584,_0xa6ef3b=await this[_0x4f51d8(0x194)]['query'](queries_1[_0x4f51d8(0x1b2)]['replace'](_0x4f51d8(0x1af),_0x4499b0));return flosum_repository_sync_dto_1[_0x4f51d8(0x1b0)]['fromRepositoryRecord'](_0xa6ef3b[0x0]);}async['getBranchRecord'](_0x529c27){const _0x57887f=a110_0x53a584,_0x317f0a=await this[_0x57887f(0x194)]['query'](queries_1[_0x57887f(0x197)][_0x57887f(0x1a1)](_0x57887f(0x1af),_0x529c27));return flosum_repository_sync_dto_1[_0x57887f(0x1b0)]['fromBranchRecord'](_0x317f0a[0x0]);}async[a110_0x53a584(0x1c0)](_0x531fa4){const _0x62f39=a110_0x53a584,_0x1284e4=_0x62f39(0x19e)+queries_1[_0x62f39(0x1a3)]+'\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27'+_0x531fa4+'\x27';return this[_0x62f39(0x1ac)](_0x1284e4);}async[a110_0x53a584(0x18a)](_0x345187){const _0x369338=a110_0x53a584,_0x5b2ffd='\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+queries_1[_0x369338(0x1a3)]+_0x369338(0x1c2)+_0x345187+'\x27';return this[_0x369338(0x1ac)](_0x5b2ffd);}async['getAttachmentId'](_0x270ec8){const _0x2dd8a6=a110_0x53a584;var _0xb22c61;const _0x315283=queries_1['GET_ATTACHMENT_BY_PARENT_ID_AND_NAME_QUERY'][_0x2dd8a6(0x1a1)](_0x2dd8a6(0x186),_0x270ec8[_0x2dd8a6(0x1a6)])['replace']('%name%',_0x270ec8[_0x2dd8a6(0x199)]?constants_1[_0x2dd8a6(0x1bc)]:constants_1[_0x2dd8a6(0x1aa)]),_0x3a82bd=await this[_0x2dd8a6(0x194)][_0x2dd8a6(0x1b4)](_0x315283),_0x31e8a1=(_0xb22c61=_0x3a82bd[0x0])===null||_0xb22c61===void 0x0?void 0x0:_0xb22c61['Id'];if(!_0x31e8a1)throw new Error(errors_1[_0x2dd8a6(0x190)]);return _0x31e8a1;}async['setStatus'](_0xb2aa11,_0x1c71ce){const _0x29666b=a110_0x53a584;await this['salseforceService'][_0x29666b(0x1c7)](_0xb2aa11[_0x29666b(0x1b9)],_0xb2aa11[_0x29666b(0x1a6)],{[constants_1[_0x29666b(0x188)]+'Status__c']:_0x1c71ce});}async[a110_0x53a584(0x18b)](_0xa0260d,_0x1804d5){const _0x2e3eee=a110_0x53a584;await this[_0x2e3eee(0x19d)][_0x2e3eee(0x1c7)](_0xa0260d[_0x2e3eee(0x1b9)],_0xa0260d[_0x2e3eee(0x1a6)],{[constants_1[_0x2e3eee(0x188)]+'Sha__c']:_0x1804d5});}async[a110_0x53a584(0x1a9)](_0x5eb26e){const _0x13617f=a110_0x53a584;await this[_0x13617f(0x19d)][_0x13617f(0x1c7)](constants_1[_0x13617f(0x188)]+'Git_Settings__c',_0x5eb26e,{[constants_1[_0x13617f(0x188)]+_0x13617f(0x1b3)]:![]});}};SalesforceSyncService=__decorate([typedi_1['Service'](),__metadata(a110_0x53a584(0x198),[salesforce_query_service_1[a110_0x53a584(0x193)],salesforce_service_1[a110_0x53a584(0x19a)]])],SalesforceSyncService),exports[a110_0x53a584(0x1a5)]=SalesforceSyncService;