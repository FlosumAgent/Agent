const a108_0x125e=['salesforceQuery','Components__r','getOwnPropertyDescriptor','__esModule','getBranchRecords','../dto/flosum-repository-sync.dto','getRepositoryRecords','SalesforceService','%parentId%','constructor','map','Status__c','474542PlFErd','Service','FLOSUM_GIT_NAMESPACE','SalesforceQueryService','2555CnkjQJ','return\x20/\x22\x20+\x20this\x20+\x20\x22/','decorate','GET_ATTACHMENT_BY_PARENT_ID_QUERY','setLastSha','\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27','ERR_INVALID_ATTACHMENT_ID','GET_BRANCH_QUERY','1OAQAjm','getComponentsFromRepository','./salesforce.service','getBranchRecord','%id%','FlosumRepositorySyncDto','1939249mvEeyh','\x0a\x20\x20\x20\x20\x20\x20','GET_WAITING_REPOSITORIES_QUERY','__decorate','../../../constants/errors','5zPdjiR','Sync_In_Progress__c','893487GJnWAz','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','../queries','GET_COMPONENTS_QUERY','962122EyKWGy','../../../constants','2344NjGyGr','typedi','patchObject','replace','404PUbMVA','object','push','objectType','getBranchComponents','disableSync','setStatus','query','./salesforce-query.service','Sha__c','GET_WAITING_BRANCHES_QUERY','fromBranchRecord','design:paramtypes','defineProperty','getRepositoryRecord','837465RwWBvN','test','salseforceService','function','objectId','__metadata','1TrgwGs','SalesforceSyncService','length','metadata','getComponents'];const a108_0xb25c0b=a108_0x26c5;(function(_0x350b1a,_0x29f86e){const _0x20b119=a108_0x26c5;while(!![]){try{const _0x10a595=parseInt(_0x20b119(0xa3))+parseInt(_0x20b119(0x86))+-parseInt(_0x20b119(0x92))*parseInt(_0x20b119(0x9f))+-parseInt(_0x20b119(0x9d))*parseInt(_0x20b119(0x8a))+-parseInt(_0x20b119(0xb8))+parseInt(_0x20b119(0xa5))*-parseInt(_0x20b119(0xa9))+-parseInt(_0x20b119(0x98))*-parseInt(_0x20b119(0xbe));if(_0x10a595===_0x29f86e)break;else _0x350b1a['push'](_0x350b1a['shift']());}catch(_0x165713){_0x350b1a['push'](_0x350b1a['shift']());}}}(a108_0x125e,0xa749a));const a108_0x55bf1f=function(){let _0x49ba70=!![];return function(_0x1086b0,_0xd7a383){const _0x4c28f1=_0x49ba70?function(){if(_0xd7a383){const _0x1e731b=_0xd7a383['apply'](_0x1086b0,arguments);return _0xd7a383=null,_0x1e731b;}}:function(){};return _0x49ba70=![],_0x4c28f1;};}(),a108_0x3fefd4=a108_0x55bf1f(this,function(){const _0x38c1e6=function(){const _0x54a1d7=a108_0x26c5,_0x2a1a8d=_0x38c1e6[_0x54a1d7(0x83)](_0x54a1d7(0x8b))()['constructor'](_0x54a1d7(0xa0));return!_0x2a1a8d[_0x54a1d7(0xb9)](a108_0x3fefd4);};return _0x38c1e6();});a108_0x3fefd4();'use strict';var __decorate=this&&this[a108_0xb25c0b(0x9b)]||function(_0x1a3761,_0x59b31c,_0xd57836,_0x1a14e1){const _0x29eff8=a108_0xb25c0b;var _0x4e66ab=arguments['length'],_0x29f209=_0x4e66ab<0x3?_0x59b31c:_0x1a14e1===null?_0x1a14e1=Object[_0x29eff8(0xc5)](_0x59b31c,_0xd57836):_0x1a14e1,_0x5478b9;if(typeof Reflect===_0x29eff8(0xaa)&&typeof Reflect['decorate']===_0x29eff8(0xbb))_0x29f209=Reflect[_0x29eff8(0x8c)](_0x1a3761,_0x59b31c,_0xd57836,_0x1a14e1);else{for(var _0x4e98e4=_0x1a3761[_0x29eff8(0xc0)]-0x1;_0x4e98e4>=0x0;_0x4e98e4--)if(_0x5478b9=_0x1a3761[_0x4e98e4])_0x29f209=(_0x4e66ab<0x3?_0x5478b9(_0x29f209):_0x4e66ab>0x3?_0x5478b9(_0x59b31c,_0xd57836,_0x29f209):_0x5478b9(_0x59b31c,_0xd57836))||_0x29f209;}return _0x4e66ab>0x3&&_0x29f209&&Object[_0x29eff8(0xb6)](_0x59b31c,_0xd57836,_0x29f209),_0x29f209;},__metadata=this&&this[a108_0xb25c0b(0xbd)]||function(_0x920934,_0x16e0e3){const _0x9c5f64=a108_0xb25c0b;if(typeof Reflect===_0x9c5f64(0xaa)&&typeof Reflect[_0x9c5f64(0xc1)]===_0x9c5f64(0xbb))return Reflect['metadata'](_0x920934,_0x16e0e3);};function a108_0x26c5(_0x20ee1b,_0x53a7e5){return a108_0x26c5=function(_0x33c301,_0x3fefd4){_0x33c301=_0x33c301-0x7d;let _0x55bf1f=a108_0x125e[_0x33c301];return _0x55bf1f;},a108_0x26c5(_0x20ee1b,_0x53a7e5);}Object[a108_0xb25c0b(0xb6)](exports,a108_0xb25c0b(0x7d),{'value':!![]}),exports[a108_0xb25c0b(0xbf)]=void 0x0;const typedi_1=require(a108_0xb25c0b(0xa6)),constants_1=require(a108_0xb25c0b(0xa4)),errors_1=require(a108_0xb25c0b(0x9c)),flosum_repository_sync_dto_1=require(a108_0xb25c0b(0x7f)),queries_1=require(a108_0xb25c0b(0xa1)),salesforce_query_service_1=require(a108_0xb25c0b(0xb1)),salesforce_service_1=require(a108_0xb25c0b(0x94));let SalesforceSyncService=class SalesforceSyncService{constructor(_0x1dbefd,_0x3b2539){const _0x371328=a108_0xb25c0b;this['salesforceQuery']=_0x1dbefd,this[_0x371328(0xba)]=_0x3b2539;}async[a108_0xb25c0b(0xc2)](_0x5e36e7){const _0x13e906=a108_0xb25c0b,_0x2afcf9=await this[_0x13e906(0xc3)][_0x13e906(0xb0)](_0x5e36e7),_0x26a65b=[];for(const _0x5753dd of _0x2afcf9){const _0x5a6093=_0x5753dd[constants_1['FLOSUM_NAMESPACE']+_0x13e906(0xc4)]['records'][0x0];_0x26a65b[_0x13e906(0xab)](_0x5a6093['Id']);}return _0x26a65b;}async[a108_0xb25c0b(0x80)](){const _0x34621a=a108_0xb25c0b,_0x14225c=await this[_0x34621a(0xc3)][_0x34621a(0xb0)](queries_1[_0x34621a(0x9a)]);return _0x14225c[_0x34621a(0x84)](_0x4b6170=>flosum_repository_sync_dto_1[_0x34621a(0x97)]['fromRepositoryRecord'](_0x4b6170));}async[a108_0xb25c0b(0x7e)](){const _0x35c35c=a108_0xb25c0b,_0x52b805=await this[_0x35c35c(0xc3)][_0x35c35c(0xb0)](queries_1[_0x35c35c(0xb3)]);return _0x52b805[_0x35c35c(0x84)](_0x20dfad=>flosum_repository_sync_dto_1[_0x35c35c(0x97)][_0x35c35c(0xb4)](_0x20dfad));}async[a108_0xb25c0b(0xb7)](_0x4e4b88){const _0x2e4ce2=a108_0xb25c0b,_0x4023f9=await this[_0x2e4ce2(0xc3)][_0x2e4ce2(0xb0)](queries_1['GET_REPOSITORY_QUERY'][_0x2e4ce2(0xa8)](_0x2e4ce2(0x96),_0x4e4b88));return flosum_repository_sync_dto_1['FlosumRepositorySyncDto']['fromRepositoryRecord'](_0x4023f9[0x0]);}async[a108_0xb25c0b(0x95)](_0x5c6517){const _0x59fcb3=a108_0xb25c0b,_0x1230c0=await this['salesforceQuery'][_0x59fcb3(0xb0)](queries_1[_0x59fcb3(0x91)][_0x59fcb3(0xa8)]('%id%',_0x5c6517));return flosum_repository_sync_dto_1[_0x59fcb3(0x97)]['fromBranchRecord'](_0x1230c0[0x0]);}async[a108_0xb25c0b(0x93)](_0x324c8c){const _0x16fe66=a108_0xb25c0b,_0x3918af=_0x16fe66(0x99)+queries_1[_0x16fe66(0xa2)]+_0x16fe66(0x8f)+_0x324c8c+'\x27';return this[_0x16fe66(0xc2)](_0x3918af);}async[a108_0xb25c0b(0xad)](_0x48ecea){const _0x56e38d=a108_0xb25c0b,_0x44fe04='\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+queries_1[_0x56e38d(0xa2)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27'+_0x48ecea+'\x27';return this[_0x56e38d(0xc2)](_0x44fe04);}async['getAttachmentIdByParent'](_0x3d59ee){const _0x53b3ec=a108_0xb25c0b;var _0x271f8d;const _0x44c962=queries_1[_0x53b3ec(0x8d)][_0x53b3ec(0xa8)](_0x53b3ec(0x82),_0x3d59ee),_0x502302=await this[_0x53b3ec(0xc3)]['query'](_0x44c962),_0x294eec=(_0x271f8d=_0x502302[0x0])===null||_0x271f8d===void 0x0?void 0x0:_0x271f8d['Id'];if(!_0x294eec)throw new Error(errors_1[_0x53b3ec(0x90)]);return _0x294eec;}async[a108_0xb25c0b(0xaf)](_0x4a0b94,_0x2fbe58){const _0x11c8e5=a108_0xb25c0b;await this['salseforceService'][_0x11c8e5(0xa7)](_0x4a0b94[_0x11c8e5(0xac)],_0x4a0b94[_0x11c8e5(0xbc)],{[constants_1[_0x11c8e5(0x88)]+_0x11c8e5(0x85)]:_0x2fbe58});}async[a108_0xb25c0b(0x8e)](_0x1dadba,_0x1b2391){const _0x2abc05=a108_0xb25c0b;await this[_0x2abc05(0xba)][_0x2abc05(0xa7)](_0x1dadba[_0x2abc05(0xac)],_0x1dadba[_0x2abc05(0xbc)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x2abc05(0xb2)]:_0x1b2391});}async[a108_0xb25c0b(0xae)](_0x4fd335){const _0x5c3f29=a108_0xb25c0b;await this['salseforceService']['patchObject'](constants_1[_0x5c3f29(0x88)]+'Git_Settings__c',_0x4fd335,{[constants_1[_0x5c3f29(0x88)]+_0x5c3f29(0x9e)]:![]});}};SalesforceSyncService=__decorate([typedi_1[a108_0xb25c0b(0x87)](),__metadata(a108_0xb25c0b(0xb5),[salesforce_query_service_1[a108_0xb25c0b(0x89)],salesforce_service_1[a108_0xb25c0b(0x81)]])],SalesforceSyncService),exports[a108_0xb25c0b(0xbf)]=SalesforceSyncService;