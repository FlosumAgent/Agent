const a106_0x3587=['getAttachmentIdByParent','FLOSUM_GIT_NAMESPACE','43iAHikx','constructor','design:paramtypes','GET_COMPONENTS_QUERY','getRepositoryRecord','patchObject','apply','GET_REPOSITORY_QUERY','FlosumRepositorySyncDto','object','../dto/flosum-repository-sync.dto','query','defineProperty','salesforceQuery','\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27','function','../../../constants/errors','getComponents','replace','%id%','metadata','objectId','1186FlyxoK','__metadata','12SyauhW','return\x20/\x22\x20+\x20this\x20+\x20\x22/','1ytHAoz','Sync_In_Progress__c','map','test','__decorate','getOwnPropertyDescriptor','12iycUYZ','40618DRBMLE','push','Status__c','fromBranchRecord','%parentId%','22696iIpVWN','395sxiTCa','length','Git_Settings__c','decorate','setLastSha','482602kpFoeG','fromRepositoryRecord','GET_WAITING_BRANCHES_QUERY','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','getBranchRecords','objectType','20GqyLgl','typedi','Sha__c','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ERR_INVALID_ATTACHMENT_ID','\x0a\x20\x20\x20\x20\x20\x20','445793SlPfxR','../queries','./salesforce-query.service','GET_BRANCH_QUERY','128749DAHzjh','getBranchRecord','salseforceService','getBranchComponents','./salesforce.service','SalesforceQueryService','records'];const a106_0x4d044b=a106_0x5ce6;(function(_0x569714,_0xd7f098){const _0x15c8de=a106_0x5ce6;while(!![]){try{const _0x5b2421=parseInt(_0x15c8de(0xb4))+-parseInt(_0x15c8de(0xa8))*parseInt(_0x15c8de(0xae))+-parseInt(_0x15c8de(0xa9))*-parseInt(_0x15c8de(0xa0))+-parseInt(_0x15c8de(0xa2))*-parseInt(_0x15c8de(0xc4))+-parseInt(_0x15c8de(0xc0))+-parseInt(_0x15c8de(0xba))*parseInt(_0x15c8de(0xaf))+parseInt(_0x15c8de(0xe3))*-parseInt(_0x15c8de(0xcd));if(_0x5b2421===_0xd7f098)break;else _0x569714['push'](_0x569714['shift']());}catch(_0x51ee6f){_0x569714['push'](_0x569714['shift']());}}}(a106_0x3587,0x4e8bc));const a106_0x223ae9=function(){let _0x26876c=!![];return function(_0x1006aa,_0x97d075){const _0x1309ae=_0x26876c?function(){const _0xf3893d=a106_0x5ce6;if(_0x97d075){const _0x485564=_0x97d075[_0xf3893d(0xd3)](_0x1006aa,arguments);return _0x97d075=null,_0x485564;}}:function(){};return _0x26876c=![],_0x1309ae;};}(),a106_0x5ed1e1=a106_0x223ae9(this,function(){const _0xbd868c=function(){const _0x1aad2a=a106_0x5ce6,_0x2523c1=_0xbd868c['constructor'](_0x1aad2a(0xa1))()[_0x1aad2a(0xce)](_0x1aad2a(0xb7));return!_0x2523c1[_0x1aad2a(0xa5)](a106_0x5ed1e1);};return _0xbd868c();});function a106_0x5ce6(_0x2bb803,_0x2f521b){return a106_0x5ce6=function(_0x25ad99,_0x5ed1e1){_0x25ad99=_0x25ad99-0xa0;let _0x223ae9=a106_0x3587[_0x25ad99];return _0x223ae9;},a106_0x5ce6(_0x2bb803,_0x2f521b);}a106_0x5ed1e1();'use strict';var __decorate=this&&this[a106_0x4d044b(0xa6)]||function(_0x2f7c90,_0x6804f3,_0x57970b,_0x322668){const _0x5b6da9=a106_0x4d044b;var _0x365a17=arguments[_0x5b6da9(0xb0)],_0x4a3c4=_0x365a17<0x3?_0x6804f3:_0x322668===null?_0x322668=Object[_0x5b6da9(0xa7)](_0x6804f3,_0x57970b):_0x322668,_0x5f05fe;if(typeof Reflect===_0x5b6da9(0xd6)&&typeof Reflect[_0x5b6da9(0xb2)]===_0x5b6da9(0xdc))_0x4a3c4=Reflect[_0x5b6da9(0xb2)](_0x2f7c90,_0x6804f3,_0x57970b,_0x322668);else{for(var _0x12f569=_0x2f7c90[_0x5b6da9(0xb0)]-0x1;_0x12f569>=0x0;_0x12f569--)if(_0x5f05fe=_0x2f7c90[_0x12f569])_0x4a3c4=(_0x365a17<0x3?_0x5f05fe(_0x4a3c4):_0x365a17>0x3?_0x5f05fe(_0x6804f3,_0x57970b,_0x4a3c4):_0x5f05fe(_0x6804f3,_0x57970b))||_0x4a3c4;}return _0x365a17>0x3&&_0x4a3c4&&Object[_0x5b6da9(0xd9)](_0x6804f3,_0x57970b,_0x4a3c4),_0x4a3c4;},__metadata=this&&this[a106_0x4d044b(0xe4)]||function(_0x24dcab,_0x51a19b){const _0x45985e=a106_0x4d044b;if(typeof Reflect===_0x45985e(0xd6)&&typeof Reflect[_0x45985e(0xe1)]===_0x45985e(0xdc))return Reflect[_0x45985e(0xe1)](_0x24dcab,_0x51a19b);};Object[a106_0x4d044b(0xd9)](exports,'__esModule',{'value':!![]}),exports['SalesforceSyncService']=void 0x0;const typedi_1=require(a106_0x4d044b(0xbb)),constants_1=require('../../../constants'),errors_1=require(a106_0x4d044b(0xdd)),flosum_repository_sync_dto_1=require(a106_0x4d044b(0xd7)),queries_1=require(a106_0x4d044b(0xc1)),salesforce_query_service_1=require(a106_0x4d044b(0xc2)),salesforce_service_1=require(a106_0x4d044b(0xc8));let SalesforceSyncService=class SalesforceSyncService{constructor(_0x479be4,_0x13ff24){const _0x480999=a106_0x4d044b;this[_0x480999(0xda)]=_0x479be4,this[_0x480999(0xc6)]=_0x13ff24;}async[a106_0x4d044b(0xde)](_0x443f5a){const _0x4bcdbf=a106_0x4d044b,_0x56e75c=await this[_0x4bcdbf(0xda)][_0x4bcdbf(0xd8)](_0x443f5a),_0x25949f=[];for(const _0x3b3a53 of _0x56e75c){const _0x5a7659=_0x3b3a53[constants_1['FLOSUM_NAMESPACE']+'Components__r'][_0x4bcdbf(0xca)][0x0];_0x25949f[_0x4bcdbf(0xaa)](_0x5a7659['Id']);}return _0x25949f;}async['getRepositoryRecords'](){const _0x5db70f=a106_0x4d044b,_0x12e688=await this['salesforceQuery']['query'](queries_1['GET_WAITING_REPOSITORIES_QUERY']);return _0x12e688[_0x5db70f(0xa4)](_0x4f8579=>flosum_repository_sync_dto_1[_0x5db70f(0xd5)]['fromRepositoryRecord'](_0x4f8579));}async[a106_0x4d044b(0xb8)](){const _0x3769e4=a106_0x4d044b,_0x4a324e=await this[_0x3769e4(0xda)][_0x3769e4(0xd8)](queries_1[_0x3769e4(0xb6)]);return _0x4a324e[_0x3769e4(0xa4)](_0x5ed426=>flosum_repository_sync_dto_1[_0x3769e4(0xd5)][_0x3769e4(0xac)](_0x5ed426));}async[a106_0x4d044b(0xd1)](_0x1ae3e1){const _0x381d36=a106_0x4d044b,_0x52c3b2=await this[_0x381d36(0xda)][_0x381d36(0xd8)](queries_1[_0x381d36(0xd4)][_0x381d36(0xdf)](_0x381d36(0xe0),_0x1ae3e1));return flosum_repository_sync_dto_1['FlosumRepositorySyncDto'][_0x381d36(0xb5)](_0x52c3b2[0x0]);}async[a106_0x4d044b(0xc5)](_0x196e70){const _0x3a2d17=a106_0x4d044b,_0x34e3a0=await this['salesforceQuery'][_0x3a2d17(0xd8)](queries_1[_0x3a2d17(0xc3)][_0x3a2d17(0xdf)]('%id%',_0x196e70));return flosum_repository_sync_dto_1['FlosumRepositorySyncDto']['fromBranchRecord'](_0x34e3a0[0x0]);}async['getComponentsFromRepository'](_0x7c57f0){const _0x45f97c=a106_0x4d044b,_0x448386=_0x45f97c(0xbf)+queries_1[_0x45f97c(0xd0)]+'\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27'+_0x7c57f0+'\x27';return this['getComponents'](_0x448386);}async[a106_0x4d044b(0xc7)](_0x20d6ab){const _0x3ebf93=a106_0x4d044b,_0x547d8c=_0x3ebf93(0xbd)+queries_1[_0x3ebf93(0xd0)]+_0x3ebf93(0xdb)+_0x20d6ab+'\x27';return this[_0x3ebf93(0xde)](_0x547d8c);}async[a106_0x4d044b(0xcb)](_0x10b673){const _0x26165a=a106_0x4d044b;var _0x327c14;const _0x18bf37=queries_1['GET_ATTACHMENT_BY_PARENT_ID_QUERY'][_0x26165a(0xdf)](_0x26165a(0xad),_0x10b673),_0x286111=await this[_0x26165a(0xda)]['query'](_0x18bf37),_0x277755=(_0x327c14=_0x286111[0x0])===null||_0x327c14===void 0x0?void 0x0:_0x327c14['Id'];if(!_0x277755)throw new Error(errors_1[_0x26165a(0xbe)]);return _0x277755;}async['setStatus'](_0x198920,_0x17941e){const _0x46ecb8=a106_0x4d044b;await this[_0x46ecb8(0xc6)][_0x46ecb8(0xd2)](_0x198920[_0x46ecb8(0xb9)],_0x198920[_0x46ecb8(0xe2)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x46ecb8(0xab)]:_0x17941e});}async[a106_0x4d044b(0xb3)](_0x2070e2,_0x583637){const _0x433032=a106_0x4d044b;await this['salseforceService'][_0x433032(0xd2)](_0x2070e2['objectType'],_0x2070e2[_0x433032(0xe2)],{[constants_1[_0x433032(0xcc)]+_0x433032(0xbc)]:_0x583637});}async['disableSync'](_0x2daaac){const _0x24e867=a106_0x4d044b;await this[_0x24e867(0xc6)][_0x24e867(0xd2)](constants_1[_0x24e867(0xcc)]+_0x24e867(0xb1),_0x2daaac,{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x24e867(0xa3)]:![]});}};SalesforceSyncService=__decorate([typedi_1['Service'](),__metadata(a106_0x4d044b(0xcf),[salesforce_query_service_1[a106_0x4d044b(0xc9)],salesforce_service_1['SalesforceService']])],SalesforceSyncService),exports['SalesforceSyncService']=SalesforceSyncService;