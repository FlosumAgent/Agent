const a109_0x3cad=['repositoryId','SalesforceSyncService','263590SzyBww','../dto/flosum-repository-sync.dto','FLOSUM_GIT_NAMESPACE','objectId','Sync_In_Progress__c','SalesforceQueryService','patchObject','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','decorate','Git_Settings__c','%name%','test','31793ydsuTI','13uVcVmZ','__metadata','getComponents','120165rXlMUt','__decorate','getOwnPropertyDescriptor','SalesforceService','../../../constants','getRepositoryRecords','getBranchComponents','FlosumRepositorySyncDto','setStatus','GET_WAITING_BRANCHES_QUERY','1xcfrjH','%id%','objectType','ERR_INVALID_ATTACHMENT_ID','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','getComponentsFromRepository','replace','getBranchRecords','17246AcyFBC','records','GET_WAITING_REPOSITORIES_QUERY','192711hnAUpd','getBranchRecord','Service','design:paramtypes','constructor','fromBranchRecord','7cIxJca','../../../constants/errors','salseforceService','metadata','GET_BRANCH_QUERY','__esModule','194792HRnNZm','fromRepositoryRecord','query','defineProperty','../queries','FLOSUM_NAMESPACE','apply','GET_COMPONENTS_QUERY','salesforceQuery','typedi','Status__c','object','function','SYNC_ATTACHMENT_FOR_REPOSITORY_NAME','map','./salesforce.service','\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27','163527PaFMoR','./salesforce-query.service'];const a109_0x2e15eb=a109_0x46e7;(function(_0x36e32d,_0x200883){const _0x113d20=a109_0x46e7;while(!![]){try{const _0x4004c1=-parseInt(_0x113d20(0x1c9))*-parseInt(_0x113d20(0x1fa))+parseInt(_0x113d20(0x1c1))*parseInt(_0x113d20(0x1cc))+-parseInt(_0x113d20(0x1ed))+-parseInt(_0x113d20(0x1e9))+-parseInt(_0x113d20(0x1d8))+parseInt(_0x113d20(0x1fd))+parseInt(_0x113d20(0x1f9))*parseInt(_0x113d20(0x1d2));if(_0x4004c1===_0x200883)break;else _0x36e32d['push'](_0x36e32d['shift']());}catch(_0x1c6ef2){_0x36e32d['push'](_0x36e32d['shift']());}}}(a109_0x3cad,0x219f4));const a109_0x5bfc9a=function(){let _0xbdce10=!![];return function(_0xcd2c22,_0x4cadf6){const _0x346d47=_0xbdce10?function(){const _0xdb7c94=a109_0x46e7;if(_0x4cadf6){const _0x5ba55e=_0x4cadf6[_0xdb7c94(0x1de)](_0xcd2c22,arguments);return _0x4cadf6=null,_0x5ba55e;}}:function(){};return _0xbdce10=![],_0x346d47;};}(),a109_0x51e638=a109_0x5bfc9a(this,function(){const _0x53f535=function(){const _0x32bb92=a109_0x46e7,_0x1df568=_0x53f535['constructor']('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x32bb92(0x1d0)](_0x32bb92(0x1c5));return!_0x1df568[_0x32bb92(0x1f8)](a109_0x51e638);};return _0x53f535();});a109_0x51e638();'use strict';var __decorate=this&&this[a109_0x2e15eb(0x1fe)]||function(_0x44bb09,_0x3943ad,_0x59a356,_0x3c5be4){const _0x296a5b=a109_0x2e15eb;var _0x137e45=arguments['length'],_0x32618a=_0x137e45<0x3?_0x3943ad:_0x3c5be4===null?_0x3c5be4=Object[_0x296a5b(0x1ff)](_0x3943ad,_0x59a356):_0x3c5be4,_0x5c8807;if(typeof Reflect===_0x296a5b(0x1e3)&&typeof Reflect[_0x296a5b(0x1f5)]==='function')_0x32618a=Reflect[_0x296a5b(0x1f5)](_0x44bb09,_0x3943ad,_0x59a356,_0x3c5be4);else{for(var _0x471a4f=_0x44bb09['length']-0x1;_0x471a4f>=0x0;_0x471a4f--)if(_0x5c8807=_0x44bb09[_0x471a4f])_0x32618a=(_0x137e45<0x3?_0x5c8807(_0x32618a):_0x137e45>0x3?_0x5c8807(_0x3943ad,_0x59a356,_0x32618a):_0x5c8807(_0x3943ad,_0x59a356))||_0x32618a;}return _0x137e45>0x3&&_0x32618a&&Object[_0x296a5b(0x1db)](_0x3943ad,_0x59a356,_0x32618a),_0x32618a;},__metadata=this&&this[a109_0x2e15eb(0x1fb)]||function(_0x56ffb4,_0x14bb5d){const _0x47c093=a109_0x2e15eb;if(typeof Reflect===_0x47c093(0x1e3)&&typeof Reflect[_0x47c093(0x1d5)]===_0x47c093(0x1e4))return Reflect[_0x47c093(0x1d5)](_0x56ffb4,_0x14bb5d);};function a109_0x46e7(_0x441f0d,_0x44e2c3){return a109_0x46e7=function(_0x27274c,_0x51e638){_0x27274c=_0x27274c-0x1c0;let _0x5bfc9a=a109_0x3cad[_0x27274c];return _0x5bfc9a;},a109_0x46e7(_0x441f0d,_0x44e2c3);}Object[a109_0x2e15eb(0x1db)](exports,a109_0x2e15eb(0x1d7),{'value':!![]}),exports[a109_0x2e15eb(0x1ec)]=void 0x0;const typedi_1=require(a109_0x2e15eb(0x1e1)),constants_1=require(a109_0x2e15eb(0x201)),errors_1=require(a109_0x2e15eb(0x1d3)),flosum_repository_sync_dto_1=require(a109_0x2e15eb(0x1ee)),queries_1=require(a109_0x2e15eb(0x1dc)),salesforce_query_service_1=require(a109_0x2e15eb(0x1ea)),salesforce_service_1=require(a109_0x2e15eb(0x1e7));let SalesforceSyncService=class SalesforceSyncService{constructor(_0x4dd0bd,_0x995461){this['salesforceQuery']=_0x4dd0bd,this['salseforceService']=_0x995461;}async[a109_0x2e15eb(0x1fc)](_0x44e4f4){const _0x6c2c3e=a109_0x2e15eb,_0x308b0d=await this['salesforceQuery'][_0x6c2c3e(0x1da)](_0x44e4f4),_0x4e0aba=[];for(const _0x3c37c2 of _0x308b0d){const _0x32044f=_0x3c37c2[constants_1[_0x6c2c3e(0x1dd)]+'Components__r'][_0x6c2c3e(0x1ca)][0x0];_0x4e0aba['push'](_0x32044f['Id']);}return _0x4e0aba;}async[a109_0x2e15eb(0x202)](){const _0x4b3310=a109_0x2e15eb,_0x433e6c=await this[_0x4b3310(0x1e0)][_0x4b3310(0x1da)](queries_1[_0x4b3310(0x1cb)]);return _0x433e6c[_0x4b3310(0x1e6)](_0x49de19=>flosum_repository_sync_dto_1['FlosumRepositorySyncDto'][_0x4b3310(0x1d9)](_0x49de19));}async[a109_0x2e15eb(0x1c8)](){const _0x228b0a=a109_0x2e15eb,_0x290b06=await this[_0x228b0a(0x1e0)]['query'](queries_1[_0x228b0a(0x1c0)]);return _0x290b06[_0x228b0a(0x1e6)](_0x539d76=>flosum_repository_sync_dto_1[_0x228b0a(0x204)][_0x228b0a(0x1d1)](_0x539d76));}async['getRepositoryRecord'](_0x2d84dd){const _0x2607eb=a109_0x2e15eb,_0x4ba517=await this[_0x2607eb(0x1e0)][_0x2607eb(0x1da)](queries_1['GET_REPOSITORY_QUERY']['replace']('%id%',_0x2d84dd));return flosum_repository_sync_dto_1[_0x2607eb(0x204)]['fromRepositoryRecord'](_0x4ba517[0x0]);}async[a109_0x2e15eb(0x1cd)](_0x5a5939){const _0xcf477d=a109_0x2e15eb,_0x538163=await this[_0xcf477d(0x1e0)][_0xcf477d(0x1da)](queries_1[_0xcf477d(0x1d6)]['replace'](_0xcf477d(0x1c2),_0x5a5939));return flosum_repository_sync_dto_1[_0xcf477d(0x204)][_0xcf477d(0x1d1)](_0x538163[0x0]);}async[a109_0x2e15eb(0x1c6)](_0x281d19){const _0x3dfb2b=a109_0x2e15eb,_0x66ac8b='\x0a\x20\x20\x20\x20\x20\x20'+queries_1[_0x3dfb2b(0x1df)]+_0x3dfb2b(0x1e8)+_0x281d19+'\x27';return this[_0x3dfb2b(0x1fc)](_0x66ac8b);}async[a109_0x2e15eb(0x203)](_0x154399){const _0x836fc9=a109_0x2e15eb,_0x3fda7a=_0x836fc9(0x1f4)+queries_1[_0x836fc9(0x1df)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27'+_0x154399+'\x27';return this[_0x836fc9(0x1fc)](_0x3fda7a);}async['getAttachmentId'](_0x4d3da8){const _0x93a01e=a109_0x2e15eb;var _0x492778;const _0x29c967=queries_1['GET_ATTACHMENT_BY_PARENT_ID_AND_NAME_QUERY'][_0x93a01e(0x1c7)]('%parentId%',_0x4d3da8['objectId'])[_0x93a01e(0x1c7)](_0x93a01e(0x1f7),_0x4d3da8[_0x93a01e(0x1eb)]?constants_1[_0x93a01e(0x1e5)]:constants_1['SYNC_ATTACHMENT_FOR_BRANCH_NAME']),_0x361d25=await this[_0x93a01e(0x1e0)][_0x93a01e(0x1da)](_0x29c967),_0x577f1c=(_0x492778=_0x361d25[0x0])===null||_0x492778===void 0x0?void 0x0:_0x492778['Id'];if(!_0x577f1c)throw new Error(errors_1[_0x93a01e(0x1c4)]);return _0x577f1c;}async[a109_0x2e15eb(0x205)](_0x52acde,_0x488980){const _0x4a121f=a109_0x2e15eb;await this[_0x4a121f(0x1d4)][_0x4a121f(0x1f3)](_0x52acde['objectType'],_0x52acde[_0x4a121f(0x1f0)],{[constants_1[_0x4a121f(0x1ef)]+_0x4a121f(0x1e2)]:_0x488980});}async['setLastSha'](_0x5a974e,_0x4a0fda){const _0x3e9319=a109_0x2e15eb;await this[_0x3e9319(0x1d4)][_0x3e9319(0x1f3)](_0x5a974e[_0x3e9319(0x1c3)],_0x5a974e[_0x3e9319(0x1f0)],{[constants_1[_0x3e9319(0x1ef)]+'Sha__c']:_0x4a0fda});}async['disableSync'](_0x3d4bfa){const _0x36d0a9=a109_0x2e15eb;await this[_0x36d0a9(0x1d4)][_0x36d0a9(0x1f3)](constants_1[_0x36d0a9(0x1ef)]+_0x36d0a9(0x1f6),_0x3d4bfa,{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x36d0a9(0x1f1)]:![]});}};SalesforceSyncService=__decorate([typedi_1[a109_0x2e15eb(0x1ce)](),__metadata(a109_0x2e15eb(0x1cf),[salesforce_query_service_1[a109_0x2e15eb(0x1f2)],salesforce_service_1[a109_0x2e15eb(0x200)]])],SalesforceSyncService),exports['SalesforceSyncService']=SalesforceSyncService;