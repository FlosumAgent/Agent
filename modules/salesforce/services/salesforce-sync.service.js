const a109_0x9bc1=['716371WOufDM','Status__c','\x0a\x20\x20\x20\x20\x20\x20','Git_Settings__c','../../../constants/errors','SYNC_ATTACHMENT_FOR_REPOSITORY_NAME','salseforceService','getRepositoryRecords','map','getBranchRecords','getBranchComponents','Sha__c','5648bEIabu','Components__r','1zhXhRh','SalesforceSyncService','143705Yzbasr','FlosumRepositorySyncDto','1PRDZpV','query','GET_COMPONENTS_QUERY','fromBranchRecord','length','typedi','getBranchRecord','metadata','objectType','SalesforceQueryService','getComponents','SalesforceService','\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Branch__c\x20=\x20\x27','27YtpQis','defineProperty','GET_WAITING_BRANCHES_QUERY','objectId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','408277ppnOpo','replace','fromRepositoryRecord','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','__metadata','333873zVnPZf','apply','setStatus','decorate','../../../constants','%id%','\x0a\x20\x20\x20\x20\x20\x20WHERE\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20%flosum_namespace%Repository__c\x20=\x27','17ImYVPw','__decorate','../queries','%name%','patchObject','repositoryId','5469UXtVDj','./salesforce.service','object','./salesforce-query.service','GET_ATTACHMENT_BY_PARENT_ID_AND_NAME_QUERY','FLOSUM_NAMESPACE','getRepositoryRecord','function','salesforceQuery','GET_REPOSITORY_QUERY','constructor','GET_BRANCH_QUERY','256873EyfoTv','getOwnPropertyDescriptor','Service','../dto/flosum-repository-sync.dto','setLastSha','FLOSUM_GIT_NAMESPACE','%parentId%','getAttachmentId','getComponentsFromRepository'];const a109_0x244574=a109_0x2a52;(function(_0x2ae6ad,_0x2236ac){const _0x155afe=a109_0x2a52;while(!![]){try{const _0x48d3c8=-parseInt(_0x155afe(0x20a))*parseInt(_0x155afe(0x1f3))+-parseInt(_0x155afe(0x1e4))*-parseInt(_0x155afe(0x1e6))+-parseInt(_0x155afe(0x1f8))+-parseInt(_0x155afe(0x1cb))*parseInt(_0x155afe(0x1e2))+parseInt(_0x155afe(0x1e0))*-parseInt(_0x155afe(0x204))+parseInt(_0x155afe(0x1fd))+parseInt(_0x155afe(0x1d4));if(_0x48d3c8===_0x2236ac)break;else _0x2ae6ad['push'](_0x2ae6ad['shift']());}catch(_0x4529be){_0x2ae6ad['push'](_0x2ae6ad['shift']());}}}(a109_0x9bc1,0x459c0));const a109_0x57169c=function(){let _0x35425=!![];return function(_0x47345c,_0x20c4f7){const _0x423a64=_0x35425?function(){const _0x528ad0=a109_0x2a52;if(_0x20c4f7){const _0x1f7e67=_0x20c4f7[_0x528ad0(0x1fe)](_0x47345c,arguments);return _0x20c4f7=null,_0x1f7e67;}}:function(){};return _0x35425=![],_0x423a64;};}(),a109_0x578b4=a109_0x57169c(this,function(){const _0x4fc3e0=function(){const _0x23bd66=a109_0x2a52,_0x15406f=_0x4fc3e0[_0x23bd66(0x1c9)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()[_0x23bd66(0x1c9)](_0x23bd66(0x1fb));return!_0x15406f['test'](a109_0x578b4);};return _0x4fc3e0();});a109_0x578b4();'use strict';var __decorate=this&&this[a109_0x244574(0x205)]||function(_0x156c2f,_0xade661,_0xac928c,_0x27d720){const _0x1b5a33=a109_0x244574;var _0x5dbdc6=arguments[_0x1b5a33(0x1ea)],_0x22df93=_0x5dbdc6<0x3?_0xade661:_0x27d720===null?_0x27d720=Object[_0x1b5a33(0x1cc)](_0xade661,_0xac928c):_0x27d720,_0x4837a0;if(typeof Reflect===_0x1b5a33(0x20c)&&typeof Reflect['decorate']==='function')_0x22df93=Reflect[_0x1b5a33(0x200)](_0x156c2f,_0xade661,_0xac928c,_0x27d720);else{for(var _0x59b327=_0x156c2f['length']-0x1;_0x59b327>=0x0;_0x59b327--)if(_0x4837a0=_0x156c2f[_0x59b327])_0x22df93=(_0x5dbdc6<0x3?_0x4837a0(_0x22df93):_0x5dbdc6>0x3?_0x4837a0(_0xade661,_0xac928c,_0x22df93):_0x4837a0(_0xade661,_0xac928c))||_0x22df93;}return _0x5dbdc6>0x3&&_0x22df93&&Object['defineProperty'](_0xade661,_0xac928c,_0x22df93),_0x22df93;},__metadata=this&&this[a109_0x244574(0x1fc)]||function(_0x3bcc4a,_0x296bdd){const _0x4db565=a109_0x244574;if(typeof Reflect===_0x4db565(0x20c)&&typeof Reflect[_0x4db565(0x1ed)]===_0x4db565(0x211))return Reflect[_0x4db565(0x1ed)](_0x3bcc4a,_0x296bdd);};function a109_0x2a52(_0x4b5a56,_0x46cde6){return a109_0x2a52=function(_0x50bdf1,_0x578b4){_0x50bdf1=_0x50bdf1-0x1c9;let _0x57169c=a109_0x9bc1[_0x50bdf1];return _0x57169c;},a109_0x2a52(_0x4b5a56,_0x46cde6);}Object[a109_0x244574(0x1f4)](exports,'__esModule',{'value':!![]}),exports[a109_0x244574(0x1e3)]=void 0x0;const typedi_1=require(a109_0x244574(0x1eb)),constants_1=require(a109_0x244574(0x201)),errors_1=require(a109_0x244574(0x1d8)),flosum_repository_sync_dto_1=require(a109_0x244574(0x1ce)),queries_1=require(a109_0x244574(0x206)),salesforce_query_service_1=require(a109_0x244574(0x20d)),salesforce_service_1=require(a109_0x244574(0x20b));let SalesforceSyncService=class SalesforceSyncService{constructor(_0x42d1b1,_0x5c3289){const _0x1dde1d=a109_0x244574;this[_0x1dde1d(0x212)]=_0x42d1b1,this[_0x1dde1d(0x1da)]=_0x5c3289;}async[a109_0x244574(0x1f0)](_0x44c02a){const _0xb10fa3=a109_0x244574,_0x4806f7=await this[_0xb10fa3(0x212)]['query'](_0x44c02a),_0x3bec31=[];for(const _0x5c49bb of _0x4806f7){const _0x197ae4=_0x5c49bb[constants_1[_0xb10fa3(0x20f)]+_0xb10fa3(0x1e1)]['records'][0x0];_0x3bec31['push'](_0x197ae4['Id']);}return _0x3bec31;}async[a109_0x244574(0x1db)](){const _0x4b3e29=a109_0x244574,_0x26d262=await this[_0x4b3e29(0x212)][_0x4b3e29(0x1e7)](queries_1['GET_WAITING_REPOSITORIES_QUERY']);return _0x26d262['map'](_0x55b65a=>flosum_repository_sync_dto_1[_0x4b3e29(0x1e5)][_0x4b3e29(0x1fa)](_0x55b65a));}async[a109_0x244574(0x1dd)](){const _0x3d2770=a109_0x244574,_0x135e6a=await this[_0x3d2770(0x212)]['query'](queries_1[_0x3d2770(0x1f5)]);return _0x135e6a[_0x3d2770(0x1dc)](_0x2cbb1b=>flosum_repository_sync_dto_1[_0x3d2770(0x1e5)]['fromBranchRecord'](_0x2cbb1b));}async[a109_0x244574(0x210)](_0x62c064){const _0x3aff45=a109_0x244574,_0x575393=await this[_0x3aff45(0x212)][_0x3aff45(0x1e7)](queries_1[_0x3aff45(0x213)][_0x3aff45(0x1f9)](_0x3aff45(0x202),_0x62c064));return flosum_repository_sync_dto_1[_0x3aff45(0x1e5)][_0x3aff45(0x1fa)](_0x575393[0x0]);}async[a109_0x244574(0x1ec)](_0x5930cf){const _0x48ab8e=a109_0x244574,_0x4f6cc9=await this[_0x48ab8e(0x212)][_0x48ab8e(0x1e7)](queries_1[_0x48ab8e(0x1ca)][_0x48ab8e(0x1f9)](_0x48ab8e(0x202),_0x5930cf));return flosum_repository_sync_dto_1[_0x48ab8e(0x1e5)][_0x48ab8e(0x1e9)](_0x4f6cc9[0x0]);}async[a109_0x244574(0x1d3)](_0x4dc3a1){const _0x288937=a109_0x244574,_0x15f4f0=_0x288937(0x1d6)+queries_1['GET_COMPONENTS_QUERY']+_0x288937(0x203)+_0x4dc3a1+'\x27';return this[_0x288937(0x1f0)](_0x15f4f0);}async[a109_0x244574(0x1de)](_0x149588){const _0x4d8216=a109_0x244574,_0x4a3e6e=_0x4d8216(0x1f7)+queries_1[_0x4d8216(0x1e8)]+_0x4d8216(0x1f2)+_0x149588+'\x27';return this[_0x4d8216(0x1f0)](_0x4a3e6e);}async[a109_0x244574(0x1d2)](_0x53a095){const _0x2f5148=a109_0x244574;var _0x5c9169;const _0xc0a6cf=queries_1[_0x2f5148(0x20e)][_0x2f5148(0x1f9)](_0x2f5148(0x1d1),_0x53a095[_0x2f5148(0x1f6)])['replace'](_0x2f5148(0x207),_0x53a095[_0x2f5148(0x209)]?constants_1[_0x2f5148(0x1d9)]:constants_1['SYNC_ATTACHMENT_FOR_BRANCH_NAME']),_0x1c8788=await this[_0x2f5148(0x212)][_0x2f5148(0x1e7)](_0xc0a6cf),_0x3bf7d0=(_0x5c9169=_0x1c8788[0x0])===null||_0x5c9169===void 0x0?void 0x0:_0x5c9169['Id'];if(!_0x3bf7d0)throw new Error(errors_1['ERR_INVALID_ATTACHMENT_ID']);return _0x3bf7d0;}async[a109_0x244574(0x1ff)](_0x3b23a6,_0x236703){const _0x20ad73=a109_0x244574;await this[_0x20ad73(0x1da)][_0x20ad73(0x208)](_0x3b23a6[_0x20ad73(0x1ee)],_0x3b23a6[_0x20ad73(0x1f6)],{[constants_1[_0x20ad73(0x1d0)]+_0x20ad73(0x1d5)]:_0x236703});}async[a109_0x244574(0x1cf)](_0x2064c0,_0x546708){const _0x2a4411=a109_0x244574;await this[_0x2a4411(0x1da)][_0x2a4411(0x208)](_0x2064c0[_0x2a4411(0x1ee)],_0x2064c0['objectId'],{[constants_1[_0x2a4411(0x1d0)]+_0x2a4411(0x1df)]:_0x546708});}async['disableSync'](_0x2b7f25){const _0x50fd52=a109_0x244574;await this[_0x50fd52(0x1da)]['patchObject'](constants_1['FLOSUM_GIT_NAMESPACE']+_0x50fd52(0x1d7),_0x2b7f25,{[constants_1[_0x50fd52(0x1d0)]+'Sync_In_Progress__c']:![]});}};SalesforceSyncService=__decorate([typedi_1[a109_0x244574(0x1cd)](),__metadata('design:paramtypes',[salesforce_query_service_1[a109_0x244574(0x1ef)],salesforce_service_1[a109_0x244574(0x1f1)]])],SalesforceSyncService),exports[a109_0x244574(0x1e3)]=SalesforceSyncService;