function a120_0x8193(){const _0x7ee78=['SalesforceError','./salesforce-components-manager.service','proceedCommitsToRepository','SalesforceCommitsManager','search','Logger','typedi','__esModule','modified','proceededComponentsMeta','apply','SalesforceComponentsManager','6303090uqyQHd','push','delete','21489710LIcxqH','floor','createCommit','log','4565560BffBlu','../../../constants','error','graph','303bnXKLw','gitSync','map','106VygJIr','23768IMEpxz','7RiFQyj','10473ZcnfFN','have\x20to\x20proceed\x20%d\x20(%d\x20to\x20remove)\x20composite\x20requests\x20(repository)','toString','recordTypes','length','3730362YLsfIg','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','author','removed','804320iHOkXC','proceedRequests','defineProperty','default','inserted','branchId','../../../core','chunkArray','options','../errors/salesforce.error','repositoryId','send','sfLogger','splice','update','executeGraphs','getProceededComponentsMeta','9ervJkk','__importDefault','componentId','name','proceedCommits','(((.+)+)+)+$','proceedCommitsToBranch','logger','COMPONENTS_PER_CHUNK','toJSON','SalesforceGitSyncService','message','reference','stringify','SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','constructor','[INFO]\x20Sending\x20','\x20requests\x20to\x20composite\x20api.','composite','insert'];a120_0x8193=function(){return _0x7ee78;};return a120_0x8193();}const a120_0xb8a59=a120_0xa628;(function(_0x1d1b09,_0x5d2a45){const _0x1770ec=a120_0xa628,_0xfe6016=_0x1d1b09();while(!![]){try{const _0x44b4eb=-parseInt(_0x1770ec(0x171))/0x1*(parseInt(_0x1770ec(0x16e))/0x2)+-parseInt(_0x1770ec(0x16b))/0x3*(parseInt(_0x1770ec(0x16f))/0x4)+parseInt(_0x1770ec(0x12f))/0x5+-parseInt(_0x1770ec(0x176))/0x6+-parseInt(_0x1770ec(0x170))/0x7*(parseInt(_0x1770ec(0x167))/0x8)+parseInt(_0x1770ec(0x140))/0x9*(parseInt(_0x1770ec(0x160))/0xa)+parseInt(_0x1770ec(0x163))/0xb;if(_0x44b4eb===_0x5d2a45)break;else _0xfe6016['push'](_0xfe6016['shift']());}catch(_0x1eff17){_0xfe6016['push'](_0xfe6016['shift']());}}}(a120_0x8193,0x60f5e));const a120_0x76e026=function(){let _0x40369d=!![];return function(_0x1c40ee,_0x382a29){const _0x57debb=_0x40369d?function(){const _0x3db166=a120_0xa628;if(_0x382a29){const _0x136410=_0x382a29[_0x3db166(0x15e)](_0x1c40ee,arguments);return _0x382a29=null,_0x136410;}}:function(){};return _0x40369d=![],_0x57debb;};}(),a120_0x53c637=a120_0x76e026(this,function(){const _0x58b55e=a120_0xa628;return a120_0x53c637[_0x58b55e(0x173)]()['search']('(((.+)+)+)+$')[_0x58b55e(0x173)]()[_0x58b55e(0x14f)](a120_0x53c637)[_0x58b55e(0x158)](_0x58b55e(0x145));});function a120_0xa628(_0x1f47b9,_0x18215d){const _0x255131=a120_0x8193();return a120_0xa628=function(_0x53c637,_0x76e026){_0x53c637=_0x53c637-0x12d;let _0x819378=_0x255131[_0x53c637];return _0x819378;},a120_0xa628(_0x1f47b9,_0x18215d);}a120_0x53c637();'use strict';var __importDefault=this&&this[a120_0xb8a59(0x141)]||function(_0x1865b3){const _0x1a1722=a120_0xb8a59;return _0x1865b3&&_0x1865b3[_0x1a1722(0x15b)]?_0x1865b3:{'default':_0x1865b3};};Object[a120_0xb8a59(0x131)](exports,a120_0xb8a59(0x15b),{'value':!![]}),exports['SalesforceCommitsManager']=void 0x0;const core_1=require(a120_0xb8a59(0x135)),typedi_1=__importDefault(require(a120_0xb8a59(0x15a))),constants_1=require(a120_0xb8a59(0x168)),utils_1=require('../../shared/utils'),salesforce_error_1=require(a120_0xb8a59(0x138)),composite_utils_1=require('../utils/composite.utils'),salesforce_components_manager_service_1=require(a120_0xb8a59(0x155)),salesforce_composite_service_1=require('./salesforce-composite.service'),salesforce_git_sync_service_1=require('./salesforce-git-sync.service');class SalesforceCommitsManager{constructor(_0x443d06){const _0x3cd018=a120_0xb8a59;this[_0x3cd018(0x137)]=_0x443d06,this[_0x3cd018(0x148)]=0x3,this[_0x3cd018(0x147)]=new core_1[(_0x3cd018(0x159))](SalesforceCommitsManager[_0x3cd018(0x143)]),this[_0x3cd018(0x13b)]=this[_0x3cd018(0x137)][_0x3cd018(0x147)],this[_0x3cd018(0x152)]=typedi_1[_0x3cd018(0x132)]['get'](salesforce_composite_service_1['SalesforceCompositeService']),this[_0x3cd018(0x16c)]=typedi_1[_0x3cd018(0x132)]['get'](salesforce_git_sync_service_1[_0x3cd018(0x14a)]),this[_0x3cd018(0x15d)]=[];}async[a120_0xb8a59(0x130)](_0x1c67f4,_0x14b9b1=![]){const _0x252e27=a120_0xb8a59,_0xfe3485=(this[_0x252e27(0x148)]+ +_0x14b9b1)*0x3,_0x13d7fb=utils_1[_0x252e27(0x136)](_0x1c67f4,_0xfe3485);try{while(_0x13d7fb[_0x252e27(0x175)]){const _0x23b7f1=_0x13d7fb[_0x252e27(0x13c)](0x0,Math[_0x252e27(0x164)](constants_1[_0x252e27(0x14e)]/_0xfe3485));await this[_0x252e27(0x13b)][_0x252e27(0x166)](_0x252e27(0x150)+_0x23b7f1[_0x252e27(0x175)]*_0xfe3485+_0x252e27(0x151))[_0x252e27(0x13a)]();const _0xabbd63=_0x23b7f1[_0x252e27(0x16d)]((_0x4d5a86,_0x2eaae8)=>({'graphId':_0x252e27(0x16a)+_0x2eaae8,'compositeRequest':_0x4d5a86})),_0x1084a6=await this[_0x252e27(0x152)][_0x252e27(0x13e)](_0xabbd63);if(_0x14b9b1){const _0x3be131=composite_utils_1['extractComponentIdsFromGraphsResponse'](_0x1084a6);for(const {id:_0x3ae8b4,ref:_0x25f80a}of _0x3be131){const _0x200f05=this[_0x252e27(0x15d)]['find'](_0x3cb095=>_0x3cb095[_0x252e27(0x14c)]===_0x25f80a);_0x200f05&&(_0x200f05[_0x252e27(0x142)]=_0x3ae8b4);}}}}catch(_0x3f009a){this[_0x252e27(0x147)][_0x252e27(0x169)](_0x3f009a instanceof salesforce_error_1[_0x252e27(0x154)]?JSON['stringify'](_0x3f009a[_0x252e27(0x149)](),null,0x2):_0x3f009a),this[_0x252e27(0x13b)][_0x252e27(0x166)](_0x3f009a instanceof salesforce_error_1[_0x252e27(0x154)]?JSON[_0x252e27(0x14d)](_0x3f009a[_0x252e27(0x149)](),null,0x2):_0x3f009a[_0x252e27(0x173)]());throw _0x3f009a;}}async[a120_0xb8a59(0x156)](_0x4852ce){const _0x188721=a120_0xb8a59;for(const _0x4e1553 of _0x4852ce){if(!_0x4e1553[_0x188721(0x133)][_0x188721(0x175)]&&!_0x4e1553['modified'][_0x188721(0x175)]&&!_0x4e1553['removed'][_0x188721(0x175)])continue;let _0x430eb2='';(_0x4e1553[_0x188721(0x15c)]['length']||_0x4e1553[_0x188721(0x133)][_0x188721(0x175)])&&(_0x430eb2=await this[_0x188721(0x16c)][_0x188721(0x165)](_0x4e1553[_0x188721(0x14b)],this[_0x188721(0x137)]['repositoryId']));const _0x58616a=[],_0x4e381c=[],_0xf64b8d=new salesforce_components_manager_service_1[(_0x188721(0x15f))](this[_0x188721(0x137)]['repositoryId'],this[_0x188721(0x137)]['branchId'],_0x4e1553['author'],this[_0x188721(0x137)]['recordTypes'],this['proceededComponentsMeta']);_0x58616a[_0x188721(0x161)](...await _0xf64b8d[_0x188721(0x153)](_0x4e1553[_0x188721(0x133)],_0x430eb2)),_0x58616a[_0x188721(0x161)](...await _0xf64b8d[_0x188721(0x13d)](_0x4e1553['modified'],_0x430eb2)),_0x4e381c['push'](...await _0xf64b8d[_0x188721(0x162)](_0x4e1553[_0x188721(0x12e)],!![])),this[_0x188721(0x15d)]=_0xf64b8d[_0x188721(0x13f)](),await this[_0x188721(0x130)](_0x58616a,!![]),await this['proceedRequests'](_0x4e381c),this[_0x188721(0x147)]['log'](_0x188721(0x172),_0x58616a['length'],_0x4e381c[_0x188721(0x175)]);}}async[a120_0xb8a59(0x146)](_0xdcd7c7){const _0x4ed92e=a120_0xb8a59,_0x295e0d=[];for(const _0x46d46b of _0xdcd7c7){if(!_0x46d46b[_0x4ed92e(0x133)]['length']&&!_0x46d46b[_0x4ed92e(0x15c)]['length']&&!_0x46d46b[_0x4ed92e(0x12e)]['length'])continue;const _0x2cd61f=new salesforce_components_manager_service_1[(_0x4ed92e(0x15f))](this[_0x4ed92e(0x137)][_0x4ed92e(0x139)],this[_0x4ed92e(0x137)][_0x4ed92e(0x134)],_0x46d46b[_0x4ed92e(0x12d)],this[_0x4ed92e(0x137)][_0x4ed92e(0x174)],[]);_0x295e0d[_0x4ed92e(0x161)](...await _0x2cd61f[_0x4ed92e(0x153)](_0x46d46b[_0x4ed92e(0x133)])),_0x295e0d[_0x4ed92e(0x161)](...await _0x2cd61f[_0x4ed92e(0x13d)](_0x46d46b[_0x4ed92e(0x15c)])),_0x295e0d[_0x4ed92e(0x161)](...await _0x2cd61f[_0x4ed92e(0x162)](_0x46d46b[_0x4ed92e(0x12e)]));}this['logger']['log'](_0x4ed92e(0x177),_0x295e0d['length']),await this[_0x4ed92e(0x130)](_0x295e0d);}async[a120_0xb8a59(0x144)](_0x4dd37d){const _0x233783=a120_0xb8a59;this[_0x233783(0x137)][_0x233783(0x134)]?await this[_0x233783(0x146)](_0x4dd37d):await this[_0x233783(0x156)](_0x4dd37d);}}exports[a120_0xb8a59(0x157)]=SalesforceCommitsManager;