function a120_0x3b21(_0x3507d7,_0x213f49){const _0xd5e52b=a120_0x24f5();return a120_0x3b21=function(_0x417acd,_0x19cb63){_0x417acd=_0x417acd-0x6b;let _0x24f5b1=_0xd5e52b[_0x417acd];return _0x24f5b1;},a120_0x3b21(_0x3507d7,_0x213f49);}const a120_0x169e96=a120_0x3b21;(function(_0x2c87af,_0x410479){const _0x467b1d=a120_0x3b21,_0x5c70d6=_0x2c87af();while(!![]){try{const _0x16f5f7=-parseInt(_0x467b1d(0x6c))/0x1+-parseInt(_0x467b1d(0xb3))/0x2*(parseInt(_0x467b1d(0x6f))/0x3)+parseInt(_0x467b1d(0x86))/0x4*(parseInt(_0x467b1d(0x78))/0x5)+-parseInt(_0x467b1d(0x9a))/0x6+-parseInt(_0x467b1d(0x74))/0x7+-parseInt(_0x467b1d(0x92))/0x8*(-parseInt(_0x467b1d(0xb6))/0x9)+-parseInt(_0x467b1d(0x9e))/0xa*(-parseInt(_0x467b1d(0xaa))/0xb);if(_0x16f5f7===_0x410479)break;else _0x5c70d6['push'](_0x5c70d6['shift']());}catch(_0x24b20e){_0x5c70d6['push'](_0x5c70d6['shift']());}}}(a120_0x24f5,0x74fe7));const a120_0x19cb63=function(){let _0x4b5cc5=!![];return function(_0x13ed13,_0x4241c1){const _0x1ec2db=_0x4b5cc5?function(){const _0x24ccb3=a120_0x3b21;if(_0x4241c1){const _0x15c3a8=_0x4241c1[_0x24ccb3(0xa1)](_0x13ed13,arguments);return _0x4241c1=null,_0x15c3a8;}}:function(){};return _0x4b5cc5=![],_0x1ec2db;};}(),a120_0x417acd=a120_0x19cb63(this,function(){const _0x4baa74=a120_0x3b21;return a120_0x417acd['toString']()['search'](_0x4baa74(0x80))[_0x4baa74(0x8f)]()[_0x4baa74(0x91)](a120_0x417acd)[_0x4baa74(0xa3)](_0x4baa74(0x80));});a120_0x417acd();'use strict';var __importDefault=this&&this[a120_0x169e96(0xb4)]||function(_0x340209){return _0x340209&&_0x340209['__esModule']?_0x340209:{'default':_0x340209};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a120_0x169e96(0x76)]=void 0x0;const core_1=require(a120_0x169e96(0xab)),typedi_1=__importDefault(require(a120_0x169e96(0xae))),constants_1=require(a120_0x169e96(0x7a)),utils_1=require(a120_0x169e96(0xa7)),salesforce_error_1=require(a120_0x169e96(0x9f)),composite_utils_1=require(a120_0x169e96(0x83)),salesforce_components_manager_service_1=require(a120_0x169e96(0x7d)),salesforce_composite_service_1=require(a120_0x169e96(0x85)),salesforce_git_sync_service_1=require(a120_0x169e96(0x90));function a120_0x24f5(){const _0x3f8b63=['SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','splice','../utils/composite.utils','stringify','./salesforce-composite.service','26764VBKdCo','update','floor','[INFO]\x20Sending\x20','chunkArray','have\x20to\x20proceed\x20%d\x20(%d\x20to\x20remove)\x20composite\x20requests\x20(repository)','options','find','recordTypes','toString','./salesforce-git-sync.service','constructor','8NrrFIl','delete','\x20requests\x20to\x20composite\x20api.','name','log','send','proceededComponentsMeta','modified','2134032TvmWxd','executeGraphs','toJSON','proceedCommitsToBranch','14122970QWERay','../errors/salesforce.error','branchId','apply','getProceededComponentsMeta','search','repositoryId','SalesforceError','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','../../shared/utils','inserted','default','11HVCihr','../../../core','createCommit','length','typedi','COMPONENTS_PER_CHUNK','get','gitSync','graph','2WzJrCH','__importDefault','Logger','2057544oSjHxS','proceedCommits','logger','177964hfVXXY','sfLogger','reference','1663221sCsCvl','removed','composite','map','SalesforceComponentsManager','1124522exFyiL','proceedCommitsToRepository','SalesforceCommitsManager','SalesforceCompositeService','65uWrsMG','extractComponentIdsFromGraphsResponse','../../../constants','insert','proceedRequests','./salesforce-components-manager.service','error','push','(((.+)+)+)+$'];a120_0x24f5=function(){return _0x3f8b63;};return a120_0x24f5();}class SalesforceCommitsManager{constructor(_0x103fb9){const _0x5235ba=a120_0x169e96;this['options']=_0x103fb9,this[_0x5235ba(0xaf)]=0x3,this[_0x5235ba(0x6b)]=new core_1[(_0x5235ba(0xb5))](SalesforceCommitsManager[_0x5235ba(0x95)]),this['sfLogger']=this[_0x5235ba(0x8c)][_0x5235ba(0x6b)],this[_0x5235ba(0x71)]=typedi_1[_0x5235ba(0xa9)]['get'](salesforce_composite_service_1[_0x5235ba(0x77)]),this[_0x5235ba(0xb1)]=typedi_1[_0x5235ba(0xa9)][_0x5235ba(0xb0)](salesforce_git_sync_service_1['SalesforceGitSyncService']),this[_0x5235ba(0x98)]=[];}async[a120_0x169e96(0x7c)](_0x1a326b,_0x2b3946=![]){const _0x4c915b=a120_0x169e96,_0x35478b=(this[_0x4c915b(0xaf)]+ +_0x2b3946)*0x3,_0x1cb8f5=utils_1[_0x4c915b(0x8a)](_0x1a326b,_0x35478b);try{while(_0x1cb8f5[_0x4c915b(0xad)]){const _0xdef2c0=_0x1cb8f5[_0x4c915b(0x82)](0x0,Math[_0x4c915b(0x88)](constants_1[_0x4c915b(0x81)]/_0x35478b));await this[_0x4c915b(0x6d)][_0x4c915b(0x96)](_0x4c915b(0x89)+_0xdef2c0['length']*_0x35478b+_0x4c915b(0x94))[_0x4c915b(0x97)]();const _0x20fe3e=_0xdef2c0[_0x4c915b(0x72)]((_0x303ea6,_0x4b330f)=>({'graphId':_0x4c915b(0xb2)+_0x4b330f,'compositeRequest':_0x303ea6})),_0x3af94d=await this['composite'][_0x4c915b(0x9b)](_0x20fe3e);if(_0x2b3946){const _0x22477f=composite_utils_1[_0x4c915b(0x79)](_0x3af94d);for(const {id:_0x581180,ref:_0x189b5d}of _0x22477f){const _0x1a3a84=this[_0x4c915b(0x98)][_0x4c915b(0x8d)](_0x2cb884=>_0x2cb884[_0x4c915b(0x6e)]===_0x189b5d);_0x1a3a84&&(_0x1a3a84['componentId']=_0x581180);}}}}catch(_0x49c931){this[_0x4c915b(0x6b)][_0x4c915b(0x7e)](_0x49c931 instanceof salesforce_error_1[_0x4c915b(0xa5)]?JSON['stringify'](_0x49c931[_0x4c915b(0x9c)](),null,0x2):_0x49c931),this[_0x4c915b(0x6d)][_0x4c915b(0x96)](_0x49c931 instanceof salesforce_error_1[_0x4c915b(0xa5)]?JSON[_0x4c915b(0x84)](_0x49c931['toJSON'](),null,0x2):_0x49c931[_0x4c915b(0x8f)]());throw _0x49c931;}}async[a120_0x169e96(0x75)](_0xc806b6){const _0x456c40=a120_0x169e96;for(const _0x71231f of _0xc806b6){if(!_0x71231f[_0x456c40(0xa8)][_0x456c40(0xad)]&&!_0x71231f[_0x456c40(0x99)][_0x456c40(0xad)]&&!_0x71231f[_0x456c40(0x70)]['length'])continue;let _0x210f08='';(_0x71231f[_0x456c40(0x99)][_0x456c40(0xad)]||_0x71231f[_0x456c40(0xa8)]['length'])&&(_0x210f08=await this[_0x456c40(0xb1)][_0x456c40(0xac)](_0x71231f['message'],this[_0x456c40(0x8c)][_0x456c40(0xa4)]));const _0x184a69=[],_0x14b851=[],_0x386d54=new salesforce_components_manager_service_1[(_0x456c40(0x73))](this[_0x456c40(0x8c)][_0x456c40(0xa4)],this[_0x456c40(0x8c)][_0x456c40(0xa0)],_0x71231f['author'],this['options'][_0x456c40(0x8e)],this[_0x456c40(0x98)]);_0x184a69[_0x456c40(0x7f)](...await _0x386d54[_0x456c40(0x7b)](_0x71231f[_0x456c40(0xa8)],_0x210f08)),_0x184a69[_0x456c40(0x7f)](...await _0x386d54[_0x456c40(0x87)](_0x71231f[_0x456c40(0x99)],_0x210f08)),_0x14b851[_0x456c40(0x7f)](...await _0x386d54['delete'](_0x71231f[_0x456c40(0x70)],!![])),this[_0x456c40(0x98)]=_0x386d54[_0x456c40(0xa2)](),await this[_0x456c40(0x7c)](_0x184a69,!![]),await this['proceedRequests'](_0x14b851),this[_0x456c40(0x6b)][_0x456c40(0x96)](_0x456c40(0x8b),_0x184a69['length'],_0x14b851['length']);}}async[a120_0x169e96(0x9d)](_0xd72688){const _0x3fb52e=a120_0x169e96,_0x520a39=[];for(const _0xaf794d of _0xd72688){if(!_0xaf794d[_0x3fb52e(0xa8)][_0x3fb52e(0xad)]&&!_0xaf794d[_0x3fb52e(0x99)][_0x3fb52e(0xad)]&&!_0xaf794d[_0x3fb52e(0x70)]['length'])continue;const _0x4468cb=new salesforce_components_manager_service_1[(_0x3fb52e(0x73))](this[_0x3fb52e(0x8c)][_0x3fb52e(0xa4)],this[_0x3fb52e(0x8c)][_0x3fb52e(0xa0)],_0xaf794d['author'],this[_0x3fb52e(0x8c)]['recordTypes'],[]);_0x520a39['push'](...await _0x4468cb[_0x3fb52e(0x7b)](_0xaf794d[_0x3fb52e(0xa8)])),_0x520a39[_0x3fb52e(0x7f)](...await _0x4468cb['update'](_0xaf794d[_0x3fb52e(0x99)])),_0x520a39[_0x3fb52e(0x7f)](...await _0x4468cb[_0x3fb52e(0x93)](_0xaf794d[_0x3fb52e(0x70)]));}this[_0x3fb52e(0x6b)][_0x3fb52e(0x96)](_0x3fb52e(0xa6),_0x520a39[_0x3fb52e(0xad)]),await this[_0x3fb52e(0x7c)](_0x520a39);}async[a120_0x169e96(0xb7)](_0x4f8cdd){const _0x5a656a=a120_0x169e96;this[_0x5a656a(0x8c)][_0x5a656a(0xa0)]?await this[_0x5a656a(0x9d)](_0x4f8cdd):await this[_0x5a656a(0x75)](_0x4f8cdd);}}exports[a120_0x169e96(0x76)]=SalesforceCommitsManager;