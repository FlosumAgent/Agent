const a10_0x1e78=['315311aemjjf','__importStar','6qgEmir','all','hasOwnProperty','1qyzDvn','1kEzvfo','prototype','ERR_NO_DESTINATION','__esModule','constructor','3XhOPUh','defineProperty','STATUS_200_RESPONSE','length','__setModuleDefault','debug','test','144175TwZYGE','START_MESSAGE','headers','return\x20/\x22\x20+\x20this\x20+\x20\x22/','572014QoICwK','default','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','send','call','ERROR','create','381055eFsADn','STATUS_400_RESPONSE','../../../services/utils','Proxy\x20request','status','254yRzzgm','60922BYdLKI','84685Jospsa','x-request-id','../../../constants','__importDefault','2zkZadA','3oczVyn'];const a10_0xb2e58=a10_0x3355;(function(_0xedc6af,_0x4b59f7){const _0x26c58e=a10_0x3355;while(!![]){try{const _0x3856fa=parseInt(_0x26c58e(0x128))*-parseInt(_0x26c58e(0x14a))+-parseInt(_0x26c58e(0x149))*parseInt(_0x26c58e(0x14f))+parseInt(_0x26c58e(0x12b))*parseInt(_0x26c58e(0x13c))+parseInt(_0x26c58e(0x14e))*-parseInt(_0x26c58e(0x148))+-parseInt(_0x26c58e(0x138))+-parseInt(_0x26c58e(0x12c))*parseInt(_0x26c58e(0x143))+-parseInt(_0x26c58e(0x150))*-parseInt(_0x26c58e(0x131));if(_0x3856fa===_0x4b59f7)break;else _0xedc6af['push'](_0xedc6af['shift']());}catch(_0x353b72){_0xedc6af['push'](_0xedc6af['shift']());}}}(a10_0x1e78,0x49915));const a10_0x4dad25=function(){let _0x391593=!![];return function(_0x40e78c,_0xe2ba71){const _0x15212f=_0x391593?function(){if(_0xe2ba71){const _0x244655=_0xe2ba71['apply'](_0x40e78c,arguments);return _0xe2ba71=null,_0x244655;}}:function(){};return _0x391593=![],_0x15212f;};}(),a10_0x2b8558=a10_0x4dad25(this,function(){const _0xe3dca7=function(){const _0x2d4761=a10_0x3355,_0x38d948=_0xe3dca7[_0x2d4761(0x130)](_0x2d4761(0x13b))()[_0x2d4761(0x130)](_0x2d4761(0x13e));return!_0x38d948[_0x2d4761(0x137)](a10_0x2b8558);};return _0xe3dca7();});function a10_0x3355(_0x3456b1,_0x57a538){_0x3456b1=_0x3456b1-0x127;let _0x220766=a10_0x1e78[_0x3456b1];return _0x220766;}a10_0x2b8558();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a10_0xb2e58(0x142)]?function(_0x1d5c4b,_0x268e04,_0x55ec6c,_0x387d6c){if(_0x387d6c===undefined)_0x387d6c=_0x55ec6c;Object['defineProperty'](_0x1d5c4b,_0x387d6c,{'enumerable':!![],'get':function(){return _0x268e04[_0x55ec6c];}});}:function(_0x8e1ebf,_0x1b5c75,_0x1f4bbd,_0xb2638d){if(_0xb2638d===undefined)_0xb2638d=_0x1f4bbd;_0x8e1ebf[_0xb2638d]=_0x1b5c75[_0x1f4bbd];}),__setModuleDefault=this&&this[a10_0xb2e58(0x135)]||(Object[a10_0xb2e58(0x142)]?function(_0x362200,_0x1462bd){Object['defineProperty'](_0x362200,'default',{'enumerable':!![],'value':_0x1462bd});}:function(_0x2b2f5c,_0x2df643){_0x2b2f5c['default']=_0x2df643;}),__importStar=this&&this[a10_0xb2e58(0x127)]||function(_0x51c69a){const _0x3448ac=a10_0xb2e58;if(_0x51c69a&&_0x51c69a[_0x3448ac(0x12f)])return _0x51c69a;var _0x43cc95={};if(_0x51c69a!=null){for(var _0x38f312 in _0x51c69a)if(_0x38f312!==_0x3448ac(0x13d)&&Object[_0x3448ac(0x12d)][_0x3448ac(0x12a)][_0x3448ac(0x140)](_0x51c69a,_0x38f312))__createBinding(_0x43cc95,_0x51c69a,_0x38f312);}return __setModuleDefault(_0x43cc95,_0x51c69a),_0x43cc95;},__importDefault=this&&this[a10_0xb2e58(0x14d)]||function(_0xa34da2){const _0xc70529=a10_0xb2e58;return _0xa34da2&&_0xa34da2[_0xc70529(0x12f)]?_0xa34da2:{'default':_0xa34da2};};Object[a10_0xb2e58(0x132)](exports,a10_0xb2e58(0x12f),{'value':!![]});const debug_1=__importDefault(require(a10_0xb2e58(0x136))),express_http_proxy_1=__importDefault(require('express-http-proxy')),utils_1=require(a10_0xb2e58(0x145)),constants=__importStar(require(a10_0xb2e58(0x14c)));class ProxyController{[a10_0xb2e58(0x129)](_0xbeec74,_0x3a430a,_0xf4e7f6){const _0x52f4a8=a10_0xb2e58,_0x41d752=debug_1[_0x52f4a8(0x13d)]('flosum_agent:proxy:'+_0xbeec74[_0x52f4a8(0x13a)][_0x52f4a8(0x14b)]);_0x41d752(constants[_0x52f4a8(0x139)]);const {originalUrl:_0x1378b0,baseUrl:_0x11755a}=_0xbeec74,_0x228512=_0xbeec74['get']('X-Destination');if(_0x228512){const _0x4d5771=express_http_proxy_1['default'](_0x228512,{'proxyReqPathResolver':_0x4c12cc=>utils_1['joinURL'](_0x228512,_0x1378b0['substring'](_0x1378b0['indexOf'](_0x11755a)+_0x11755a[_0x52f4a8(0x134)]))});_0x4d5771(_0xbeec74,_0x3a430a,_0xf4e7f6),_0x41d752(constants[_0x52f4a8(0x133)],'Proxy\x20request');}else{const _0x525048={'status':constants[_0x52f4a8(0x141)],'message':constants[_0x52f4a8(0x12e)]};_0x3a430a[_0x52f4a8(0x147)](0x190)[_0x52f4a8(0x13f)](_0x525048),_0x41d752(constants[_0x52f4a8(0x144)],_0x52f4a8(0x146),_0x525048);}}}exports['default']=ProxyController;