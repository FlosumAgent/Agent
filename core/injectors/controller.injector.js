const a22_0x1cb4=['return\x20/\x22\x20+\x20this\x20+\x20\x22/','../wrappers/handler.wrapper','controllerType','__importDefault','defineProperty','root','^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}','instance','log','middlewareInjector','injecting\x20','filter','../classes/logger.class','2504129oKalfy','use','path','../utils','getOwnPropertyNames','\x20is\x20not\x20a\x20Controller','router','normalizePaths','nested','test','__esModule','Router','87chOlwl','middlewares','Logger','controller-injector','META_CONTROLLER_MIDDLEWARES','305iKhzKm','5521tddSek','CONTROLLER_DEFAULT_PREFIX','name','META_CONTROLLER_PREFIX','prefix','map','handlers','method','injecting\x20nested\x20','ControllerInjector','META_CONTROLLER_PATH','injectNestedController','getHandlerMeta','4ZQYdcP','injectMiddlewares','nestedPath','./middleware.injector','getPrototypeOf','apply','get','266068VBFJCP','constructor','6Cxofth','229212Nkungj','META_CONTROLLER_VERSION','22918SsgSkR','\x20at\x20','META_HANDLER','toString','3129BjnGRU','injectHandlers','897136hgAoFG','\x20at\x20[','inject','1gvFKbP','default','getOwnMetadata','../constants'];const a22_0x44cd6c=a22_0x512c;(function(_0x564a35,_0x11ec04){const _0x2a0c75=a22_0x512c;while(!![]){try{const _0x3c8046=parseInt(_0x2a0c75(0x1ac))*-parseInt(_0x2a0c75(0x18e))+-parseInt(_0x2a0c75(0x1a6))+parseInt(_0x2a0c75(0x19c))*-parseInt(_0x2a0c75(0x1a3))+parseInt(_0x2a0c75(0x1a8))*-parseInt(_0x2a0c75(0x1a5))+parseInt(_0x2a0c75(0x189))*-parseInt(_0x2a0c75(0x18f))+parseInt(_0x2a0c75(0x1ae))+-parseInt(_0x2a0c75(0x1b1))*-parseInt(_0x2a0c75(0x17d));if(_0x3c8046===_0x11ec04)break;else _0x564a35['push'](_0x564a35['shift']());}catch(_0x1ae99d){_0x564a35['push'](_0x564a35['shift']());}}}(a22_0x1cb4,0x82c31));const a22_0x47b5ab=function(){let _0x10ebd0=!![];return function(_0x10526a,_0x88ed54){const _0xf27eb3=_0x10ebd0?function(){const _0x5698e7=a22_0x512c;if(_0x88ed54){const _0x3ffad0=_0x88ed54[_0x5698e7(0x1a1)](_0x10526a,arguments);return _0x88ed54=null,_0x3ffad0;}}:function(){};return _0x10ebd0=![],_0xf27eb3;};}(),a22_0x460168=a22_0x47b5ab(this,function(){const _0x323197=function(){const _0xb7a847=a22_0x512c,_0x430623=_0x323197[_0xb7a847(0x1a4)](_0xb7a847(0x1b5))()['constructor'](_0xb7a847(0x176));return!_0x430623[_0xb7a847(0x186)](a22_0x460168);};return _0x323197();});a22_0x460168();'use strict';var __importDefault=this&&this[a22_0x44cd6c(0x1b8)]||function(_0x517060){return _0x517060&&_0x517060['__esModule']?_0x517060:{'default':_0x517060};};Object[a22_0x44cd6c(0x174)](exports,a22_0x44cd6c(0x187),{'value':!![]}),exports[a22_0x44cd6c(0x198)]=void 0x0;const express_1=require('express'),typedi_1=__importDefault(require('typedi')),logger_class_1=require(a22_0x44cd6c(0x17c)),constants_1=require(a22_0x44cd6c(0x1b4)),utils_1=require(a22_0x44cd6c(0x180)),handler_wrapper_1=require(a22_0x44cd6c(0x1b6)),middleware_injector_1=require(a22_0x44cd6c(0x19f)),logger=new logger_class_1[(a22_0x44cd6c(0x18b))](a22_0x44cd6c(0x18c));function a22_0x512c(_0x3bb236,_0x3fa281){return a22_0x512c=function(_0x25c8a1,_0x460168){_0x25c8a1=_0x25c8a1-0x174;let _0x47b5ab=a22_0x1cb4[_0x25c8a1];return _0x47b5ab;},a22_0x512c(_0x3bb236,_0x3fa281);}class ControllerInjector{constructor(_0x5692c1,_0x457394){const _0x1a1bb5=a22_0x44cd6c;this[_0x1a1bb5(0x1b7)]=_0x5692c1,this[_0x1a1bb5(0x175)]=_0x457394,this[_0x1a1bb5(0x183)]=express_1[_0x1a1bb5(0x188)]({'mergeParams':!![]}),this['nestedPath']='';if(!Reflect[_0x1a1bb5(0x1b3)](constants_1['META_CONTROLLER'],_0x5692c1))throw TypeError(_0x5692c1[_0x1a1bb5(0x191)]+_0x1a1bb5(0x182));}get[a22_0x44cd6c(0x195)](){const _0x24375b=a22_0x44cd6c,_0x36a9a3=Object[_0x24375b(0x1a0)](this[_0x24375b(0x177)]);return Object[_0x24375b(0x181)](_0x36a9a3)[_0x24375b(0x194)](_0x441356=>_0x36a9a3[_0x441356])[_0x24375b(0x17b)](_0x362ad8=>!!Reflect[_0x24375b(0x1b3)](constants_1[_0x24375b(0x1aa)],_0x362ad8));}get[a22_0x44cd6c(0x18a)](){const _0x21d9a2=a22_0x44cd6c;return Reflect[_0x21d9a2(0x1b3)](constants_1[_0x21d9a2(0x18d)],this['instance'])||[];}get['prefix'](){const _0x23cdba=a22_0x44cd6c;var _0x3b49fa;const _0x36dedd=(_0x3b49fa=Reflect[_0x23cdba(0x1b3)](constants_1[_0x23cdba(0x192)],this[_0x23cdba(0x1b7)]))!==null&&_0x3b49fa!==void 0x0?_0x3b49fa:constants_1[_0x23cdba(0x190)],_0x42f4ec=Reflect[_0x23cdba(0x1b3)](constants_1[_0x23cdba(0x1a7)],this[_0x23cdba(0x1b7)])||'';return this['nestedPath']?'':utils_1['normalizePaths'](_0x36dedd,_0x42f4ec);}get[a22_0x44cd6c(0x17f)](){const _0x2f91be=a22_0x44cd6c;if(this[_0x2f91be(0x19e)])return this[_0x2f91be(0x19e)];const _0x504c70=Reflect[_0x2f91be(0x1b3)](constants_1[_0x2f91be(0x199)],this['controllerType'])||'';return utils_1[_0x2f91be(0x184)](_0x504c70);}get[a22_0x44cd6c(0x177)](){const _0xb2a3a4=a22_0x44cd6c;return typedi_1[_0xb2a3a4(0x1b2)][_0xb2a3a4(0x1a2)](this[_0xb2a3a4(0x1b7)]);}async[a22_0x44cd6c(0x19d)](){const _0x54cbcc=a22_0x44cd6c;for(const _0x447eca of this[_0x54cbcc(0x18a)]){const _0x3bc86b=await middleware_injector_1[_0x54cbcc(0x179)](_0x447eca);this[_0x54cbcc(0x183)][_0x54cbcc(0x17e)](_0x3bc86b);}}async[a22_0x44cd6c(0x19a)](_0x5f24fb){const _0x3151fc=a22_0x44cd6c,_0x5ad66b=_0x5f24fb[_0x3151fc(0x185)];logger['log'](_0x3151fc(0x197)+_0x5ad66b['name']+_0x3151fc(0x1a9)+this[_0x3151fc(0x17f)]+_0x5f24fb[_0x3151fc(0x17f)]);const _0x203c7f=new ControllerInjector(_0x5ad66b,this);_0x203c7f[_0x3151fc(0x19e)]=_0x5f24fb[_0x3151fc(0x17f)],await _0x203c7f['inject'](this[_0x3151fc(0x183)]);}async[a22_0x44cd6c(0x1ad)](){const _0x317134=a22_0x44cd6c;var _0x55ebf8;for(const _0x5360d7 of this['handlers']){const _0x3bfe4c=utils_1[_0x317134(0x19b)](_0x5360d7);if(_0x3bfe4c[_0x317134(0x185)])await this[_0x317134(0x19a)](_0x3bfe4c);else{const _0x4c5956=_0x3bfe4c[_0x317134(0x196)][_0x317134(0x1ab)]()['toLowerCase']();logger[_0x317134(0x178)](_0x317134(0x17a)+this[_0x317134(0x1b7)][_0x317134(0x191)]+'#'+_0x5360d7[_0x317134(0x191)]+_0x317134(0x1af)+_0x3bfe4c['method']+']\x20'+utils_1[_0x317134(0x184)](((_0x55ebf8=this[_0x317134(0x175)])===null||_0x55ebf8===void 0x0?void 0x0:_0x55ebf8[_0x317134(0x17f)])||'',this[_0x317134(0x17f)],_0x3bfe4c[_0x317134(0x17f)])),this[_0x317134(0x183)][_0x4c5956](_0x3bfe4c[_0x317134(0x17f)],handler_wrapper_1['handlerWrapper'](_0x5360d7,this['instance']));}}}async[a22_0x44cd6c(0x1b0)](_0x324073){const _0x2ab509=a22_0x44cd6c;!this['nestedPath']&&logger[_0x2ab509(0x178)]('injecting\x20'+this[_0x2ab509(0x1b7)][_0x2ab509(0x191)]+'\x20{'+this[_0x2ab509(0x193)]+'}'),await this[_0x2ab509(0x19d)](),await this['injectHandlers'](),_0x324073[_0x2ab509(0x17e)](''+this['prefix']+this[_0x2ab509(0x17f)],this['router']);}}exports[a22_0x44cd6c(0x198)]=ControllerInjector;