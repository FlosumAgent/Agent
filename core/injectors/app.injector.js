const a21_0x5677=['filter','test','defineProperty','./controller.injector','__metadata','../app-store','68groSkr','680486iTdTbg','META_MIDDLEWARE_SCOPE','function','constructor','getMiddlewares','length','inject','2xuKIwR','use','1EzIcst','object','after','707195wwuqHD','error','4799wPrkYT','return\x20/\x22\x20+\x20this\x20+\x20\x22/','injectMiddlewares','303087BeqhWN','AppInjector','668720kOiaNx','1AihThV','injectControllers','getOwnPropertyDescriptor','676633EbUdSn','43179gVejbh','_appStore','design:paramtypes','metadata','decorate','apply','__esModule','typedi'];const a21_0x431a3a=a21_0x1500;(function(_0x470755,_0x1da6b2){const _0x243d19=a21_0x1500;while(!![]){try{const _0x1fc9f8=-parseInt(_0x243d19(0xfd))+parseInt(_0x243d19(0x10d))+-parseInt(_0x243d19(0x116))*-parseInt(_0x243d19(0xf2))+-parseInt(_0x243d19(0xf9))+-parseInt(_0x243d19(0xf4))*parseInt(_0x243d19(0x10c))+-parseInt(_0x243d19(0xfa))*-parseInt(_0x243d19(0xfe))+parseInt(_0x243d19(0x114))*parseInt(_0x243d19(0xf7));if(_0x1fc9f8===_0x1da6b2)break;else _0x470755['push'](_0x470755['shift']());}catch(_0x2e6185){_0x470755['push'](_0x470755['shift']());}}}(a21_0x5677,0x59325));const a21_0x3979bc=function(){let _0x1af115=!![];return function(_0x10b889,_0x6d0df2){const _0x214202=_0x1af115?function(){const _0x32b129=a21_0x1500;if(_0x6d0df2){const _0x27d818=_0x6d0df2[_0x32b129(0x103)](_0x10b889,arguments);return _0x6d0df2=null,_0x27d818;}}:function(){};return _0x1af115=![],_0x214202;};}(),a21_0xb1a365=a21_0x3979bc(this,function(){const _0xba6600=function(){const _0x40da6a=a21_0x1500,_0x317fa9=_0xba6600[_0x40da6a(0x110)](_0x40da6a(0xf5))()[_0x40da6a(0x110)]('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x317fa9[_0x40da6a(0x107)](a21_0xb1a365);};return _0xba6600();});a21_0xb1a365();'use strict';var __decorate=this&&this['__decorate']||function(_0x486836,_0x4ca1c9,_0x339659,_0xac5dab){const _0x483478=a21_0x1500;var _0x151af5=arguments[_0x483478(0x112)],_0x5f13ef=_0x151af5<0x3?_0x4ca1c9:_0xac5dab===null?_0xac5dab=Object[_0x483478(0xfc)](_0x4ca1c9,_0x339659):_0xac5dab,_0x5d8cdd;if(typeof Reflect==='object'&&typeof Reflect[_0x483478(0x102)]==='function')_0x5f13ef=Reflect[_0x483478(0x102)](_0x486836,_0x4ca1c9,_0x339659,_0xac5dab);else{for(var _0x50167c=_0x486836[_0x483478(0x112)]-0x1;_0x50167c>=0x0;_0x50167c--)if(_0x5d8cdd=_0x486836[_0x50167c])_0x5f13ef=(_0x151af5<0x3?_0x5d8cdd(_0x5f13ef):_0x151af5>0x3?_0x5d8cdd(_0x4ca1c9,_0x339659,_0x5f13ef):_0x5d8cdd(_0x4ca1c9,_0x339659))||_0x5f13ef;}return _0x151af5>0x3&&_0x5f13ef&&Object[_0x483478(0x108)](_0x4ca1c9,_0x339659,_0x5f13ef),_0x5f13ef;},__metadata=this&&this[a21_0x431a3a(0x10a)]||function(_0x298bbb,_0x11cbce){const _0x5ece0c=a21_0x431a3a;if(typeof Reflect===_0x5ece0c(0xf0)&&typeof Reflect[_0x5ece0c(0x101)]===_0x5ece0c(0x10f))return Reflect[_0x5ece0c(0x101)](_0x298bbb,_0x11cbce);};Object[a21_0x431a3a(0x108)](exports,a21_0x431a3a(0x104),{'value':!![]}),exports[a21_0x431a3a(0xf8)]=void 0x0;function a21_0x1500(_0x43fe4f,_0x1939a1){return a21_0x1500=function(_0x524671,_0xb1a365){_0x524671=_0x524671-0xf0;let _0x3979bc=a21_0x5677[_0x524671];return _0x3979bc;},a21_0x1500(_0x43fe4f,_0x1939a1);}const typedi_1=require(a21_0x431a3a(0x105)),app_store_1=require(a21_0x431a3a(0x10b)),constants_1=require('../constants'),controller_injector_1=require(a21_0x431a3a(0x109)),middleware_injector_1=require('./middleware.injector');let AppInjector=class AppInjector{constructor(_0x1277da){const _0x1b069c=a21_0x431a3a;this[_0x1b069c(0xff)]=_0x1277da;}async[a21_0x431a3a(0xfb)](_0x1d0fc7){const _0xccca5d=a21_0x431a3a,_0x421c09=this['_appStore']['getControllers']();for(const _0x71b9d3 of _0x421c09){const _0x3784a0=new controller_injector_1['ControllerInjector'](_0x71b9d3);await _0x3784a0[_0xccca5d(0x113)](_0x1d0fc7);}}async[a21_0x431a3a(0xf6)](_0x264a8f,_0x259d88){const _0x51b52f=a21_0x431a3a,_0x58bdcf=this[_0x51b52f(0xff)][_0x51b52f(0x111)]()[_0x51b52f(0x106)](_0x31ef87=>Reflect['getOwnMetadata'](constants_1[_0x51b52f(0x10e)],_0x31ef87)===_0x259d88);for(const _0x1cb95f of _0x58bdcf){_0x264a8f[_0x51b52f(0x115)](await middleware_injector_1['middlewareInjector'](_0x1cb95f));}}async['inject'](_0x1e42b2){const _0x50e9fa=a21_0x431a3a;await this[_0x50e9fa(0xf6)](_0x1e42b2,'before'),await this[_0x50e9fa(0xfb)](_0x1e42b2),await this[_0x50e9fa(0xf6)](_0x1e42b2,_0x50e9fa(0xf1)),await this[_0x50e9fa(0xf6)](_0x1e42b2,_0x50e9fa(0xf3));}};AppInjector=__decorate([typedi_1['Service'](),__metadata(a21_0x431a3a(0x100),[app_store_1['AppStore']])],AppInjector),exports[a21_0x431a3a(0xf8)]=AppInjector;