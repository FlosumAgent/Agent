const a21_0x39a0=['design:paramtypes','105668FxiFUd','function','116653eCbymN','error','injectControllers','decorate','653864wACxHp','getOwnMetadata','1932583lFEZMF','constructor','getMiddlewares','getOwnPropertyDescriptor','AppInjector','length','2yIoYxu','metadata','63hbSiIf','typedi','266633YSzPdb','apply','inject','./middleware.injector','AppStore','_appStore','filter','defineProperty','injectMiddlewares','test','ControllerInjector','middlewareInjector','__metadata','__decorate','509137JQVjwZ','7899KzsFiW','after','Service','../constants','META_MIDDLEWARE_SCOPE'];const a21_0x38e9cb=a21_0x3e6d;(function(_0x3a4a9b,_0x2c5606){const _0x3a4624=a21_0x3e6d;while(!![]){try{const _0x5e7666=parseInt(_0x3a4624(0x14a))+parseInt(_0x3a4624(0x15c))+parseInt(_0x3a4624(0x158))*parseInt(_0x3a4624(0x14c))+parseInt(_0x3a4624(0x143))+-parseInt(_0x3a4624(0x15a))*-parseInt(_0x3a4624(0x144))+parseInt(_0x3a4624(0x150))+-parseInt(_0x3a4624(0x152));if(_0x5e7666===_0x2c5606)break;else _0x3a4a9b['push'](_0x3a4a9b['shift']());}catch(_0x3a2561){_0x3a4a9b['push'](_0x3a4a9b['shift']());}}}(a21_0x39a0,0x5175e));const a21_0x473889=function(){let _0x3dd5c2=!![];return function(_0x3291bb,_0x81a73f){const _0x45fc44=_0x3dd5c2?function(){const _0x1419e8=a21_0x3e6d;if(_0x81a73f){const _0x279cf5=_0x81a73f[_0x1419e8(0x15d)](_0x3291bb,arguments);return _0x81a73f=null,_0x279cf5;}}:function(){};return _0x3dd5c2=![],_0x45fc44;};}(),a21_0x37e4aa=a21_0x473889(this,function(){const _0x56c3b6=function(){const _0x311ee5=a21_0x3e6d,_0x47df88=_0x56c3b6[_0x311ee5(0x153)]('return\x20/\x22\x20+\x20this\x20+\x20\x22/')()['constructor']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x47df88[_0x311ee5(0x13e)](a21_0x37e4aa);};return _0x56c3b6();});a21_0x37e4aa();'use strict';var __decorate=this&&this[a21_0x38e9cb(0x142)]||function(_0x51e1b2,_0x108783,_0x6c5141,_0x18a3e9){const _0x555ec0=a21_0x38e9cb;var _0x584766=arguments[_0x555ec0(0x157)],_0x588c45=_0x584766<0x3?_0x108783:_0x18a3e9===null?_0x18a3e9=Object[_0x555ec0(0x155)](_0x108783,_0x6c5141):_0x18a3e9,_0x3e8e4a;if(typeof Reflect==='object'&&typeof Reflect[_0x555ec0(0x14f)]===_0x555ec0(0x14b))_0x588c45=Reflect['decorate'](_0x51e1b2,_0x108783,_0x6c5141,_0x18a3e9);else{for(var _0x5d4c19=_0x51e1b2[_0x555ec0(0x157)]-0x1;_0x5d4c19>=0x0;_0x5d4c19--)if(_0x3e8e4a=_0x51e1b2[_0x5d4c19])_0x588c45=(_0x584766<0x3?_0x3e8e4a(_0x588c45):_0x584766>0x3?_0x3e8e4a(_0x108783,_0x6c5141,_0x588c45):_0x3e8e4a(_0x108783,_0x6c5141))||_0x588c45;}return _0x584766>0x3&&_0x588c45&&Object['defineProperty'](_0x108783,_0x6c5141,_0x588c45),_0x588c45;},__metadata=this&&this[a21_0x38e9cb(0x141)]||function(_0x590a20,_0x571c2f){const _0x322abe=a21_0x38e9cb;if(typeof Reflect==='object'&&typeof Reflect[_0x322abe(0x159)]==='function')return Reflect[_0x322abe(0x159)](_0x590a20,_0x571c2f);};Object[a21_0x38e9cb(0x13c)](exports,'__esModule',{'value':!![]}),exports[a21_0x38e9cb(0x156)]=void 0x0;function a21_0x3e6d(_0x3c0414,_0x286a1e){return a21_0x3e6d=function(_0x7d1ee9,_0x37e4aa){_0x7d1ee9=_0x7d1ee9-0x139;let _0x473889=a21_0x39a0[_0x7d1ee9];return _0x473889;},a21_0x3e6d(_0x3c0414,_0x286a1e);}const typedi_1=require(a21_0x38e9cb(0x15b)),app_store_1=require('../app-store'),constants_1=require(a21_0x38e9cb(0x147)),controller_injector_1=require('./controller.injector'),middleware_injector_1=require(a21_0x38e9cb(0x15f));let AppInjector=class AppInjector{constructor(_0x141908){this['_appStore']=_0x141908;}async[a21_0x38e9cb(0x14e)](_0x5ca6e9){const _0x25737f=a21_0x38e9cb,_0x45019b=this[_0x25737f(0x13a)]['getControllers']();for(const _0x2a9f51 of _0x45019b){const _0x391964=new controller_injector_1[(_0x25737f(0x13f))](_0x2a9f51);await _0x391964[_0x25737f(0x15e)](_0x5ca6e9);}}async[a21_0x38e9cb(0x13d)](_0x18e0fa,_0x2e02cc){const _0x50f0db=a21_0x38e9cb,_0x2f1ec7=this['_appStore'][_0x50f0db(0x154)]()[_0x50f0db(0x13b)](_0x3cda21=>Reflect[_0x50f0db(0x151)](constants_1[_0x50f0db(0x148)],_0x3cda21)===_0x2e02cc);for(const _0x1ea76c of _0x2f1ec7){_0x18e0fa['use'](await middleware_injector_1[_0x50f0db(0x140)](_0x1ea76c));}}async[a21_0x38e9cb(0x15e)](_0x1157ac){const _0x21fee4=a21_0x38e9cb;await this[_0x21fee4(0x13d)](_0x1157ac,'before'),await this[_0x21fee4(0x14e)](_0x1157ac),await this[_0x21fee4(0x13d)](_0x1157ac,_0x21fee4(0x145)),await this['injectMiddlewares'](_0x1157ac,_0x21fee4(0x14d));}};AppInjector=__decorate([typedi_1[a21_0x38e9cb(0x146)](),__metadata(a21_0x38e9cb(0x149),[app_store_1[a21_0x38e9cb(0x139)]])],AppInjector),exports[a21_0x38e9cb(0x156)]=AppInjector;